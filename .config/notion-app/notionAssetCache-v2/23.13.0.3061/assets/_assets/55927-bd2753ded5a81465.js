"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[55927],{6731:(e,t,n)=>{n.d(t,{D:()=>u});n(898992),n(803949);var r=n(296540),s=()=>n(847249),i=()=>n(351028),o=()=>n(388821),a=()=>n(751156),l=()=>n(841696),c=()=>n(351360);function u(e){let{unpersistedInMemoryRecordCache:t}=e;const n=(0,s().K8)((()=>{var e;return null===(e=c().default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]);return{createAndCommit:(0,r.useCallback)((e=>{let{perform:r}=e;const s=new(l().Z)({deadlockTimeoutMs:a().DEADLOCK_WARNING_TIMEOUT_MS}),c=r(s),u=o().RecordMap.create();s.stores.forEach((e=>{const t=e.getRecordModel(e.pointer);t&&u.addModel(t)})),(0,i().applyOperationsToRecordMap)({operations:s.operations,recordMap:u,updateOnly:!1});for(const i of u){const{model:e,pointer:r}=i;t.setModelAndRole({pointer:r,userId:n},e,"editor")}return t.emitAll(),{performResult:c,serverCommitResult:Promise.resolve(void 0)}}),[t,n])}}},73514:(e,t,n)=>{n.d(t,{C:()=>s});n(296540);var r=n(474848);const s=(0,n(340498).wt)("analyticsSearch",{viewBox:"0 0 51 52",svg:(0,r.jsx)("path",{d:"M.414 21.297c0 2.86.533 5.543 1.6 8.049a21.156 21.156 0 004.468 6.576 20.797 20.797 0 006.577 4.443c2.505 1.067 5.18 1.6 8.023 1.6 2.116 0 4.13-.305 6.043-.914a21.55 21.55 0 005.332-2.565l11.654 11.655a3.44 3.44 0 001.245.812c.473.186.964.28 1.472.28.728 0 1.371-.17 1.93-.508a3.48 3.48 0 001.32-1.346 3.887 3.887 0 00.482-1.93 3.8 3.8 0 00-.279-1.447 3.126 3.126 0 00-.787-1.193l-11.578-11.63a20.414 20.414 0 002.818-5.51c.694-2.013 1.041-4.138 1.041-6.372 0-2.844-.541-5.51-1.625-7.998a20.718 20.718 0 00-4.443-6.602 20.515 20.515 0 00-6.602-4.468c-2.488-1.067-5.162-1.6-8.023-1.6-2.844 0-5.518.533-8.023 1.6a20.592 20.592 0 00-6.577 4.468A21.072 21.072 0 002.014 13.3c-1.067 2.488-1.6 5.154-1.6 7.998zm5.408 0c0-2.1.39-4.071 1.168-5.916a15.517 15.517 0 013.301-4.875 15.168 15.168 0 014.875-3.276c1.845-.795 3.817-1.193 5.916-1.193 2.116 0 4.096.398 5.941 1.193a14.877 14.877 0 014.85 3.276 15.515 15.515 0 013.3 4.875c.796 1.845 1.194 3.817 1.194 5.916 0 2.116-.398 4.096-1.193 5.941a15.517 15.517 0 01-3.301 4.875 15.426 15.426 0 01-4.85 3.276c-1.845.795-3.825 1.193-5.941 1.193-2.099 0-4.07-.398-5.916-1.193a15.737 15.737 0 01-4.875-3.276 15.52 15.52 0 01-3.3-4.875c-.78-1.845-1.169-3.825-1.169-5.941zm15.31 10.36c.458 0 .746-.263.864-.788.237-1.32.474-2.437.711-3.351.254-.931.559-1.693.914-2.286a4.554 4.554 0 011.397-1.498c.575-.389 1.311-.694 2.209-.914.914-.237 2.056-.448 3.427-.634.542-.085.813-.381.813-.89 0-.507-.271-.812-.813-.913-1.354-.17-2.496-.373-3.427-.61-.915-.253-1.668-.567-2.26-.939a4.814 4.814 0 01-1.422-1.498c-.373-.61-.677-1.363-.914-2.26a42.337 42.337 0 01-.635-3.326c-.084-.542-.372-.813-.863-.813s-.796.263-.914.788a53.724 53.724 0 01-.737 3.377c-.22.914-.507 1.675-.863 2.285a4.64 4.64 0 01-1.396 1.472c-.576.373-1.32.677-2.235.914-.914.22-2.048.424-3.402.61-.559.101-.838.406-.838.914 0 .49.28.787.838.889 1.693.186 3.055.44 4.088.761 1.032.305 1.828.762 2.387 1.371.575.61 1.015 1.44 1.32 2.489.305 1.05.584 2.395.838 4.037a1 1 0 00.279.584c.17.152.38.228.635.228z"})})},90907:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>s,lockIcon:()=>i});n(296540);var r=n(474848);const s={viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"}),(0,r.jsx)("path",{d:"M10 1.95a4 4 0 0 0-4 4v1.433a2.426 2.426 0 0 0-2.025 2.392v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.426 2.426 0 0 0 14 7.383V5.95a4 4 0 0 0-4-4m2.75 5.4h-5.5v-1.4a2.75 2.75 0 0 1 5.5 0zM5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},i=(0,n(340498).wt)("lock",s)},113474:(e,t,n)=>{n.d(t,{_:()=>u});n(296540);var r=()=>n(484714),s=()=>n(401497),i=()=>n(668725),o=()=>n(704152),a=()=>n(678553),l=()=>n(125565),c=n(474848);function u(e){const t=(0,s().DP)(),n=(0,r().v3)(),{device:u}=n;return(0,c.jsx)(o().A,{mobileFeedback:u.isMobile,onClick:e.onClick,hovered:e.focused,disabled:e.disabled,style:{width:"100%",...!u.isMobile&&{borderRadius:6},...e.buttonStyle},hoveredStyle:e.hoveredButtonStyle,pressedStyle:e.pressedButtonStyle,children:(0,c.jsx)(a().Ay,{...e,dontShrinkTitle:!0,right:(0,c.jsxs)("div",{style:{display:"flex",whiteSpace:"nowrap"},children:[e.right&&(0,c.jsx)(l().A,{isSecondaryColor:!0,isMobile:u.isMobile,children:e.right}),!u.isMobile&&(0,c.jsx)("div",{style:{flexShrink:0},children:(0,i().b)({width:10,marginLeft:4,fill:t.lightIconColor,transform:"right"===e.chevronType?"rotate(-90deg)":void 0,transition:"transform 0.2s ease"})})]})})})}},134421:(e,t,n)=>{n.d(t,{X:()=>s});n(296540);var r=n(474848);const s=(0,n(340498).wt)("arrowsUpDown",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M4.11 2.385a.61.61 0 01.48-.211c.191 0 .353.07.486.21L8.03 5.409a.66.66 0 01.2.475c0 .191-.061.347-.182.469a.627.627 0 01-.463.181.59.59 0 01-.451-.187L5.926 5.098l-.72-.844.04 1.219v7.242a.624.624 0 01-.187.469.624.624 0 01-.47.187.636.636 0 01-.468-.187.635.635 0 01-.182-.47V5.474l.041-1.22-.726.845-1.201 1.248a.61.61 0 01-.457.187.627.627 0 01-.463-.181.634.634 0 01-.182-.47.66.66 0 01.2-.474l2.958-3.023zm7.786 10.781a.636.636 0 01-.486.205.665.665 0 01-.486-.205l-2.947-3.035a.64.64 0 01-.206-.475c0-.191.061-.345.182-.463a.634.634 0 01.469-.181c.18 0 .33.06.451.181l1.201 1.248.727.85-.041-1.219V2.824c0-.187.06-.342.181-.463a.636.636 0 01.47-.187.627.627 0 01.65.65v7.248l-.041 1.219.726-.85 1.207-1.248a.6.6 0 01.451-.181c.188 0 .342.06.463.181a.615.615 0 01.182.463.648.648 0 01-.2.475l-2.953 3.035z"})})},150987:(e,t,n)=>{n.d(t,{A:()=>v});n(898992),n(354520),n(581454),n(737550);var r=n.n(n(844751)),s=n(296540),i=()=>n(970013),o=()=>n(713998),a=()=>n(959013),l=()=>n(496603),c=()=>n(722872),u=()=>n(939740),d=()=>n(89924),p=()=>n(250202),m=n(474848);const v=function(e){let{selectedProperty:t,onAccept:v,schema:h,onClose:g,allowProperty:f,isRelationProperty:y}=e;const S=(0,n(484714).v3)(),I=(0,a().tz)(),[b,w]=(0,s.useState)("");let x=Object.keys(h);const M=x.some(n(443239).u);x=l().Ul(x,(e=>{const t=(0,o()._g)({schema:h,property:e});return t?t.name:""}));const T=M?i().Ho:i().rn;if(x=l().FF(x,T),x.unshift(T),f&&(x=x.filter((e=>{const t=(0,o()._g)({schema:h,property:e});return t&&f(t)}))),b){let e=x.map((e=>{const t=(0,o()._g)({schema:h,property:e});return t&&t.name}));e=r().filter(b,e).map((e=>{let{original:t}=e;return t})),x=x.filter((t=>{const n=(0,o()._g)({schema:h,property:t});return n&&n.name&&e.includes(n.name)}))}const A=b||x.length>n(525432).R8,P=l().oE(x.map((e=>{const n=(0,o()._g)({schema:h,property:e});if(!n)return null;return{key:e,render:r=>(0,m.jsx)(p().G,{...r,propertySchema:n,format:p().e.Name,isChecked:e===t}),action:()=>v(e)}}))),C=[{key:0,render:e=>(0,m.jsx)(d().A,{...e}),items:P}],{device:_}=S,k=A?(0,m.jsx)(d().A,{isInput:!0,children:(0,m.jsx)(n(419357).Ay,{focus:!_.isMobile||void 0,focusAfterAnimation:!0,value:b,onChange:e=>w(e.target.value),placeholder:y?I.formatMessage({defaultMessage:"Search for a relation property…",id:"propertySelectMenu.searchForProperty.relation.placeholder"}):I.formatMessage({defaultMessage:"Search for a property…",id:"propertySelectMenu.searchForProperty.default.placeholder"})})}):null;let B;return B=_.isMobile?{menuType:c().gu.Modal,title:y?I.formatMessage({defaultMessage:"Relation property",id:"propertySelectMenu.mobileMenu.relationProperty.header"}):I.formatMessage({defaultMessage:"Property",id:"propertySelectMenu.mobileMenu.property.header"}),right:(0,m.jsx)(n(480095).CancelMenuText,{}),onClickRight:g,header:k}:{menuType:c().gu.Popup,width:280,maxHeight:480,header:k},(0,m.jsx)(n(928600).A,{...B,children:0===P.length?(0,m.jsx)(d().A,{children:(0,m.jsx)(n(64e3).A,{title:(0,m.jsx)(a().sA,{defaultMessage:"No results",id:"propertySelectMenu.search.noResults.title"})})}):(0,m.jsx)(u().Ay,{type:u().Oh.Vertical,sections:C,onAccept:g,initialFocus:b.length>0?0:void 0})})}},200582:(e,t,n)=>{n.d(t,{m:()=>s});n(296540);const r={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M11.633 1.812c.263.096.43.354.41.632l-.392 5.51h3.099a.625.625 0 0 1 .506.992l-6.18 8.54a.625.625 0 0 1-1.13-.412l.402-5.5H5.25a.625.625 0 0 1-.507-.99l6.17-8.55a.625.625 0 0 1 .72-.222m-5.161 8.513H9.02a.625.625 0 0 1 .623.67l-.29 3.976 4.173-5.766H10.98a.625.625 0 0 1-.623-.67l.284-3.987z"})},s=(0,n(340498).wt)("lightning",r)},250202:(e,t,n)=>{n.d(t,{G:()=>a,e:()=>o});var r=n(296540),s=()=>n(401497),i=n(474848);let o=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});const a=r.forwardRef((function(e,t){const{propertySchema:r,format:a,locked:l}=e,{name:c,type:u,icon:d}=r,p=(0,n(963589).X)("nds_default_property_noticon"),{isMobile:m}=(0,n(484714).Y0)(),v=(0,s().IS)((e=>({propertyIcon:{fill:e.regularIconColor,marginLeft:6,marginRight:2}})),[]),h=(0,s().DP)(),g=a===o.Name?c:n(682146).dC[u];return(0,i.jsx)(n(760217).A,{title:g,icon:(0,i.jsx)(n(743176).zB,{icon:d,type:u,size:m?18:16,theme:h,style:v.propertyIcon,isDefaultNoticonEnabled:p}),disabled:l,...e})}))},253673:(e,t,n)=>{n.d(t,{z:()=>s});n(296540);const r={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M10 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M7.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M10 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h8.3c.68 0 1.328-.287 1.74-.767.429-.502.591-1.217.23-1.923-1.02-1.99-3.42-3.305-6.12-3.305m-5.007 3.875c.761-1.488 2.672-2.626 5.007-2.626s4.246 1.138 5.007 2.626c.105.204.07.378-.067.54-.156.182-.448.33-.79.33h-8.3c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54"})},s=(0,n(340498).wt)("person",r)},254437:(e,t,n)=>{n.d(t,{F:()=>s});n(296540);var r=n(474848);const s=(0,n(340498).wt)("mail",{viewBox:"0 0 30 30",svg:(0,r.jsx)("path",{d:"M0,4v22h30V4H0z M17.591,16.33C16.137,17.753,15.819,18,15,18s-1.137-0.247-2.555-1.635L2,6h26L17.591,16.33z M2,8.814 l7.17,7.119L2,21.8V8.814z M2.445,24l8.141-6.661L11,17.75c1.438,1.406,2.281,2.25,4,2.25s2.563-0.844,4-2.25l0.414-0.411L27.555,24 H2.445z M28,21.8l-7.17-5.867L28,8.814V21.8z"})})},380468:(e,t,n)=>{n.d(t,{A:()=>g});n(944114),n(898992),n(354520),n(581454);var r=n.n(n(844751)),s=n(296540),i=()=>n(959013),o=()=>n(496603),a=()=>n(760217),l=()=>n(939740),c=()=>n(8980),u=()=>n(89924),d=()=>n(250202),p=()=>n(972435),m=n(474848);const v=(0,i().YK)({inputPlaceholder:{defaultMessage:"Search for a property…",id:"database.viewSettings.propertySelect.inputPlaceholder"},none:{defaultMessage:"None",id:"database.viewSettings.propertySelect.noneMessage"},remove:{defaultMessage:"Remove",id:"database.viewSettings.propertySelect.removeMessage"}});function h(e){let{currentProperty:t,showNoneOption:h,showRemoveOption:g,getProperties:f,onAccept:y,inputPlaceholder:S,defaultShowPropertyCount:I,disableSortByPageFormat:b,schema:w,format:x,renderProperty:M}=e;const T=(0,n(484714).Y0)(),[A,P]=(0,s.useState)(""),[C,_]=(0,s.useState)(!1),k=(0,n(847249).uB)(void 0,n(970585).A),B=(0,n(963589).X)("db_ux_mobile_filter_sheet"),q=(0,n(401497).IS)((e=>({menuItem:{color:e.text.secondary}})),[]),[j,U]=(0,n(857437).$)(),E=(0,n(390066).L)(x,w,void 0,n(651124).jf.Page).collection_page_properties||[],R=!I||C,N=p().A.formatMessage(v.none),O=h?{key:"none",render:e=>(0,m.jsx)(a().A,{...e,isChecked:!t,title:N}),action:()=>{y(void 0)}}:void 0,F=g?{key:"remove",render:e=>(0,m.jsx)(a().A,{...e,icon:(0,m.jsx)(c().I,{icon:n(236262).trashIcon}),title:p().A.formatMessage(v.remove)}),action:()=>{y(void 0)}}:void 0,z=f();let V=z;if(b||(V=o().Ul(z,(e=>E.findIndex((t=>t.property===e))))),A){const e=new Map;let t=V.map((t=>{const r=w[t],s=r?`${r.name} ${n(682146).dC[r.type]}`:"";return e.set(t,s),s}));t=r().filter(A,t).map((e=>{let{original:t}=e;return t})),V=V.filter((n=>t.includes(e.get(n)||"")))}else!R&&I&&(V=V.slice(0,I));const L=o().oE([!A||r().test(A,N)?O:void 0,...V.map((e=>function(e,t,n,r,s){const i=t[e];if(!i)return;const o={key:e,render:t=>{const n=e===r;return s?s(t,e,n,i):(0,m.jsx)(d().G,{...t,propertySchema:i,format:d().e.Name,isChecked:n})},action:()=>{n(e)}};return o}(e,w,y,t,M)))]);if(!R&&z.length>V.length&&!A){const e={key:"show_more",render:e=>(0,m.jsx)(a().A,{...e,icon:(0,m.jsx)(c().I,{icon:n(589407).L}),style:q.menuItem,title:(0,m.jsx)(i().sA,{defaultMessage:"{moreCount} more",id:"database.viewSettings.propertySelect.showMoreTitle",values:{moreCount:z.length-V.length}})}),action:()=>{_(!0)}};L.push(e)}const D=L.length>0,H=Boolean(A),W=!F||D||H;W&&!D&&L.push({action:o().lQ,key:"noResults",render:e=>(0,m.jsx)(n(736767).A,{...e,caption:(0,m.jsx)(i().sA,{defaultMessage:"No results",id:"database.viewSettings.propertySelect.noResultsTitle"})})});const G=[];if(W){const e=(0,m.jsx)(n(419357).Ay,{focusInitial:!T.isMobile||void 0,focus:!T.isMobile||void 0,value:A,onChange:e=>{P(e.target.value),k.setState({...k.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}}),_(!1)},placeholder:S||p().A.formatMessage(v.inputPlaceholder),...j});T.isMobile&&B?L.unshift({key:"input",render:()=>e,action:o().lQ}):G.push({key:"input",comp:(0,m.jsx)(u().A,{isInput:!0,children:e})})}return(L.length>0||F)&&G.push({key:"properties",comp:(0,m.jsx)(l().Ay,{type:l().Oh.Vertical,initialFocus:0,comboboxProps:W?U:void 0,sections:[...L.length>0?[{key:"results",render:e=>(0,m.jsx)(u().A,{...e}),items:L}]:[],...F?[{key:"remove",render:e=>(0,m.jsx)(u().A,{topBorder:L.length>0,...e}),items:[F]}]:[]],store:k})}),(0,m.jsx)(m.Fragment,{children:G.map((e=>{let{key:t,comp:n}=e;return(0,m.jsx)(s.Fragment,{children:n},t)}))})}const g=s.memo(h,n(821062).A)},495867:(e,t,n)=>{n.d(t,{BY:()=>f,Lg:()=>y,id:()=>w,nE:()=>x,xi:()=>S});n(944114),n(898992),n(430670),n(581454);var r=()=>n(857639),s=()=>n(402390),i=()=>n(68263),o=()=>n(762433),a=()=>n(449506),l=()=>n(579627),c=()=>n(436572),u=()=>n(972435),d=()=>n(351360),p=()=>n(57605),m=()=>n(159026),v=()=>n(577437),h=()=>n(47373),g=()=>n(250064);async function f(e){const{environment:t,spaceStore:n,contextualInviteStore:r}=e;!function(e){const{spaceStore:t,contextualInviteStore:n}=e,r=t.getRole();if(!r||!(0,i().NB)(r))return!1;if(!n.hasGuests())return!1;if(t.getDisableMembershipRequests())return!1;return(0,h().x3)()}({environment:t,spaceStore:n,contextualInviteStore:r})?await async function(e){const{spaceStore:t,contextualInviteStore:n,environment:r}=e,s=t.getRole();if(!s||!(0,i().vp)(s))return!1;if(!n.hasGuests())return!1;return await(0,v().Se)(r,{name:"members",spaceId:t.id,userId:t.userId,amount:1})}({environment:t,spaceStore:n,contextualInviteStore:r})?r.startWorkspaceInvite():r.setState({...r.state,inviteStage:m().d5.closed}):r.startRequestMembership()}async function y(e){const{environment:t,spaceStore:n,contextualInviteStore:s,from:i,intl:o}=e,{selection:a,flowId:u}=s.state;if("page_guest"===a||!s.hasGuests())return s.reset(),!1;const{inviteTargets:d,unknownEmails:p}=await I({environment:t,contextualInviteStore:s}),m={...s.state};s.reset();const h=await(0,v().Se)(t,{name:"non_admin_members",spaceId:n.id,userId:n.userId})?e.inviteRole??"read_and_write":"editor";try{await l().eP({environment:t,store:n,inviteTargets:d,inviteRole:h,isOnboarding:!1,invite:{inviteOrigin:i,inviteFlowId:u,disable_invite_email:!0}})}catch(g){return function(e,t){if(0===t.length)return;c().D6({label:e.formatMessage({id:"contextual_invite.contextual_invite_failure",defaultMessage:"{userCount, plural, one {Failed to invite {users} as member} other {Failed to invite {users} as members}}"},{users:w(t,e),userCount:t.length})})}(o,m.invitedUsers),r().log({level:"error",from:"contextualInviteHelpers",type:"inviteMembers.inviteTargets",data:{miscDataToConvertToString:{...m,inviteTargets:d}}}),!1}finally{p.length&&r().log({level:"error",from:"contextualInviteHelpers",type:"inviteMembers.unknownUserId",data:{miscDataToConvertToString:{...m,unknownEmails:p}}})}return!0}async function S(e){const{environment:t,spaceStore:n,originId:s,originType:i,reasonMessage:o,contextualInviteStore:l,intl:u}=e,{selection:d}=l.state;if("page_guest"===d||!l.hasGuests())return l.reset(),!1;const{inviteTargets:p,unknownEmails:m}=await I({environment:t,contextualInviteStore:l}),v={...l.state};l.reset();const h=[];try{const e=p.map((e=>a().callApi({eventName:"requestAccess",environment:t,data:{type:"actor-to-space",forActorId:e.value.id,spaceId:n.id,message:o,attributes:{origin_id:s,origin_type:i,origin_table:"share_menu"===i?"block":"space",add_permissions_on_approval:!1}}}).catch((()=>h.push(e)))));await Promise.all(e)}catch(g){return function(e,t){if(0===t.length)return;c().D6({label:e.formatMessage({id:"contextual_invite.request_members_failure",defaultMessage:"Failed to request {users} to become members"},{users:w(t,e)})})}(u,v.invitedUsers),r().log({level:"error",from:"contextualInviteHelpers",type:"requestMembers.inviteTargets",data:{miscDataToConvertToString:{...v,inviteTargetsWithErrors:h}}}),!1}finally{m.length&&r().log({level:"error",from:"contextualInviteHelpers",type:"requestMembers.unknownUserId",data:{miscDataToConvertToString:{...v,unknownEmails:m}}})}return!0}async function I(e){const{environment:t,contextualInviteStore:n}=e,{invitedEmailToUserIdMap:r}=n.state,s=[],i=[];for(const o of n.state.invitedUsers){if(!o.isGuest)continue;const e=await b(t,o,r);e?s.push({type:"existingUser",value:{id:e,email:o.email,version:1}}):i.push(o.email)}return{inviteTargets:s,unknownEmails:i}}async function b(e,t,n){const r=await async function(e,t,n){let r=t.id;if(r||(r=n[t.email]),!r){const n=await a().callApi({eventName:"findUser",environment:e,data:{email:t.email}});if("failed"!==n.type){const e=n.data;e.value&&(r=e.value.value.id)}}return r}(e,t,n);if(r)return r;const i=(0,s().H)(u().A.getIntl()),o=await a().callApi({eventName:"createEmailUser",environment:e,data:{email:t.email,preferredLocaleOrigin:"inferred_from_inviter",preferredLocale:i}});return"failed"!==o.type?o.data.userId:void 0}function w(e,t){return(0,g().l)(e.flatMap((e=>e.email||[])))}function x(e,t){var n;const{state:r}=t,s=null===(n=d().default.state.currentSpaceStore)||void 0===n?void 0:n.id,i=s?(0,o().AI)(p().A.getData(e,{spaceId:s})):void 0,a=t.getGuestEmails();return{invite_flow_id:r.flowId,user_count:a.length,user_emails:a,invite_space_role_selection:r.selection,is_bot:!1,subscription_tier:i}}},519143:(e,t,n)=>{n.d(t,{D:()=>s});n(296540);const r={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"m3.625 11.151 1.187-1.187a.625.625 0 1 1 .884.884l-2.254 2.254a.625.625 0 0 1-.884 0L.304 10.848a.625.625 0 0 1 .884-.884l1.187 1.187V10a7.625 7.625 0 0 1 12.814-5.587.625.625 0 1 1-.851.915A6.375 6.375 0 0 0 3.625 10zm14-2.302 1.187 1.187a.625.625 0 1 0 .884-.884l-2.254-2.254a.625.625 0 0 0-.884 0l-2.254 2.254a.625.625 0 1 0 .884.884l1.187-1.187V10a6.375 6.375 0 0 1-10.713 4.672.625.625 0 0 0-.85.915A7.625 7.625 0 0 0 17.625 10z"})},s=(0,n(340498).wt)("arrowCircleLoop",r)},522500:(e,t,n)=>{n.d(t,{q:()=>s});n(296540);var r=n(474848);const s=(0,n(340498).wt)("megaphone",{viewBox:"0 0 64 64",svg:(0,r.jsx)("path",{d:"m54,10v40h-4l-20-10h-4l4,16h-10l-4-16c-4.94,0-8-3.06-8-8v-4c0-4.94,3.06-8,8-8h14l20-10h4Z"})})},542056:(e,t,n)=>{n.d(t,{Ah:()=>U,D6:()=>j,KW:()=>_,Oo:()=>C,Pp:()=>E,St:()=>q,hQ:()=>N,iS:()=>B,kW:()=>k,l5:()=>P,lf:()=>R});n(16280),n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(803949),n(581454);var r=()=>n(842599),s=()=>n(68263),i=()=>n(179034),o=()=>n(96689),a=()=>n(496603),l=()=>n(763824),c=()=>n(534177),u=()=>n(579627),d=()=>n(495867),p=()=>n(731320),m=()=>n(743260),v=()=>n(299545),h=()=>n(37433),g=()=>n(106628),f=()=>n(351360),y=()=>n(57605),S=()=>n(159026),I=()=>n(508496),b=()=>n(406999),w=()=>n(630116),x=()=>n(991249),M=()=>n(477093),T=()=>n(134696),A=()=>n(449506);async function P(e){const{environment:t,store:n,sudoModeStore:a,permissionsInviteStore:l,onInviteStart:d,contextualInviteStore:h,inviteOrigin:g}=e,{tokenQuery:f}=l.state;if((0,r().DT)(f.trim())&&(l.state.isInviteTargetsEmpty||!(0,b().qs)(l.state))){const e={type:"newUser",value:{email:f.trim()},source:"email"};m().mQ({target:e,permissionsInviteStore:l})||l.setState({...l.state,inviteTargets:[...l.state.inviteTargets,e],isInviteTargetsEmpty:!1,tokenQuery:""})}if(!l.state.isInviteTargetsEmpty&&l.state.inviteTargets.length>0){null==d||d();const e=l.state;if((0,b().qs)(e)){if(e.table===i().ev){if(!(0,v()._p)(n))throw new Error("Table mismatch.");const{inviteTargets:r,flowId:s,emailMessage:i}=e;l.reset();const o=await u().eP({environment:t,store:n,sudoModeStore:a,inviteTargets:r,inviteRole:void 0,isOnboarding:!1,invite:{inviteFlowId:s,inviteMessage:i,inviteOrigin:g}});return{success:o.success,requestedUserCount:o.success?Object.keys(o.requestedUsers).length:0}}if(e.table===o().NX){if(!(0,v().Yu)(n))throw new Error("Table mismatch.");const{inviteTargets:r,inviteRole:s,flowId:i}=e;l.reset();return{success:(await u().eP({environment:t,store:n,sudoModeStore:a,inviteTargets:r,inviteRole:s,isOnboarding:!1,invite:{inviteFlowId:i,inviteOrigin:g}})).success,requestedUserCount:0}}(0,c().HB)(e)}else{const{inviteRole:r,flowId:i,emailMessage:o}=e;l.reset();const c=await(0,p().hb)(n,e.inviteTargets);if((0,s().PW)(r)){const e=await u().eP({environment:t,store:n,sudoModeStore:a,inviteTargets:c,inviteRole:r,isOnboarding:!1,invite:{inviteFlowId:i,inviteMessage:o,inviteOrigin:g}});return e.success&&(null==h||h.setState({...null==h?void 0:h.state,invitedEmailToUserIdMap:e.invitedUsers})),{success:e.success,requestedUserCount:e.success?Object.keys(e.requestedUsers).length:0}}if((0,v().$R)(n)&&(0,b().nV)(e)){return{success:await u().sQ({environment:t,store:n,inviteTargets:e.inviteTargets,inviteRole:r,createNewTeamFlowId:i}),requestedUserCount:0}}}}return{success:!0,requestedUserCount:0}}function C(e){e.permissionsInviteStore.setState({...e.permissionsInviteStore.state,modalOpen:!1,flowId:void 0})}function _(e){const{permissionsInviteStore:t,contextualInviteStore:n}=e;if(!n)return;const r=[];t.state.inviteTargets.forEach((e=>{if("newUser"===e.type)r.push({email:e.value.email,isGuest:!0});else if("existingUser"===e.type){const t={...e.value,email:e.value.email,isGuest:"none"===e.spaceRole||"not_in_space"===e.spaceRole};r.push(t)}})),n.setState({...n.state,invitedUsers:r})}async function k(e){const{environment:t,store:n,sudoModeStore:r,permissionsInviteStore:s,contextualInviteStore:i,onInviteClick:a,onInviteComplete:l,inviteOrigin:c,intl:u}=e,p=n.getSpaceId(),m=new(w().SL)(t,{table:o().NX,id:p}),v=p?await y().A.awaitData(t,{spaceId:p}):void 0;if((null==i?void 0:i.state.selection)===S().NJ.workspace_member&&m&&(0,h().isEligibleToCreateTeamspace)(t,v)){if(!(await M().oH({environment:t,flowId:s.state.flowId||"",trackCreateTeamComplete:!1})))return;_({permissionsInviteStore:s,contextualInviteStore:i}),await(0,d().Lg)({environment:t,spaceStore:m,contextualInviteStore:i,from:c,intl:u})}else _({permissionsInviteStore:s,contextualInviteStore:i});let g={success:!1,requestedUserCount:0};try{g=await P({environment:t,store:n,sudoModeStore:r,permissionsInviteStore:s,contextualInviteStore:i,onInviteStart:()=>{null==a||a()},inviteOrigin:c})}catch(f){}finally{null==l||l(g.success,g.requestedUserCount)}}async function B(e){const{environment:t,permissionsInviteStore:n,from:r}=e;await m().iQ({environment:t,permissionsInviteStoreState:n.state,from:r})||n.reset()}function q(e){const{permissionsInviteStore:t,targetToRemove:n,defaultRoleForNonBot:r}=e;if(!t.state.isInviteTargetsEmpty)if((0,b().qs)(t.state))if((0,b().qs)(t.state)){const e=t.state.inviteTargets.filter((e=>e!==n));0===e.length?t.setState({...t.state,inviteTargets:[],inviteRole:r,isInviteTargetsEmpty:!0}):t.setState({...t.state,inviteTargets:e})}else(0,c().HB)(t.state);else{const e=t.state.inviteTargets.filter((e=>e!==n));0===e.length?t.setState({...t.state,inviteTargets:[],inviteRole:r,isInviteTargetsEmpty:!0}):t.setState({...t.state,inviteTargets:e})}}function j(e){const{environment:t,onUpgradeButtonClick:n,upgradeButtonName:r}=e;x().K(t,{from:r,upsell:{type:"product",product:"plus",limit:{type:"none"},trialability:"none"}}),null==n||n()}async function U(e,t){const n=new Set(t),r=Array.from(n).map((async t=>{const n=await A().callApi({eventName:"findUser",environment:e,data:{email:t}});if("success"===n.type){const e=n.data;if(e.value){return{type:"existingUser",value:e.value.value}}}return{type:"newUser",value:{email:t},source:"email"}}));return await Promise.all(r)}async function E(e){const t="invitee",{environment:n,permissionsInviteStore:s,event:i}=e;if(!s.state.isInviteTargetsEmpty&&(0,b().qs)(s.state)){const e=i.target.value;s.setState({...s.state,inputFocus:t,tokenQuery:e})}else{const e=i.target.value,{extractedEmails:o,newInputValue:a}=(0,r().Ct)(e),l=(await U(n,o)).filter((e=>!m().mQ({target:e,permissionsInviteStore:s}))),c=[...s.state.inviteTargets,...l];c.length>0?s.setState({...s.state,inviteTargets:c,isInviteTargetsEmpty:!1,inputFocus:t,tokenQuery:a}):s.setState({...s.state,inviteTargets:[],isInviteTargetsEmpty:!0,inputFocus:t,tokenQuery:a})}}function R(e){const{environment:t,newRole:n,permissionsInviteStore:r}=e,{state:s}=r;T().Jy(t,{...m().oX(t,s),invite_updated_role:n}),!s.isInviteTargetsEmpty&&(0,b().qs)(s)||r.setState({...s,inviteRole:n})}async function N(e){var t;const{query:n,environment:r,sectionLimit:s,intl:i,membersOnly:o,importContactType:c,shouldUseEdgeCache:u}=e,{currentSpaceStore:d}=f().default.state;if(!d)return{inviteUsers:[],inviteBots:[],inviteGroups:[]};const p=I().default.getConfigKey("search_contacts_timeout","timeoutMs"),{userLimit:m,botLimit:v,groupLimit:h,importContactLimit:y}=s,S=await g().T.searchActions.load(),[b,w,x,{user:M,email:T},P]=await Promise.all([m>0?u?S.searchEdgeCacheSpaceUsers({environment:r,query:n,membersOnly:o,limit:m}):S.searchVisibleSpaceUsers({environment:r,query:n,membersOnly:o}):[],v>0?S.searchSpaceBots({environment:r,query:n}):[],h>0?S.searchSpaceGroups({query:n,intl:i}):[],S.searchEmailUser(r,n),y>0?(0,l().nQ)(p,A().callApi({eventName:"searchContacts",environment:r,data:{spaceId:d.id,limit:y,query:n,importContactType:c,includeNonNotionUsers:!o,includeUserId:!0}})):void 0]),C=b.slice(0,m).map((e=>({type:"existingUser",value:e}))),_=w.slice(0,v).map((e=>({type:"bot",value:e}))),k=x.slice(0,h).map((e=>({type:"group",value:e})));M&&C.unshift({type:"existingUser",value:M}),T&&C.unshift({type:"newUser",value:{email:T},source:"email"});let B=[];return"success"===(null==P||null===(t=P.result)||void 0===t?void 0:t.type)&&(B=P.result.data.contacts.map((e=>({type:"newUser",value:{email:e.email,name:e.name,avatar_url:e.profile_photo,user_id:e.user_id},source:e.type})))),{inviteUsers:a().hS(C,(e=>e.value.email)),inviteBots:_,inviteGroups:k,importedContacts:B}}},574752:(e,t,n)=>{n.r(t),n.d(t,{ENGLISH_PERSONAL_PRONOUNS:()=>Pe,TEST_ONLY__getVisibleSpaceUserIds:()=>Ce,checkIsTrashEmpty:()=>pe,getLocalCacheFromAppState:()=>re,isPersonalPronoun:()=>Ae,searchActorsById:()=>qe,searchCollections:()=>me,searchCollectionsWithRecents:()=>ve,searchEdgeCacheSpaceUsers:()=>Me,searchEmailUser:()=>Be,searchInstallableIntegrations:()=>Ie,searchLocalNavigableBlocks:()=>he,searchMentionablePages:()=>je,searchPageIds:()=>ie,searchPageIdsInAncestor:()=>ue,searchPagesInAncestor:()=>ce,searchPagesInCollection:()=>oe,searchPagesInSpace:()=>se,searchPagesWithParent:()=>ae,searchPublicPages:()=>Ee,searchSpaceActorIds:()=>ke,searchSpaceActors:()=>_e,searchSpaceBots:()=>fe,searchSpaceGroups:()=>ge,searchTeams:()=>Re,searchTrashPages:()=>de,searchUsers:()=>we,searchVisibleSpaceUsers:()=>xe});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(672577),n(430670),n(581454);var r=n.n(n(844751)),s=()=>n(799288),i=()=>n(842599),o=()=>n(617871),a=()=>n(857639),l=()=>n(142748),c=()=>n(68263),u=()=>n(388821),d=()=>n(861017),p=()=>n(179034),m=()=>n(824862),v=()=>n(519831),h=()=>n(96689),g=()=>n(798880),f=()=>n(245241),y=()=>n(468006),S=()=>n(919709),I=()=>n(695608),b=()=>n(778078),w=()=>n(496603),x=()=>n(763824),M=()=>n(498212),T=()=>n(973647),A=()=>n(534177),P=()=>n(720665),C=()=>n(449506),_=()=>n(908928),k=()=>n(518362),B=()=>n(780054),q=()=>n(989423),j=()=>n(186445),U=()=>n(47373),E=()=>n(108944),R=()=>n(731320),N=()=>n(825972),O=()=>n(780865),F=()=>n(698449),z=()=>n(406792),V=()=>n(696746),L=()=>n(351360),D=()=>n(227440),H=()=>n(605402),W=()=>n(21735),G=()=>n(508496),Q=()=>n(968172),K=()=>n(20199),X=()=>n(558407),Z=()=>n(630116),Y=()=>n(271084),$=()=>n(224701),J=()=>n(134217),ee=()=>n(749240),te=()=>n(690978),ne=()=>n(448433);async function re(e){const{currentSpaceStore:t,currentSpaceViewStore:n}=L().default.state;if(!t)return;return G().default.checkGate({gateName:"search_use_local_search_cache"})?(K().A.state.localSearchableBlocksCache||await K().A.waitUntil((()=>Boolean(K().A.state.localSearchableBlocksCache))),K().A.state.localSearchableBlocksCache):await(0,ne().h)({environment:e,currentSpaceStore:t,currentSpaceViewStore:n})}async function se(e){const{environment:t,query:n,limit:r,currentPageId:s,searchSessionId:i,searchSessionFlowNumber:o,recentlyMentionedPageIds:a,spaceId:l,requireEditPermissions:c,excludeTemplates:d,source:p,boostRecentlyViewedPages:m,ignoresHighlight:v,filterOverrides:h}=e,{currentSpaceStore:g}=L().default.state,y={results:[],recordMap:u().RecordMapWithRole.create().toJson(),total:0,trackEventProperties:void 0};if(!g)return y;const S=await re(t),I=f().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,excludeTemplates:d,requireEditPermissions:c||void 0,...h}),b={field:"relevance"};if(!n&&S){const e=(0,te().k)({query:{query:{text:n,filters:I,sort:b},limit:r},localCachedPages:S,userId:t.currentUser.id,environment:t});return e||y}const w=await C().callApi({eventName:"search",environment:t,data:{type:f().Vz.BlocksInSpace,query:n,spaceId:l,currentPageId:s,searchSessionId:i,searchSessionFlowNumber:o,recentlyMentionedPageIds:a,limit:r,filters:I,sort:b,source:p,recentPagesForBoosting:m?(0,N().cs)(Q().A.getWithoutSubscribing(l)):void 0,ignoresHighlight:v}});if("failed"===w.type)throw w.error;return w.data}async function ie(e){const t=await se(e);return{results:t.results.map((e=>e.id)),recordMap:t.recordMap}}async function oe(e){const{environment:t,query:n,collectionId:r,limit:s,spaceId:i,excludeTemplates:o,source:a,includePublicPagesWithoutExplicitAccess:l,boostRecentlyViewedPages:c,ignoresHighlight:u}=e,d=new Array,p=await re(t),m=f().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,includePublicPagesWithoutExplicitAccess:l,excludeTemplates:o}),h={field:"relevance"},g=C().callApi({eventName:"search",environment:t,data:{type:f().Vz.BlocksInCollection,query:n,spaceId:i,collectionId:r,limit:s,filters:m,sort:h,source:a,recentPagesForBoosting:c?(0,N().cs)(Q().A.getWithoutSubscribing(i)):void 0,ignoresHighlight:u}});if(p){const e={table:v().Vl,id:r,spaceId:i},o=new(Z().md)(t,e);await o.load();const a=(0,te().k)({query:{query:{text:n,filters:o.isPageTreeCollection()?{...m,ancestors:[r]}:{...m,parentId:r},sort:h},limit:s},localCachedPages:p,userId:t.currentUser.id,environment:t});a&&d.push(...a.results)}const y=await g;if("failed"===y.type){if(0===d.length)throw y.error}else{let e=y.data.results;n||(e=O().Fj({sort:h,batchSize:s,currentUserId:t.currentUser.id,unsorted:e})),d.push(...e)}return{results:w().oE(w().sb(d.map((e=>e.id))))}}async function ae(e){const{environment:t,query:n,parentId:r,limit:s,spaceId:i,excludeTemplates:o,source:a,includePublicPagesWithoutExplicitAccess:l,boostRecentlyViewedPages:c,ignoresHighlight:u}=e,[d,p]=await Promise.all([C().callApi({eventName:"search",environment:t,data:{type:f().Vz.BlocksInParent,query:n,spaceId:i,parentId:r,limit:s,filters:f().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,includePublicPagesWithoutExplicitAccess:l,excludeTemplates:o}),sort:{field:"relevance"},source:a,recentPagesForBoosting:c?(0,N().cs)(Q().A.getWithoutSubscribing(i)):void 0,ignoresHighlight:u}}),le(e)]);if("failed"===d.type)throw d.error;return{results:w().oE(w().sb([p,...d.data.results.map((e=>e.id))]))}}async function le(e){const{environment:t,query:n,parentId:r,spaceId:s}=e,i=(0,d().parseRoute)({url:n,baseUrl:B().A.domainBaseUrl,publicDomainName:B().A.publicDomainName,isMobile:t.device.isMobile,protocol:B().A.protocol,currentUrl:window.location.href}),o="page"===i.name?i.peekViewBlockId||i.blockId:void 0,a=((0,M().c_)(n)?(0,M().np)(n):void 0)||o;if(a){const e={table:p().ev,id:a},n=new(Z().Bv)(t,e);await n.load();const i=n.id,o=n.getParentId(),l=n.getSpaceId();if(o===r&&l===s)return i}}async function ce(e){const{environment:t,query:n,ancestorId:r,limit:s,excludeTemplates:i,source:o,currentPageId:a,searchSessionId:l,searchSessionFlowNumber:c,recentlyMentionedPageIds:u,ignoresHighlight:d,includePublicPagesWithoutExplicitAccess:p,spaceId:m}=e,v=await C().callApi({eventName:"search",environment:t,data:{type:f().Vz.BlocksInAncestor,query:n,ancestorId:r,filters:f().N2({navigableBlockContentOnly:!0,excludeTemplates:i,includePublicPagesWithoutExplicitAccess:p}),sort:{field:"relevance"},limit:s,source:o,spaceId:m,currentPageId:a,searchSessionId:l,searchSessionFlowNumber:c,recentlyMentionedPageIds:u,ignoresHighlight:d}});if("failed"===v.type)throw v.error;return v.data}async function ue(e){return{results:(await ce(e)).results.map((e=>e.id))}}async function de(e){const{environment:t,query:n,limit:r,spaceId:s}=e,i=0===n.trim().length?{field:"lastEdited",direction:"desc"}:{field:"relevance"},o={query:n,filters:f().N2({isDeletedOnly:!0,navigableBlockContentOnly:!0,excludeTemplates:!1,editedBy:e.editedByIds||[],ancestors:e.ancestorIds||[],inTeams:e.teamspaceIds||[]}),sort:i,limit:r,spaceId:s,source:"trash"},a=C().callApi({eventName:"search",environment:t,data:{type:f().Vz.BlocksInSpace,...o}}),l=await a;if("failed"===l.type)throw l.error;{const{results:e,recordMap:t,total:n}=l.data;return{results:e.map((e=>e.id)),recordMap:u().RecordMapWithRole.create(t),endOfResultsReached:n===e.length}}}async function pe(e){const{currentSpaceStore:t,currentUserStore:n}=L().default.state;if(!t||!n)return!1;return 0===(await de({environment:e,query:"",limit:1,spaceId:t.id,ancestorIds:[],editedByIds:[],teamspaceIds:[]})).results.length}async function me(e,t){const{query:n,limit:r,source:s,requireEditPermissions:i,databaseType:o,spaceStore:a,searchSessionId:l}=t;if(!a)return{results:[],total:0};const c=a.id,[u,d]=await Promise.all([Ne(e,{...t,spaceId:c,requireEditPermissions:i,databaseType:o,parentStore:a}),C().callApi({eventName:"search",environment:e,data:{type:f().Vz.CollectionsInSpace,query:n,spaceId:c,limit:r,filters:{...f().N2({excludeTemplates:!0,requireEditPermissions:i,databaseType:o})},sort:{field:"relevance"},source:s,recentPagesForBoosting:(0,N().cs)(Q().A.get(c)),searchSessionId:l}})]),p=w().KC("success"===d.type?w().oE(d.data.results.map((e=>e.collectionId))):[],u).slice(0,r);return{results:p,total:"success"===d.type?d.data.total:p.length}}async function ve(e){const{environment:t,collectionViewBlockStore:n,spaceStore:r,parentStore:s,query:i,limit:o,requireEditPermissions:a,databaseType:l,searchSessionId:c}=e;let u=[],d=0;if(!i){const e=t.currentUser.id;r&&(u=[...(0,k().F)({currentUserId:e,spaceId:r.id}).map((e=>Z().md.createChildStore(s,{table:v().Vl,id:e})))]),u=[...w().oE(null==n?void 0:n.getCollectionViewStores().map((e=>e.getCollectionStore()))),...u],l&&(u=u.filter((e=>{const t=e.getDatabaseType();return!!t&&l.includes(t)}))),u=w().hS(u,(e=>e.id)).filter((e=>!a||e.canEdit()))}const p=await me(t,{query:i,limit:o,source:"collection_settings_source",requireEditPermissions:a,databaseType:l,spaceStore:r,searchSessionId:c});return u=[...u,...p.results.map((e=>Z().md.createChildStore(s,{table:v().Vl,id:e})))],d=p.total,u=u.filter((e=>!(0,E().ze)(e)&&e.canRead())),await Promise.all(u.map((async e=>{await e.load()}))),{results:w().hS(u,(e=>e.id)).slice(0,o).map((e=>e.id)),total:d}}async function he(e){const{environment:t,searchQuery:n,blockTypes:r,currentSpaceStore:s,currentSpaceViewStore:i,limit:o,parentId:a}=e,l=await(0,ne().h)({environment:t,currentSpaceStore:s,currentSpaceViewStore:i}),c={query:{text:n,filters:(0,f().N2)({requireEditPermissions:!1,isDeletedOnly:!1,excludeTemplates:!0,navigableBlockContentOnly:!0,blockTypes:r,parentId:a}),sort:{field:"relevance"}},limit:o},u=(0,te().r)({query:c,localCachedPages:l,parentStore:s,isOnline:D().A.state.online,environment:t,shouldLimitLocalResultsWhenOnline:!1,applyScoreThresholdWhenOnline:!0,canUseLtr:!1});return u&&T().Q.isSuccess(u)?u.value.results.filter((e=>e.store.pathIsAccessibleAndAlive())):[]}function ge(e){const{query:t,intl:n}=e,r=H().A.state.permissionGroupsAndMemberCounts.map((e=>e.group));if(0===r.length)return[];return t?(0,b().Ay)(t,r,(e=>(0,F().Pf)({intl:n,groupName:e.name})),{normalizeFuzzyScore:!0}):r}async function fe(e){const{query:t}=e,{currentSpaceStore:n}=L().default.state;if(!n)return[];return Se({parentStore:n,query:t,botIds:await ye(e)})}async function ye(e){const{environment:t}=e,{currentSpaceStore:n}=L().default.state;if(!n)return[];const r=n.id,s=await _().Ju({environment:t,table:h().NX,id:r,type:"guest"});return w().sb(s.botIds)}function Se(e){const{parentStore:t,query:n,botIds:r}=e,i=w().oE(r.map((e=>{const n=t.table===h().NX?t.id:void 0;return(0,Z().Oo)(t,{table:m().GP,id:e,spaceId:n}).getValue()})));return n?(0,b().Ay)(n,i,s().tb):i}async function Ie(e){const{query:t,environment:n,spaceId:r,botSettings:s}=e;if(!r)return[];const i=await C().callApi({eventName:"searchIntegrations",environment:n,data:{query:t}});if("success"===i.type){const e=i.data.integrationIds,t=s&&s.integration_approval_statuses?Object.keys(s.integration_approval_statuses):[],n=Boolean(null==s?void 0:s.integration_restrictions),r=Boolean("approved_or_built_by_notion"===(null==s?void 0:s.integration_restrictions));return n?e.filter((e=>r?t.includes(e)||(0,o().CX)({integrationId:e,env:"production"}):t.includes(e))):e}if("failed"===i.type)throw i.error;(0,A().HB)(i)}const be=new Set(["gmail.com","yahoo.com","hotmail.com","outlook.com","icloud.com","aol.com"]);async function we(e){var t;let{environment:n,parentStore:r,query:s,userIds:o,minFuzzyScore:l,placeSelfFirst:c}=e;const u=z().default.mark("user_search_latency"),d=G().default.checkGate({gateName:"search_batch_load_users"}),p=x().lX(o,d?300:Math.max(o.length,1),(async e=>{const t=Z().LU.createChildStore(r,{table:g().oo,id:e});return await t.load(),t.getValue()}));(await(0,x().nQ)(1e4,[p])).timeout&&(a().log({level:"error",from:"searchActions.searchUsers",type:"UserStoreLoadTimeoutV1",error:{message:"The UserStore.load()'s took longer than 10 seconds"},data:{searchedUserIdCount:o.length,queryLength:s.length,parentStoreLoaded:r.isReady(),documentVisibilityState:document.visibilityState}}),(0,q().u4)({environment:n,event:{eventName:"user_search_timeout",eventProperties:{searchedUserIdCount:o.length,queryLength:s.length,parentStoreLoaded:r.isReady(),documentVisibilityState:document.visibilityState}}}));const m=w().oE(await p);let v;const h=null===(t=L().default.state.currentUserStore)||void 0===t?void 0:t.userId;if(c&&h){const e=m.findIndex((e=>h===e.id));e>-1&&(v=m[e],m.splice(e,1))}const f=Y().k.state??{},y=Math.max(...Object.values(f));function S(e){var t;return e===(null===(t=L().default.state.currentUserRootStore)||void 0===t?void 0:t.userId)?y+1e-5:f[e]??0}const M=w().Im(f)?m:m.sort(((e,t)=>{const n=S(e.id);return S(t.id)-n})),T=new Set(r.getEmailDomains()),A=s?(0,b().Ay)(s,M,I().T2,{minThreshold:l,getSortScore:e=>{const{original:t,score:n}=e,r=t.email&&(0,i().zN)(t.email),s=v&&(0,i().zN)(v.email),o=r&&T.has(r),a=s===r,l=s&&be.has(s);return n*(o||a&&!l?-2:-1)}}):m;return z().default.measure(u,{environment:n}),v?[v,...A]:A}async function xe(e){const{currentSpaceStore:t}=L().default.state;if(!t)return[];const n=e.query.startsWith("@")?e.query.slice(1):e.query,r=await Te(e);return we({environment:e.environment,parentStore:t,query:n,userIds:r,minFuzzyScore:e.minFuzzyScore,placeSelfFirst:e.placeSelfFirst})}async function Me(e){const{environment:t,membersOnly:n,minFuzzyScore:r=1e3,placeSelfFirst:s,limit:i}=e,{currentSpaceStore:o,mainEditorCurrentBlockStore:a,currentUserStore:l}=L().default.state;if(!o)return[];const u=e.query.startsWith("@")?e.query.slice(1):e.query,d=Y().k.getSortedUserIds().slice(0,100),p=a&&!n?(0,R().i0)(a).flatMap((e=>{let{permissionItem:t}=e;return(0,c().B2)(t)?[t.user_id]:[]})):[],m=await we({environment:e.environment,parentStore:o,query:u,userIds:w().sb([...w().oE([null==l?void 0:l.userId]),...d,...p]),minFuzzyScore:r,placeSelfFirst:s});if(i&&m.length>=i)return m.slice(0,i);const v=await C().callApi({eventName:"listUsers",environment:t,data:{cursor:void 0,membershipFilter:n?"members":void 0,limit:i?i-m.length:100,query:u,spaceId:o.id}});if("success"!==v.type||0===v.data.users.length)return m;const h=v.data.users.sort(((e,t)=>{var n,r;const s=(null===(n=Y().k.state)||void 0===n?void 0:n[e.id])??0;return((null===(r=Y().k.state)||void 0===r?void 0:r[t.id])??0)-s})),f=await(0,x().lX)(h,h.length,(async e=>{const t=Z().LU.createChildStore(o,{table:g().oo,id:e.id});return await t.load(),t.getValue()}));return w().hS([...m,...w().oE(f)],(e=>e.id))}async function Te(e){const{environment:t,membersOnly:n}=e,{currentSpaceStore:r}=L().default.state;if(!r)return[];await $().$D({environment:t,spaceId:r.id});const s=ee().subscriptionDataStoreInstance.state;if(!s)return[];const i=(0,J().Be)(s).filter((e=>!(n&&!(0,c().DH)(e.role)))),{mainEditorCurrentBlockStore:o,currentUserStore:a}=L().default.state,l=o&&!n?(0,R().i0)(o).flatMap((e=>{let{permissionItem:t}=e;return(0,c().B2)(t)?[t.user_id]:[]})):[],u=(0,U().Qd)()&&o?function(e,t){const n=E().Uo(e);if(n){const e=new Set((0,y().gm)({membership:n.getRawMembership()}));return t.filter((t=>"none"!==t.role||t.isPageGuest||t.isTeamGuest&&e.has(t.userId)))}return t.filter((e=>"none"!==e.role||e.isPageGuest))}(o,i):i,d=u.map((e=>e.userId));return w().sb([...w().oE([null==a?void 0:a.userId]),...l,...d])}function Ae(e,t){return!(!t.startsWith("en-")||!Pe.has(e.toLowerCase()))}const Pe=new Set(["me","you","i"]),Ce=Te;async function _e(e){const{query:t}=e,n=e.shouldUseEdgeCacheForFeatureGate&&W().A.state.shouldUseEdgeCache,[r,s]=await Promise.all([n?Me({...e,placeSelfFirst:""===t||Ae(t,e.userLocale)}):xe({...e,placeSelfFirst:""===t||Ae(t,e.userLocale)}),fe(e)]);return{users:r,bots:s}}async function ke(e){const[t,n]=await Promise.all([Te(e),ye(e)]);return{userIds:t,botIds:n}}async function Be(e,t){const n=(0,i().qh)(t);if((0,i().DT)(n)&&n){const t=await C().callApi({eventName:"findUser",environment:e,data:{email:n}});if("failed"===t.type)throw t.error;const r=t.data;return r.value?{user:r.value.value}:{email:n}}return{}}async function qe(e){const{query:t,userIds:n,botIds:r,store:s,environment:i}=e;if(G().default.checkGate({gateName:"dont_load_users"}))return{users:[],bots:[]};let o=s;if(!o){const{currentSpaceStore:e}=L().default.state;if(!e)return{users:[],bots:[]};o=e}return{users:await we({environment:i,parentStore:o,query:t,userIds:n}),bots:Se({parentStore:o,query:t,botIds:r})}}async function je(e){const{nearBlock:t,environment:n,query:r,source:s,searchSessionId:i,searchSessionFlowNumber:o}=e,{currentSpaceStore:a}=L().default.state,l=(0,j().s0)(),u=t&&(0,R().i0)(t).find((e=>{let{permissionItem:t}=e;return(0,c().FP)(t)})),d=X().A.getMentionedIds(n.currentUser.id);if(a){return Ue(await se({environment:n,query:r,limit:20,spaceId:a.id,currentPageId:l,searchSessionId:i,searchSessionFlowNumber:o,recentlyMentionedPageIds:d,requireEditPermissions:!1,excludeTemplates:!0,source:s,boostRecentlyViewedPages:!0,ignoresHighlight:!0}))}if(u&&u.from.table===p().ev){return Ue(await ce({environment:n,query:r,limit:20,ancestorId:u.from.blockId,excludeTemplates:!0,source:s,currentPageId:l,searchSessionId:i,searchSessionFlowNumber:o,recentlyMentionedPageIds:d,ignoresHighlight:!0}))}return[]}function Ue(e){const{trackEventProperties:t,results:n}=e,r=(0,P().MU)((0,A().WP)(t).map((e=>{let[t,n]=e;return[`server-${t}`,n]})));return n.map((e=>({...e,serverEventProperties:r})))}async function Ee(e){const{environment:t,query:n,source:r,limit:s}=e,{currentSpaceStore:i}=L().default.state;if(!i)return[];return(await se({environment:t,query:n,limit:s||20,spaceId:i.id,requireEditPermissions:!0,excludeTemplates:!0,source:r,boostRecentlyViewedPages:!1})).results.filter((e=>{const t=Z().Bv.createChildStore(i,{table:p().ev,id:e.id}),n=(0,E().E)(t);return(0,l().ot)(n)}))}async function Re(e){let{spaceViewStore:t,query:n,teamStores:r}=e;const s=w().oE(await Promise.all(r.map((async e=>(await e.load(),e.getValue()))))),i=t.getTeamsStores(),o=new Set(i.map((e=>e.id)));return n?(0,b().Ay)(n,s,(e=>e.name),{getSortScore:e=>{const{original:t,score:n}=e;return n*(o.has(t.id)?-2:-1)}}):s}function Ne(e,t){const{query:n,limit:s,spaceId:i,requireEditPermissions:o,databaseType:a}=t,l=[];if(s>0){const u=new AbortController;e.defaultRecordCache.inMemoryRecordCache.forEachRecord(e.currentUser.id,(e=>{let{model:d,role:p}=e;if(d.table===v().Vl){const e=d.space_id===i,m=!o||(0,c().p2)(p);if(!e||!m||(0,V().Nh)(d.getParentId()))return;const v=d.getDatabaseType();if(!(!a||v&&a.includes(v)))return;const h=(0,S().q4_)(d.getName());if(!r().test(n,h))return;const g=Z().md.createChildStore(t.parentStore,d.pointer),f=E().g7(g);if(!E().yR(f))return;l.push(d.pointer.id),l.length>=s&&u.abort()}}),u.signal)}return l}},626466:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleDownFillIcon:()=>s,iconDefinition:()=>r});n(296540);const r={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M9.381 13.619a.875.875 0 0 0 1.238 0l5.4-5.4A.875.875 0 1 0 14.78 6.98L10 11.763 5.219 6.98A.875.875 0 1 0 3.98 8.22z"})},s=(0,n(340498).wt)("arrowChevronSingleDownFill",r)},626822:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(296540),s=()=>n(959013),i=n(474848);function o(e,t){const{teamStore:r,renderAsEveryoneMention:o}=e,{name:a}=(0,n(847249).K8)((()=>({name:r.getName()})),[r]);return(0,i.jsx)(n(760217).A,{...e,icon:o?(0,n(522500).q)({width:14,height:14}):(0,i.jsx)(n(898808).x,{size:14,store:r,disabled:!0}),title:o?(0,i.jsx)(s().sA,{id:"posts.teamMenuItem.everyoneMention",defaultMessage:"@everyone"}):a,ref:t,inline:!0,caption:o?(0,i.jsx)(s().sA,{id:"posts.teamMenuItem.caption",defaultMessage:"Notifies everyone in the teamspace"}):void 0})}const a=r.forwardRef(o)},641514:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var r=()=>n(484714),s=()=>n(377586),i=()=>n(676007),o=()=>n(897119),a=n(474848);function l(e){const{isMobile:t}=(0,r().Y0)();return t?(0,a.jsx)(o().Ay,{ariaLabel:e.ariaLabel,open:e.isOpen,popupType:s().n.SlideUp,origin:e.origin,onDismiss:e.onDismiss,render:e.render,style:e.style}):(0,a.jsx)(i().A,{ariaLabel:e.ariaLabel,open:e.isOpen,preventHideChildrenWhileOpening:!0,render:e.render,onDismiss:e.onDismiss,style:e.style,innerStyle:e.innerStyle,showCloseIcon:e.showCloseIcon})}},645109:(e,t,n)=>{n.d(t,{c:()=>d});var r=n(296540),s=()=>n(484714),i=()=>n(401497),o=()=>n(964996),a=()=>n(959013),l=()=>n(864943),c=()=>n(991249),u=n(474848);function d(e){let{openedFrom:t,styleOverrides:n}=e;const d=(0,s().v3)(),m=(0,r.useMemo)((()=>{switch(t){case"business_trial_verify_pages_upsell":return"pageVerification";case"business_trial_private_teamspaces_upsell":return"privateTeamspaces";case"business_trial_ai_connectors_upsell":return"aiConnectors";default:return"blank"}}),[t]),v=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",flex:1,gap:4},icon:{color:e.icon.orangePrimary,width:20}})),[]);return(0,u.jsx)(l().A,{size:"lg",icon:()=>(0,o().e)(v.icon),style:{...v.button,...n},onClick:async()=>{await(0,c().K)(d,{upsell:{product:"business",limit:{type:"none"},type:"product",trialability:"none"},from:t,isTrial:!0})},children:(0,u.jsx)(a().sA,{...p[m]})})}const p=(0,a().YK)({blank:{id:"selfServeBusinessTrial.tryButton.blank",defaultMessage:"Try"},privateTeamspaces:{id:"selfServeBusinessTrial.tryButton.privateTeamspaces",defaultMessage:"Try private teamspaces"},aiConnectors:{id:"selfServeBusinessTrial.tryButton.connectors",defaultMessage:"Try connectors"},pageVerification:{id:"selfServeBusinessTrial.tryButton.pageVerification",defaultMessage:"Try for free"},free:{id:"selfServeBusinessTrial.tryButton.free",defaultMessage:"Try for free"},thirtyDays:{id:"selfServeBusinessTrial.tryButton.30Days",defaultMessage:"Try for 30 days"}})},737693:(e,t,n)=>{n.d(t,{V:()=>i});n(296540);var r=n(474848);const s={viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M6.625 6.625a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M5.95 9.55a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m.675 1.575a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M9.1 7.3a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m.675 1.575a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M9.1 11.8a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m6.413.225a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0m-.675 2.925a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35"}),(0,r.jsx)("path",{d:"M1.9 5.725A2.475 2.475 0 0 1 4.375 3.25h6.3a2.475 2.475 0 0 1 2.475 2.475v3.15h2.475A2.475 2.475 0 0 1 18.1 11.35v5.4a.675.675 0 0 1-.675.675H2.575a.675.675 0 0 1-.675-.675zM4.375 4.6c-.621 0-1.125.504-1.125 1.125v10.35h1.913V13.6c0-.31.251-.562.562-.562h3.6c.31 0 .563.251.563.562v2.475H11.8V5.725c0-.621-.504-1.125-1.125-1.125zm4.388 11.475v-1.912H6.288v1.912zm4.387-5.85v5.85h3.6V11.35c0-.621-.504-1.125-1.125-1.125z"})]})},i=(0,n(340498).wt)("teamspace",s)},755535:(e,t,n)=>{n.d(t,{A:()=>y});n(581454);var r=n(296540),s=()=>n(484714),i=()=>n(847249),o=()=>n(401497),a=()=>n(668725),l=()=>n(722872);class c extends(()=>n(757695))().default{getInitialState(){return{}}}const u=c;var d=()=>n(493823),p=()=>n(406699),m=()=>n(113474),v=()=>n(928600),h=()=>n(939740),g=n(474848);function f(e,t){let{isMenuItem:s,style:a,labelStyle:l,alignmentToOrigin:c,renderMenuSections:d,label:p,selectedTitle:m,focused:v,disabled:h,innerButtonStyle:f,buttonPopupStore:y,downIconStyle:I}=e;const x=(0,o().DP)(),M=(0,i().uB)(void 0,u),T=(0,i().uB)(y,n(463830).A);return(0,r.useImperativeHandle)(t,(()=>({closeMenu:()=>{T.setState({...T.state,open:!1})}})),[T]),s?(0,g.jsx)(w,{alignmentToOrigin:c,isMenuItem:s,renderMenuSections:d,buttonPopupStore:T,SelectButtonStore:M,renderOrigin:e=>(0,g.jsx)(S,{events:e,style:a,isMenuItem:s,label:p,selectedTitle:m,focused:v,disabled:h})}):(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",height:32,...a},children:[p&&(0,g.jsx)("div",{style:{marginRight:"auto",color:x.text.tertiary,fontSize:14,...l},children:p}),(0,g.jsx)(w,{alignmentToOrigin:c,isMenuItem:s,renderMenuSections:d,buttonPopupStore:T,SelectButtonStore:M,renderOrigin:e=>(0,g.jsx)(b,{events:e,innerButtonStyle:f,disabled:h,selectedTitle:m,downIconStyle:I})})]})}const y=r.forwardRef(f);function S(e){let{events:t,style:n,isMenuItem:r,label:s,selectedTitle:i,focused:o,disabled:a}=e;if(r){const e=s?{title:s,right:i}:{title:i};return(0,g.jsx)(m()._,{...t,focused:Boolean(o),disabled:a,style:n,...e})}return null}function I(e){let{downIconStyle:t}=e;const{device:n}=(0,s().v3)(),r=(0,o().DP)();return(0,g.jsx)(g.Fragment,{children:(0,a().b)({width:n.isMobile?14:10,marginLeft:4,fill:r.lightIconColor,...t})})}function b(e){let{events:t,innerButtonStyle:n,downIconStyle:r,disabled:s,selectedTitle:i}=e;return(0,g.jsxs)(d().p,{disabled:s,disabledFeedback:!0,style:{marginRight:-6,...n},...t,children:[i,(0,g.jsx)(I,{downIconStyle:r})]})}function w(e){let{renderOrigin:t,alignmentToOrigin:n,isMenuItem:r,renderMenuSections:i,buttonPopupStore:o,SelectButtonStore:a}=e;const c=(0,s().v3)(),{device:u}=c;return(0,g.jsx)(p().Ay,{popupType:u.isMobile?p().z7.SlideUp:p().z7.Popup,buttonPopupStore:o,alignmentToOrigin:void 0!==n?n:p().yP.End,renderOrigin:t,placementToOrigin:r?p().sx.Right:p().sx.Bottom,render:e=>{let t;t=u.isMobile?{menuType:l().gu.ActionSheet}:{menuType:l().gu.Popup};const{focusedIndex:n,menuSections:r}=function(e,t,n){let r,s=0;const i=t(e).map((e=>({...e,items:e.items.map((e=>(e.key===n.state.selectedKey&&(r=s),s++,{...e,action:t=>{e.action(t),function(e,t){t.setState({selectedKey:e})}(e.key,n)}})))})));return{menuSections:i,focusedIndex:r}}(e,i,a);return(0,g.jsx)(v().A,{...t,children:(0,g.jsx)(h().Ay,{type:h().Oh.Vertical,initialFocus:n,sections:r})})}})}},766558:(e,t,n)=>{n.d(t,{j:()=>s,y:()=>i});var r=()=>n(284371);function s(e){const{theme:t,isInHomeWidget:n,isFeedbackButton:s}=e;return{display:"flex",alignItems:"center",fontSize:14,padding:6,...s?{height:n?24:28,color:t.text.tertiary,fill:t.lightIconColor}:n?{height:24,width:24,color:t.text.tertiary,fill:t.lightIconColor}:{height:28,width:28,color:t.mediumIconColor,fill:t.mediumIconColor},fontWeight:r().Wy.regular,lineHeight:1,borderRadius:6}}function i(e){const{theme:t}=e;return{display:"flex",alignItems:"center",fontSize:14,height:28,padding:6,color:t.mediumIconColor,fontWeight:r().Wy.regular,lineHeight:1,borderRadius:6}}},803960:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleDownIcon:()=>s,iconDefinition:()=>r});n(296540);const r={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M9.558 13.442c.244.244.64.244.884 0l5.4-5.4a.625.625 0 1 0-.884-.884L10 12.116 5.042 7.158a.625.625 0 0 0-.884.884z"})},s=(0,n(340498).wt)("arrowChevronSingleDown",r)},804059:(e,t,n)=>{n.d(t,{W:()=>s});n(296540);const r={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M4 11.75a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5m6 0a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5m6 0a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5"})},s=(0,n(340498).wt)("ellipsisFill",r)},820579:(e,t,n)=>{n.d(t,{f:()=>s});n(296540);const r={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M10 2.4c.345 0 .625.28.625.625v9.966l3.333-3.333a.625.625 0 1 1 .884.884l-4.4 4.4a.625.625 0 0 1-.884 0l-4.4-4.4a.625.625 0 0 1 .884-.884l3.333 3.333V3.025c0-.345.28-.625.625-.625M4.15 16.35a.625.625 0 1 0 0 1.25h11.7a.625.625 0 0 0 0-1.25z"})},s=(0,n(340498).wt)("arrowLineDown",r)},892936:(e,t,n)=>{n.d(t,{f:()=>s});n(296540);const r={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M10.619 2.381a.875.875 0 0 0-1.238 0l-5.4 5.4A.875.875 0 1 0 5.22 9.02l3.906-3.907V17.05c0 .456.392.826.875.826s.875-.37.875-.826V5.112l3.906 3.907A.875.875 0 1 0 16.02 7.78z"})},s=(0,n(340498).wt)("arrowStraightUpFill",r)},964996:(e,t,n)=>{n.d(t,{e:()=>s});n(296540);var r=n(474848);const s=(0,n(340498).wt)("gift",{viewBox:"0 0 20 20",svg:(0,r.jsx)("g",{id:"Layer_1",children:(0,r.jsx)("path",{d:"M16,5.75h-.6682129c.2590332-.4436646.4182129-.9526367.4182129-1.5024414,0-.8989258-.4003906-1.7426758-1.0986328-2.3149414-.7021484-.5761719-1.6191406-.8037109-2.5048828-.6264648-.8757935.1747437-1.6201782.6658325-2.1376343,1.3336792-.515564-.6645508-1.2658691-1.1560669-2.1675415-1.3361206-.8833008-.1767578-1.7939453.0498047-2.4926758.6220703-.6982422.5727539-1.0986328,1.4189453-1.0986328,2.3217773,0,.5498047.1592407,1.0587769.4182129,1.5024414h-.6682129c-.9648438,0-1.75.7851562-1.75,1.75v2c0,.6700439.3829346,1.246521.9375,1.5404663v4.9595337c0,.9648438.7851562,1.75,1.75,1.75h10.1875c.9648438,0,1.75-.7851562,1.75-1.75v-4.9934692c.5205078-.3035889.875-.8618164.875-1.5065308v-2c0-.9648438-.7851562-1.75-1.75-1.75ZM16.25,7.5v2c0,.1376953-.1123047.25-.25.25h-5.21875v-2.5h5.21875c.1376953,0,.25.1123047.25.25ZM12.4404297,2.7768555c.4433594-.090332.90625.0258789,1.2607422.315918.3486328.2861328.5488281.7070312.5488281,1.1547852,0,.8286133-.6738281,1.5024414-1.5029297,1.5024414h-1.9970703v-.921875c0-.9926758.7109375-1.8554688,1.6904297-2.0512695ZM5.75,4.2475586c0-.4516602.2001953-.8754883.5498047-1.1616211.2641602-.2167969.5883789-.3344727.9536133-.3344727.1186523,0,.2412109.0126953.3671875.0375977.9443359.1884766,1.6293945,1.0244141,1.6293945,1.9873047v.9736328h-1.9975586c-.8286133,0-1.5024414-.6738281-1.5024414-1.5024414ZM3.75,7.5c0-.1376953.1123047-.25.25-.25h5.28125v2.5h-5.28125c-.1376953,0-.25-.1123047-.25-.25v-2ZM4.6875,16v-4.75h4.59375v5h-4.34375c-.1376953,0-.25-.1123047-.25-.25ZM15.125,16.25h-4.34375v-5h4.59375v4.75c0,.1376953-.1123047.25-.25.25Z"})})})},992510:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var r=()=>n(959013),s=()=>n(250202),i=n(474848);const o=function(e){const t=(0,n(484714).v3)(),{device:o}=t;if(o.isMobile)return e.propertySchema?(0,i.jsx)(s().G,{propertySchema:e.propertySchema,onClick:e.onClick,focused:!1,format:s().e.Name,showExtensionArrow:!e.disabled}):(0,i.jsx)(n(760217).A,{focused:!1,title:(0,i.jsx)(r().sA,{defaultMessage:"Property",id:"database.mobileFilterAndSortMenu.property.buttonMenuItem.label"})});{const t=e.propertySchema&&(0,i.jsx)(n(398842).mA,{propertySchema:e.propertySchema,showIcon:!0,style:{lineHeight:1.4}}),s=(0,i.jsx)(r().sA,{defaultMessage:"Property",id:"database.filterAndSortMenu.propertyButton.label"});return(0,i.jsx)(n(272630).A,{title:t,placeholder:s,onClick:e.onClick,disabled:e.disabled,disableMargins:e.disableMargins,desktopStyle:e.textWrapperStyle})}}}}]);