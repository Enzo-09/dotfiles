"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[94476],{94476:(t,e,n)=>{n.r(e),n.d(e,{TOASTER_ZINDEX:()=>A,Toaster:()=>B});n(898992),n(354520),n(581454);var i=n(296540),o=()=>n(484714),r=()=>n(847249),s=()=>n(401497),a=()=>n(496603),d=()=>n(812182),l=()=>n(177158),c=()=>n(644914),u=()=>n(399561),v=()=>n(591779),p=()=>n(66913),x=()=>n(959013),f=()=>n(100622),y=()=>n(84817),g=()=>n(704152),m=()=>n(285790),h=()=>n(460292),b=()=>n(554509),C=()=>n(614415),S=()=>n(645873),k=n(474848);function j(t){const{type:e,actionProps:n,invalidated:i}=t,o=(0,f().O4)({theme:"dark"}),r=(0,s().IS)((t=>({actionButton:{minHeight:28,padding:"4px 8px",gap:8,borderRadius:6,display:"flex"},primaryActionButton:{border:`1px solid ${f().XA.dark.translucentGray[400]}`},primaryActionButtonText:{color:o.text.primary},secondaryActionButtonText:{color:o.text.secondary},actionButtonHovered:{background:o.state.hover},actionButtonPressed:{background:o.state.pressed}})),[o]);return(0,k.jsx)(g().A,{style:{...r.actionButton,..."primary"===e?r.primaryActionButton:{}},hoveredStyle:r.actionButtonHovered,pressedStyle:r.actionButtonPressed,disabled:n.disabled||i,onClick:n.onAction,isLoading:n.isLoading,children:(0,k.jsxs)(y().Y1,{direction:"horizontal",align:"center",children:[n.leadingIconProps?(0,k.jsx)(h().Q,{...n.leadingIconProps}):void 0,(0,k.jsx)(b().D,{styleName:"UISmall-12px/Medium",style:"primary"===e?r.primaryActionButtonText:r.secondaryActionButtonText,children:n.title}),n.trailingIconProps?(0,k.jsx)(h().Q,{...n.trailingIconProps}):void 0]})})}function I(t){const{actions:e,invalidated:n}=t,i=(0,s().IS)((t=>({footerContainer:{paddingLeft:8,paddingBottom:4}})),[]),{primary:o,secondary:r}=e;return(0,k.jsxs)(y().Y1,{direction:"horizontal",align:"center-right",style:i.footerContainer,gap:8,children:[r&&(0,k.jsx)(j,{type:"secondary",actionProps:r,invalidated:n}),o&&(0,k.jsx)(j,{type:"primary",actionProps:o,invalidated:n})]})}function P(t){const e=(0,x().tz)(),{updatedAt:n,onReplace:o,onMouseEnter:r,onMouseLeave:a,framerMotion:d}=t,{motion:l}=d,c=(0,C().sM)(d),u=(0,v().ZC)(n),y=(0,s().IS)((t=>{const e=(0,f().O4)({theme:"dark"});return{toastContainer:{display:"flex",alignItems:"flex-start",borderRadius:8,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,outline:"none",background:e.surface.elevated,backdropFilter:"blur(15px)",width:280,padding:"8px 8px 4px 8px",pointerEvents:"auto",minHeight:40},toastContentContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},toastContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4,padding:"4px 28px 8px 4px"},iconContainer:{width:26,height:24,display:"flex",padding:"2px 4px 2px 2px",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{display:"flex",width:14,height:14,flexDirection:"column",justifyContent:"center",alignItems:"center",fill:f().XA.dark.translucentGray[800]},title:{color:t.text.contrastPrimary,fontFeatureSettings:"'case' on",overflowWrap:"break-word"},toastMessage:{color:e.text.primary,fontFeatureSettings:"'case' on",overflowWrap:"break-word"},closeButton:{width:24,height:24,position:"absolute",right:8,top:8,gap:8,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},closeIcon:{width:14,height:14,paddingBottom:.5,fill:f().XA.dark.translucentGray[800]},closeIconHovered:{background:e.state.hover},closeIconPressed:{background:e.state.pressed}}}),[]);(0,i.useEffect)((()=>{(async()=>{n&&(!u||n>u)&&(o(),await c.start({scale:[1,1.05,1],transition:{duration:.15,ease:"easeIn"}}))})()}),[n,u,o,c]);const g=t.jsxMessage??t.message;let S=null;return t.icon?S=(0,k.jsx)("div",{style:y.iconContainer,children:t.icon({...y.icon,...t.iconStyles})}):t.iconGroup&&(S=(0,k.jsx)("span",{style:y.iconContainer,children:(0,k.jsx)(h().Q,{iconGroup:t.iconGroup,colorName:t.iconGroupColorName,variantName:t.iconGroupVariant??"small"})})),(0,k.jsxs)(l.div,{role:"status","aria-live":"polite",onHoverStart:r,onHoverEnd:a,animate:c,style:y.toastContainer,custom:t.id,children:["blocking"!==t.presentationType&&(0,k.jsx)(m().A,{ariaLabel:e.formatMessage({id:"toast.close",defaultMessage:"Close"}),icon:()=>(0,p().V)(y.closeIcon),style:y.closeButton,hoveredStyle:y.closeIconHovered,pressedStyle:y.closeIconPressed,onClick:t.onClose}),S,(0,k.jsxs)("div",{style:y.toastContentContainer,children:[(0,k.jsxs)("div",{style:y.toastContent,children:[t.title&&(0,k.jsx)(b().D,{styleName:"UISmall-12px/Semibold",style:y.title,children:t.title}),g&&(0,k.jsx)(b().D,{styleName:"UISmall-12px/Regular",customStyles:y.toastMessage,children:g})]}),t.actions?(0,k.jsx)(I,{actions:t.actions,invalidated:t.invalidated}):void 0]})]})}function w(t){const{value:e}=(0,S().fJ)(C().fM);return e?(0,k.jsx)(P,{...t,framerMotion:e}):null}const A=201;function B(){const t=(0,o().v3)(),[e,n]=(0,i.useState)({}),[s,c]=(0,i.useReducer)((t=>t+1),0),v=(0,i.useRef)({}),p=(0,i.useRef)(),x=(0,i.useRef)({}),f=(0,r().K8)((()=>u().A.state.toasts),[]),[y]=(0,r().K8)((()=>[t.WindowSizeStore.getSafePaddingBottomPx(20)]),[t.WindowSizeStore]),g=(0,i.useCallback)((()=>{let t;const n=Object.keys(e).filter((n=>{var i,o;return n===(null===(i=p.current)||void 0===i?void 0:i.toast.id)&&(t=e[n]),n!==(null===(o=p.current)||void 0===o?void 0:o.toast.id)})).map((t=>e[t])).sort(((t,e)=>{var n,i;return(null===(n=e.createdAt)||void 0===n?void 0:n.valueOf())-(null===(i=t.createdAt)||void 0===i?void 0:i.valueOf())}));if(t&&p.current&&void 0!==p.current.index){const{index:e}=p.current;n.splice(e,0,t),p.current.index=n.indexOf(t)}return n}),[e]),m=(0,i.useCallback)((t=>{clearTimeout(v.current[t]),delete v.current[t]}),[]),h=(0,i.useCallback)(((t,e)=>{var n,i;t.id===(null===(n=p.current)||void 0===n?void 0:n.toast.id)&&(p.current=void 0),m(t.id),null!==(i=x.current)&&void 0!==i&&i[t.id]&&(x.current[t.id].active=!1,e&&(x.current[t.id].suppressOnDismiss=e)),c()}),[m]),b=(0,i.useCallback)((t=>{var e,n;"transient"===t.presentationType&&!v.current[t.id]&&t.id!==(null===(e=p.current)||void 0===e?void 0:e.toast.id)&&null!==(n=x.current)&&void 0!==n&&null!==(n=n[t.id])&&void 0!==n&&n.active&&(m(t.id),v.current[t.id]=window.setTimeout((()=>h(t)),5e3))}),[m,h]),C=(0,i.useCallback)((()=>{requestAnimationFrame((()=>{const t=g();let e=0;for(const[i,o]of t.entries()){var n;const t=document.querySelector(`[data-toast-id='${o.id}']`);if(!t||o.id===(null===(n=p.current)||void 0===n?void 0:n.toast.id))continue;const r=t.getBoundingClientRect();if(!r.height)return void C();if(x.current[o.id]||(x.current[o.id]={toast:o,active:!0}),x.current[o.id].index=i,x.current[o.id].height=r.height,p.current){const t=p.current;e<t.yPos-t.height||e-r.height>t.yPos||(e=t.yPos+t.height+y)}x.current[o.id].yPos=e,e=e+r.height+y,e>window.innerHeight&&(x.current[o.id].active=!1),b(o)}c()}))}),[g,b,y]);(0,i.useEffect)((()=>{n((t=>{const e={...t,...f};for(const n of Object.values(e))x.current[n.id]&&!f[n.id]&&(x.current[n.id].active=!1);return e}))}),[f]),(0,i.useLayoutEffect)(C,[e,C]),(0,i.useEffect)((()=>(window.addEventListener("resize",C),()=>window.removeEventListener("resize",C))),[C]);const S=(0,i.useCallback)((t=>{var e;null!==(e=x.current)&&void 0!==e&&e[t.id]&&(x.current[t.id].userDismissed=!0),h(t)}),[h]),j=(0,i.useCallback)(((t,e)=>{var n,i,o;m(t.id),null===(n=x.current)||void 0===n||!n[t.id]||null!==(i=x.current)&&void 0!==i&&null!==(i=i[t.id])&&void 0!==i&&i.actionTriggered||null!==(o=x.current)&&void 0!==o&&null!==(o=o[t.id])&&void 0!==o&&o.userDismissed||(x.current[t.id].active=!0,p.current={...x.current[t.id]},C())}),[C,m]),I=(0,i.useCallback)((t=>{var e;t.id===(null===(e=p.current)||void 0===e?void 0:e.toast.id)?(p.current=void 0,C()):b(t)}),[C,b]),P=(0,i.useCallback)((t=>{m(t.id),b(t)}),[m,b]),B=(0,i.useCallback)((t=>{var i;const o=t.target,r=null==o?void 0:o.getAttribute("data-toast-id");if(o&&"opacity"===t.propertyName&&r&&null!==(i=x.current)&&void 0!==i&&i[r]){var s;const t=x.current[r];if(t.active)return;r===(null===(s=p.current)||void 0===s?void 0:s.toast.id)&&(p.current=void 0);const i=e[r];u().A.state.toasts[i.id]&&d().UW(i.id,t.suppressOnDismiss,t.userDismissed),delete x.current[r],n((t=>a().cJ({...t},[r])))}}),[e]);return(0,k.jsx)(l().A,{open:g().length>0,zIndex:A,children:g().map(((t,e)=>{var n;const i=null===(n=x.current)||void 0===n?void 0:n[t.id],o=void 0!==(null==i?void 0:i.yPos)&&(null==i?void 0:i.active),r=null!=i&&i.active?0:100;return(0,k.jsx)(T,{"data-toast-id":t.id,onTransitionEnd:B,yPos:void 0!==(null==i?void 0:i.yPos)?-i.yPos:r,visible:o,children:(0,k.jsx)(w,{...t,onMouseEnter:()=>j(t,e),onMouseLeave:()=>I(t),onReplace:()=>P(t),onClose:()=>S(t),actions:t.actions})},t.id)}))})}function T(t){const{yPos:e,visible:n,children:i,...a}=t,d=(0,o().v3)(),[l,u,v]=(0,r().K8)((()=>[d.WindowSizeStore.getSafePaddingLeftCSS(20),d.WindowSizeStore.getSafePaddingBottomCSS(20),(0,c().kf)(d)]),[d]),p=(0,s().IS)((()=>({toastContainer:{left:v,transform:`translateY(${e??0}px) scale(${n?1:.96})`,transitionDuration:"0.3s",opacity:n?1:0,position:"fixed",bottom:0,transitionProperty:"opacity, transform",marginLeft:l,marginBottom:u}})),[v,l,u,e,n]);return(0,k.jsx)("div",{style:p.toastContainer,...a,children:i})}}}]);