"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[52393],{8178:(e,t,o)=>{o.d(t,{A:()=>n});o(296540);var i=o(474848);const n=function(e){const{divider:t,large:n,block:r,children:l,hasMarginTop:a,small:d,style:s,smallMarginBottom:c,isCritical:p,fontSize:u,fontWeight:g}=e,m=(0,o(401497).DP)(),y="full"===t;return(0,o(722872).Tf)()?(0,i.jsx)(o(554509).D,{styleName:"iOS/Title-3/Semibold",colorName:e.isCritical?"uiRedPrimary":"primary",style:{marginTop:a?16:0,paddingBottom:y?12:0},children:l}):(0,i.jsx)("div",{style:{borderBottom:y?`1px solid ${m.regularDividerColor}`:0,marginBottom:y?16:c?2:8,marginTop:a?16:0,paddingBottom:y?12:0,fontSize:u??y?16:n?14:d?12:14,fontWeight:g??y?o(284371).Wy.medium:400,width:r?"100%":"auto",color:p?o(100622).Ay.red:m.text.primary,...s},children:l})}},118849:(e,t,o)=>{o.d(t,{A:()=>p});o(296540);var i=()=>o(847249),n=()=>o(979340),r=()=>o(959013),l=()=>o(100622),a=()=>o(284371),d=()=>o(824160),s=()=>o(991249),c=o(474848);const p=function(e){let{subscriptionTier:t,mobileStyle:p,desktopStyle:u,analyticsName:g,onClick:m,disableTooltip:y,tooltipContent:b}=e;const h=(0,o(401497).DP)(),f=(0,o(484714).v3)(),{device:S}=f,x=(0,i().K8)((()=>{const{currentSpaceStore:e}=o(351360).default.state;return null==e?void 0:e.canAdmin()}),[]),v=(0,i().K8)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?l().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:a().Wy.medium};default:return{}}}(t,h)),[t,h]);if(S.isMobileNative)return null;let C;return"personal"===t?C=(0,c.jsx)(r().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,n().$P)(t)?C=(0,c.jsx)(r().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,n().tL)(t)?C=(0,c.jsx)(r().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,n().OX)(t)?C=(0,c.jsx)(r().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,o(534177).HB)(t),S.isMobile||!x?(0,c.jsx)(d().A,{mobileStyle:p,children:C}):(0,c.jsx)(o(859428).A,{delayThreshold:120,disableTooltip:y,placement:o(962730).W.Bottom,renderTooltip:()=>(0,c.jsx)("div",{style:{maxWidth:500},children:b?(0,c.jsx)(r().sA,{defaultMessage:"{tooltipText}",id:"upgradeButton.upgrade.custom.tooltip",values:{tooltipText:b}}):(0,c.jsx)(r().sA,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,c.jsx)(d().A,{desktopStyle:u,innerStyle:v,onClick:e=>function(e,t,o,i,n){s().K(i,{from:t,upsell:{type:"product",product:o,limit:{type:"none"},trialability:"none"}}),n&&n(e)}(e,g,t,f,m),...e,children:C})})}},141966:(e,t,o)=>{o.d(t,{H:()=>l,l:()=>a});var i=()=>o(842599),n=()=>o(351360),r=()=>o(508496);function l(e,t){return t?48:e?32:18}function a(){var e;if(r().default.checkGate({gateName:"ks_dev_settings"}))return!1;const t=null===(e=n().default.state.currentUserStore)||void 0===e?void 0:e.getEmail();return"makenotion.com"===(0,i().zN)(t??"")}},158359:(e,t,o)=>{o.d(t,{P:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("arrowDown",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},249117:(e,t,o)=>{o.d(t,{LX:()=>l,xA:()=>r});o(296540);var i=()=>o(401497),n=o(474848);function r(e){let{children:t,gap:o}=e;const r=(0,i().IS)((e=>({root:{display:"grid",gridAutoColumns:"minmax(0, 1fr)",gridAutoFlow:"column",gap:o}})),[o]);return(0,n.jsx)("div",{style:r.root,children:t})}function l(e){let{children:t,row:o,rowEnd:r,col:l,colEnd:a}=e;const d=(0,i().IS)((e=>({cell:{gridRowStart:o,gridRowEnd:r,gridColumnStart:l,gridColumnEnd:a}})),[o,r,l,a]);return(0,n.jsx)("div",{style:d.cell,children:t})}},327165:(e,t,o)=>{o.d(t,{A:()=>d});o(296540);var i=()=>o(484714),n=()=>o(100622),r=()=>o(704152),l=()=>o(204063),a=o(474848);const d=function(e){let{onClick:t,disabled:i,title:n}=e;return(0,a.jsx)(o(678553).Ay,{title:(0,a.jsx)(s,{onClick:t,disabled:i,title:n})})};function s(e){let{onClick:t,disabled:o,title:d}=e;const s=(0,i().v3)(),{isMobile:c}=s.device,p={width:"100%",color:n().Ay.blue};return c?(0,a.jsx)(r().A,{onClick:t,mobileFeedback:!0,disabled:o,style:p,children:d}):(0,a.jsx)(l().A,{onClick:t,disabled:o,style:{width:"100%",maxWidth:300,display:"flex",margin:"auto"},children:d})}},376203:(e,t,o)=>{o.d(t,{B:()=>n});var i=o(296540);function n(e){const t=(0,i.useId)();return e??t}},484595:(e,t,o)=>{o.d(t,{A:()=>a,p:()=>r});var i=o(296540),n=o(474848);const r=8;function l(e,t){let{isSelected:i}=e;const{radioButtonStyle:l,dotStyle:a}=(0,o(401497).IS)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:r,background:i?e.blueColor:e.whiteButtonBackground,border:i?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e.text.contrastPrimary,transition:"opacity 100ms ease-out",opacity:i?1:0}})),[i]);return(0,n.jsx)("div",{ref:t,style:l,children:(0,n.jsx)("div",{style:a})})}const a=i.forwardRef(l)},509657:(e,t,o)=>{o.d(t,{a:()=>i().a});var i=()=>o(505108)},538739:(e,t,o)=>{o.d(t,{A:()=>n});o(296540);var i=o(474848);const n=function(e){const{style:t}=(0,o(401497).IS)((t=>({style:{display:"inline-block",textAlign:"center",color:e.disabled?t.text.tertiary:t.text.secondary,userSelect:"none",WebkitUserSelect:"none",width:8,...e.style}})),[e.disabled,e.style]);return(0,i.jsx)("div",{style:t,children:"·"})}},702723:(e,t,o)=>{o.d(t,{A:()=>M,m:()=>z});o(944114),o(898992),o(672577),o(581454);var i=o(296540),n=()=>o(484714),r=()=>o(847249),l=()=>o(401497),a=()=>o(668725),d=()=>o(449552),s=()=>o(959013),c=()=>o(534177),p=()=>o(620689),u=()=>o(789550),g=()=>o(722872),m=()=>o(141966),y=()=>o(376203),b=()=>o(962730),h=()=>o(991249),f=()=>o(118849),S=()=>o(493823),x=()=>o(760217),v=()=>o(406699),C=()=>o(928600),k=()=>o(678553),A=()=>o(939740),B=()=>o(554509),w=()=>o(864943),I=()=>o(89924),T=()=>o(946548),j=()=>o(574036),R=()=>o(859428),_=()=>o(843878),P=()=>o(304422),L=o(474848);function M(e){const{isMobile:t,title:o,isCritical:a,disableTitle:d,caption:s,captionStyle:c,upsellOptions:S,type:x,shouldHighlight:v}=e,C=(0,n().v3)(),k=(0,g().Tf)(),{paddingLeftCSS:A,paddingRightCSS:w}=(0,r().K8)((()=>{const{paddingLeftCSS:e,paddingRightCSS:t}=C.WindowSizeStore.state;return{paddingLeftCSS:e,paddingRightCSS:t}}),[C]),[I,T]=(0,i.useState)(!1),j=(0,i.useCallback)((()=>T(!0)),[T]),P=(0,i.useCallback)((()=>T(!1)),[T]),M=(0,i.useContext)(u().R),$=(0,i.useRef)(null);(0,i.useEffect)((()=>{v&&$.current&&p().hT({element:$.current,environment:C,scrollerContext:M,vertical:{reveal:"closest"},horizontal:void 0,animate:!0})}),[C,v,$,M]);const N="toggleToButton"===e.type?e.isOn:void 0,z="custom"===e.type?e.useFlexboxStyle:void 0,D=(0,i.useMemo)((()=>{if(t){if("dropdown"===x)return{display:"flex",flexDirection:"column"};if(N||z)return{}}return{display:"flex",alignItems:"center",justifyContent:"space-between"}}),[t,x,N,z]),U=(0,l().IS)((o=>({container:{...D,paddingLeft:t?A:void 0,paddingRight:t?w:void 0,cursor:I&&!e.disabled?"pointer":e.disabled?"not-allowed":"default",...v?{backgroundColor:o.buttonHoveredBackground,marginLeft:-1*(0,_().AL)(t),marginRight:-1*(0,_().AL)(t),paddingLeft:(0,_().AL)(t),paddingRight:(0,_().AL)(t),marginTop:-1*(0,m().H)(t,k)/2,marginBottom:-1*(0,m().H)(t,k)/2,paddingTop:(0,m().H)(t,k)/2,paddingBottom:(0,m().H)(t,k)/2}:{}},description:{display:"flex",flexDirection:"column",marginRight:"5%",width:"75%",gap:6},captionStyle:{...c},title:{display:"flex",flexDirection:"row"}})),[t,k,A,w,v,I,c,e.disabled,D]),O="toggle"===e.type||"toggleToButton"===e.type||"custom"===e.type&&!e.disableSettingsItemClick,K=(0,y().B)(),H=(0,y().B)(),G=a?"uiRedPrimary":d?"secondary":"primary",E=(0,L.jsxs)("div",{ref:$,style:U.container,onClick:()=>{if(!(e.disabled||"custom"===e.type&&e.disableSettingsItemClick))return S&&S.shouldUpsell?h().K(C,{from:S.analyticsName,upsell:{type:"product",product:S.subscriptionTier,limit:{type:"none"},trialability:"none"}}):void("toggle"===e.type?e.onToggle():"toggleToButton"===e.type?e.onClick():"custom"===e.type&&e.customButton&&i.isValidElement(e.customButton)&&e.customButton.props.onClick&&"function"==typeof e.customButton.props.onClick&&e.customButton.props.onClick())},onMouseEnter:O?j:void 0,onMouseLeave:O?P:void 0,children:[(0,L.jsxs)("div",{style:U.description,children:[(0,L.jsx)(B().D,{styleName:k?"iOS/Subhead-15px/Regular":"UIRegular-14px/Regular",colorName:G,children:(0,L.jsxs)("div",{id:K,style:U.title,children:[o,e.badge,S&&S.shouldUpsell&&(0,L.jsx)(f().A,{subscriptionTier:S.subscriptionTier,analyticsName:S.analyticsName,onClick:()=>h().K(C,{from:S.analyticsName,upsell:{type:"product",product:S.subscriptionTier,limit:{type:"none"},trialability:"none"}}),desktopStyle:{display:"flex",marginLeft:8}})]})}),(0,L.jsx)(B().D,{id:H,styleName:k?"iOS/Footnote-13px/Regular":"UIMedium-13px/Regular",colorName:"secondary",customStyles:U.captionStyle,children:s})]}),(0,L.jsx)(W,{titleId:K,captionId:H,...e})]});return e.tooltipLabel?(0,L.jsx)(R().A,{placement:b().W.Bottom,alignment:b().C.Center,disableTooltip:e.disableTooltip,renderTooltip:()=>e.tooltipLabel,render:e=>(0,L.jsx)("div",{...e,children:E})}):E}function W(e){const{titleId:t,captionId:o}=e;if("toggle"===e.type)return(0,L.jsx)(T().A,{"aria-labelledby":t,"aria-describedby":o,on:e.isOn,disabled:e.disabled,isLocked:e.isLocked,lockedTooltip:e.lockedTooltip});if("dropdown"===e.type)return(0,L.jsx)(z,{...e});if("custom"===e.type)return(0,L.jsx)(L.Fragment,{children:e.customButton});if("toggleToButton"===e.type)return e.isOn?(0,L.jsx)("div",{style:{marginTop:12},children:(0,L.jsx)(w().A,{size:"lg",onClick:e.onClick,style:e.buttonStyle,disabled:e.disabled,children:e.buttonLabel})}):(0,L.jsx)(T().A,{"aria-labelledby":t,"aria-describedby":o,on:!1,onClick:e.onClick,disabled:e.disabled});if("timezonePicker"===e.type){const{currentTimeZone:t,...o}=e;return(0,L.jsx)(P().G,{...o,currentValue:t,enableRecents:!1})}(0,c().HB)(e)}const $=12,N=4;function z(e){var t;const{title:o,isMobile:i,upsellOptions:n,currentOption:r,options:c,info:p,switcherButtons:u,onSelectOption:m,menuStyle:y,buttonStyle:h,buttonHoverStyle:f,isLocked:B,lockedTooltip:w,placementToOrigin:T,alignmentToOrigin:_}=e,P=null===(t=c.find((e=>{let{key:t}=e;return t===r})))||void 0===t?void 0:t.label,M=(0,l().IS)((e=>({button:{marginTop:$,marginBottom:N,marginRight:i?"auto":void 0,paddingLeft:i?12:8,paddingRight:i?12:8,height:i?44:28,border:i?`1px solid ${e.outlineButtonBorder}`:void 0,...h},icon:{width:10,marginLeft:4,fill:e.lightIconColor},lockedContainer:{display:"flex",alignItems:"center",justifyContent:"center"},lockedIcon:{marginTop:$,marginBottom:N,height:16,width:16,color:e.grayButtonBackground}})),[i,h]),W=Boolean(n&&n.shouldUpsell)||e.disabled||B,z=(0,L.jsx)(v().Ay,{popupType:i?v().z7.SlideUp:v().z7.Popup,placementToOrigin:T??v().sx.Bottom,alignmentToOrigin:_,originGap:8,renderOrigin:e=>(0,L.jsxs)(S().p,{...e,size:"lg",style:{opacity:W?.4:1,...M.button},hoveredStyle:f,disabled:W,children:[P,(0,a().b)(M.icon)]}),render:e=>{let t;t=i?{menuType:g().gu.Modal,title:o,right:(0,L.jsx)(s().sA,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:e.close}:{menuType:g().gu.Popup,width:250,maxHeight:400,...y};const n=[],r=c.map((t=>{let{key:o,label:i,caption:n}=t;return{key:o,action:()=>{m(o),e.close()},render:e=>(0,L.jsx)(x().A,{...e,title:i,caption:n,shouldWrapCaption:!0,isChecked:P===i})}}));if(n.push({key:"settings-item-section",render:e=>(0,L.jsx)(I().A,{...e}),items:r}),p){const e=p.map((e=>{let{key:t,label:o}=e;return{key:t,action:()=>{},render:e=>(0,L.jsx)(k().Ay,{...e,shouldWrapCaption:!0,caption:o})}}));n.push({key:"info-item-section",render:e=>(0,L.jsx)(I().A,{...e,topBorder:!0}),items:e})}if(u&&u.length){const e=u.map((e=>{let{key:t,props:o}=e;return{key:t,action:()=>{},render:()=>(0,L.jsx)(j().A,{...o})}}));n.push({key:"switcher-item-section",render:e=>(0,L.jsx)(I().A,{...e,topBorder:!0}),items:e})}return(0,L.jsx)(C().A,{...t,children:(0,L.jsx)(A().Ay,{type:A().Oh.Vertical,sections:n,initialFocus:void 0})})}});return B?(0,L.jsx)(R().A,{placement:b().W.Left,alignment:b().C.Start,disableTooltip:!w,renderTooltip:()=>w,render:e=>(0,L.jsxs)("div",{style:M.lockedContainer,...e,children:[(0,d().g)(M.lockedIcon),z]})}):z}},716583:(e,t,o)=>{o.d(t,{A:()=>d});var i=o(296540),n=()=>o(100622),r=()=>o(284371),l=()=>o(135552),a=o(474848);const d=function(e){const{children:t,isMobile:d,textSize:s,shouldUseDivider:c,style:p,styleKey:u}=e,{WindowSizeStore:g}=(0,o(484714).v3)(),[m,y,b]=(0,o(847249).K8)((()=>[g.getSafePaddingLeftCSS(10),g.getSafePaddingLeftCSS(14),g.getSafePaddingRightCSS(14)]),[g]),h=(0,i.useMemo)((()=>d?"small"!==s?r().J.UIRegular.mobile:r().J.UISmall.mobile:"small"!==s?r().J.UIRegular.desktop:r().J.UISmall.desktop),[d,s]),f=(0,i.useMemo)((()=>void 0===s?1.2:d?"small"!==s?r().K_.UIRegular.mobile:r().K_.UISmall.mobile:"small"!==s?r().K_.UIRegular.desktop:r().K_.UISmall.desktop),[d,s]),S=(0,o(401497).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!d&&{padding:"0px 12px"},...d&&{paddingLeft:y,paddingRight:b},fontSize:h,lineHeight:f,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${n().Ay.halfWhite}`}:{minHeight:44}},[`colorStyle__${l().q.Red}`]:{color:n().Ay.white,background:n().Ay.red,...d&&{justifyContent:"flex-start"}},[`colorStyle__${l().q.Blue}`]:{color:n().Ay.white,fill:n().Ay.white,background:n().Ay.blue,...d&&{paddingLeft:m,paddingRight:14}},[`colorStyle__${l().q.Beige}`]:{background:e.beigeBannerBackground,paddingLeft:d?12:18,paddingRight:d?14:16},[`colorStyle__${l().q.White}`]:{background:e.contentBackground,color:e.text.tertiary,fill:e.lightIconColor,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${l().q.Purple}`]:{background:"#CA59FF",color:n().Ay.white,fill:n().Ay.white},[`colorStyle__${l().q.LightRed}`]:{background:e.accentColors.red[100],color:e.accentColors.red[500]},[`colorStyle__${l().q.Yellow}`]:{background:e.accentColors.yellow[100],color:e.accentColors.yellow[600]},[`colorStyle__${l().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${l().q.ImportNotification}`]:{color:e.accentColors.uiBlue[600],fill:e.lightIconColor,background:e.accentColors.blue[30],height:48},[`colorStyle__${l().q.LightBlue}`]:{color:n().Ay.blue,fill:n().Ay.blue,background:e.lightBlueBannerBackground},[`colorStyle__${l().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.contrastPrimary,background:e.tooltipBackground}})),[d,m,y,b,c,h,f]),x=u?`colorStyle__${u}`:"colorStyle__default";return(0,a.jsx)("div",{style:{...S.bannerStyle,...S[x],...p},children:t})}},843878:(e,t,o)=>{o.d(t,{AL:()=>r,Ay:()=>a,J_:()=>l});o(296540);var i=()=>o(802790),n=o(474848);function r(e){return e?18:60}function l(){return(0,n.jsx)(i().A,{size:37})}const a=function(e){let{children:t,controlRow:i,bannerText:l,controlRowPaddingTopBottom:a,removeBoxShadow:d,contentPaddingLeftRight:s,controlRowPaddingLeftRight:c,getPaddingTopBottom:p,disableScroller:u,maxWidth:g,centerContent:m}=e;const y=(0,o(484714).v3)(),{device:b}=y,h=p?p():b.isMobile?18:36,f=(0,o(401497).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:g??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:s??r(b.isMobile),paddingRight:s??r(b.isMobile),paddingTop:l?15:h,paddingBottom:l?22:h,...m?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??r(b.isMobile),paddingRight:c??r(b.isMobile),paddingTop:a,paddingBottom:a,boxShadow:d?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:r(b.isMobile),paddingRight:r(b.isMobile)},childrenWithoutScroller:{paddingTop:h,paddingBottom:h},controlRowWithoutScroller:{paddingTop:a,paddingBottom:a,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[g,s,b.isMobile,l,h,c,a,d,m]);return u?(0,n.jsxs)("div",{style:f.containerWithoutScroller,children:[(0,n.jsx)("div",{style:f.childrenWithoutScroller,children:t}),i&&(0,n.jsx)("div",{style:f.controlRowWithoutScroller,children:i})]}):(0,n.jsxs)("div",{style:f.containerWithScroller,children:[l&&(0,n.jsx)(o(716583).A,{styleKey:o(135552).q.Blue,isMobile:!1,children:l}),(0,n.jsx)(o(2143).H,{type:o(756279).A.All,style:f.scroller,children:t}),i&&(0,n.jsx)("div",{style:f.controlRowWithScroller,children:i})]})}},908928:(e,t,o)=>{o.d(t,{GO:()=>P,Ju:()=>_,KA:()=>R,L0:()=>$,L2:()=>z,dA:()=>L,gI:()=>j,iN:()=>N,oG:()=>W,sK:()=>M});o(898992),o(354520),o(803949);var i=()=>o(386164),n=()=>o(433847),r=()=>o(68263),l=()=>o(388821),a=()=>o(179034),d=()=>o(824862),s=()=>o(161479),c=()=>o(96689),p=()=>o(798880),u=()=>o(763824),g=()=>o(534177),m=()=>o(901389),y=()=>o(855801),b=()=>o(594794),h=()=>o(972435),f=()=>o(731320),S=()=>o(630116),x=()=>o(449506),v=()=>o(496414),C=()=>o(579627),k=()=>o(246826),A=()=>o(436572),B=()=>o(751156),w=()=>o(633457);const I=(0,o(959013).YK)({duplicatingTemplate:{id:"botActions.duplicatingTemplate.loadingMessage",defaultMessage:"Duplicating template..."},duplicatingTemplateError:{id:"botActions.duplicateTemplateAndShareWithBot.snackbar.failure",defaultMessage:"Failed to duplicate template for to your workspace"}});function T(e,t){const{environment:o,spaceStore:i,spaceRole:n}=t,r=function(e){const{name:t,spaceStore:o,userId:i,icon:n,type:r,environment:l}=e,a=Date.now(),s={name:t,created_at:a,created_by_table:p().oo,created_by_id:i,alive:!0,icon:n,space_id:o.id,last_edited_at:a,last_edited_by_id:i,last_edited_by_table:p().oo};switch(r){case"guest":return{...s,type:"guest",capabilities:e.capabilities,parent_table:c().NX,parent_id:o.id,integration_id:void 0};case"scim":return{...s,id:(0,b().Z1)({environment:l,table:d().GP,spaceId:o.id}),type:"scim",parent_table:p().oo,parent_id:i};default:(0,g().HB)(r)}}(t),l=k().eC({environment:o,table:d().GP,value:r,inMemoryRecordCache:o.defaultRecordCache.inMemoryRecordCache,transaction:e});return C().dy({environment:o,spaceStore:i,permissionItems:[{type:"bot_permission",role:n,bot_id:l.id}],transaction:e}),{botStore:l}}function j(e){const{environment:t}=e,{serverCommitResult:o,performResult:{botStore:i}}=B().createAndCommit({userAction:"botActions.createSpaceBot",environment:t,canUndo:!0,perform:t=>T(t,e)});return{botStore:i,transactionPromise:o}}async function R(e){const{environment:t,botId:o,onSuccess:i}=e,n=await x().callApi({eventName:"deleteBot",environment:t,data:{botId:o}});"failed"===n.type?m().Qg(n):"success"===n.type&&i&&(await w().oX({environment:t}),i())}async function _(e){const{environment:t,table:o,id:n,type:r}=e,l=await x().callApi({eventName:"getBots",environment:t,data:{table:o,id:n,type:r},headers:(0,i().WS)({spaceId:o===c().NX?n:void 0})});if("failed"===l.type)throw m().Qg(l),l;return{botIds:l.data.botIds,recordMap:l.data.recordMap}}async function P(e){const{environment:t,currentSpaceStore:o,botIds:i}=e;if(!o)return;const n=await x().callApi({eventName:"getBotSharedPageIds",environment:t,data:{spaceId:o.id,botIds:i}});if("failed"!==n.type)return n.data;m().Qg(n)}async function L(e){const{environment:t,botId:o}=e,i=await x().callApi({eventName:"getBotToken",environment:t,data:{botId:o}});if("failed"!==i.type)return i.data.token;m().Qg(i)}function M(e){const{botValue:t,store:o,environment:i}=e,{id:r,parent_id:l,parent_table:a,capabilities:d}=t,s={type:"bot_permission",bot_id:r,parent_id:l,parent_table:a,role:(0,n().MD)(d)};B().createAndCommit({userAction:"TopbarMoreButton.handleAddingConnection",environment:i,canUndo:!0,perform:e=>{C().zP({environment:i,store:o,permissionItems:[s],transaction:e})}})}function W(e){const{botId:t,store:o,environment:i}=e,n=o.getPermissionItems().filter((0,g().u0)((e=>(0,r().P3)(e)?{true:e}:{false:e})));for(const r of n)if(r.bot_id===t){const e={...r,role:"none"};B().createAndCommit({userAction:"TopbarMoreButton.handleRemovingConnection",environment:i,canUndo:!0,perform:t=>{C().zP({environment:i,store:o,permissionItems:[e],transaction:t})}})}}function $(e){const{currentSpaceStore:t,environment:o,pages:i,botStore:n,addPermission:r}=e;if(!t)return;const l=(0,f().Ws)({botStore:n,addPermission:r});i.forEach((e=>{const i=S().sk.createChildStore(t,{table:a().ev,id:e,spaceId:t.getSpaceId()});B().createAndCommit({userAction:"botActions.updateBlockPermissionsForBot",environment:o,canUndo:!0,perform:e=>{C().zP({environment:o,store:i,permissionItems:[l],transaction:e})}})}))}async function N(e){const{environment:t,spaceStore:o,botStore:i,pageIdAndOperations:n,concurrency:r=20}=e;0!==n.length&&await(0,u().lX)(n,r,(async e=>{const n=S().sk.createChildStore(o,{table:a().ev,id:e.pageId,spaceId:o.getSpaceId()}),r=(0,f().Ws)({botStore:i,addPermission:"add"===e.operationType}),{serverCommitResult:l}=B().createAndCommit({userAction:`botActions.updateBotPermissionsForPages.${e.operationType}`,environment:t,canUndo:!0,perform:e=>{C().zP({environment:t,store:n,permissionItems:[r],transaction:e})}});await l}))}async function z(e){const{environment:t,spaceStore:o,spaceViewStore:n,templatePageId:r,botValue:a,pages:c}=e;if(!o)return;const p=S().sk.createChildStore(o,{table:d().GP,id:a.id});if(r)return await async function(e){const{environment:t,spaceStore:o,spaceViewStore:n,templatePageId:r,botStore:a}=e;if(!o||!n)return;try{v().m({message:I.duplicatingTemplate});const e=await x().callApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:r,spaceId:(0,s().e)(void 0)},shallow:!1},headers:(0,i().WS)({recordId:r})});if("failed"===e.type)return;const d=l().RecordMapWithRole.create(e.data.subtreeRecordMap),{createAndDuplicatePageInSpace:c}=await(0,y().nd)(),{performResult:p}=B().createAndCommit({userAction:"botActions.duplicateTemplateAndShareWithBot",environment:t,canUndo:!0,perform:e=>{const i=c({environment:t,recordMap:d,copyPageId:r,isPrivate:!0,spaceStore:o,spaceViewStore:n,transaction:e,allowCopyExternalObjectInstances:!1}),l=n.getPrivatePageIds();l.length>0&&k().zv({store:n,data:{private_pages:[i.id,...l]},transaction:e});const s=(0,f().Ws)({botStore:a,addPermission:!0});return C().zP({environment:t,store:i,permissionItems:[s],transaction:e}),i}});return p}catch(d){A().D6({label:h().A.formatMessage(I.duplicatingTemplateError)})}finally{v().V()}}({environment:t,templatePageId:r,botStore:p,spaceStore:o,spaceViewStore:n});$({environment:t,currentSpaceStore:o,botStore:p,pages:c,addPermission:!0})}},987017:(e,t,o)=>{o.d(t,{Ay:()=>s,Jy:()=>d,vU:()=>a});o(581454);var i=o(296540),n=()=>o(722872),r=o(474848);function l(e){let{tabs:t,selectedIndex:l,onChange:s,separatorIndexes:c,right:p,style:u,rightStyle:g,tabStyle:m,tabTitleStyle:y,selectedTabTitleStyle:b,tabBorderStyle:h,selectedTabStyle:f,readOnly:S,hideTabBorder:x,idPrefix:v,hideTabIndexes:C}=e;const k=(0,i.useContext)(n().xu),{device:A,WindowSizeStore:B}=(0,o(484714).v3)(),{safePaddingLeft:w,safePaddingRight:I}=(0,o(847249).K8)((()=>({safePaddingLeft:B.getSafePaddingLeftCSS(16),safePaddingRight:B.getSafePaddingRightCSS(16)})),[B]),T=(0,o(401497).IS)((e=>{const t={paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.text.secondary,...m},o=`inset 0 -1px 0 ${e.regularDividerColor}`,i=k.menuType===n().gu.Popup,r={fontSize:16,paddingTop:2,paddingLeft:i?16:w,paddingRight:i?16:I,zIndex:2,height:44,background:e.popoverBackground};return{container:{overflowY:"visible",overflowX:"auto",display:"flex",width:"100%",position:"relative",boxShadow:x?void 0:o,...A.isMobile?r:{fontSize:14,paddingLeft:8,paddingRight:8,zIndex:1},...u},separator:{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.regularDividerColor},tab:t,selectedTab:{...t,position:"relative",color:e.text.primary,...f},border:{borderBottom:`2px solid ${e.text.primary}`,position:"absolute",bottom:0,left:8,right:8,...h},rightContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:e.text.secondary,...g}}}),[k.menuType,A.isMobile,g,w,I,f,u,h,m,x]);return(0,r.jsxs)("div",{className:"hide-scrollbar",style:T.container,role:"tablist",children:[t.map(((e,t)=>{if(null!=C&&C.includes(t))return null;const n=t===l;return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)("div",{style:n?T.selectedTab:T.tab,children:[(0,r.jsx)(o(493823).p,{style:{...y,...n?b:{}},onClick:()=>s(t),disabled:S,mobileFeedback:A.isMobile,isLightGray:!Boolean(n),role:"tab","aria-selected":n,id:a(v,t),"aria-controls":d(v,t),children:e}),n&&(0,r.jsx)("div",{style:T.border})]},`tabButton-${t}`),c&&c.includes(t)&&(0,r.jsx)("div",{style:T.separator,className:"notranslate",children:"|"},`${t}-separator`)]},t)})),p&&(0,r.jsx)("div",{style:T.rightContainer,children:p})]})}function a(e,t){if(e)return`${e}-tab-${t}`}function d(e,t){if(e)return`${e}-tabpanel-${t}`}const s=i.memo(l)}}]);