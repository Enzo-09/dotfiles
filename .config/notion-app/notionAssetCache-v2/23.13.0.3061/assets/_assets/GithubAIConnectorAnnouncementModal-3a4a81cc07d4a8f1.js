"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[94211],{77279:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});class o extends(()=>n(757695))().default{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const r=new o},79275:(e,t,n)=>{n.d(t,{X:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("newSidebarHome",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.1416 3.77299C10.0563 3.71434 9.94368 3.71434 9.85837 3.77299L3.60837 8.06989C3.54053 8.11653 3.5 8.19357 3.5 8.2759V14.2499C3.5 14.9402 4.05964 15.4999 4.75 15.4999H7.5L7.5 10.7499C7.5 10.0595 8.05964 9.49987 8.75 9.49987H11.25C11.9404 9.49987 12.5 10.0595 12.5 10.7499L12.5 15.4999H15.25C15.9404 15.4999 16.5 14.9402 16.5 14.2499V8.2759C16.5 8.19357 16.4595 8.11653 16.3916 8.06989L10.1416 3.77299ZM9.00857 2.53693C9.60576 2.12636 10.3942 2.12636 10.9914 2.53693L17.2414 6.83383C17.7163 7.1603 18 7.69963 18 8.2759V14.2499C18 15.7687 16.7688 16.9999 15.25 16.9999H12.25C11.5596 16.9999 11 16.4402 11 15.7499L11 10.9999H9L9 15.7499C9 16.4402 8.44036 16.9999 7.75 16.9999H4.75C3.23122 16.9999 2 15.7687 2 14.2499V8.2759C2 7.69963 2.2837 7.1603 2.75857 6.83383L9.00857 2.53693Z"})})},120114:(e,t,n)=>{n.d(t,{AX:()=>i,Ur:()=>o,uw:()=>r,yP:()=>a});const o=["unified_find_variant"],r=["deep_find_enable_query_gen","deep_find_enable_universal_blending","deep_find_enable_3p_sources","deep_find_enable_query_gen_finetuned_json_schema","deep_find_enable_query_gen_json_schema","deep_find_enable_request_tracing","deep_find_render_and_hydrate_notion_pages","deep_find_use_query_gen_for_notion_search","deep_find_should_show_streaming_ux","deep_find_append_keywords_to_notion_search","deep_find_all_connectors"],a=["notionSourceNumResults","maxPagesToDecorate","maxResultsPerSourceToBlendedRanking","maxFinalResults","maxResultsPerSourceToBoost"];function i(e,t,n){return{universalBlendingEnabled:e.isDeepFindUniversalBlendingEnabled(),queryGenEnabled:e.isDeepFindQueryGenEnabled(),notionSourceNumResults:t("notionSourceNumResults"),enableRequestTracing:n("deep_find_enable_request_tracing"),maxPagesToDecorate:t("maxPagesToDecorate"),maxResultsPerSourceToBlendedRanking:t("maxResultsPerSourceToBlendedRanking"),maxFinalResults:t("maxFinalResults"),useQueryGenForNotionSearch:n("deep_find_use_query_gen_for_notion_search"),shouldShowStreamingUx:n("deep_find_should_show_streaming_ux"),appendKeywordsToNotionSearch:n("deep_find_append_keywords_to_notion_search"),allConnectorsEnabled:n("deep_find_all_connectors"),maxResultsPerSourceToBoost:t("maxResultsPerSourceToBoost")}}},253447:(e,t,n)=>{n.d(t,{F:()=>r});var o=()=>n(963575);function r(e,t){if(e)return e;switch(t){case"large":return o().A.card.desktop.large.height;case"small":return o().A.card.desktop.small.height;default:return o().A.card.desktop.medium.height}}},271232:(e,t,n)=>{n.d(t,{t:()=>a});var o=n(296540),r=n(474848);const a=o.memo((function(e){const{coverHeight:t,coverSizeFormat:o,emptyGalleryCoverStyle:a}=e,i=(0,n(401497).IS)((()=>({container:{height:(0,n(253447).F)(t,o),...a}})),[t,o,a]);return(0,r.jsx)("div",{style:i.container})}))},303742:(e,t,n)=>{n.d(t,{o:()=>a});var o=()=>n(640653),r=()=>n(508496);function a(e){return!!e&&Boolean((0,o().IL)(e)&&"external_pages_sidebar"===r().default.getEligibleGroup({experimentId:"sharing_collaboration_sidebar_guest_aggregation"}))}},358006:(e,t,n)=>{n.d(t,{z:()=>i});n(296540);var o=()=>n(645873),r=n(474848);const a=new(o().O2)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await n.e(79883).then(n.bind(n,873718));return{CollectionItemCover:e}})),i=(0,o()._h)(a,(e=>e.CollectionItemCover),{renderLoading:(e,t)=>{const{coverHeight:o,coverSizeFormat:a,emptyGalleryCoverStyle:i,showEmptyGalleryCover:s}=t;return s?(0,r.jsx)(n(271232).t,{coverHeight:o,coverSizeFormat:a,emptyGalleryCoverStyle:i}):null}})},551345:(e,t,n)=>{n.d(t,{VN:()=>d,or:()=>i,pV:()=>s});var o=()=>n(120114),r=()=>n(430483),a=()=>n(508496);function i(e){const{configurationState:t}=e;return t.deepFindRequested&&r().zD.isDeepFindEnabled()}function s(e){const{configurationState:t,assistantSurface:n}=e;return i({configurationState:t})&&n.isType("fullPage")}function d(){const e=r().zD.state;return(0,o().AX)(e,(e=>a().default.getConfigKey("deep_find_config",e)),(e=>a().default.checkGate({gateName:e})))}new(n(496506).default)((()=>{var e;const t=r().zD.isDeepFindEnabled(),o=Boolean(null===(e=n(295169).default.getActiveAssistantConfigurationState())||void 0===e?void 0:e.deepFindRequested);return t&&o}),{debugName:"isDeepFindActiveStore"})},694874:(e,t,n)=>{n.d(t,{Oh:()=>v,Qs:()=>S,Wy:()=>p,aX:()=>h,it:()=>f,tL:()=>_});n(898992),n(354520),n(430670);var o=()=>n(244641),r=()=>n(994310),a=()=>n(534177),i=()=>n(246826),s=()=>n(751156),d=()=>n(755199),l=()=>n(638146),c=()=>n(351360),u=()=>n(846955),m=()=>n(696746),g=()=>n(705059);function p(e){const{currentUserSettingsStore:t}=c().default.state;t&&s().createAndCommit({userAction:"SidebarPersonalHomeButton.markAsSeen",environment:e,canUndo:!0,perform:e=>{d().mJ({userSettingsStore:t,transaction:e,data:{seen_personal_home:!0}})}})}function _(e){const{currentUserSettingsStore:t}=c().default.state;t&&(u().default.setState({type:"inactive"}),s().createAndCommit({userAction:"SidebarPersonalHomeButton.markHomeTooltipAsSeen",environment:e,canUndo:!0,perform:e=>{d().mJ({userSettingsStore:t,transaction:e,data:{personal_home_delayed_tooltip_dismissed_at:o().c9.now().toMillis()}})}}))}function h(e){const{environment:t,newSeenWelcomeHomeValue:n}=e,o=c().default.state.currentSpaceViewStore;o&&s().createAndCommit({userAction:"SidebarPersonalHomeSettings.markWelcomeAnimationAsSeen",environment:t,canUndo:!0,perform:e=>{const t=o.getSettingsStore().getKeyStore("personal_home").getKeyStore("seen_welcome_animation");i().KY({store:t,transaction:e,value:n})}})}function f(e){const{environment:t,tipType:n,completed:o}=e,{currentUserSettingsStore:r}=c().default.state;if(!r)return;const a=r.getPersonalHomeTipsSettings(),i={...a,progress_data:{...a.progress_data,[n]:{completed:o}}};s().createAndCommit({userAction:"LearnHomePanel.updateProgress",environment:t,canUndo:!0,perform:e=>{d().mJ({userSettingsStore:r,transaction:e,data:{personal_home_tips_settings:i}})}})}function S(e){const{environment:t,hide:n}=e,{currentUserSettingsStore:o}=c().default.state;if(!o)return;const r={...o.getPersonalHomeTipsSettings(),hide_completed:n};s().createAndCommit({userAction:"LearnHomePanel.hideCompleted",environment:t,canUndo:!0,perform:e=>{d().mJ({userSettingsStore:o,transaction:e,data:{personal_home_tips_settings:r}})}})}function v(e){const{blockId:t,enabledFeatures:n,userId:o}=e,i=(0,a().WP)(n).flatMap((e=>{let[t,n]=e;if(!n)return[];switch(t){case"tasks":return[(0,m().NY)("myTasksAssignedToMeCollectionView")];case"customDb":const e=(0,m().NY)("customDb");return[e&&(0,l().cf)({userId:o,viewBlockId:e})].filter(a().O9);case"similarUsersAndTrending":return[(0,m().NY)("similarUsersCollectionView"),(0,m().NY)("trendingCollectionView")];case"unifiedFeed":return[(0,m().NY)("postsCollectionView")];case"recents":case"updates":case"templates":case"tips":case"calendar":case"aiChatModule":return[];default:(0,a().HB)(t)}})),{isHomeKey:s,homeCollectionViewIdsKey:d,unifiedFeedEnabledKey:c}=(0,g().h)(t);r().A.set(s,!0),r().A.set(d,i),r().A.set(c,n.unifiedFeed)}},709687:(e,t,n)=>{n.d(t,{r:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("bell",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.36914 11.7627C1.36914 12.3369 1.80664 12.7266 2.51074 12.7266H5.32031C5.38184 14.0322 6.44824 15.2285 8 15.2285C9.55176 15.2285 10.6182 14.0391 10.6797 12.7266H13.4893C14.2002 12.7266 14.6309 12.3369 14.6309 11.7627C14.6309 11.0381 13.9678 10.416 13.3457 9.81445C12.8672 9.34277 12.751 8.39941 12.6621 7.46289C12.5732 4.87207 11.8213 3.14258 10.0371 2.49316C9.77734 1.59082 9.01855 0.900391 8 0.900391C6.98145 0.900391 6.22266 1.59082 5.96289 2.49316C4.17871 3.14258 3.42676 4.87207 3.33789 7.46289C3.24902 8.39941 3.13965 9.34277 2.6543 9.81445C2.03906 10.416 1.36914 11.0381 1.36914 11.7627ZM3.00293 11.4756V11.3936C3.18066 11.1953 3.57715 10.833 3.91211 10.4434C4.38379 9.90332 4.60254 8.92578 4.6709 7.62695C4.75293 4.85156 5.60059 3.92871 6.70801 3.62793C6.87207 3.58691 6.96777 3.50488 6.98145 3.32031C7.01562 2.62305 7.39844 2.1582 8 2.1582C8.60156 2.1582 8.99121 2.62305 9.01855 3.32031C9.03223 3.50488 9.12793 3.58691 9.29883 3.62793C10.3994 3.92871 11.2539 4.85156 11.3291 7.62695C11.3975 8.92578 11.623 9.90332 12.0879 10.4434C12.4297 10.833 12.8125 11.1953 12.9834 11.3936V11.4756H3.00293ZM6.6123 12.7266H9.3877C9.33984 13.5811 8.7793 14.1348 8 14.1348C7.22754 14.1348 6.66699 13.5811 6.6123 12.7266Z"})})},739273:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var o=n(296540),r=()=>n(484714),a=()=>n(847249),i=()=>n(252105),s=()=>n(576590),d=()=>n(656633),l=()=>n(836251),c=()=>n(176983),u=()=>n(628315),m=()=>n(218429),g=()=>n(351360),p=()=>n(404141),_=()=>n(991249),h=()=>n(577437),f=()=>n(162850),S=()=>n(970023),v=n(474848);function b(){const e=(0,r().v3)(),t=(0,a().O$)(g().AppStoreCurrentSpaceStore),n=null==t?void 0:t.id,b=e.currentUser.id,C=(0,h()._X)({name:"ai_connectors",spaceId:n,userId:b}),y=(0,c().J)(),w=(0,o.useCallback)((t=>{let{upsell:o}=t;if(!g().default.state.currentSpaceViewStore||!n)return;const r=(0,d().vp)(e,n);u().a(e,"ai_github_ai_connector_announcement"),o?r?(p().A.setState({...p().A.state,open:!0,openedFrom:"github_ai_connector_announcement_modal",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}),i().QP(e,{from:"github_ai_connector_announcement_modal"})):_().K(e,{from:"github_ai_connector_announcement_modal",upsell:o}):(0,s().navigateToGithubAIConnectorOnboarding)({analyticsFrom:"github_ai_connector_announcement_modal"})}),[e,n]);return C?(0,v.jsx)(m().l,{messageKey:"ai_github_ai_connector_announcement",desktopRenderInner:()=>(0,v.jsx)(f().Y,{calloutKey:"ai_github_ai_connector_announcement",eventName:"ai_github_ai_connector_announcement_modal_shown",messages:S().Sn,learnMoreHref:(0,l().xS)("guides.aiConnectorGithub"),showNarrowCta:y,onDismiss:w,connector:"github",aiConnectorsFeatureAvailability:C}),phoneRenderInner:()=>null}):null}},799384:(e,t,n)=>{n.d(t,{o:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("newSidebarSearch",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 8.75C4 6.12665 6.12665 4 8.75 4C11.3734 4 13.5 6.12665 13.5 8.75C13.5 11.3734 11.3734 13.5 8.75 13.5C6.12665 13.5 4 11.3734 4 8.75ZM8.75 2.5C5.29822 2.5 2.5 5.29822 2.5 8.75C2.5 12.2018 5.29822 15 8.75 15C10.2056 15 11.545 14.5024 12.6073 13.668L16.7197 17.7803C17.0126 18.0732 17.4874 18.0732 17.7803 17.7803C18.0732 17.4874 18.0732 17.0126 17.7803 16.7197L13.668 12.6073C14.5024 11.545 15 10.2056 15 8.75C15 5.29822 12.2018 2.5 8.75 2.5Z"})})},916096:(e,t,n)=>{n.d(t,{ke:()=>V,Ay:()=>D,aQ:()=>N});var o=n(296540),r=()=>n(484714),a=()=>n(847249),i=()=>n(401497),s=()=>n(79275),d=()=>n(959013),l=()=>n(35392),c=()=>n(296798),u=()=>n(859428),m=()=>n(490044),g=()=>n(694874),p=()=>n(696746),_=(n(898992),n(354520),n(672577),n(803949),n(581454),()=>n(187174)),h=()=>n(921997),f=()=>n(519831),S=()=>n(763824),v=()=>n(449506),b=()=>n(941541),C=()=>n(351360),y=()=>n(630116),w=()=>n(634157),x=()=>n(578136);const A=new(n(299919).Y)((e=>new I(e)));class I extends(()=>n(757695))().default{constructor(e){super(),this.collectionStore=void 0,this.debouncedRefresh=void 0,this.collectionStore=e,this.debouncedRefresh=(0,n(496603).sg)(this.unthrottledRefresh.bind(this),2e3)}getInitialState(){return{createdTime:-1/0,createdById:void 0}}getLatestPostCreatedTime(){return this.state.createdTime}getLatestPostCreatedById(){return this.state.createdById}async refresh(e){return this.debouncedRefresh(e)}async unthrottledRefresh(e){const{environment:t}=e;if(!t.currentUser.id)return;if(await this.collectionStore.load(),!this.collectionStore.isDefined())return;const n=await v().callApi({eventName:"getLatestPostCreated",environment:t,data:{spaceId:this.collectionStore.getSpaceId(),collectionIds:[this.collectionStore.id]}});if("success"===n.type&&n.data){const e=n.data[0];this.setState(e)}}}function B(e){const t=(0,r().v3)(),n=(0,a().K8)((()=>{var t;return null==e||null===(t=e[0])||void 0===t?void 0:t.getSpaceId()}),[e]),i=(0,o.useMemo)((()=>e.filter((e=>!A.has(e)))),[e]);(0,_().Yb)((async()=>{await async function(e){const{environment:t,collectionStores:n}=e,o=await S().dS(n,10,(async e=>(await e.load(),e.isDefined())));if(0===o.length)return;const r=o[0].getSpaceId(),a=await v().callApi({eventName:"getLatestPostCreated",environment:t,data:{spaceId:r,collectionIds:o.map((e=>e.id))}});if("success"===a.type&&a.data)for(let i=0;i<o.length;i++){const e=o[i],t=a.data[i];t.collectionId===e.id&&A.get(e).setState(t)}}({environment:t,collectionStores:i})}),[i,t]);const s=(0,o.useMemo)((()=>e.map((e=>A.get(e)))),[e]);return(0,o.useEffect)((()=>{if(!n)return;const e=s.map((e=>b().Ay.addListener((0,h().eG)(e.collectionStore.id),void 0,(0,b().AY)((async()=>await e.refresh({environment:t}))),void 0,t)));return()=>{e.forEach((e=>{e&&b().Ay.removeListener(e,t)}))}}),[s,n,t]),s}var L=()=>n(962730),H=()=>n(551694),P=()=>n(487941),k=()=>n(846955),T=()=>n(644914),M=()=>n(645873);const R={LazyAiLandingPageExperimentSwitcher:new(M().O2)("LazyAiLandingPageExperimentSwitcher",(()=>n.e(66169).then(n.bind(n,981440))))},j=(0,M()._h)(R.LazyAiLandingPageExperimentSwitcher,(e=>e.AiLandingPageExperimentSwitcher));var F=n(474848);function K(e){const{styles:t}=e,_=(0,r().v3)(),h=(0,d().tz)(),S=(0,a().K8)((()=>{const{currentSpaceViewStore:e}=C().default.state;if(e)return p().x$(e)}),[]),v=(0,a().K8)((()=>{const e=C().default.state.mainEditorCurrentBlockStore;return!!e&&p().Nh(e.id)}),[]),b=(0,a().K8)((()=>"home_available"===k().default.getState().type),[]),A=(0,a().K8)((()=>{var e;return null==S||null===(e=S.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:null==S?void 0:S.getRecordModel,pageVisitSource:n(584262).y8.SidebarHome})}),[S]),I=function(){const e=(0,r().v3)(),t=(0,a().K8)((()=>(0,x().D)({isMobileNative:e.device.isMobileNative,disableExposureLogging:!0})),[e]),n=(0,a().K8)((()=>{var e;return null===(e=C().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),o=B((0,a().K8)((()=>{if(!t)return[];const e=C().default.state.currentSpaceStore;return n&&e?w().A.getJoinedTeamStores({userId:n,spaceStore:e}).map((t=>y().md.createChildStore(t,{table:f().Vl,id:t.id,spaceId:e.id}))):[]}),[t,n]));return(0,a().K8)((()=>{var e;if(!C().default.state.currentSpaceStore)return!1;const t=(null===(e=C().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getKeyStore("settings").getKeyStore("last_opened_aggregated_feed").getValue())??0;return o.find((e=>!(!e.getLatestPostCreatedById()||e.getLatestPostCreatedTime()<=t||e.getLatestPostCreatedById()===n)))}),[o,n])}(),H=(0,n(327300).w4)(),M=(0,a().O$)(n(430483).ts),[R,K]=(0,o.useState)(!1),[V,D]=(0,o.useState)(!1),U=(0,o.useCallback)((e=>{const t=e.target;t instanceof HTMLElement&&(0,n(819121).p)(t)&&D(!0)}),[]),G=(0,o.useCallback)((()=>{D(!1)}),[]),q=(0,o.useCallback)((()=>{n(353643).A.state.isDragging||K(!0)}),[]),z=(0,o.useCallback)((()=>{K(!1)}),[]),Y=(0,a().uB)(void 0,P().A),W=(0,a().uB)(void 0,P().A),X=(0,a().K8)((()=>W.state.focused||W.state.hovered),[W]),Z=(0,o.useCallback)((()=>{(0,g().Wy)(_),(0,n(162674).ZL)({environment:_,from:"sidebar"}),b&&(0,g().tL)(_),n(441199).default.isVisible()&&(0,n(770906).VI)({environment:_})}),[_,b]),O=(0,T().ab)(),J=(0,i().IS)((e=>({tooltip:{width:200},leftContainer:{position:"relative"},shortcutLabel:{color:e.text.contrastSecondary},linkBoxStyle:{...O.baseSidebarItem,...v&&O.currentSelectedSidebarItem},homeIconStyle:{...O.topButtonIcon,...v&&O.currentSelectedSidebarIcon}})),[v,O]),Q=(0,o.useMemo)((()=>H.showAiFaceInHomeIcon?M?(0,n(366295).L)(O.topButtonIcon):(0,n(654601).X)({width:16}):(0,s().X)(J.homeIconStyle)),[H.showAiFaceInHomeIcon,M,J.homeIconStyle,O.topButtonIcon]),$=(0,o.useCallback)((()=>X?"":(0,F.jsxs)("div",{style:J.tooltip,children:[(0,F.jsx)("div",{children:h.formatMessage(N.tooltip)}),(0,F.jsx)(l().A,{style:J.shortcutLabel,name:"openHome"})]})),[X,h,J.shortcutLabel,J.tooltip]);return(0,F.jsx)(u().A,{store:Y,renderTooltip:$,disableTooltip:b,originGap:6,textWrap:!0,placement:L().W.Right,render:e=>(0,F.jsx)(c().A,{...e,style:J.linkBoxStyle,hoveredStyle:null==t?void 0:t.buttonHoveredStyle,href:A,onClick:Z,"aria-current":v?"page":void 0,children:(0,F.jsx)(m().A,{left:(0,F.jsxs)("div",{style:J.leftContainer,children:[Q,I&&(0,F.jsx)(E,{})]}),disableMobileBorder:!0,right:(0,F.jsx)(j,{isHovered:R,isFocused:V,tooltipStore:W,parentTooltipStore:Y}),onMouseMove:q,onMouseLeave:z,onFocus:U,onBlur:G,children:h.formatMessage(N.label)})})})}function V(e){const{styles:t}=e,n=(0,a().K8)((()=>"home_available"===k().default.getState().type),[]),o=(0,T().ab)(),r=(0,i().IS)((e=>({tooltip:{width:200},shortcutLabel:{color:e.text.contrastSecondary}})),[]);return(0,F.jsx)(u().A,{renderTooltip:()=>(0,F.jsxs)("div",{style:r.tooltip,children:[(0,F.jsx)("div",{children:(0,F.jsx)(d().sA,{id:"sidebarPersonalHomeButton.tooltip",defaultMessage:"View recent pages and more"})}),(0,F.jsx)(l().A,{style:r.shortcutLabel,name:"openHome"})]}),disableTooltip:n,originGap:6,textWrap:!0,placement:L().W.Right,render:e=>(0,F.jsx)(c().A,{...e,style:o.baseSidebarItem,hoveredStyle:null==t?void 0:t.buttonHoveredStyle,onClick:()=>{H().A.open()},children:(0,F.jsx)(m().A,{left:(0,s().X)(o.topButtonIcon),disableMobileBorder:!0,children:(0,F.jsx)(d().sA,{id:"sidebarPersonalHomeButton.label",defaultMessage:"Home"})})})})}function E(e){const{top:t=0,right:n=-3}=e,o=(0,i().IS)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:t,right:n,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[t,n]);return(0,F.jsx)("div",{style:o.unreadBadge})}const N=(0,d().YK)({tooltip:{id:"sidebarPersonalHomeButton.tooltip",defaultMessage:"View recent pages and more"},label:{id:"sidebarPersonalHomeButton.label",defaultMessage:"Home"}}),D=o.memo(K)}}]);