"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[95281],{9658:(e,t,n)=>{n.d(t,{Z:()=>s,t:()=>r});var o=()=>n(645873);const i=new(o().O2)("outlinerViewAll",(async()=>{const{OutlinerViewAllButton:e}=await n.e(51609).then(n.bind(n,341628)),{OutlinerViewAllPopup:t}=await n.e(51609).then(n.bind(n,499960));return{OutlinerViewAllButton:e,OutlinerViewAllPopup:t}})),s=(0,o()._h)(i,(e=>e.OutlinerViewAllButton)),r=(0,o()._h)(i,(e=>e.OutlinerViewAllPopup))},299797:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var o=()=>n(284371),i=n(474848);const s=function(e){let{icon:t,title:s,description:r,cta:a,bodyWidth:l}=e;const d=(0,n(401497).IS)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"center",gap:8},icon:{width:36,height:36,color:e.icon.tertiary},body:{fontSize:14,color:e.text.secondary,display:"flex",flexDirection:"column",textAlign:"center",maxWidth:l??300},title:{fontWeight:o().Wy.semibold},description:{paddingTop:1,fontWeight:o().Wy.regular,textWrap:"balance"}})),[l]);return(0,i.jsxs)("div",{style:d.container,children:[t(d.icon),(0,i.jsxs)("div",{style:d.body,children:[(0,i.jsx)("span",{style:d.title,children:s}),(0,i.jsx)("span",{style:d.description,children:r})]}),a&&(0,i.jsx)("div",{children:a})]})}},307296:(e,t,n)=>{n.d(t,{BU:()=>s,LS:()=>i,Z0:()=>o().Z,tA:()=>o().t});var o=()=>n(9658);const i=30,s=20},552445:(e,t,n)=>{n.d(t,{N:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("pin",{viewBox:"0 0 13 19",svg:(0,o.jsx)("path",{d:"M1.25 12.875h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.304-3.359-4.109L8.617 4c.992-.648 1.93-1.383 2.328-1.914.211-.266.305-.531.305-.758 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .227.093.492.297.758.398.531 1.343 1.266 2.328 1.914L3.46 7.664C1.42 8.47.1 10.125.1 11.774c0 .664.446 1.101 1.149 1.101zm4.922-5.719c-.5 0-.984.047-1.438.14l.235-3.874c.008-.11-.008-.149-.086-.188-1.172-.601-2.078-1.312-2.14-1.468-.063-.102 0-.164.085-.164h6.68c.086 0 .148.062.086.164-.063.156-.969.867-2.14 1.468-.071.04-.095.079-.079.188l.234 3.875a7.177 7.177 0 00-1.437-.14zm-4.61 4.54c-.18 0-.257-.102-.226-.313.172-1.406 1.969-3.086 4.836-3.086 2.86 0 4.656 1.68 4.828 3.086.031.21-.047.312-.227.312h-9.21z"})})},611651:(e,t,n)=>{n.d(t,{A:()=>f});n(581454);var o=n(296540),i=()=>n(484714),s=()=>n(179034),r=()=>n(959013),a=()=>n(899963),l=()=>n(857783),d=()=>n(728611),c=()=>n(396301),u=()=>n(869562),p=()=>n(630116),h=()=>n(939740),g=()=>n(89924),m=()=>n(847249),y=n(474848);function S(e){const t=(0,r().tz)(),{isPinned:o,store:s,spaceViewStore:l,type:d}=e,c=(0,i().v3)(),p=(0,i().WS)(),h=(0,m().O$)(n(227440).e),g=(0,m().K8)((()=>n(351360).default.state.currentUserSettingsStore),[]),S=(0,n(401497).IS)((e=>({pinned:{width:p?18:16,height:p?18:16,fill:e.mediumIconColor},unpinned:{width:p?18:16,height:p?18:16,fill:e.mediumIconColor}})),[p]);return(0,y.jsx)(n(285790).A,{icon:o?n(788941).b:n(552445).N,style:h?void 0:{cursor:"default"},iconStyle:o?S.unpinned:S.pinned,onClick:()=>{g&&n(751156).createAndCommit({userAction:"OutlinerViewAllMenuListItem2.onClick",environment:c,canUndo:!0,perform:e=>{o?(u().unpinSharedPage({environment:c,store:s,spaceViewStore:l,userSettingsStore:g,transaction:e}),a().Nj(c,{type:d,from:"sidebar_dropdown_menu"})):(u().pinSharedPage({environment:c,store:s,spaceViewStore:l,userSettingsStore:g,transaction:e}),a().k0(c,{type:d}))}})},disabled:!h,ariaLabel:t.formatMessage({defaultMessage:"Pin or unpin page",id:"outlinerViewAllPopover.pinButton.ariaLabel"})})}const x=o.forwardRef((function(e,t){const{store:o,timestamp:s,actorPointer:r,type:a,...l}=e,d=(0,m().K8)((()=>o.getIcon()),[o]),c=(0,m().K8)((()=>o.isEmptyPage()),[o]),u=(0,i().v3)();(0,m().K8)((()=>{(0,n(819493).b)(o)}),[o]);const p=(0,m().K8)((()=>(0,n(47373).Ck)()),[]);return(0,y.jsx)(n(859428).A,{placement:n(962730).W.Right,render:i=>(0,y.jsx)(n(760217).A,{...(0,n(553965).A)(l,i),ref:t,title:(0,y.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,y.jsx)(n(16006).A,{store:o})}),icon:(0,y.jsx)(n(167334).A,{icon:d,isEmptyPage:c,isAlias:!1}),right:(l.focused||e.isPinned||u.device.isMobile)&&(0,y.jsx)("div",{style:{display:"flex"},children:"shared"===e.type&&!p&&(0,y.jsx)(S,{...e})})}),renderTooltip:()=>(0,y.jsx)(n(706965).A,{store:o})})}));function C(e){const{sections:t}=e,n=1===t.length;return t.map(((t,o)=>{let{key:i,pages:s}=t;return{key:i,items:v({...e,pages:s}),render:e=>(0,y.jsx)(g().A,{...e,topBorder:0!==o,title:n?void 0:(0,c().OJ)({section:i,isFirst:0===o})})}}))}function v(e){const{environment:t,spaceStore:n,pages:o,visiblePageIds:i,onClose:r,type:h,state:g}=e,m=i.length;return o.map((o=>{let{blockId:S,timestamp:C,authorPointer:v,index:f}=o;const b=p().Bv.createChildStore(n,{table:s().ev,id:S}),j=i.includes(S);return{key:S,action:e=>{let{event:n}=e;const o=d().Vr(n);o||r(),l().uK({environment:t,store:b,openInNew:o,pageVisitSource:(0,c().NX)({type:h,from:"secondary_sidebar"})}),t.device.isPhone&&u().close(),a().Qq(t,{type:h,queryStringLength:g.query.length,selectedItemIndex:f})},render:t=>(0,y.jsx)(x,{...t,...e,store:b,timestamp:C,actorPointer:v,isPinned:j,spaceId:n.id,pinnedAmount:m})}}))}const f=function(e){const{sections:t,onClose:s,state:a,menuListStore:l,setState:d,renderSections:c,...u}=e,p=(0,i().v3)(),m=n(496603).xu(t,(e=>e.pages.length)),S=Math.min(m,a.numPagesShown),x=(0,o.useMemo)((()=>{let e=S;return t.map((t=>{const n={...t,pages:t.pages.slice(0,e)};return e=Math.max(0,e-t.pages.length),n}))}),[S,t]);return 0===t.length?(0,y.jsx)(g().A,{style:{height:"40vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,y.jsx)(n(299797).A,{icon:n(654587).V,title:(0,y.jsx)(r().sA,{defaultMessage:"No matches",id:"outlinerViewAllPopover.search.noMatchesTitle"}),description:(0,y.jsx)(r().sA,{defaultMessage:"Try checking for typos",id:"outlinerViewAllPopover.search.noMatchesDescription"})})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h().Ay,{type:h().Oh.Vertical,initialFocus:void 0,sections:c?c(x):C({...u,setState:d,state:a,environment:p,onClose:s,sections:x,menuListStore:l}),store:l}),(0,y.jsx)(n(958846).A,{fetchSize:S,resultSize:m,loading:!1,onLoadMore:()=>{d({query:a.query,numPagesShown:Math.min(m,S+n(307296).BU)})}})]})}},654587:(e,t,n)=>{n.d(t,{V:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("docMagnifyingGlass",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.87695 14.1426C4.25195 14.1426 3.77734 13.9805 3.45312 13.6562C3.13281 13.332 2.97266 12.8535 2.97266 12.2207V3.38477C2.97266 2.75586 3.13281 2.2793 3.45312 1.95508C3.77734 1.62695 4.25195 1.46289 4.87695 1.46289H11.123C11.748 1.46289 12.2207 1.625 12.541 1.94922C12.8613 2.27344 13.0215 2.75195 13.0215 3.38477V9.30273C12.8652 9.13086 12.6895 8.97656 12.4941 8.83984C12.2988 8.70312 12.0918 8.59375 11.873 8.51172V3.45508C11.873 3.18555 11.7988 2.97852 11.6504 2.83398C11.5059 2.68555 11.2969 2.61133 11.0234 2.61133H4.97656C4.69531 2.61133 4.48242 2.68555 4.33789 2.83398C4.19727 2.97852 4.12695 3.18555 4.12695 3.45508V12.1621C4.12695 12.4355 4.19727 12.6426 4.33789 12.7832C4.48242 12.9238 4.69531 12.9941 4.97656 12.9941H7.40234C7.48438 13.2129 7.5918 13.4199 7.72461 13.6152C7.86133 13.8105 8.01562 13.9863 8.1875 14.1426H4.87695ZM5.86133 4.99609C5.74805 4.99609 5.65625 4.95898 5.58594 4.88477C5.51562 4.81055 5.48047 4.72266 5.48047 4.62109C5.48047 4.51953 5.51562 4.43359 5.58594 4.36328C5.65625 4.29297 5.74805 4.25781 5.86133 4.25781H10.1445C10.25 4.25781 10.3379 4.29297 10.4082 4.36328C10.4824 4.43359 10.5195 4.51953 10.5195 4.62109C10.5195 4.72266 10.4824 4.81055 10.4082 4.88477C10.3379 4.95898 10.25 4.99609 10.1445 4.99609H5.86133ZM5.86133 6.99414C5.74805 6.99414 5.65625 6.95898 5.58594 6.88867C5.51562 6.81445 5.48047 6.72461 5.48047 6.61914C5.48047 6.51758 5.51562 6.43164 5.58594 6.36133C5.65625 6.29102 5.74805 6.25586 5.86133 6.25586H10.1445C10.25 6.25586 10.3379 6.29102 10.4082 6.36133C10.4824 6.43164 10.5195 6.51758 10.5195 6.61914C10.5195 6.72461 10.4824 6.81445 10.4082 6.88867C10.3379 6.95898 10.25 6.99414 10.1445 6.99414H5.86133ZM10.4434 14.1426C9.9707 14.1426 9.53906 14.0254 9.14844 13.791C8.75781 13.5605 8.44336 13.25 8.20508 12.8594C7.9707 12.4688 7.85352 12.0371 7.85352 11.5645C7.85352 11.0879 7.9707 10.6543 8.20508 10.2637C8.44336 9.86914 8.75781 9.55664 9.14844 9.32617C9.53906 9.0918 9.9707 8.97461 10.4434 8.97461C10.9199 8.97461 11.3535 9.0918 11.7441 9.32617C12.1348 9.55664 12.4453 9.86719 12.6758 10.2578C12.9102 10.6484 13.0273 11.084 13.0273 11.5645C13.0273 12.0371 12.9102 12.4688 12.6758 12.8594C12.4453 13.25 12.1348 13.5605 11.7441 13.791C11.3535 14.0254 10.9199 14.1426 10.4434 14.1426ZM10.4434 13.252C10.752 13.252 11.0332 13.1758 11.2871 13.0234C11.5449 12.8711 11.75 12.666 11.9023 12.4082C12.0547 12.1543 12.1309 11.873 12.1309 11.5645C12.1309 11.252 12.0547 10.9688 11.9023 10.7148C11.75 10.4609 11.5449 10.2578 11.2871 10.1055C11.0332 9.94922 10.752 9.87109 10.4434 9.87109C10.1309 9.87109 9.8457 9.94922 9.58789 10.1055C9.33398 10.2578 9.12891 10.4609 8.97266 10.7148C8.82031 10.9688 8.74414 11.252 8.74414 11.5645C8.74414 11.873 8.82031 12.1543 8.97266 12.4082C9.12891 12.666 9.33398 12.8711 9.58789 13.0234C9.8457 13.1758 10.1309 13.252 10.4434 13.252ZM13.5078 15.209C13.3398 15.209 13.1895 15.1426 13.0566 15.0098L11.4629 13.416L12.2715 12.6719L13.8594 14.2598C13.9141 14.3105 13.957 14.3711 13.9883 14.4414C14.0195 14.5117 14.0352 14.582 14.0352 14.6523C14.0352 14.8125 13.9844 14.9453 13.8828 15.0508C13.7812 15.1562 13.6562 15.209 13.5078 15.209Z"})})},709687:(e,t,n)=>{n.d(t,{r:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("bell",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.36914 11.7627C1.36914 12.3369 1.80664 12.7266 2.51074 12.7266H5.32031C5.38184 14.0322 6.44824 15.2285 8 15.2285C9.55176 15.2285 10.6182 14.0391 10.6797 12.7266H13.4893C14.2002 12.7266 14.6309 12.3369 14.6309 11.7627C14.6309 11.0381 13.9678 10.416 13.3457 9.81445C12.8672 9.34277 12.751 8.39941 12.6621 7.46289C12.5732 4.87207 11.8213 3.14258 10.0371 2.49316C9.77734 1.59082 9.01855 0.900391 8 0.900391C6.98145 0.900391 6.22266 1.59082 5.96289 2.49316C4.17871 3.14258 3.42676 4.87207 3.33789 7.46289C3.24902 8.39941 3.13965 9.34277 2.6543 9.81445C2.03906 10.416 1.36914 11.0381 1.36914 11.7627ZM3.00293 11.4756V11.3936C3.18066 11.1953 3.57715 10.833 3.91211 10.4434C4.38379 9.90332 4.60254 8.92578 4.6709 7.62695C4.75293 4.85156 5.60059 3.92871 6.70801 3.62793C6.87207 3.58691 6.96777 3.50488 6.98145 3.32031C7.01562 2.62305 7.39844 2.1582 8 2.1582C8.60156 2.1582 8.99121 2.62305 9.01855 3.32031C9.03223 3.50488 9.12793 3.58691 9.29883 3.62793C10.3994 3.92871 11.2539 4.85156 11.3291 7.62695C11.3975 8.92578 11.623 9.90332 12.0879 10.4434C12.4297 10.833 12.8125 11.1953 12.9834 11.3936V11.4756H3.00293ZM6.6123 12.7266H9.3877C9.33984 13.5811 8.7793 14.1348 8 14.1348C7.22754 14.1348 6.66699 13.5811 6.6123 12.7266Z"})})},715011:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(296540),i=()=>n(959013),s=()=>n(409268),r=n(474848);function a(e){const t=(0,o.useMemo)((()=>(0,s().s)(e.store)),[e.store]);return(0,r.jsx)(i().sA,{id:"pageWordCount.wordCount",defaultMessage:"{count, plural, one {# word} other {# words}}",values:{count:t}})}},788941:(e,t,n)=>{n.d(t,{b:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("pinFilled",{viewBox:"0 0 13 19",svg:(0,o.jsx)("path",{d:"M.102 11.773c0 .665.445 1.102 1.148 1.102h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.39-3.515-4.187L8.46 4c1.14-.648 2.078-1.383 2.484-1.906.203-.266.305-.531.305-.766 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .234.093.5.297.766.406.523 1.343 1.258 2.484 1.906l-.258 3.586C1.422 8.383.102 10.125.102 11.773z"})})},819493:(e,t,n)=>{n.d(t,{$:()=>b,b:()=>j});n(898992),n(908872),n(296540);var o=()=>n(662303),i=()=>n(484714),s=()=>n(847249),r=()=>n(401497),a=()=>n(764880),l=()=>n(869190),d=()=>n(959013),c=()=>n(777092),u=()=>n(921855),p=()=>n(972435),h=()=>n(963589),g=()=>n(962730),m=()=>n(706965),y=()=>n(678553),S=()=>n(89924),x=()=>n(859428),C=()=>n(125565),v=()=>n(715011),f=n(474848);function b(e){let{isPageMoreButton:t,hideTopBorder:n,store:o,wordCountStores:l,showWordCount:c}=e;const u=(0,s().K8)((()=>j(o)),[o]),{device:h}=(0,i().v3)(),b=(0,s().K8)((()=>h.isPhone),[h]),A=p().A.getIntl(),I=(0,r().IS)((()=>({menuItem:{paddingTop:b?8:n?0:6,paddingBottom:b?8:16}})),[n,b]);return u&&!u.canAccess?null:(0,f.jsx)(S().A,{topBorder:!t&&!n,style:{paddingTop:t?0:8,paddingBottom:t?0:8},children:(0,f.jsx)(y().Ay,{style:u?void 0:I.menuItem,shouldWrapTitle:!0,title:u?(0,f.jsx)(x().A,{placement:g().W.Right,render:e=>(0,f.jsxs)("div",{...e,children:[c&&(0,f.jsx)(C().A,{isSmall:!0,isSecondaryColor:!0,isMobile:h.isPhone,isMultiline:!0,style:{marginBottom:4,marginTop:8},children:(0,f.jsx)(d().sA,{id:"pageMoreButton.wordCount.caption",defaultMessage:"Word count: {count}",values:{count:(0,f.jsx)(v().A,{store:o})}})}),l&&(0,f.jsx)(w,{stores:l}),(0,f.jsx)(C().A,{isSmall:!0,isSecondaryColor:!0,isMobile:h.isPhone,isMultiline:!0,style:{marginBottom:4},children:(0,f.jsx)(d().sA,{id:"blockAuthorInfo.label",defaultMessage:"Last edited by {author}",values:{author:u.lastEditedBy.asActor?(0,a().lR)(A,u.lastEditedBy):void 0}})}),(0,f.jsx)(C().A,{isSmall:!0,isSecondaryColor:!0,isMobile:h.isPhone,style:{marginBottom:c?8:0},children:u.lastEditedTime})]}),renderTooltip:()=>(0,f.jsx)(m().A,{store:o,compactFormat:!0})}):void 0,loading:!u})})}function j(e){const t=e.getCreatedByPointer(),n=e.getCreatedTime(),i=e.getLastEditedByPointer(),s=e.getLastEditedTime(),r=p().A.getIntl();if(!e.canRead())return{canAccess:!1};if(t&&n&&s&&i){const a=(0,c().vt)({parentStore:e,pointer:t}),d=(0,l().jE)(n,o().locale,r),u=(0,c().vt)({parentStore:e,pointer:i}),p=(0,l().jE)(s,o().locale,r);if(!u)return;return{canAccess:!0,createdBy:a,createdTime:d,lastEditedBy:u,lastEditedTime:p}}}function w(e){const{stores:t}=e,n=(0,h().X)("selectable_word_count"),o=(0,s().K8)((()=>n?A(t):0),[n,t]);return n?(0,f.jsx)(C().A,{isSmall:!0,isSecondaryColor:!0,style:{marginBottom:4},children:(0,f.jsx)(d().sA,{id:"blockMetadataMenuItem.wordCount",defaultMessage:"{count, plural, one {# word} other {# words}}",values:{count:o}})}):null}function A(e){return e.reduce(((e,t)=>{const n=(0,u().r4)(t.getTitleValue(),t);return e+(0,u().sQ)(n)+A(t.getContentStores())}),0)}},829548:(e,t,n)=>{n.d(t,{y:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M6.303 3.625c-.71 0-1.374.355-1.768.946L2.232 8.025c-.233.35-.357.76-.357 1.18v5.045c0 1.174.951 2.125 2.125 2.125h12a2.125 2.125 0 0 0 2.125-2.125V9.204c0-.42-.124-.83-.357-1.179l-2.303-3.454a2.13 2.13 0 0 0-1.768-.946zm-.728 1.64a.88.88 0 0 1 .728-.39h7.394c.293 0 .566.146.728.39l2.303 3.454a1 1 0 0 1 .083.156h-4.702a.625.625 0 0 0-.625.625v.476a1.484 1.484 0 0 1-2.968 0V9.5a.625.625 0 0 0-.625-.625H3.189a1 1 0 0 1 .083-.156zm-2.45 4.86H7.27a2.734 2.734 0 0 0 5.46 0h4.145v4.125a.875.875 0 0 1-.875.875H4a.875.875 0 0 1-.875-.875z"})},i=(0,n(340498).wt)("inbox",o)},883234:(e,t,n)=>{n.d(t,{_:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},918048:(e,t,n)=>{n.r(t),n.d(t,{SecondarySidebar:()=>de});var o=n(296540),i=()=>n(484714),s=()=>n(847249),r=()=>n(401497),a=()=>n(72307),l=()=>n(418133),d=()=>n(145214),c=()=>n(545805),u=()=>n(77395),p=()=>n(631611),h=()=>n(477293),g=()=>n(577009),m=()=>n(929469),y=()=>n(346),S=()=>n(567121),x=()=>n(362749),C=()=>n(644914),v=()=>n(770906),f=(n(898992),n(354520),n(581454),()=>n(959013)),b=()=>n(534177),j=()=>n(899963),w=()=>n(872539),A=()=>n(857783),I=()=>n(778417),M=()=>n(218557),P=()=>n(805751),k=()=>n(419357),B=()=>n(928600),V=()=>n(2143),L=()=>n(89924),T=()=>n(550125),O=()=>n(307296),K=()=>n(611651),_=()=>n(13679),z=()=>n(855801),E=()=>n(728611),H=()=>n(722872),R=()=>n(396301),W=()=>n(640653),D=()=>n(645873),N=()=>n(581857),Z=()=>n(303742),F=()=>n(618152),q=()=>n(33194),$=()=>n(756279),Q=()=>n(351360),U=()=>n(337567),X=()=>n(970585),J=()=>n(714818),G=()=>n(712505),Y=()=>n(17090),ee=()=>n(441199),te=n(474848);const ne=(0,f().YK)({searchPlaceholder:{id:"morePagesSecondarySidebar.search.placeholder",defaultMessage:"Search for a page..."}});function oe(e){let{type:t}=e;const n=(0,f().tz)(),a=(0,i().v3)(),l=(0,s().uB)(void 0,Y().A),{currentSpaceStore:d,currentSpaceViewStore:c}=(0,s().O$)(Q().default),{allPagesStores:u}=(0,s().K8)((()=>{const e=F().r.state,n="all"===e.workspaceFilter,o="none"===e.workspaceFilter,i=e.spaceSelections,{currentUserSettingsStore:s,currentUserRootStore:r}=Q().default.state;if(!c||!s)return{allPagesStores:[]};if("shared"===t&&(0,Z().o)(c.getSpaceStore())){return{allPagesStores:(0,N().P)({environment:a,currentUserRootStore:r,spaceIdsToInclude:n?void 0:o?[]:Object.keys(i).filter((e=>i[e]))}).allPageStores}}return(0,W().au)({environment:a,spaceViewStore:c,userSettingsStore:s,type:t}).state}),[c,a,t]),p=(0,o.useMemo)((()=>({query:"",numPagesShown:O().LS})),[]),[h,g]=o.useState(p),m=(0,s().uB)(void 0,X().A),y=(0,s().K8)((()=>{if(!c)return"manual";return(0,R().RQ)({spaceViewStore:c,type:t}).sortOption}),[c,t]),S=(0,s().K8)((()=>{const e=(0,R().L$)({allPages:u,state:h,intl:n});return"manual"===y?e:(0,R().$e)({pageItems:e})}),[u,h,n,y]),x=(0,o.useMemo)((()=>"manual"===y?S.length>0?[{key:"all",pages:S.map(((e,t)=>({...e,index:t})))}]:[]:(0,R().Lh)(S)),[y,S]),C=(0,r().IS)((()=>({container:{width:"100%",height:"100%",overflow:"hidden"},scroller:{height:"100%"}})),[]),j=(0,s().K8)((()=>ee().default.state.mode),[]),I=(0,s().K8)((()=>G().default.isCenterPeekOpen()||J().A.state.open),[]),P=(0,s().K8)((()=>ee().default.isVisible()),[]),k=(0,o.useCallback)((()=>{v().VI({environment:a})}),[a]),q=(0,s().K8)((()=>void 0!==c&&(0,R().XA)({spaceViewStore:c})),[c]),ne=(0,s().K8)((()=>(0,U().Vk)()),[]),oe=(0,s().K8)((()=>{if(c&&d)return(0,R().rE)({typeWithTeam:{type:"private"},currentSpaceStore:d,currentSpaceViewStore:c})}),[c,d]),re=(0,o.useCallback)((e=>{let{draggingStores:n}=e;return"private"===t&&(!!q&&(!!d&&(0,R().ox)({environment:a,draggingStores:n,parentStore:oe,currentSpaceStore:d})))}),[t,q,d,a,oe]),{value:ae}=(0,D().fJ)(z().VI.duplicateActions),le=(0,o.useCallback)((async e=>{oe&&await w().RM({dropArgs:e,environment:a,type:"private",isDroppingOnFullSection:!0,parentStore:oe,duplicateActions:ae})}),[ae,a,oe]);return d&&c&&P?(0,te.jsx)(_().A,{droppable:!0,disableEditNearestBlock:!0,store:d,disable:I,disableRectangularSelection:!0,render:e=>{let{selectableEvents:n}=e;return(0,te.jsx)("div",{style:C.container,...n,children:(0,te.jsxs)(B().A,{menuType:H().gu.Popup,disableScroller:!0,header:(0,te.jsx)(ie,{state:h,setState:g,menuListStore:m,type:t}),maxHeight:"100%",children:[(0,te.jsx)(T().A,{scrollerStore:l}),(0,te.jsx)(V().H,{store:l,type:$().A.Y,style:C.scroller,children:(0,te.jsx)(M().Tl,{dropTargetKey:"secondarySidebarPrivateSection",canDropOnto:!0,canDropBelow:!1,canAcceptDrop:re,onSelectableDrop:le,shouldShowDropZone:q,children:(0,te.jsx)(K().A,{sections:x,state:h,setState:g,type:t,spaceStore:d,spaceViewStore:c,visiblePageIds:[],onClose:k,menuListStore:m,renderSections:e=>function(e){const{sections:t,onClose:n,environment:o,mode:i,type:s,assistantCreatedPageIds:r}=e,a=1===t.length;return t.map(((e,l)=>{let{key:d,pages:c}=e;return{key:d,items:c.map((e=>{let{blockId:t,store:a,index:l}=e;if(!(0,b().O9)(r)||!r.includes(t))return{key:t,action:e=>{let{event:t}=e;const r=E().Vr(t);r||"peek"!==i||n(),A().uK({environment:o,store:a,openInNew:r,pageVisitSource:(0,R().NX)({type:s,from:"secondary_sidebar"})})},render:()=>(0,te.jsx)(se,{store:a,itemIndex:l,type:s})}})).filter(b().O9),render:e=>(0,te.jsx)(L().A,{...e,desktopTitleStyle:{paddingLeft:16,paddingTop:0===l?0:4},topBorder:!1,title:a?void 0:(0,R().OJ)({section:d,isFirst:!1}),style:{paddingTop:0,marginTop:0,paddingBottom:l===t.length-1?30:0}})}}))}({spaceStore:d,environment:a,onClose:k,sections:e,mode:j,type:t,assistantCreatedPageIds:ne})})})})]})})}}):null}function ie(e){let{state:t,setState:n,menuListStore:s,type:a}=e;const l=(0,o.useRef)(null),d=(0,i().v3)(),c=(0,f().tz)(),u=(0,r().IS)((e=>({inputOuter:{borderRadius:6,backgroundColor:e.whiteButtonBackground,padding:"4px 8px"},menuItem:{paddingBottom:8}})),[]),p=(0,o.useCallback)((e=>{n({query:e.target.value,numPagesShown:O().LS}),s.setState({...s.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}}),j().I(d,{sidebar_section_type:a,search_query:e.target.value,flow_id:ee().default.state.flowId})}),[d,s,n,a]),h=(0,o.useCallback)((()=>{l.current&&I().IU({environment:d})}),[d]);return(0,te.jsx)(L().A,{style:u.menuItem,children:(0,te.jsx)(P().A,{debugName:"MorePagesSecondarySidebarContentInput",capture:!0,allowSearch:!0,allowOpenLinkMenu:!0,allowEsc:!0,children:(0,te.jsx)(k().Ay,{ref:l,focusInitial:!0,onFocus:h,showClearButton:!0,inputOuterStyle:u.inputOuter,itemMarginLeft:0,itemMarginRight:0,placeholder:c.formatMessage(ne.searchPlaceholder),value:t.query,onChange:p})})})}function se(e){const t=(0,i().v3)(),{store:n,itemIndex:a,type:l}=e,{currentSpaceViewStore:d,currentSpaceStore:c}=(0,s().O$)(Q().default),u=(0,s().K8)((()=>{if(d&&c)return(0,R().rE)({typeWithTeam:{type:l},currentSpaceStore:c,currentSpaceViewStore:d})}),[d,c,l]),p=(0,s().K8)((()=>{if(!d)return"manual";return(0,R().RQ)({spaceViewStore:d,type:l}).sortOption}),[d,l]),h=(0,r().IS)((()=>({outlinerContainer:{borderRadius:12,paddingLeft:4,paddingRight:4,width:"inherit",marginBottom:1}})),[]),g=(0,o.useCallback)((()=>{(0,R().xy)({environment:t,store:n,type:l})}),[t,n,l]);return(0,te.jsx)("div",{style:h.outlinerContainer,children:(0,te.jsx)(q().Ay,{from:"secondary_sidebar",parentStore:u,variant:"manual"===p?"primary":"secondary",type:l,disabled:!1,store:n,itemIndex:a,itemDepth:0,onNavigate:g},n.id)})}var re=()=>n(443194),ae=()=>n(941463);const le={duration:200};function de(){const e=(0,i().v3)(),t=(0,s().K8)((()=>(0,C().km)(e)),[e]),{mode:n,openState:l,contentType:p,isOpen:h,isVisible:g,isTransitioningState:m,isPeekDismissable:x}=(0,s().K8)((()=>{const{mode:e,openState:t,contentType:n}=ee().default.state;return{mode:e,openState:t,contentType:n,isOpen:ee().default.isOpen(),isVisible:ee().default.isVisible(),isTransitioningState:ee().default.isTransitioningState(),isPeekDismissable:ee().default.isPeekDismissableState()}}),[]),f=(0,o.useId)();(0,o.useEffect)((()=>{setTimeout((()=>{"closing"===l&&ee().default.setState({...ee().default.state,openState:"closed"}),"opening"===l&&ee().default.setState({...ee().default.state,openState:"open"})}),le.duration+100)}),[l]);const b=(0,s().K8)((()=>ae().Ay.getWidth()),[]),j=(0,s().K8)((()=>ee().default.state.isResizerHovered&&ee().default.isOpen()),[]),w=(0,y().n_)(),A=(0,r().IS)((e=>{const o={transition:"box-shadow 300ms ease",boxShadow:j?e.secondarySidebarResizerBoxShadow:e.secondarySidebarBoxShadow};return{container:{order:a().A.appCursorListener.secondarySidebar,cursor:"default",zIndex:g&&!m?201:105,width:b,height:w?`calc(100% - ${S().ls}px)`:"100%",background:e.contentBackground,flexShrink:0,display:"flex",visibility:g?"visible":"hidden",position:"fixed",left:t,..."peek"===n&&{boxShadow:e.shadowMD,clipPath:"inset(0px -24px 0px 0px)"}},overlayBackground:{cursor:"default",position:"fixed",top:0,left:t,width:`calc(100vw - ${t}px)`,height:"100vh",zIndex:200},resizer:{position:"absolute",top:0,right:0,zIndex:1,height:"100%",width:2,...o}}}),[j,g,m,b,w,t,n]),I=(0,o.useCallback)((()=>{x&&v().VI({environment:e})}),[e,x]),M=(0,o.useCallback)((()=>{ee().default.setState({...ee().default.state,isMouseEntered:!0})}),[]),P=(0,o.useCallback)((()=>{ee().default.setState({...ee().default.state,isMouseEntered:!1})}),[]);return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(c().A,{debugName:"SecondarySidebar",capture:x,onEsc:()=>{v().gO({environment:e})}},String(x)),x&&(0,te.jsx)("div",{style:A.overlayBackground,onClick:I,role:"presentation",tabIndex:-1}),(0,te.jsxs)(d().A,{forceCompositeLayer:!0,visible:h,initial:{opacity:.7,translateX:-b},exit:{opacity:.7,translateX:-b},animate:{opacity:1,translateX:0,width:b},skip:!m,config:le,onAnimationEnd:()=>{"opening"===l?ee().default.setState({...ee().default.state,openState:"open"}):"closing"===l&&ee().default.setState({...ee().default.state,openState:"closed"})},style:A.container,onMouseMove:M,onMouseLeave:P,role:"region","aria-labelledby":f,"aria-hidden":!g||void 0,children:[(0,te.jsx)(ce,{titleId:f},p),(0,te.jsx)("div",{style:A.resizer}),(0,te.jsx)(u().A,{type:"secondary_sidebar"})]})]})}function ce(e){const{titleId:t}=e,{contentType:n}=(0,s().O$)(ee().default),o=(0,r().IS)((()=>({content:{display:"flex",flexDirection:"column",width:"100%",height:"100vh"}})),[]),i="on"===(0,h().r)("inbox_activity_split");switch(n){case"private_pages":return(0,te.jsxs)("div",{style:o.content,children:[(0,te.jsx)(re().Q,{type:"private_pages",titleId:t}),(0,te.jsx)(oe,{type:"private"})]});case"shared_pages":return(0,te.jsxs)("div",{style:o.content,children:[(0,te.jsx)(re().Q,{type:"shared_pages",titleId:t}),(0,te.jsx)(oe,{type:"shared"})]});case"inbox":return(0,te.jsx)(m().B.Provider,{value:i?"inbox":void 0,children:(0,te.jsx)(g().JN,{titleId:t})});case"activity":return(0,te.jsx)(m().B.Provider,{value:i?"activity":void 0,children:(0,te.jsx)(g().JN,{titleId:t})});case"assistant":return(0,te.jsx)(p().hP,{surface:p().wy.fullPage,children:(0,te.jsxs)("div",{style:o.content,children:[(0,te.jsx)(re().Q,{type:"assistant",titleId:t}),(0,te.jsx)(l().Ay,{})]})});case"teams":return(0,te.jsxs)("div",{style:o.content,children:[(0,te.jsx)(re().Q,{type:"teams",titleId:t}),(0,te.jsx)(x().hO,{})]});default:return(0,te.jsx)(ue,{})}}function ue(){return(0,te.jsx)("div",{})}},958846:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(e){let{loading:t,onLoadMore:i,loadMoreOffsetThreshold:s,resultSize:r,fetchSize:a}=e;return(0,o.jsx)(n(228927).A,{onChange:e=>function(e,t,n,o,i,s){if(t)return;const r=o||200;if(e>r)return;const a=void 0===i||void 0===s||i>=s;a&&n()}(e,t,i,s,r,a)})}}}]);