"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[29945],{346:(e,t,n)=>{n.d(t,{MG:()=>h,T1:()=>g,a1:()=>v,dt:()=>m,kg:()=>y,lC:()=>x,n_:()=>f});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(187174),l=()=>n(645873),s=()=>n(941463),c=()=>n(441199),d=()=>n(749687),u=()=>n(737230),p=()=>n(756114);const g=new(l().O2)("PerformanceToolbar",(()=>Promise.all([n.e(96346),n.e(16471),n.e(85864),n.e(92845),n.e(71718),n.e(21194),n.e(17989),n.e(90625),n.e(37580),n.e(45624)]).then(n.bind(n,140401)))),h=(0,l()._h)(g,(e=>e.PerformanceToolbar)),m=(0,l()._h)(g,(e=>e.PerformanceToolbarSettings));function y(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function f(){const e=(0,i().v3)(),t=b("PerformanceToolbarStore"),n=b("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function x(){const e=b("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function v(){const e=(0,i().v3)(),t=b("createPerformanceToolbarMouseListeners"),n=b("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:l,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:h,updateSidebarWidth:m}=(0,r().K8)((()=>({sidebarExpanded:d().sidebarExpandedStore.state,sidebarWidth:d().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:s().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,o.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,l,p,g,h,m)}),[t,e,n,a,l,p,g,h,m])}function b(e){const t=y(),[{value:n}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},50651:(e,t,n)=>{n.d(t,{default:()=>I});n(898992),n(354520),n(672577),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),l=()=>n(743176),s=()=>n(851979),c=()=>n(987555),d=()=>n(959013),u=()=>n(496603),p=()=>n(284371),g=()=>n(989423);var h=()=>n(27732),m=()=>n(896628),y=()=>n(751156),f=()=>n(722872),x=()=>n(685889),v=()=>n(962730),b=()=>n(736767),S=()=>n(41459),C=()=>n(760217),P=()=>n(439264),k=()=>n(285790),M=()=>n(928600),j=()=>n(939740),w=()=>n(89924),R=n(474848);const I=function(e){let{collectionStore:t,targetCollectionStore:l,property:s,disabled:c,rowType:u}=e;const p=(0,a().DP)(),h=(0,i().v3)(),m=(0,r().uB)(void 0,n(970585).A),{format:y}=(0,o.useContext)(n(655424).t),f=(0,r().K8)((()=>{const e=x().B7({collectionStore:t,property:s}),n=Object.keys(l.getSchema()).map((t=>e.find((e=>e.property===t))??{property:t,visible:!1})),o=e.map((e=>e.property)),i=e=>{const t=o.indexOf(e);return-1!==t?t:1/0};return n.sort(((e,t)=>i(e.property)-i(t.property))),n}),[t,l,s]),b=(0,o.useCallback)((e=>(0,R.jsx)(T,{parent:e,collectionStore:t,property:s,disabled:c,targetCollectionStore:l,menuListStore:m,allRelatedTargetProperties:f})),[t,s,c,l,m,f]),C=(0,a().IS)((e=>({tooltipBody:{color:e.text.secondary},tooltipContainer:{display:"flex",flexDirection:"column"}})),[]);return(0,i().WS)()&&"section"!==u||y===S().j.FormEditor||y===S().j.FormViewer?null:(0,R.jsx)(n(859428).A,{renderTooltip:()=>(0,R.jsxs)("div",{style:C.tooltipContainer,children:[(0,R.jsx)("div",{children:(0,R.jsx)(d().sA,{id:"database.RelationCustomizeLayoutMenu.tooltip.button.message",defaultMessage:"Customize shown properties"})}),c&&(0,R.jsx)("div",{style:C.tooltipBody,children:(0,R.jsx)(d().sA,{id:"database.RelationCustomizeLayoutMenu.tooltip.button.message.no_access",defaultMessage:"You do not have permission to edit"})})]}),placement:"section"===u?v().W.Top:v().W.Right,render:e=>(0,R.jsx)(n(406699).Ay,{popupType:n(897119).nl.Popup,alignmentToOrigin:v().C.Start,...e,renderOrigin:t=>(0,R.jsx)(k().A,{icon:n(30626)._,iconStyle:{width:16,color:p.mediumIconColor,fill:p.mediumIconColor},disabled:c,...t,...e}),onClick:()=>{!function(e,t){g().vd(e,"relation_customize_displayed_properties",t)}(h,{from:"section"===u?"relation_section":"configure_relation_modal"})},originGap:16,render:b})})};function A(e){const{props:t,children:n}=e;return(0,R.jsx)(w().A,{...t,noTextOverflow:!0,title:(0,R.jsx)(d().sA,{defaultMessage:"Hidden in relation",id:"database.relationMenu.hiddenInRelationTitle"}),desktopTitleStyle:{height:19},children:n,disableDesktopPadding:!0})}function _(e,t,n,o,i,r,a){const{properties:d,visibility:g}=e;return u().oE(d.map((e=>function(e,t,n,o,i,r,a){const{propertyFormat:d,visibility:u}=e,g=!u,m=i.getSchema();if(!m)return;const y=m[d.property];return y?{key:d.property,render:e=>(0,R.jsx)(C().A,{...e,showDragHandle:!a,title:(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(l().zB,{icon:y.icon,type:y.type,size:16,theme:n,style:{fill:n.regularIconColor}}),(0,R.jsx)("span",{style:{marginLeft:8,...p().RC},children:y.name})]}),right:(0,R.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,R.jsx)(k().A,{icon:g?c().T:s().h,iconStyle:{width:16,height:16},isDarkIconColor:!g,onClick:()=>{h().xI({propertyFormat:d,visibility:u,collectionStore:o,property:r,environment:t})},disabled:a||"title"===d.property})})}),action:()=>{}}:void 0}({propertyFormat:e,visibility:g},t,n,o,i,r,a))))}function D(e){const t=(0,i().v3)(),{collectionStore:n,property:o,menuListStore:r,disabled:a,visibleProperties:l,hiddenProperties:s,children:c}=e,d=u().oE([...l.map((e=>e.property)),l.length>0&&s.length>0&&{key:"group-header-hidden-property",draggable:!1},...s.map((e=>e.property))]);return(0,R.jsx)(P().Ay,{direction:"vertical",keys:d,renderKey:(e,t)=>c[t],onDrop:e=>{!function(e,t,n,o,i){const{newPropertyKeys:r}=e,a=x().B7({collectionStore:n,property:o}),l=r.indexOf("group-header-hidden-property"),s=u().oE(r.filter((e=>!e.startsWith("group-header-"))).map(((e,t)=>{const n=a.find((t=>t.property===e));return n?l>0?"title"===e&&t>=l?n:{...n,visible:Boolean(t<l)}:n:{property:e,visible:!(l>0)||Boolean(t<l)}}))),c=a.filter((e=>!r.includes(e.property))),d={...x().TA(n)};d[o]||(d[o]={}),d[o].related_properties=[...s,...c],y().createAndCommit({userAction:"RelationPropertyCustomizeLayoutMenu.handlePropertyReorder",environment:t,canUndo:!0,perform:e=>{m().zA({stores:[n],update:{collection_relation_options:d},transaction:e})}}),i.reset()}({newPropertyKeys:e},t,n,o,r)},disabled:a})}function T(e){let{parent:t,collectionStore:n,property:o,disabled:l,targetCollectionStore:s,menuListStore:c,allRelatedTargetProperties:p}=e;const g=(0,a().DP)(),h=(0,i().v3)(),m=p.filter((e=>e.visible)),y=p.filter((e=>!e.visible)),x=(0,r().K8)((()=>_({properties:m,visibility:!0},h,g,n,s,o,l)),[m,h,g,n,s,o,l]),v=(0,r().K8)((()=>_({properties:y,visibility:!1},h,g,n,s,o,l)),[y,h,g,n,s,o,l]);return p?(0,R.jsxs)(M().A,{menuType:f().gu.Popup,maxWidth:240,maxHeight:500,children:[0===p.length&&(0,R.jsx)(w().A,{children:(0,R.jsx)(b().A,{caption:(0,R.jsx)(d().sA,{defaultMessage:"No properties",id:"database.relationMenu.noProperties"})})}),p.length>0&&(0,R.jsx)(j().Ay,{type:j().Oh.Vertical,store:c,initialFocus:void 0,sections:u().oE([m.length>0&&{key:"visible_and_hidden_properties",render:e=>(0,R.jsx)(w().A,{...e,noTextOverflow:!0,title:(0,R.jsx)(d().sA,{defaultMessage:"Shown in relation",id:"database.relationMenu.shownInRelationTitle"}),desktopTitleStyle:{height:18},children:(0,R.jsx)(D,{collectionStore:n,property:o,disabled:l,menuListStore:c,visibleProperties:m,hiddenProperties:y,children:e.children})}),items:u().oE([...x,y.length>0&&{key:"group-header-hidden-property",render:e=>(0,R.jsx)(A,{props:e,children:(0,R.jsx)(R.Fragment,{})}),action:()=>{}},...v])},0===m.length&&y.length>0&&{key:"hidden_properties",render:e=>(0,R.jsx)(A,{props:e,children:(0,R.jsx)(D,{collectionStore:n,property:o,disabled:l,menuListStore:c,visibleProperties:m,hiddenProperties:y,children:e.children})}),items:v}])})]}):null}},51194:(e,t,n)=>{n.d(t,{a:()=>r});var o=n(296540),i=()=>n(525128);function r(){const e=(0,o.useRef)(!1);return(0,i().E)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},63467:(e,t,n)=>{n.d(t,{y:()=>d});var o=()=>n(637997),i=()=>n(267419);const r={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222))};let a=!1,l=!1;async function s(e){for(const[n,i]of Object.entries(e.emojiLocaleKeywords)){var t;o().fB[n]={...o().fB[n],keywords:[...i,...(null===(t=o().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:n,...o}=t;return{...o,emojiByName:{...n,...e.emojiByName}}}))}async function c(){if(a)return;const[e]=n(662303).locale.split("-");e in r&&(await s(await r[e]()),a=!0)}const d=(0,n(279900).A)((async()=>{await async function(){l||(await s(await n.e(51872).then(n.bind(n,443716))),l=!0)}(),await c()}))},64901:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(e){const t=(0,n(484714).v3)(),i=(0,n(401497).DP)();return(0,o.jsx)(n(187485).A,{style:{display:"flex",alignSelf:"stretch",width:36,...e.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:e.href,onClick:()=>n(148024).FH(t,{from:e.analyticsFrom}),children:(0,o.jsx)(n(704152).A,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,n(133033).$)({width:18,marginTop:1,fill:i.lightIconColor})})})}},105819:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,pencilLineIcon:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,n(340498).wt)("pencilLine",o)},126617:(e,t,n)=>{n.d(t,{Y:()=>i});n(296540);const o={viewBox:"0 0 16 16",svg:(0,n(474848).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},i=(0,n(340498).wt)("ellipsisSmall",o)},132389:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,o.jsx)("div",{style:t})}},134589:(e,t,n)=>{n.d(t,{R:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.325 10.466V2.063a.625.625 0 1 1 1.25 0v8.453l1.458-1.458a.625.625 0 1 1 .884.884l-2.5 2.5a.625.625 0 0 1-.884 0l-2.5-2.5a.625.625 0 1 1 .884-.884z"}),(0,o.jsx)("path",{d:"M11.825 6.375H14.5c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-9a.875.875 0 0 1-.875-.875v-7.5c0-.483.392-.875.875-.875h2.575v-1.25H5.5A2.125 2.125 0 0 0 3.375 7.25v7.5c0 1.174.951 2.125 2.125 2.125h9a2.125 2.125 0 0 0 2.125-2.125v-7.5A2.125 2.125 0 0 0 14.5 5.125h-2.675z"})]})},r=(0,n(340498).wt)("squareAndArrowDown",i)},147294:(e,t,n)=>{n.d(t,{E:()=>h});n(296540);var o=()=>n(847249),i=()=>n(401497),r=()=>n(959013),a=()=>n(963589),l=()=>n(351360),s=()=>n(464708),c=n(474848);const d={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},http_request_automation_action:{launchDateMs:173324302e4,expiryDateMs:1738368e6},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},show_integration_webhooks_callout:{launchDateMs:17428608e5,expiryDateMs:17506368e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5}};function u(e){let{style:t}=e;const n=(0,i().IS)((e=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...t}})),[t]);return(0,c.jsx)(s().A,{color:"blue",style:n.badge,content:(0,c.jsx)(r().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function p(e){let{style:t,newBadgeKey:n}=e;const{launchDateMs:i,expiryDateMs:r}=d[n];return(0,o().K8)((()=>{const{currentUserSettingsStore:e}=l().default.state;if(e&&e.isReady()){var t;const n=null===(t=e.getSettings())||void 0===t?void 0:t.signup_time;if(n&&n>i)return!1}return Date.now()<=r}),[r,i])?(0,c.jsx)(u,{style:t}):null}function g(e){let{style:t,newBadgeKey:n}=e;return(0,a().X)(n)?(0,c.jsx)(u,{style:t}):null}function h(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,c.jsx)(g,{...e}):(0,c.jsx)(p,{...e})}},183804:(e,t,n)=>{n.d(t,{A:()=>s,C:()=>c});n(296540);var o=()=>n(562866),i=()=>n(725118),r=()=>n(803557),a=()=>n(437487),l=n(474848);function s(e){const{onInviteClick:t,onInviteComplete:n,buttonStyle:r,buttonContainerStyle:a}=e;return[{key:"slack_imports",render:()=>(0,l.jsx)(i().R,{inviteOrigin:"space_setting_slack_dropdown",canEditPermission:!0,onInviteClick:t,onInviteComplete:n,buttonLabel:(0,l.jsx)(o().$c,{type:"slack"}),buttonStyle:r,buttonContainerStyle:a}),action:()=>{}},{key:"google_imports",render:()=>(0,l.jsx)(o().aI,{inviteOrigin:"space_setting_google_dropdown",canEditPermission:!0,onInviteClick:t,onInviteComplete:n,buttonLabel:(0,l.jsx)(o().$c,{type:"google"}),buttonStyle:r,buttonContainerStyle:a}),action:()=>{}}]}function c(e){const{onClickAuthenticated:t,hideChevronIcon:n,containerStyle:i,buttonStyle:s,flowId:c}=e;return[{key:"slack_imports",render:()=>(0,l.jsx)(r().Xx,{onClickAuthenticated:()=>t(a().NL.Slack),title:(0,l.jsx)(o().$c,{type:"slack"}),containerStyle:i,buttonStyle:s,from:"share_menu",inviteOrigin:"page_share_modal",flowId:c,loadContacts:!0,hideChevronIcon:n}),action:()=>{}},{key:"google_imports",render:()=>(0,l.jsx)(r().KG,{onClickAuthenticated:()=>t(a().NL.Google),containerStyle:i,buttonStyle:s,from:"share_menu",inviteOrigin:"page_share_modal",flowId:c,loadContacts:!0,hideChevronIcon:n,buttonLabel:(0,l.jsx)(o().$c,{type:"google"})}),action:()=>{}}]}},198048:(e,t,n)=>{n.d(t,{C:()=>a});var o=n(296540),i=()=>n(51194),r=()=>n(610104);function a(){const e=(0,i().a)(),[t,n]=(0,o.useState)(0),a=(0,o.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,o.useCallback)((()=>r().Gt.postRender(a)),[a]),t]}},203066:(e,t,n)=>{n.d(t,{N:()=>c});var o=n(296540);class i extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function r({children:e,isPresent:t}){const n=(0,o.useId)(),r=(0,o.useRef)(null),a=(0,o.useRef)({width:0,height:0,top:0,left:0});return(0,o.useInsertionEffect)((()=>{const{width:e,height:o,top:i,left:l}=a.current;if(t||!r.current||!e||!o)return;r.current.dataset.motionPopId=n;const s=document.createElement("style");return document.head.appendChild(s),s.sheet&&s.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            top: ${i}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(s)}}),[t]),o.createElement(i,{isPresent:t,childRef:r,sizeRef:a},o.cloneElement(e,{ref:r}))}const a=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:s,presenceAffectsLayout:c,mode:d})=>{const u=(0,n(328601).M)(l),p=(0,o.useId)(),g=(0,o.useMemo)((()=>({id:p,initial:t,isPresent:i,custom:s,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))})),c?void 0:[i]);return(0,o.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[i]),o.useEffect((()=>{!i&&!u.size&&a&&a()}),[i]),"popLayout"===d&&(e=o.createElement(r,{isPresent:i},e)),o.createElement(n(786719).t.Provider,{value:g},e)};function l(){return new Map}const s=e=>e.key||"";const c=({children:e,custom:t,initial:i=!0,onExitComplete:r,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:d="sync"})=>{(0,n(285238).V)(!l,"Replace exitBeforeEnter with mode='wait'");const u=(0,o.useContext)(n(29473).L).forceRender||(0,n(198048).C)()[0],p=(0,n(51194).a)(),g=function(e){const t=[];return o.Children.forEach(e,(e=>{(0,o.isValidElement)(e)&&t.push(e)})),t}(e);let h=g;const m=(0,o.useRef)(new Map).current,y=(0,o.useRef)(h),f=(0,o.useRef)(new Map).current,x=(0,o.useRef)(!0);if((0,n(525128).E)((()=>{x.current=!1,function(e,t){e.forEach((e=>{const n=s(e);t.set(n,e)}))}(g,f),y.current=h})),(0,n(757491).l)((()=>{x.current=!0,f.clear(),m.clear()})),x.current)return o.createElement(o.Fragment,null,h.map((e=>o.createElement(a,{key:s(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:c,mode:d},e))));h=[...h];const v=y.current.map(s),b=g.map(s),S=v.length;for(let n=0;n<S;n++){const e=v[n];-1!==b.indexOf(e)||m.has(e)||m.set(e,void 0)}return"wait"===d&&m.size&&(h=[]),m.forEach(((e,n)=>{if(-1!==b.indexOf(n))return;const i=f.get(n);if(!i)return;const l=v.indexOf(n);let x=e;if(!x){const e=()=>{m.delete(n);const e=Array.from(f.keys()).filter((e=>!b.includes(e)));if(e.forEach((e=>f.delete(e))),y.current=g.filter((t=>{const o=s(t);return o===n||e.includes(o)})),!m.size){if(!1===p.current)return;u(),r&&r()}};x=o.createElement(a,{key:s(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:c,mode:d},i),m.set(n,x)}h.splice(l,0,x)})),h=h.map((e=>{const t=e.key;return m.has(t)?e:o.createElement(a,{key:s(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)})),o.createElement(o.Fragment,null,m.size?h:h.map((e=>(0,o.cloneElement)(e))))}},226629:(e,t,n)=>{n.d(t,{default:()=>Kn});n(944114),n(898992),n(354520),n(672577),n(803949),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),l=()=>n(584262),s=()=>n(66689),c=()=>n(31503),d=()=>n(970013),u=()=>n(713998),p=()=>n(329199),g=()=>n(921940),h=()=>n(617871),m=()=>n(416504),y=()=>n(187174),f=()=>n(689094),x=()=>n(179034),v=()=>n(96689),b=()=>n(245241),S=()=>n(959013),C=()=>n(496603),P=()=>n(299709),k=()=>n(970330),M=()=>n(989423);function j(e,t){M().vd(e,"relation_add_block",t)}function w(e,t){M().vd(e,"relation_database_click",t)}var R=()=>n(727395),I=()=>n(846156),A=()=>n(449506),_=()=>n(884107),D=()=>n(901389),T=()=>n(870578),B=()=>n(435009),L=()=>n(319975),F=()=>n(751156),E=()=>n(633457),O=()=>n(655424),W=()=>n(41459),N=()=>n(760217),z=()=>n(297872),U=()=>n(419357),K=()=>n(928600),V=()=>n(64e3),H=()=>n(480095),G=()=>n(897119),q=()=>n(614505),$=()=>n(16006),Y=()=>n(89924),Q=()=>n(64901),X=()=>n(287531),Z=n(474848);function J(e){const{targetCollectionStore:t,title:n,onClick:l,focused:s,isSection:c,index:d,parentBlockStore:u}=e,p=(0,r().K8)((()=>t.canEdit()),[t]),g=(0,r().K8)((()=>t.isSyncedCollection()),[t]),h=(0,r().K8)((()=>u.canEdit()),[u]),m=(0,i().Y0)(),y=(0,a().IS)((e=>({wrapper:{borderTop:`1px solid ${e.lightDividerColor}`,paddingTop:4,paddingBottom:4},row:{fontSize:m.isMobile?16:14,minHeight:m.isMobile?44:32}})),[m]),{format:f}=(0,o.useContext)(O().t);if(f===W().j.FormEditor||f===W().j.FormViewer)return null;if(!p||!h)return null;const x=(0,Z.jsx)(X().A,{targetCollectionStore:t,pageName:n,onClick:()=>l(d),style:y.row,focused:s});return g?(0,Z.jsx)(Z.Fragment,{}):c?(0,Z.jsx)(Y().A,{style:y.wrapper,disableMobilePadding:!0,children:x}):x}var ee=()=>n(175116),te=()=>n(458366),ne=()=>n(572088),oe=()=>n(476492),ie=()=>n(594794),re=()=>n(972435),ae=()=>n(722872),le=()=>n(685889),se=()=>n(836251),ce=()=>n(780865),de=()=>n(806401),ue=()=>n(135599),pe=()=>n(963589),ge=()=>n(406792),he=()=>n(361330),me=()=>n(562800),ye=()=>n(351360),fe=()=>n(508496),xe=()=>n(53137),ve=()=>n(630116),be=()=>n(577437),Se=()=>n(457222);const Ce=(0,S().YK)({syncedCollectionInputPlaceholder:{defaultMessage:"Link a page",id:"relationPropertyMenuInput.syncedCollection.searchPlaceholder"},connectedRelationInputPlaceholder:{defaultMessage:"Paste a URL",id:"relationPropertyMenuInput.connectedRelation.searchPlaceholder"},connectedRelationGoogleDriveInputPlaceholder:{defaultMessage:"Select a file from your Google Drive",id:"relationPropertyMenuInput.connectedRelationGoogleDrive.searchPlaceholder"},connectedRelationFigmaInputPlaceholder:{defaultMessage:"Paste in https://figma.com/...",id:"relationPropertyMenuInput.connectedRelationFigma.searchPlaceholder"},connectedRelationGithubInputPlaceholder:{defaultMessage:"Paste in https://github.com/...",id:"relationPropertyMenuInput.connectedRelationGithub.searchPlaceholder"},connectedRelationSalesforceInputPlaceholder:{defaultMessage:"Paste in a Salesforce URL",id:"relationPropertyMenuInput.connectedRelationSalesforce.searchPlaceholder"}}),Pe=(0,S().YK)({inputPlaceholderEditable:{defaultMessage:"Link or create a page…",id:"relationPropertyMenuInput.placeholder.defaultEditable"},formInputPlaceholderEditable:{defaultMessage:"Search…",id:"relationPropertyMenuInput.placeholder.form"},inputPlaceholderUneditable:{defaultMessage:"Search linked pages…",id:"relationPropertyMenuInput.placeholder.defaultUneditable"}}),ke=(0,S().YK)({inputPlaceholder:{defaultMessage:"Search {propertyName}...",id:"relationPropertyMenuInput.placeholder.sharing"}}),Me=(0,S().YK)({inputPlaceholder:{defaultMessage:"Search...",id:"relationPropertyMenuInput.placeholder.sprint"}});function je(e){let{intl:t,connectedRelationFlags:n,overlayMode:o,disabled:i,format:r}=e;const a=function(e){const{isSyncedCollectionRelation:t,isGithubPrRelation:n,isGoogleDriveRelation:o,isFigmaRelation:i,isConnectedRelation:r,isSalesforceRelation:a}=e;if(t)return Ce.syncedCollectionInputPlaceholder;if(n)return Ce.connectedRelationGithubInputPlaceholder;if(o)return Ce.connectedRelationGoogleDriveInputPlaceholder;if(i)return Ce.connectedRelationFigmaInputPlaceholder;if(a)return Ce.connectedRelationSalesforceInputPlaceholder;if(r)return Ce.connectedRelationInputPlaceholder}(n);return a?t.formatMessage(a):"view"===(null==o?void 0:o.type)||i?t.formatMessage(Pe.inputPlaceholderUneditable):r&&(0,te().NN)(r)?t.formatMessage(Pe.formInputPlaceholderEditable):t.formatMessage(Pe.inputPlaceholderEditable)}function we(e,t){return e.formatMessage(ke.inputPlaceholder,t)}n(16280),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var Re=()=>n(857639),Ie=()=>n(502800),Ae=()=>n(106628),_e=()=>n(122724);async function De(e){let{environment:t,query:n,targetCollectionStore:o,blockPointers:i,pageIdsToBoost:r}=e;try{const e=await Ae().T.searchActions.load(),{results:a}=await e.searchPagesInCollection({environment:t,query:n.query,collectionId:o.id,limit:n.limit,spaceId:o.getSpaceId(),excludeTemplates:!0,source:"relation_menu",includePublicPagesWithoutExplicitAccess:!0,boostRecentlyViewedPages:!0,ignoresHighlight:!0});return Be({results:r?C().sb(r.concat(a)):a,targetCollectionStore:o,blockPointers:i})}catch(a){return Re().log({level:"error",from:"relationPropertySearchRequest",type:"performDefaultSearchRequest",error:(0,Ie().convertErrorToLog)(a)}),[]}}async function Te(e){const{environment:t,query:n,targetCollectionStore:o,blockPointers:i}=e;try{const e=await async function(e){const{environment:t,sprintCollectionStore:n,searchQuery:o}=e,i=n.getPropertyMapping(),r=null==i?void 0:i[s().Hx.StatusV2],a=null==i?void 0:i[s().Hx.Dates];if(!r||!a)throw new Error("Sprints database does not have the required properties");const l="results",c={userTimeZone:(0,m().P)(),searchQuery:o,sort:[{property:r,direction:"ascending"},{property:a,direction:"ascending"}],reducers:{[l]:{type:"results",limit:100}}},d=n.getParentBlockStore();if(!d)return[];await d.load();const u=d.getCollectionViewStores()[0];if(!u)return[];const p=n.getSpaceId(),g=await A().callApi({eventName:"queryCollection",environment:t,data:{source:{type:"collection",id:n.id,spaceId:p},collectionView:{id:u.id,spaceId:p},loader:c},tracking:{src:"relation_property_menu"}});if("success"!==g.type)return[];const h=g.data.result.reducerResults[l];if("results"!==h.type)return[];return h.blockIds}({environment:t,sprintCollectionStore:o,searchQuery:n.query});return Be({results:e,targetCollectionStore:o,blockPointers:i})}catch(r){Re().log({level:"error",from:"relationPropertySearchRequest",type:"performSprintSearchRequest",error:(0,Ie().convertErrorToLog)(r)});return await De(e)}}function Be(e){let{results:t,targetCollectionStore:n,blockPointers:o}=e;const i=new Set(o.map((e=>e.id))),r=[];return t.forEach((e=>{const t={spaceId:n.getSpaceId(),id:e,table:x().ev},o=ve().Bv.createChildStore(n,t);if(i.has(e)){const t={key:e,type:_e().M7.SelectedPage,store:o};r.push(t)}else{const t={key:e,type:_e().M7.SearchPage,store:o};r.push(t)}})),r}const Le=(0,o.createContext)(void 0);function Fe(e){const{children:t,relationPropertyMenuStore:n,property:i,targetCollectionStore:r,propertySchema:a,targetParentUrl:l,connectedRelationFlags:s}=e,c=(0,o.useMemo)((()=>({relationPropertyMenuStore:n,property:i,targetCollectionStore:r,propertySchema:a,targetParentUrl:l,connectedRelationFlags:s})),[n,i,r,a,l,s]);return(0,Z.jsx)(Le.Provider,{value:c,children:t})}Le.displayName="RelationPropertyMenuContext";var Ee=()=>n(768627),Oe=()=>n(284371),We=()=>n(522986),Ne=()=>n(623580),ze=()=>n(296798);function Ue(e){const{showTargetDatabase:t,inputPlaceholder:n,addPage:l}=e,{analyticsFrom:s,blockPropertyValueOverlayStore:c,blockStore:d,insertChar:u}=(0,o.useContext)(O().t),p=(0,o.useContext)(Le),g=(0,i().v3)(),h=(0,i().Y0)(),{searchQuery:m,searchPopupOpen:y}=(0,r().K8)((()=>(null==p?void 0:p.relationPropertyMenuStore.state)??{searchQuery:u??"",searchPopupOpen:!1}),[null==p?void 0:p.relationPropertyMenuStore,u]),f=(0,r().K8)((()=>null==p?void 0:p.targetCollectionStore.getIcon()),[null==p?void 0:p.targetCollectionStore]),x=(0,a().IS)((e=>({regular:{color:e.text.secondary,whiteSpace:"nowrap",marginLeft:4},headerWrap:{display:"flex",width:"100%",position:"relative",zIndex:2,padding:"6px 10px",fontSize:14,background:e.inputBackground,boxShadow:`\n\t\t\t\t\t0 1px 0 ${e.darkDividerColor}\n\t\t\t\t`},recordTitle:{fontWeight:Oe().Wy.semibold,fontSize:14,marginLeft:_e().g1*(h.isRetina?.5:1)},input:{flexGrow:1},targetDatabase:{display:"flex",marginLeft:10,alignItems:"center"},linkBoxOuterStyle:{marginLeft:_e().g1},linkBoxInnerStyle:{display:"flex"}})),[h.isRetina]);if(!d||!c||!p)return null;const{relationPropertyMenuStore:v,targetCollectionStore:b,targetParentUrl:C}=p;return(0,Z.jsxs)("div",{style:x.headerWrap,children:[(0,Z.jsx)(Ne().A,{style:x.input,value:m,placeholder:n,forceShowClearButton:Boolean(m||y),focus:!0,onChange:e=>{const t=e.target.value;v.setState({...v.state,searchQuery:t,searchPopupOpen:!!t,searchLimit:Ee().A.limitIncrement})},onClearButtonClick:()=>{v.setState(v.getInitialState())},onClick:()=>{v.setState({...v.state,searchQuery:m,searchPopupOpen:!0,searchLimit:Ee().A.limitIncrement})},onKeyDown:e=>{"Escape"===e.key&&v.setState(v.getInitialState())},format:Ne().C.Transparent,onSubmit:()=>{if(!l)return;const e=b.getFormat().integration_id,t=xe().A.integrations.state.find((t=>t.id===e)),n=b.getFormat().pattern_name;if(!t||!n)return;(0,le().WK)({integration:t,patternName:n,url:m})&&l()}}),t&&(0,Z.jsx)("div",{style:x.targetDatabase,children:(0,Z.jsx)(S().sA,{id:"database.relationProperty.newRelation.targetDatabase",defaultMessage:"<regular>In</regular> {databaseWithIcon}",values:{regular:e=>(0,Z.jsx)("span",{style:x.regular,children:e}),databaseWithIcon:(0,Z.jsxs)(ze().A,{href:C,style:x.linkBoxOuterStyle,innerStyle:x.linkBoxInnerStyle,onClick:()=>{s&&w(g,{from:s}),We().VN({environment:g,blockPropertyValueOverlayStore:c})},children:[(0,Z.jsx)(q().B,{disabled:!0,icon:f,isEmptyPage:!1,size:_e().$w}),(0,Z.jsx)($().A,{store:b,underline:!0,style:x.recordTitle,maxLength:25})]})}})})]})}var Ke=()=>n(591779),Ve=()=>n(176072),He=()=>n(439264),Ge=()=>n(364280),qe=()=>n(710149),$e=()=>n(331542),Ye=()=>n(678553),Qe=()=>n(939740),Xe=()=>n(204063),Ze=()=>n(2143),Je=()=>n(228927),et=()=>n(662971),tt=()=>n(729650);function nt(e){const{targetCollectionStore:t,onClick:n,focused:l,isSection:s,index:c,onMouseEnter:d,blockPropertyValueOverlayStore:u}=e,p=(0,r().K8)((()=>t.canEdit()),[t]),g=(0,r().K8)((()=>t.isSyncedCollection()),[t]),h=(0,i().Y0)(),m=(0,a().IS)((e=>({medium:{fontWeight:Oe().Wy.medium},wrapper:{borderTop:`1px solid ${e.lightDividerColor}`},icon:{width:14,fill:"#A6A299",marginRight:-2,marginLeft:0},row:{fontSize:h.isMobile?16:14,minHeight:h.isMobile?44:32}})),[h]),y=(0,Z.jsx)(N().A,{focused:l,onMouseEnter:d,icon:(0,tt().M)(m.icon),style:m.row,onClick:(0,o.useCallback)((()=>{n(c),u.setState({isOpen:!1})}),[c,n,u]),title:(0,Z.jsx)(S().sA,{id:"database.searchRelation.MoveToBacklogFooter",defaultMessage:"<medium>Move to backlog</medium>",values:{medium:e=>(0,Z.jsx)("span",{style:m.medium,children:e})}})}),f=s?(0,Z.jsx)(Y().A,{style:m.wrapper,disableDesktopPadding:!0,disableMobilePadding:!0,children:y}):y;return p?g?null:f:null}var ot=()=>n(50651),it=()=>n(86499),rt=()=>n(728611),at=()=>n(571468),lt=()=>n(891368),st=()=>n(66510),ct=()=>n(928074),dt=()=>n(756279),ut=()=>n(726360),pt=(n(430670),()=>n(244641)),gt=()=>n(869190),ht=()=>n(604995),mt=()=>n(498140),yt=()=>n(513416),ft=()=>n(464699),xt=()=>n(206267),vt=()=>n(792071),bt=()=>n(191772),St=()=>n(506391),Ct=()=>n(100622),Pt=()=>n(720665),kt=()=>n(510683),Mt=()=>n(807683),jt=()=>n(859428),wt=()=>n(780054),Rt=()=>n(267419),It=()=>n(106352),At=()=>n(753199),_t=()=>n(553965),Dt=()=>n(299545),Tt=()=>n(47170),Bt=()=>n(254526);var Lt=()=>n(962730),Ft=()=>n(444768),Et=()=>n(532940),Ot=()=>n(784438),Wt=()=>n(462853),Nt=()=>n(8980),zt=()=>n(864943),Ut=()=>n(817126),Kt=()=>n(991249),Vt=()=>n(412236);const Ht=(0,S().YK)({plus:{id:"subscriptionTier.plus",defaultMessage:"Plus"},business:{id:"subscriptionTier.business",defaultMessage:"Business"},enterprise:{id:"subscriptionTier.enterprise",defaultMessage:"Enterprise"}});function Gt(e){const{integrationId:t}=e,n=(0,Wt().l)(t);return n?(0,Z.jsx)(qt,{integrationId:t,featureName:n}):null}function qt(e){const{integrationId:t,featureName:n}=e,o=(0,i().v3)(),r=(0,S().tz)(),l=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",padding:8,gap:8,borderRadius:8,backgroundColor:"#F8F8F7",margin:"8px 12px"},description:{lineHeight:Oe().K_.UIRegular.desktop,fontSize:Oe().J.UIRegular.desktop,letterSpacing:"-0.15px",color:e.text.secondary,marginBottom:12},button:{}})),[]),s=function(e){switch(e){case h().e1:return(0,Z.jsx)(S().sA,{defaultMessage:"Figma",id:"relationPropertyMenu.connectedRelationPropertyUpsell.figma"});case h().Hd:return(0,Z.jsx)(S().sA,{defaultMessage:"Google Drive",id:"relationPropertyMenu.connectedRelationPropertyUpsell.googleDrive"});case h().ob:return(0,Z.jsx)(S().sA,{defaultMessage:"GitHub",id:"relationPropertyMenu.connectedRelationPropertyUpsell.github"});case h().k0:return(0,Z.jsx)(S().sA,{defaultMessage:"Zendesk",id:"relationPropertyMenu.connectedRelationPropertyUpsell.zendesk"})}return}(t),c=(0,Ut().G9)({featureName:n}),d=(0,Ot().Xq)(c);if(!s||!d||"product"!==(null==d?void 0:d.type))return null;const u=null==d?void 0:d.product;return"plus"!==u&&"business"!==u&&"enterprise"!==u?null:(0,Z.jsxs)("div",{style:l.container,children:[(0,Z.jsx)(Nt().I,{icon:Et().exclamationMarkTriangleIcon,color:"uiYellowPrimary"}),(0,Z.jsx)("div",{style:l.description,children:"enterprise"===u?(0,Z.jsx)(S().sA,{defaultMessage:"Starting August 13, {productName} connected properties will only be available for {subscriptionTier} plan. {learnMoreLink}",id:"relationPropertyMenu.connectedRelationPropertyUpsell.description.enterprise",values:{productName:s,subscriptionTier:r.formatMessage(Ht[u]),learnMoreLink:(0,Z.jsx)(Vt().V,{})}}):(0,Z.jsx)(S().sA,{defaultMessage:"Starting August 13, {productName} connected properties will only be available for {subscriptionTier} plan and above. {learnMoreLink}",id:"relationPropertyMenu.connectedRelationPropertyUpsell.description.nonEnterprise",values:{productName:s,subscriptionTier:r.formatMessage(Ht[u]),learnMoreLink:(0,Z.jsx)(Vt().V,{})}})}),(0,Z.jsx)(zt().A,{style:l.button,onClick:()=>{Kt().K(o,{from:"collection_connected_property",upsell:d})},children:(0,Z.jsx)(S().sA,{defaultMessage:"Upgrade",id:"relationPropertyMenu.connectedRelationPropertyUpsell.upgrade"})})]})}function $t(){const e=(0,i().v3)(),t=function(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({figmaResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4},figmaResultsCopyWrapper:{marginTop:0,color:t.text.tertiary}})),[e])}();return e.device.isMobile?(0,Z.jsx)(Z.Fragment,{}):(0,Z.jsx)("div",{style:t.figmaResults,children:(0,Z.jsx)("p",{style:t.figmaResultsCopyWrapper,children:(0,Z.jsx)(S().sA,{defaultMessage:"To link, paste the Figma File URL above",id:"connectedRelationPropertyMenuResults.figmaRelationUserEducationPasteUrl.description"})})})}var Yt=()=>n(716016),Qt=()=>n(925907),Xt=()=>n(133033),Zt=()=>n(843141),Jt=()=>n(908447),en=()=>n(84448),tn=()=>n(235191),nn=()=>n(755636),on=()=>n(895876),rn=()=>n(283860),an=()=>n(704152),ln=()=>n(802790),sn=()=>n(132389);const cn=(0,S().YK)({githubCopyIdAria:{defaultMessage:"Copy the ID value.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.copyIdAria"},githubAddIdAria:{defaultMessage:"Add a unique id property to the database.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.addIdAria"},githubLearnMoreAria:{defaultMessage:"Learn more about the GitHub Pull Requests feature.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.learnMoreAria"}});function dn(e){const{pageBlockStore:t,blockPropertyValueOverlayStore:n}=e,o=(0,i().v3)(),a=(0,S().tz)(),l=un(),s=(0,ee().ET)(),c=(0,r().K8)((()=>s.collectionStore()),[s]),d=(0,r().K8)((()=>s.databaseType),[s]),p=(0,r().K8)((()=>{var e;return c&&(null===(e=c.getRecordKeyStore())||void 0===e?void 0:e.getRecordKey())}),[c]),{uniqueIdPropertyId:g,uniqueIdValue:m}=(0,r().K8)((()=>{const e=t.getSchema(),n=(0,Yt().yP)(e);if(1!==n.length)return{uniqueIdPropertyId:void 0,uniqueIdValue:void 0};const o=t.getPropertyValue(n[0]);return{uniqueIdPropertyId:n[0],uniqueIdValue:(0,u().On)(o)}}),[t]),y=(0,r().K8)((()=>(0,Yt().H4)(p,m)),[p,m]),x=(0,r().K8)((()=>!Boolean(p)||!Boolean(m)),[p,m]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{style:l.githubResults,children:[(0,Z.jsx)(pn,{}),(0,Z.jsx)("p",{style:l.githubResultsCopyWrapper,children:x?(0,Z.jsx)(S().sA,{defaultMessage:"Create a prefixed ID property to paste in the GitHub PR title.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.badIdError"}):(0,Z.jsx)(S().sA,{defaultMessage:"Copy the {singleItemName} ID and paste it into the title of your PR in GitHub.",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducationLinkPastingOn.description",values:{singleItemName:(0,on().$O)(d)}})}),(0,Z.jsx)(rn().A,{width:"100%",uniqueIdPrefix:p,uniqueIdValue:m})]}),(0,Z.jsxs)("div",{style:l.githubResultsButtonsWrapper,children:[(0,Z.jsxs)(an().A,{style:l.githubResultsLearnMore,ariaLabel:a.formatMessage(cn.githubLearnMoreAria),onClick:e=>{e.preventDefault(),nn().f({environment:o,url:(0,se().xS)("guides.githubRelation"),targetSelf:!1})},children:[(0,Xt().$)({width:o.device.isMobile?16:12}),(0,Z.jsx)(sn().A,{size:4}),(0,Z.jsx)(S().sA,{defaultMessage:"Learn more",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.learnMore"})]}),x?(0,Z.jsxs)(an().A,{style:l.githubResultsCTAButton,ariaLabel:a.formatMessage(cn.githubAddIdAria),onClick:async e=>{e.preventDefault(),c&&(await en().c({environment:o,collectionStore:c}),F().createAndCommit({userAction:"CollectionSettingsAutoIncrementIdPropertyCreateNewIdProperty",environment:o,canUndo:!0,perform:e=>{tn().IL({environment:o,collectionStore:c,collectionViewArgs:void 0,propertyType:"auto_increment_id",transaction:e})}}),(0,Jt().Z)({environment:o,collectionContextStore:s,from:"github_relation_menu",property_type:"auto_increment_id",integration_id:h().ob}))},children:[(0,f().W)({width:o.device.isMobile?16:12}),(0,Z.jsx)(sn().A,{size:4}),(0,Z.jsx)(S().sA,{defaultMessage:"Add ID property",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.addId"})]}):(0,Z.jsxs)(an().A,{style:l.githubResultsCTAButton,ariaLabel:a.formatMessage(cn.githubCopyIdAria),onClick:async e=>{e.preventDefault();const i=await _().R.clipboardActions.load();await i.copyString({stringValue:y,environment:o,copiedMessage:i.clipboardMessages.copiedPropertyToClipboard}),g&&(0,Zt().E)(o,s,{block_id:t.id,property:g,property_type:"auto_increment_id",github_relation_menu:!0}),n.setState({isOpen:!1})},children:[(0,Qt().n)({width:o.device.isMobile?16:12}),(0,Z.jsx)(sn().A,{size:4}),(0,Z.jsx)(S().sA,{defaultMessage:"Copy {singleItemName} ID",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducation.copyId",values:{singleItemName:(0,on().$O)(d)}})]})]})]})}function un(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({githubResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4},githubResultsCopyWrapper:{marginTop:0,color:t.text.tertiary},githubResultsErrorWrapper:{marginTop:0,color:Ct().Ay.red},githubResultsButtonsWrapper:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontSize:e?16:12,padding:"10px"},githubResultsLearnMore:{display:"flex",flexDirection:"row",alignItems:"center",padding:4,borderRadius:5,color:t.text.tertiary},githubResultsCTAButton:{display:"flex",flexDirection:"row",alignItems:"center",padding:4,borderRadius:5,color:t.blueColor},githubLinkPastingSeparator:{border:t.tableDividerColor,width:"100%"},githubLinkPastingContainer:{width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",margin:"8px 0px"},githubLinkPastingSeparatorText:{position:"absolute",backgroundColor:t.popoverBackground,color:t.text.tertiary,padding:"0px 8px"}})),[e])}function pn(){const e=un();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("p",{style:e.githubResultsCopyWrapper,children:(0,Z.jsx)(S().sA,{defaultMessage:"To link, paste the GitHub PR URL above",id:"connectedRelationPropertyMenuResults.githubPrRelationUserEducationPasteUrl.description"})}),(0,Z.jsxs)("div",{style:e.githubLinkPastingContainer,children:[(0,Z.jsx)(ln().A,{size:1,style:e.githubLinkPastingSeparator}),(0,Z.jsx)("div",{style:e.githubLinkPastingSeparatorText,children:"or"})]}),(0,Z.jsx)(sn().A,{size:8})]})}var gn=()=>n(619400);function hn(e){const t=(0,i().v3)(),n=function(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({googleDriveResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4,paddingTop:4},googleDriveResultsCopyWrapper:{marginTop:0,color:t.text.tertiary,marginBottom:0},googleDriveResultsLearnMore:{display:"flex",flexDirection:"row",alignItems:"center",padding:4,borderRadius:5},googleDriveResultsAccount:{fontSize:12,margin:0},googleDriveLinkPastingSeparator:{border:t.tableDividerColor,width:"100%"},googleDriveLinkPastingContainer:{width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",margin:"8px 0px"},googleDriveLinkPastingSeparatorText:{position:"absolute",backgroundColor:t.cardContentBackground,color:t.text.tertiary,padding:"0px 8px"}})),[e])}(),o=(0,pe().X)("gdrive_scope_migration_gate"),l=(0,r().K8)((()=>xe().A.externalAuthentications.state.filter((e=>{let{integration_id:t}=e;return t===h().Hd}))),[]);return t.device.isMobile?(0,Z.jsx)(Z.Fragment,{}):(0,Z.jsxs)("div",{style:n.googleDriveResults,children:[!o&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("p",{style:n.googleDriveResultsCopyWrapper,children:(0,Z.jsx)(S().sA,{defaultMessage:"To link, paste the Google Drive File URL above",id:"connectedRelationPropertyMenuResults.googleDriveRelationUserEducationPasteUrl.description"})}),(0,Z.jsxs)("div",{style:n.googleDriveLinkPastingContainer,children:[(0,Z.jsx)(ln().A,{size:1,style:n.googleDriveLinkPastingSeparator}),(0,Z.jsx)("div",{style:n.googleDriveLinkPastingSeparatorText,children:"or"})]}),(0,Z.jsx)(sn().A,{size:2})]}),(0,Z.jsx)("p",{style:n.googleDriveResultsCopyWrapper,children:(0,Z.jsx)(S().sA,{defaultMessage:"Select an account below to browse files on your Google Drive",id:"connectedRelationPropertyMenuResults.googleDriveRelationUserEducationSourcePicker.description"})}),(0,Z.jsx)(sn().A,{size:2}),l.map(((o,i)=>(0,Z.jsx)(an().A,{style:n.googleDriveResultsLearnMore,onClick:async n=>{n.preventDefault(),await(async(n,o)=>{const i=await E().Nl({environment:t,externalAuthenticationValue:o}),r=xe().A.integrations.state.find((e=>e.id===o.integration_id));if(!r)return;const{id:a,name:l,info:s}=r,{icon:c,dark_icon:d,accent_color:u,accent_icon:p}=s,g="dark"===t.ThemeStore.state.mode&&d?d:c;g&&u&&p&&i&&"failed"!==i.type&&await(0,gn().openGoogleDriveFilePicker)({environment:t,accessToken:i.data.access_token,callback:(t,i)=>{e.onFileSelect(n,i,o.id)},integration:{id:a,name:l,icon:g,accentColor:u,accentIcon:p},from:"connected_relation_property_value"})})(n,o)},children:(0,Z.jsx)("p",{style:n.googleDriveResultsAccount,children:(0,Z.jsx)(S().sA,{defaultMessage:"{account}",id:"connectedRelationPropertyMenuResults.googleDriveRelation.googleDriveAccount.description",values:{account:o.account_name}})})},i)))]})}function mn(){const e=(0,i().v3)(),t=function(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({salesforceResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4,paddingTop:4},salesforceResultsCopyWrapper:{marginTop:0,color:t.text.tertiary,marginBottom:0},salesforceResultsLearnMore:{display:"flex",flexDirection:"row",alignItems:"center",padding:4,borderRadius:5}})),[e])}();return e.device.isMobile?(0,Z.jsx)(Z.Fragment,{}):(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{style:t.salesforceResults,children:(0,Z.jsx)("p",{style:t.salesforceResultsCopyWrapper,children:(0,Z.jsx)(S().sA,{defaultMessage:"To link, paste the Salesforce URL above",id:"connectedRelationPropertyMenuResults.salesforceRelationUserEducationPasteUrl.description"})})})})}function yn(e){let{patternName:t}=e;const n=(0,i().v3)(),o=function(){const e=(0,i().Y0)().isMobile;return(0,a().IS)((t=>({slackResults:{display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:e?16:12,padding:16,paddingBottom:4},slackResultsCopyWrapper:{marginTop:0,color:t.text.tertiary}})),[e])}();return n.device.isMobile?null:(0,Z.jsx)("div",{style:o.slackResults,children:(0,Z.jsx)("p",{style:o.slackResultsCopyWrapper,children:"slack_channel"===t?(0,Z.jsx)(S().sA,{defaultMessage:"To link, paste the Slack channel URL above",id:"connectedRelationPropertyMenuResults.slackChannelRelationUserEducationPasteUrl.description"}):(0,Z.jsx)(S().sA,{defaultMessage:"To link, paste the Slack URL above",id:"connectedRelationPropertyMenuResults.slackRelationUserEducationPasteUrl.description"})})})}function fn(e){const{sections:t,targetCollectionStore:n,search:o,property:l,propertySchema:s,pageRecordStore:c,blockPropertyValueOverlayStore:d}=e,p=(0,a().IS)((e=>({settingsMenu:{display:"flex",flexGrow:1,flexDirection:"column",padding:"8px 16px 16px 8px"},settingsMenuSearchBox:{background:e.contentBackground,marginBottom:10},addPageButton:{width:"100%",display:"flex",justifyContent:"center"},suggestionBox:{display:"flex",alignItems:"center",fontSize:12,color:Ct().Ay.white,background:Ct().Ay.blue,borderRadius:6,padding:10,boxShadow:e.shadowMD,alignSelf:"center",maxWidth:"80%"},errorMessage:{alignSelf:"center",padding:10,fontSize:14,color:e.errorText},addingPage:{width:"100%",padding:10,display:"flex",justifyContent:"flex-start",fontSize:14,color:e.text.secondary},enterText:{color:e.text.tertiary}})),[]),g=u().di(s),f=u().H6(s),v=u().KF(s),b=u().V5(s),P=u().uv(s),k=(0,u().Dz)(s),M=(0,r().K8)((()=>{if(!n)return;const e=n.getFormat().integration_id;return xe().A.integrations.state.find((t=>t.id===e))}),[n]),j=(0,r().K8)((()=>M?(0,ne().jw)(M.id):[]),[M]),w=(0,i().v3)(),R=(0,S().tz)(),I=(0,a().DP)(),_=(0,r().K8)((()=>{const e=xe().A.state;return e.loaded?e.integrations:[]}),[]),D=(0,r().K8)((()=>{var e;return Boolean(null===(e=ye().default.state.currentSpaceStore)||void 0===e?void 0:e.canAdmin())}),[]),T=(0,r().K8)((()=>{var e;return!(!(null===(e=ye().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit())||!(0,ne().fY)(w))}),[w]),B=(0,r().K8)((()=>!!M&&(M.id===h().mn&&(0,Bt().Ow)())),[M]),L=(0,r().K8)((()=>{const e=xe().A.state;if(e.loaded&&M)return function(e){const{integration:t,externalAuthentications:n,requiresDoubleAuth:o}=e;if(o){const e=(0,h().eL)(t.id);return n.find((t=>t.integration_id===e))}return n.find((e=>e.integration_id===t.id))}({integration:M,externalAuthentications:e.externalAuthentications,requiresDoubleAuth:B})}),[M,B]),[{value:F,status:E}]=(0,y().Yb)((async()=>{if(!L||!M||!(0,h().a1)(M.id))return;const e=L.parent_id;return A().callApi({eventName:"listExternalObjects",environment:w,data:{bot_id:e,query:o}})}),[w,L,o,M],{debounce:1e3}),O=(0,r().K8)((()=>n.getFormat().pattern_name),[n]),W=(0,pe().X)("gdrive_scope_migration_gate"),z=(0,r().K8)((()=>{if(M&&o)return(0,le().WK)({integration:M,patternName:O,url:o})}),[O,M,o]),U=(0,Dt()._p)(c)?c:void 0,K=(0,r().K8)((()=>(0,Dt()._p)(c)?c.getPropertyStore(l):void 0),[c,l]),V=(0,r().K8)((()=>null==n?void 0:n.getIcon()),[n]),H=(0,Tt().O)(),G=(0,Rt()._)(),q={key:"githubPrRelationUserEducation",render:e=>void 0!==U&&(0,Z.jsx)(dn,{pageBlockStore:U,blockPropertyValueOverlayStore:d}),items:[]},$={key:"googleDriveRelation",render:t=>(0,Z.jsx)(hn,{onFileSelect:(t,n,o)=>{(0,At().SQ)({context:At().y$.ButtonMouseDown,callback:()=>{e.addPage(n,o)},event:t})}}),items:[]},Q={key:"figmaRelation",render:e=>(0,Z.jsx)($t,{}),items:[]},X={key:"salesforceRelation",render:e=>(0,Z.jsx)(mn,{}),items:[]},J={key:"slackRelation",render:e=>(0,Z.jsx)(yn,{patternName:O}),items:[]};if(!K||!M)return(0,Z.jsx)(Qe().Ay,{type:Qe().Oh.Vertical,style:{padding:"4px 0px"},initialFocus:0,sections:t});const ee=function(e){let{integration:t,selectedExternalAuthentication:n,botsForIntegration:o,requiresDoubleAuth:i}=e;if(i){const e=(0,h().eL)(t.id);return(null==n?void 0:n.integration_id)===e}if((0,h().mj)(t.id))return o.length>0;if(n)return!0;return!1}({requiresDoubleAuth:B,integration:M,selectedExternalAuthentication:L,botsForIntegration:j});if(!ee){const e=function(e){const{collectionIcon:t,integration:n,environment:o,spaceId:i,isAdmin:r,userAllowedToAuth:a,externalIntegrations:l,requiresDoubleAuth:s}=e,c=n.id===h().ob,d=()=>{if(i){if(s){const e=l.find((e=>e.id===(0,h().eL)(n.id)));if(!e)return;kt().Jq({environment:o,integration:e,spaceId:i,from:"connected_relation_property_menu"})}else kt().Jq({environment:o,integration:n,spaceId:i,from:"connected_relation_property_menu"});Ft().A.reset()}},u=!c&&n.id!==h().io;if(u){if(e.environment.device.isMobile)return{key:"askUseBrowserOrDesktopForAuth",render:e=>(0,Z.jsx)(Y().A,{...e,disableMobilePadding:!0,title:(0,Z.jsx)("div",{style:{whiteSpace:"normal",paddingTop:8},children:(0,Z.jsx)(S().sA,{defaultMessage:"Please authorize this integration in the browser or a desktop app.",id:"connectedRelationProperty.mobile.guide.title"})})}),items:[]};if(!a)return{key:"askGuestToGetMemberAccess",render:e=>(0,Z.jsx)(Y().A,{...e,disableMobilePadding:!0,title:(0,Z.jsx)("div",{style:{whiteSpace:"normal",paddingTop:8},children:(0,Z.jsx)(S().sA,{defaultMessage:"To use {integration} integration, request the workspace admin to add you as a member",id:"connectedRelationProperty.guest.auth.guide",values:{integration:n.name}})})}),items:[]}}const p=!c||r&&a?{key:"authenticateButton",render:e=>(0,Z.jsx)(N().A,{...e,title:(0,Z.jsx)(S().sA,{defaultMessage:"Connect to {integration}",id:"connectedRelationPropertyMenuResults.authenticateButton.title",values:{integration:n.name}}),icon:(0,Z.jsx)(Mt().Ay,{src:null==t?void 0:t.icon,style:{width:14}})}),action:()=>d()}:{key:"askAdminToAuthenticateButton",render:e=>(0,Z.jsx)(N().A,{...e,title:(0,Z.jsx)("div",{style:{whiteSpace:"normal"},children:(0,Z.jsx)(S().sA,{defaultMessage:"Ask your workspace admin to configure the GitHub (Workspace) connection.",id:"connectedRelationPropertyMenuResults.askAdminToAuthenticateButton.title"})}),icon:(0,Z.jsx)(Mt().Ay,{src:null==t?void 0:t.icon,style:{width:14}}),hoveredStyle:{cursor:"default",background:void 0},pressedStyle:{background:void 0}}),action:()=>{}};return{key:"authenticateIntegration",render:e=>(0,Z.jsx)(Y().A,{...e,disableMobilePadding:!0,title:(0,Z.jsx)(S().sA,{defaultMessage:"Connect to {integration}",id:"connectedRelationPropertyMenuResults.authenticateHeader.title",values:{integration:n.name}})}),items:[p]}}({requiresDoubleAuth:B,environment:w,integration:M,externalIntegrations:_,collectionIcon:V,spaceId:H,isAdmin:D,userAllowedToAuth:T});return(0,Z.jsx)(Qe().Ay,{type:Qe().Oh.Vertical,style:{padding:"4px 0px"},initialFocus:0,sections:[...t,e]})}const te=("success"===(null==F?void 0:F.type)&&"data"in F.data?F.data.data:[]).map((e=>{const t=e.attributes.flatMap((e=>{const t=(0,St().q8)(e);return(0,yt().PX)(t)?[t]:(console.error(t),[])})),n=(0,Pt().MU)(t.flatMap((e=>[[e.id,e]])));return{uri:e.uri,attributes:t,attributesById:n}}));function oe(){let e=(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addPageButton.label",defaultMessage:"Link page"});return(null==M?void 0:M.id)===h().Hd||(null==M?void 0:M.id)===h().e1?e=(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addFileButton.label",defaultMessage:"Link file"}):(null==M?void 0:M.id)===h().k0?e=(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addTicketButton.label",defaultMessage:"Link ticket"}):(null==M?void 0:M.id)===h().ob?e=(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addPRButton.label",defaultMessage:"Link PR"}):(null==M?void 0:M.id)===h().mn?e=(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addRecordButton.label",defaultMessage:"Link Record"}):(null==M?void 0:M.id)===h().zG&&"slack_channel"===O?e=(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addChannelButton.label",defaultMessage:"Link channel"}):(null==M?void 0:M.id)===h().zG&&(e=(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.addMessageButton.label",defaultMessage:"Link message"})),e}const ie={key:"thirdPartySearchResults",render:e=>(0,Z.jsx)(Y().A,{...e,disableMobilePadding:!0}),items:[{key:"addPage",render:e=>(0,Z.jsx)(N().A,{...e,title:oe(),icon:(0,ft().b)({width:14}),right:(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.linkPageButton.enter",defaultMessage:"Enter"}),rightStyle:p.enterText}),action:t=>{(0,At().SQ)({event:t,context:At().y$.ButtonMouseDown,callback:()=>{e.addPage()}})}}]},re={key:"noResultsFoundInThirdParty",render:e=>(0,Z.jsx)(Y().A,{...e,disableMobilePadding:!0,title:(0,Z.jsx)(S().sA,{defaultMessage:"No results found in {integration}.",id:"connectedRelationPropertyMenuResults.notMatched.help",values:{integration:M.name}})}),items:[]},ae=[];M&&(0,h().a1)(M.id)&&ae.push(...function(e){const{environment:t,intl:n,theme:o,externalIntegrations:i,emojiData:r}=e,a=e.results.flatMap((e=>{const t=e.attributesById.start;if(t&&(0,St().RD)(t)){const o=(0,ht().AA)(t.values[0],(0,m().P)(),n.locale);return[{...e,dateTime:o.start}]}return[]})),l=C().$z(a,(e=>e.dateTime.toFormat(ht().tr))),s=C().Ul(Object.keys(l),(e=>pt().c9.fromFormat(e,ht().tr).valueOf())).flatMap((a=>{const s=l[a],c=C().Ul(s,(e=>e.dateTime.valueOf())),d=(0,mt().Z$)(a);if(!d)return[];let u;(C().n4(d,(0,ht().Ec)((0,m().P)()))||C().n4(d,(0,ht().uf)((0,m().P)())))&&(u="relative");const p=(0,gt().ZF)({value:d,intl:n,allowRelativeDates:Boolean(u),date_format:u});return[{key:p,items:c.flatMap((a=>{const l=new(ve().Bv)(t,{table:x().ev,id:xt().JW(),spaceId:xt().JW()}),s={id:l.id,type:"external_object_instance",alive:!0,format:{bot_id:"",external_object_id:"",uri:a.uri,attributes:a.attributes},version:0,space_id:"",parent_id:"",parent_table:"block"};let c=null,d=null;const u=a.attributesById.title,p=a.attributesById.start,g=a.attributesById.end;return p&&g&&(0,St().RD)(p)&&(0,St().RD)(g)&&(c=(0,Z.jsx)("div",{children:(0,Z.jsxs)("span",{children:[(0,Z.jsx)(It().gY,{style:{color:void 0,display:"inline"},attribute:p,dateStyle:"exact_time"})," - ",(0,Z.jsx)(It().gY,{attribute:g,dateStyle:"exact_time",style:{color:void 0,display:"inline"}})]})}),d=(0,Z.jsxs)("div",{children:[(0,Z.jsx)("span",{children:(0,Z.jsx)(It().Ic,{style:{color:void 0,display:"inline"},store:l,attribute:u})}),c]})),{key:a.uri,render:e=>(0,Z.jsx)(jt().A,{renderTooltip:()=>d,placement:Lt().W.Left,textWrap:!0,render:a=>(0,Z.jsx)(N().A,{...(0,_t().A)(a||{},e),title:(0,bt().gA)({blockModel:vt().Bj6.fromBlock(s),intl:n,index:0,style:{},disableHover:!0,disableLinks:!0,isAndroid:!1,classNames:[],theme:o,baseUrl:wt().A.domainBaseUrl,emojiType:"raw",currentUserId:t.currentUser.id,getRecordModel:l.getRecordModel,externalIntegrations:i,emojiData:r}),caption:c})}),action:t=>{(0,At().SQ)({event:t.event,context:At().y$.ButtonMouseDown,callback:()=>{e.addPage(a.uri)}})}}})),render:e=>(0,Z.jsx)(Y().A,{...e,disableMobilePadding:!0,title:p})}]}));return s}({environment:w,intl:R,theme:I,externalIntegrations:_,results:te,addPage:e.addPage,emojiData:G}));const se={key:"loadingSpinner",render:t=>(0,Z.jsx)(Y().A,{...t,disableMobilePadding:!0,title:(0,Z.jsxs)("div",{style:{...p.addingPage,justifyContent:e.addingPage?"center":"flex-start"},children:[(0,Z.jsx)($e().A,{}),(0,Z.jsx)("span",{style:{marginLeft:10},children:(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.fetchingData",defaultMessage:"Fetching data..."})})]})}),items:[]},ce=[];return"pending"===E||e.addingPage?ce.push(se):f&&W?ce.push($):z?ce.push(ie):ae.length>0?ce.push(...ae):f?ce.push($):v?ce.push(Q):b?ce.push(X):P?ce.push(J):g&&0===t.length?ce.push(q):g&&t.length>0||ce.push(re),k&&ce.push({key:"upsell",render:e=>(0,Z.jsx)(Gt,{integrationId:k}),items:[]}),(0,Z.jsx)(Qe().Ay,{type:Qe().Oh.Vertical,style:{padding:"4px 0px"},initialFocus:0,sections:[...t,...ce]})}function xn(){return(0,Z.jsx)("div",{style:{height:"100%",padding:_e().iw,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Z.jsx)($e().A,{style:{margin:"0 auto"}})})}function vn(e){const{collectionStore:t,targetCollectionStore:n,schema:o,property:i,showRight:a,disabled:l,style:s}=e,c=(0,r().K8)((()=>n.isSyncedCollection()),[n]),u=(0,r().K8)((()=>{const e=o[i];return Boolean(e&&d().UU(e))}),[o,i]);return(0,Z.jsx)(Y().A,{...e,noTextOverflow:!0,right:a&&!c&&!u&&t&&(0,Z.jsx)(ot().default,{collectionStore:t,targetCollectionStore:n,property:i,disabled:l}),style:{paddingTop:0,paddingBottom:4,...s},desktopTitleStyle:{height:19,alignItems:"center",marginTop:6,marginBottom:6,paddingLeft:12,paddingRight:9}})}const bn=function(e){const t=(0,i().Y0)(),a=(0,r().uB)(void 0,n(970585).A),l=(0,r().uB)(void 0,n(170253).A),s=(0,Ke().ZC)(e.searchQuery);return(0,o.useEffect)((()=>{!e.searchQuery||(0,C().n4)(s,e.searchQuery)||t.isMobile||a.setState({...a.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}),[t.isMobile,a,s,e.searchQuery]),t.isMobile?(0,Z.jsx)(Tn,{relationPropertyMenuResultProps:e,menuListStore:a,draggableListStore:l}):(0,Z.jsx)(An,{relationPropertyMenuResultProps:e,menuListStore:a,draggableListStore:l})};function Sn(e,t){const n=t[e];return Boolean(n&&"relation"===n.type&&1===n.limit)}function Cn(e){const{result:t,pointer:n,environment:o,relationPropertyMenuResultProps:i,canDragRow:r,isSharingEnabled:a,limitReached:l,propertyLimit:s}=e,{disabled:c,parentStore:d,collectionStore:u,collectionId:p,schema:g,targetCollectionStore:h,onAccept:m,property:y,propertySchema:f,blockPropertyValueOverlayStore:x,onClickActionButton:v,disableClickToNavigateToPage:b}=i,S=ve().Bv.createChildStore(d,n);if((0,at().X)(S))return;return{key:S.id,render:(e,i)=>{let{ref:m,...C}=e;const P=(0,Z.jsx)(it().q,{...C,canDrag:r,limitReached:l,collectionStore:u,collectionId:p,schema:g,targetCollectionStore:h,relatedPageStore:S,disabled:c,isSelected:t.type===_e().M7.SelectedPage,pageStore:d,property:y,propertySchema:f,rowType:"popup",onActionButtonClick:()=>v(t),blockPropertyValueOverlayStore:x,propertyLimit:s,onOpenPageButtonClick:()=>{T().k({relationPointers:[n],relatedPageStore:S,environment:o,from:"relation_property"})},disableClickToNavigateToPage:b});return a?(0,Z.jsx)(Pn,{originElement:P,pageStore:S,result:t,focused:C.focused,isSelected:t.type===_e().M7.SelectedPage,onFocus:i.onFocus,onClickActionButton:v}):P},action:e=>{a&&t.type!==_e().M7.SelectedPage||m(t,rt().Vr(e.event))}}}function Pn(e){let{originElement:t,pageStore:n,result:l,focused:s,onFocus:c,isSelected:d,onClickActionButton:u}=e;const p=(0,i().v3)(),g=(0,i().Y0)(),h=(0,ut().H)(),m=(0,r().K8)((()=>ct().dR({store:n,environment:p,trustedDomainsStore:h})),[n,p,h]),[y,f]=(0,o.useState)(!1),x=(0,a().IS)((e=>({unselectedHeader:{paddingRight:10,paddingLeft:10,paddingTop:6,paddingBottom:6,borderRadius:6,color:e.text.uiYellowPrimary,backgroundColor:e.tint.uiYellow,fontSize:14,fontWeight:400},selectedHeader:{paddingRight:8,paddingLeft:8,paddingTop:4,color:e.text.secondary,fill:e.mediumIconColor,fontSize:14,fontWeight:400},pageTitleWrapper:{display:"inline",padding:2},icon:{display:"inline-block",marginRight:4,width:12,height:12},title:{display:"inline",overflow:"hidden",wordBreak:"break-word",textWrap:"balance",fontWeight:500},popupContainer:{padding:16,display:"flex",flexDirection:"column",height:"100%"},permissionsListContainer:{flex:1,overflow:"auto"},generalAccessPermissionListContainer:{borderTop:`0.5px solid ${e.darkDividerColor}`,paddingTop:8},confirmButton:{width:"100%"}})),[]);return g.isPhone?(0,Z.jsxs)("div",{onClick:e=>{d||f(!0)},children:[t,(0,Z.jsx)(G().Ay,{popupType:G().nl.SlideUp,enableOutsideClickDismiss:!0,onDismiss:()=>f(!1),open:y,style:{borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"66%"},originRect:new DOMRect(0,0,0,0),render:()=>(0,Z.jsxs)("div",{style:x.popupContainer,children:[(0,Z.jsx)(lt().jV,{children:d?(0,Z.jsx)("div",{style:x.selectedHeader,children:(0,Z.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.permissionsList.selectedHeader",defaultMessage:"This task is currently shared with everyone who has access to {title}",values:{title:(0,Z.jsxs)("div",{style:x.pageTitleWrapper,children:[(0,Z.jsx)(q().B,{icon:n.getIcon(),isEmptyPage:!1,size:12,disabled:!0,style:x.icon}),(0,Z.jsx)($().A,{store:n,style:x.title})]})}})}):(0,Z.jsx)("div",{style:x.unselectedHeader,children:(0,Z.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.permissionsList.unselectedHeader",defaultMessage:"By selecting this project, only the people below will have access to this task:"})})}),(0,Z.jsx)("div",{style:x.permissionsListContainer,children:(0,Z.jsx)(st().Ay,{store:n,showFooter:!1,showPermissionInheritanceBanner:!1,calculatedPermissions:{...m,showRestrictedPermissionBanner:!1,showSitePublicPermission:!1,showPublicShareLinkPermission:!1,showTeamPermission:!0,showSpacePermission:!0},buttonPopupStore:void 0,permissionItemArgs:{location:"relation_menu",shouldDisable:!0}})}),(0,Z.jsx)("div",{style:x.generalAccessPermissionListContainer,children:(0,Z.jsx)(st().T5,{store:n,calculatedPermissions:m,permissionItemArgs:{location:"relation_menu",shouldDisable:!0}})}),(0,Z.jsx)(Xe().A,{size:"lg",style:x.confirmButton,onClick:()=>u(l),children:(0,Z.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.confirmButton",defaultMessage:"Confirm"})})]})})]}):(0,Z.jsx)(et().A,{focused:s,onFocus:c,disableDefaultClick:!0,renderOrigin:(e,n)=>(0,Z.jsx)(Ye().Ay,{...e,ref:n,title:t,textWrapperStyle:{margin:0},showExtensionArrow:!1}),renderExtension:e=>(0,Z.jsxs)("div",{...e,children:[(0,Z.jsx)(lt().jV,{children:d?(0,Z.jsx)("div",{style:x.selectedHeader,children:(0,Z.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.permissionsList.selectedHeader",defaultMessage:"This task is currently shared with everyone who has access to {title}",values:{title:(0,Z.jsxs)("div",{style:x.pageTitleWrapper,children:[(0,Z.jsx)(q().B,{icon:n.getIcon(),isEmptyPage:!1,size:12,disabled:!0,style:x.icon}),(0,Z.jsx)($().A,{store:n,style:x.title})]})}})}):(0,Z.jsx)("div",{style:x.unselectedHeader,children:(0,Z.jsx)(S().sA,{id:"relationPropertyMenu.sharingEnabled.permissionsList.unselectedHeader",defaultMessage:"By selecting this project, only the people below will have access to this task:"})})}),(0,Z.jsx)(st().Ay,{store:n,showFooter:!1,showPermissionInheritanceBanner:!1,calculatedPermissions:{...m,showRestrictedPermissionBanner:!1,showSitePublicPermission:!1,showPublicShareLinkPermission:!1,showTeamPermission:!0,showSpacePermission:!0},buttonPopupStore:void 0,permissionItemArgs:{location:"relation_menu",shouldDisable:!0}})]})})}function kn(e){const{canDrag:t,property:n,schema:o,totalRelatedPages:i}=e;return t&&!Sn(n,o)&&i>1}function Mn(e){const{numRelatedPages:t,integrationId:n,limit:o}=e;return 0!==t||n?o&&1===o?(0,Z.jsx)(S().sA,{id:"database.relationProperty.relatedPages.limit.subHeader",defaultMessage:"Selected"}):n===h().Hd||n===h().e1?(0,Z.jsx)(S().sA,{id:"database.relationProperty.relatedGoogleDriveOrFigmaFiles.subHeader",defaultMessage:"{count, plural, one {{count} linked file} other {{count} linked files}}",values:{count:t}}):n===h().ob?(0,Z.jsx)(S().sA,{id:"database.relationProperty.relatedGithubPages.subHeader",defaultMessage:"{count, plural, one {{count} linked PR} other {{count} linked PRs}}",values:{count:t}}):n===h().mn?(0,Z.jsx)(S().sA,{id:"database.relationProperty.relatedSalesforcePages.subHeader",defaultMessage:"{count, plural, one {{count} linked record} other {{count} linked records}}",values:{count:t}}):(0,Z.jsx)(S().sA,{id:"database.relationProperty.relatedPages.subHeader",defaultMessage:"{count} selected",values:{count:t}}):(0,Z.jsx)(S().sA,{id:"database.relationProperty.relatedPages.emptyList.subHeader",defaultMessage:"Select a page"})}function jn(e){const{loading:t,numRelatedPages:n,numUnrelatedPages:o,limit:i}=e;if(!t||0!==n||0!==o)return 0===o?(0,Z.jsx)(S().sA,{id:"database.relationProperty.noResults.subHeader",defaultMessage:"No results"}):0===n?void 0:i&&1===i?(0,Z.jsx)(S().sA,{id:"database.relationProperty.changeSelection.subHeader",defaultMessage:"Change selection"}):(0,Z.jsx)(S().sA,{id:"database.relationProperty.selectMore.subHeader",defaultMessage:"Select more"})}const wn=(0,S().YK)({selected:{id:"database.relationProperty.sharing.selected.subHeader",defaultMessage:"Selected"},unselected:{id:"database.relationProperty.sharing.unselected.subHeader",defaultMessage:"Possible choices"}});function Rn(e){const{targetCollectionStore:t,collectionStore:n,schema:o,property:i,canConfigureCollection:r,numRelatedPages:a,handleClearProperty:l,overlayMode:s,index:c,blockPropertyValueOverlayStore:d}=e;return{key:"backlog",render:e=>(0,Z.jsx)(vn,{...e,collectionStore:n,schema:o,targetCollectionStore:t,property:i,showRight:0===a||"add"===(null==s?void 0:s.type),disabled:!r,style:{paddingBottom:0,paddingTop:0}}),items:[{key:"sprints_backlog",render:e=>(0,Z.jsx)(nt,{focused:e.focused,onMouseEnter:e.onMouseEnter,targetCollectionStore:t,onClick:l,isSection:!1,index:c,blockPropertyValueOverlayStore:d}),action:()=>{l&&l()}}]}}function In(e){let{relationPropertyMenuResultProps:t,menuListStore:n,draggableListStore:a}=e;const{results:l,onDrag:d,parentStore:u,collectionStore:p,targetCollectionStore:g,property:h,canDrag:m,canConfigureCollection:y,loading:f,onCreatePage:x,overlayMode:v,disabled:b,schema:C,searchQuery:P,index:k,handleClearProperty:M,blockPropertyValueOverlayStore:j,relationPropertyMenuStore:w,addPage:R,addingPage:I}=t,A=(0,i().v3)(),_=(0,o.useCallback)(((e,t)=>function(e,t,n,o){o&&o(e),Ve().pl({store:n,focus:{section:0,indexLocal:t.endPosition,indexGlobal:t.endPosition,footerFocused:!1}})}(e,t,n,d)),[n,d]),{device:D}=A,T=(0,S().tz)(),B=C[h],L=Boolean("relation"===(null==B?void 0:B.type)&&B.connectedRelation),F=(0,de().D)(B),E=(0,r().K8)((()=>function(e,t,n){const o=e.getDatabaseType()===s().av;return t?{getCanDragRow:()=>!1,getRelatedSectionHeaderTitle:()=>n.formatMessage(wn.selected),getUnrelatedSectionHeaderTitle:()=>n.formatMessage(wn.unselected),getFooterSection:()=>{}}:o?{getCanDragRow:()=>!1,getRelatedSectionHeaderTitle:()=>{},getUnrelatedSectionHeaderTitle:()=>{},getFooterSection:Rn}:{getCanDragRow:kn,getRelatedSectionHeaderTitle:Mn,getUnrelatedSectionHeaderTitle:jn,getFooterSection:()=>{}}}(g,F,T)),[F,g,T]),O=(0,r().K8)((()=>{var e;if(j.state.isOpen)return(0,c().hm)(B,null===(e=j.state.formQuestionStore)||void 0===e?void 0:e.getModel())}),[B,j]),[W,N]=(0,r().K8)((()=>{const e=[],n=[],o=l.filter((e=>e.type===_e().M7.SelectedPage)).length;for(const i of l)if(i.type===_e().M7.SearchPage){const e=i.store,r=Boolean(O&&o>=O);if(!e.isTemplate()){const o=Cn({environment:A,isSharingEnabled:F,result:i,pointer:e.pointer,relationPropertyMenuResultProps:t,canDragRow:!1,limitReached:r,propertyLimit:O});o&&n.push(o)}}else if(i.type===_e().M7.SelectedPage){const n=E.getCanDragRow({canDrag:m,property:h,schema:C,totalRelatedPages:o}),r=Cn({environment:A,result:i,pointer:i.store.pointer,relationPropertyMenuResultProps:t,canDragRow:n,isSharingEnabled:F});r&&e.push(r)}return[e,n]}),[l,A,t,E,m,h,C,F,O]),z=(0,r().K8)((()=>g.getFormat().integration_id),[g]),U=E.getRelatedSectionHeaderTitle({numRelatedPages:W.length,integrationId:z,limit:O}),K=[],V=W.map((e=>e.key.toString())),H=!z&&N.length>0;(W.length>0||H)&&K.push({key:"results",render:e=>(0,Z.jsx)(vn,{...e,title:U,collectionStore:p,schema:C,targetCollectionStore:g,property:h,showRight:"add"!==(null==v?void 0:v.type),disabled:!y,style:{paddingBottom:void 0===U?0:4},children:m&&!Sn(h,C)&&V.length>1?(0,Z.jsx)(He().Ay,{direction:"vertical",keys:V,renderKey:t=>e.children[V.indexOf(t)],onDrop:_,store:a}):e.children}),items:W});if(!L&&(0===N.length&&0===W.length||N.length>0)){const e=E.getUnrelatedSectionHeaderTitle({loading:f,numRelatedPages:W.length,numUnrelatedPages:N.length,limit:O}),t=!f&&0===N.length&&!D.isMobile&&!L&&Boolean(null==P?void 0:P.trim());let n;t&&N.push({key:"empty",render:e=>(0,Z.jsx)(J,{targetCollectionStore:g,parentBlockStore:u,title:P||"",focused:e.focused,onClick:x,isSection:!1,index:k}),action:()=>{x&&x()}}),(t||void 0===e)&&(n={paddingBottom:0});const o={key:"unrelated",render:t=>(0,Z.jsx)(vn,{...t,title:e,collectionStore:p,schema:C,targetCollectionStore:g,property:h,showRight:0===W.length||"add"===(null==v?void 0:v.type),disabled:!y,style:n}),items:N};"add"===(null==v?void 0:v.type)?K.unshift(o):K.push(o)}if(!D.isMobile&&W.length>0&&!b){const e=E.getFooterSection({targetCollectionStore:g,collectionStore:p,schema:C,property:h,canConfigureCollection:y,numRelatedPages:W.length,handleClearProperty:M,overlayMode:v,index:k,blockPropertyValueOverlayStore:j});e&&K.push(e)}return L?(0,Z.jsx)(fn,{blockPropertyValueOverlayStore:j,targetCollectionStore:g,sections:K,propertySchema:B,property:h,pageRecordStore:u,search:P,relationPropertyMenuStore:w,addPage:R,addingPage:I}):(0,Z.jsx)(Qe().Ay,{type:Qe().Oh.Vertical,store:n,style:{padding:"8px 0px"},initialFocus:A.device.isMobile?void 0:0,sections:K})}function An(e){let{relationPropertyMenuResultProps:t,menuListStore:n,draggableListStore:o}=e;const{results:i,loading:a,onScrollOffsetChange:l}=t,s=(0,r().K8)((()=>"on"===fe().default.getEligibleGroup({experimentId:"search_surfaces_relation_search",defaultGroup:"unassigned"})&&a),[a]),c=0===i.length;return(0,Z.jsxs)(Ze().H,{style:{width:"100%",maxHeight:300,position:"relative",...c&&{marginTop:0}},type:dt().A.Y,children:[c&&s&&(0,Z.jsx)(_n,{}),(0,Z.jsx)(In,{relationPropertyMenuResultProps:t,menuListStore:n,draggableListStore:o}),l&&(0,Z.jsx)(Je().A,{onChange:l}),a?s?(0,Z.jsx)(Dn,{}):(0,Z.jsx)(xn,{}):null]})}function _n(){const e=(0,a().IS)((e=>({sectionName:{height:12,borderRadius:4,width:"20%",marginTop:15,marginLeft:13,marginBottom:6}})),[]);return(0,Z.jsx)(qe().A,{style:e.sectionName})}const Dn=(0,o.memo)((function(e){const{count:t=10}=e,n=(0,a().IS)((e=>({wrapper:{marginRight:8,marginLeft:12},icon:{height:16,width:16,borderRadius:4},pageName:{height:15,borderRadius:4,marginLeft:-1}})),[]),o=Array.from({length:t},(()=>!0));return(0,Z.jsx)("div",{style:n.wrapper,children:(0,Z.jsx)(Ge().VP,{gap:12,children:o.map(((e,t)=>(0,Z.jsx)("div",{children:(0,Z.jsxs)(Ge().fI,{gap:8,alignItems:"center",children:[(0,Z.jsx)(qe().A,{style:n.icon}),(0,Z.jsx)(qe().A,{style:{...n.pageName,width:C().XM(["30%","40%","43%","45%","48%","50%","54%","55%","60%"])}})]})},`relation-result-shimmer-${t}`)))})})}));function Tn(e){let{relationPropertyMenuResultProps:t,menuListStore:n,draggableListStore:i}=e;const{results:r,loading:a,resultsType:l,schema:s,property:c,blockPropertyValueOverlayStore:d,targetCollectionStore:u,parentStore:p,searchQuery:g,relationPropertyMenuStore:h,addPage:m,addingPage:y}=t,f=0===r.length,x=s[c];return Boolean("relation"===(null==x?void 0:x.type)&&x.connectedRelation)&&f?(0,Z.jsx)("div",{style:{marginTop:20},children:(0,Z.jsx)(fn,{blockPropertyValueOverlayStore:d,targetCollectionStore:u,sections:[],propertySchema:x,property:c,pageRecordStore:p,search:g,relationPropertyMenuStore:h,addPage:m,addingPage:y})}):(0,Z.jsxs)(o.Fragment,{children:[f&&!a&&"existing"===l?void 0:(0,Z.jsx)(In,{relationPropertyMenuResultProps:t,menuListStore:n,draggableListStore:i}),a&&(0,Z.jsx)(xn,{})]})}const Bn=(0,n(340498).wt)("questionMarkFilled",{viewBox:"0 0 14 14",svg:(0,Z.jsx)("path",{d:"M7 14C6.04379 14 5.14248 13.817 4.29608 13.451C3.45425 13.085 2.71078 12.5794 2.06569 11.9343C1.42059 11.2892 0.915033 10.5458 0.54902 9.70392C0.183007 8.85752 0 7.95621 0 7C0 6.04379 0.183007 5.14477 0.54902 4.30294C0.915033 3.45654 1.4183 2.71078 2.05882 2.06569C2.70392 1.42059 3.44739 0.915033 4.28922 0.54902C5.13562 0.183007 6.03693 0 6.99314 0C7.94935 0 8.85065 0.183007 9.69706 0.54902C10.5435 0.915033 11.2892 1.42059 11.9343 2.06569C12.5794 2.71078 13.085 3.45654 13.451 4.30294C13.817 5.14477 14 6.04379 14 7C14 7.95621 13.817 8.85752 13.451 9.70392C13.085 10.5458 12.5794 11.2892 11.9343 11.9343C11.2892 12.5794 10.5435 13.085 9.69706 13.451C8.85523 13.817 7.95621 14 7 14ZM6.86275 8.46863C7.04118 8.46863 7.18072 8.42059 7.28137 8.32451C7.38203 8.22386 7.43235 8.10261 7.43235 7.96078C7.43235 7.94706 7.43235 7.93333 7.43235 7.91961C7.43235 7.90131 7.43235 7.88758 7.43235 7.87843C7.43235 7.67712 7.49183 7.50556 7.61078 7.36373C7.72974 7.21732 7.91275 7.06405 8.1598 6.90392C8.50294 6.67974 8.78431 6.44412 9.00392 6.19706C9.22811 5.95 9.3402 5.61373 9.3402 5.18824C9.3402 4.79477 9.23497 4.46536 9.02451 4.2C8.81405 3.93007 8.53726 3.72647 8.19412 3.58922C7.85556 3.45196 7.48497 3.38333 7.08235 3.38333C6.46928 3.38333 5.97059 3.50458 5.58627 3.74706C5.20654 3.98954 4.96634 4.27549 4.86569 4.6049C4.84739 4.6598 4.83137 4.71699 4.81765 4.77647C4.8085 4.83595 4.80392 4.89543 4.80392 4.9549C4.80392 5.11046 4.85654 5.2317 4.96176 5.31863C5.06699 5.40098 5.17909 5.44216 5.29804 5.44216C5.41699 5.44216 5.51765 5.41699 5.6 5.36667C5.68235 5.31177 5.75556 5.24314 5.81961 5.16078L5.94314 4.98922C6.03007 4.85196 6.12843 4.73529 6.23824 4.63922C6.34804 4.54314 6.46928 4.46993 6.60196 4.41961C6.73464 4.36928 6.87876 4.34412 7.03431 4.34412C7.35458 4.34412 7.61078 4.42647 7.80294 4.59118C7.99967 4.75588 8.09804 4.9732 8.09804 5.24314C8.09804 5.48562 8.02255 5.68464 7.87157 5.8402C7.72059 5.99118 7.48954 6.17418 7.17843 6.38922C6.9268 6.56765 6.71634 6.76209 6.54706 6.97255C6.37778 7.18301 6.29314 7.46438 6.29314 7.81667C6.29314 7.83039 6.29314 7.84641 6.29314 7.86471C6.29314 7.87843 6.29314 7.89216 6.29314 7.90588C6.29314 8.28105 6.48301 8.46863 6.86275 8.46863ZM6.84216 10.5755C7.04804 10.5755 7.22647 10.5046 7.37745 10.3627C7.53301 10.2209 7.61078 10.0471 7.61078 9.84118C7.61078 9.63529 7.53529 9.46144 7.38431 9.31961C7.23333 9.1732 7.05261 9.1 6.84216 9.1C6.63627 9.1 6.45784 9.1732 6.30686 9.31961C6.15588 9.46601 6.08039 9.63987 6.08039 9.84118C6.08039 10.0471 6.15588 10.2209 6.30686 10.3627C6.46242 10.5046 6.64085 10.5755 6.84216 10.5755Z"})});var Ln=()=>n(365683),Fn=()=>n(919709),En=()=>n(755199),On=()=>n(625830),Wn=()=>n(285790),Nn=()=>n(676007),zn=()=>n(887480);function Un(e){let{onConfirm:t,onClosed:n,currentBlockTitle:l,blockWithExistingRelationTitle:s,canAccessBlockWithExistingRelation:c}=e;const d=l?Fn().k4p(l):void 0,u=c&&s?Fn().k4p(s):void 0,p=(0,i().v3)(),g=(0,r().K8)((()=>{const{currentUserSettingsStore:e}=ye().default.state;return e}),[]),[h,m]=o.useState(!1),y=(0,Ke().wb)(h,100,((e,t)=>e===t));o.useEffect((()=>{if(!g)return;const e=y?Date.now():null;F().createAndCommit({environment:p,userAction:"twoWayWithLimitAddRelationConfirmationDialog.setDismissModalForever",canUndo:!0,perform:t=>{En().mJ({userSettingsStore:g,transaction:t,data:{relation_limit_confirmation_dialog_dismissed_at:e}})}})}),[y,g,p]);const f=(0,o.useCallback)((()=>{t(),n()}),[t,n]),x=(0,a().IS)((e=>({checkBoxContainer:{display:"flex",flexDirection:"row",alignItems:"center",gap:4,flexGrow:0,alignSelf:"center",marginTop:24,color:e.text.secondary,fontSize:14,lineHeight:"20px"},questionMarkButton:{display:"inline-block",width:14,height:14,marginLeft:4,paddingTop:2},questionMarkIcon:{fill:e.icon.secondary}})),[]),v=(0,S().tz)();return(0,Z.jsx)(Nn().A,{open:!0,render:()=>(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(zn().Ay,{width:300,title:(0,Z.jsx)(S().sA,{defaultMessage:"Are you sure you want to link this page to {currentBlockTitleText}",id:"twoWayLimitAddRelationConfirmationDialog.title",values:{currentBlockTitleText:d}}),subtitle:(0,Z.jsxs)(Z.Fragment,{children:[c&&u?(0,Z.jsx)(S().sA,{defaultMessage:"This will unlink it from {blockWithExistingRelationTitleText}.",id:"twoWayLimitAddRelationConfirmationDialog.subtitle",values:{blockWithExistingRelationTitleText:u}}):(0,Z.jsx)(S().sA,{defaultMessage:"This will unlink it from another page in this database.",id:"twoWayLimitAddRelationConfirmationDialog.subtitleWithNoAccessToOtherPage"}),(0,Z.jsx)(jt().A,{renderTooltip:()=>(0,Z.jsx)(S().sA,{defaultMessage:"Pages from this database can only be linked to one record.",id:"twoWayLimitAddRelationConfirmationDialog.tooltip.noAccess"}),render:e=>(0,Z.jsx)(Wn().A,{...e,style:x.questionMarkButton,ariaLabel:v.formatMessage({defaultMessage:"Pages from this database can only be linked to one record.",id:"twoWayLimitAddRelationConfirmationDialog.subtitle.questionMark.ariaLabel"}),icon:Bn,iconStyle:x.questionMarkIcon})})]}),confirmText:(0,Z.jsx)(S().sA,{defaultMessage:"Continue",id:"twoWayLimitAddRelationConfirmationDialog.primaryButton.text"}),onConfirm:f,onDismiss:n,radioOptions:[],icon:Ln().H,footer:(0,Z.jsxs)("div",{style:x.checkBoxContainer,children:[(0,Z.jsx)(On().A,{checked:h,onClick:()=>m(!h),size:14,id:"twoWayLimitAddRelationConfirmationDialog.doNotShowAgain"}),(0,Z.jsx)("label",{htmlFor:"twoWayLimitAddRelationConfirmationDialog.doNotShowAgain",children:(0,Z.jsx)(S().sA,{defaultMessage:"Don't ask again",id:"twoWayLimitAddRelationConfirmationDialog.dontAskAgain.checkbox.label"})})]})})})})}function Kn(){const{blockStore:e,schema:t,property:n,format:a}=(0,o.useContext)(O().t),l=(0,i().v3)(),c=(0,o.useMemo)((()=>new(Ee().A)),[]),p=(0,r().K8)((()=>function(e){const{environment:t,blockStore:n,schema:o,property:i}=e;if(!n)return;const r=o[i];if("relation"!==(null==r?void 0:r.type))return;const a=d().Nv(r);if(!a)return;const l=ve().md.createChildStore(n,a);if(!l)return;const s=l.getParentId();if(!s)return;const c=ve().Bv.createChildStore(l,{table:x().ev,id:s});if(!c)return;const p=c.isDefined()?me().E2(t,c):void 0,h=(0,g().A)({pageId:c.id,pageModel:c.getModel(),baseUrl:p,pageVisitSource:void 0});return{property:i,propertySchema:r,targetCollectionStore:l,targetParentUrl:h,connectedRelationFlags:{isSyncedCollectionRelation:l.isSyncedCollection(),isGithubPrRelation:u().di(r),isGoogleDriveRelation:u().H6(r),isFigmaRelation:u().KF(r),isZendeskRelation:u().up(r),isSalesforceRelation:u().V5(r),isSlackRelation:u().uv(r),isConnectedRelation:d().UU(r)}}}({environment:l,blockStore:e,schema:t,property:n})),[l,e,t,n]),h=(0,de().D)(t[n]),m=(0,r().K8)((()=>null==p?void 0:p.targetCollectionStore.getDatabaseType()),[null==p?void 0:p.targetCollectionStore]),y=(0,r().K8)((()=>h?"sharing":m===s().av?"sprint":"default"),[m,h]);return p?(0,Z.jsx)(Fe,{relationPropertyMenuStore:c,property:p.property,propertySchema:p.propertySchema,targetCollectionStore:p.targetCollectionStore,targetParentUrl:p.targetParentUrl,connectedRelationFlags:p.connectedRelationFlags,children:(0,Z.jsx)(z().A,{capture:!0,allowMenuList:!0,allowEsc:!0,allowUndo:!0,allowTabUntab:!0,render:()=>(0,Z.jsx)(Vn,{type:y})})}):(0,Z.jsx)(Y().A,{children:(0,te().NN)(a)?(0,Z.jsx)(V().A,{title:(0,Z.jsx)(S().sA,{defaultMessage:"You may not have access to the related database. Contact the form creator.",id:"database.relationPropertyMenu.formViewer.noAccess.message"})}):(0,Z.jsx)(V().A,{title:(0,Z.jsx)(S().sA,{defaultMessage:"You may not have access to the related database.",id:"database.relationPropertyMenu.noAccess.message"})})})}function Vn(e){let{type:t}=e;const{blockStore:n,blockPropertyValueOverlayStore:a,collectionId:l,overlayMode:s,isDisabled:c,schema:d,property:u,insertChar:p,format:g,onChange:h,analyticsFrom:m}=(0,o.useContext)(O().t),f=(0,o.useContext)(Le),x=(0,i().v3)(),P=(0,i().Y0)(),k=(0,S().tz)(),w=(0,pe().X)("db_ux_mobile"),R=(0,r().K8)((()=>null==f?void 0:f.relationPropertyMenuStore),[null==f?void 0:f.relationPropertyMenuStore]),I=Xn(),{relationSearchLimit:A,relationSearchQuery:_}=(0,r().K8)((()=>({relationSearchQuery:null==R?void 0:R.state.searchQuery,relationSearchLimit:null==R?void 0:R.state.searchLimit})),[R]);(0,o.useEffect)((()=>{R&&(0!==I.length||w&&P.isMobile||R.setState({searchPopupOpen:P.isMobile,searchQuery:p??"",searchLimit:Ee().A.limitIncrement,addingPage:!1}))}),[]);const D=(0,r().K8)((()=>"on"===fe().default.getEligibleGroup({experimentId:"search_surfaces_relation_search",defaultGroup:"unassigned"})),[]),T=Boolean(D&&_&&_.length>0&&"sprint"!==t&&"sharing"!==t),B=(0,r().K8)((()=>(0,ce().Er)(x).hasPublicAccessPermission),[x]),L=(0,r().K8)((()=>{const e=null==f?void 0:f.targetCollectionStore.getSpaceId();if(n&&e)return ve().SL.createChildStore(n,{table:v().NX,id:e})}),[n,null==f?void 0:f.targetCollectionStore]),{results:F,isResultsLoading:E,fetchAdditionalServerResultsOnChange:N,searchSessionId:z,searchSessionFlowNumber:U}=(0,ue().W)({query:_??"",limit:A??20,type:b().Vz.BlocksInCollection,collectionId:(null==f?void 0:f.targetCollectionStore.id)??"",source:"relation_menu",filters:{includePublicPagesWithoutExplicitAccess:g===W().j.FormViewer},options:{disable:!T||!Boolean(null==f?void 0:f.targetCollectionStore.id),overrideSpaceStore:B?L:void 0}}),K="sprint"===t?Te:De,{searchResults:V,searchSessionFlowNumber:H,isSearchLoading:G}=function(e){const{forceDisable:t,getSearchResults:n}=e,{blockPointers:a,isDisabled:l}=(0,o.useContext)(O().t),s=(0,i().v3)(),c=(0,o.useContext)(Le),d=(0,o.useRef)(void 0),u=(0,ee().Ks)(),p=(0,o.useRef)(0),{searchQuery:g,searchLimit:h}=(0,r().K8)((()=>({searchQuery:(null==c?void 0:c.relationPropertyMenuStore.state.searchQuery)??"",searchLimit:(null==c?void 0:c.relationPropertyMenuStore.state.searchLimit)??0})),[null==c?void 0:c.relationPropertyMenuStore]),[{status:m,value:f}]=(0,y().Yb)((async()=>{const e=d.current===g;if(d.current=g,l||t)return[];if(null==c||!c.propertySchema||null==c||!c.targetCollectionStore)return[];if(null!=c&&c.connectedRelationFlags.isConnectedRelation)return[];const o=(0,Se().Y_)({targetCollectionId:c.targetCollectionStore.id})??[];if(!u)return await n({environment:s,query:{query:g,limit:h},targetCollectionStore:c.targetCollectionStore,propertySchema:c.propertySchema,blockPointers:a,pageIdsToBoost:o});e||t||(p.current+=1);const i=u.relationResultsCacheStore.getState(),r=i.get(c.property)??{},m=r[g];if(!m||Date.now()-m.timestamp>Ee().A.resultsCacheTTL||m.results.length<h){const e=await n({environment:s,query:{query:g,limit:h},targetCollectionStore:null==c?void 0:c.targetCollectionStore,propertySchema:null==c?void 0:c.propertySchema,blockPointers:a,pageIdsToBoost:o}),t=e.slice(0,h);return i.set(c.property,{...r,[g]:{timestamp:Date.now(),results:t}}),u.relationResultsCacheStore.emit(),e}const y=Be({results:o,targetCollectionStore:c.targetCollectionStore,blockPointers:a});return C().Mp(y.concat(m.results),((e,t)=>e.key===t.key))}),[l,t,null==c?void 0:c.propertySchema,null==c?void 0:c.targetCollectionStore,null==c?void 0:c.connectedRelationFlags.isConnectedRelation,null==c?void 0:c.property,u,n,s,g,h,a],{debounce:he().tu}),x=(0,r().K8)((()=>"pending"===m&&!Boolean(t)),[m,t]);return{searchResults:f,searchSessionFlowNumber:p.current,isSearchLoading:x}}({getSearchResults:K,forceDisable:T}),q=(0,o.useRef)(I.length);(0,o.useEffect)((()=>{q.current=I.length}),[I]);const $=(0,o.useRef)(0);$.current=H+U;const Y=(0,o.useRef)(z);(0,o.useEffect)((()=>{Y.current=z,$.current=U}),[x,z,U]),(0,o.useEffect)((()=>(M().u4({environment:x,event:{eventName:"collections_relation_property_menu_open",eventProperties:{search_session_id:Y.current,using_secondary_search_surfaces_hook:D,collection_id:l,target_collection_id:null==f?void 0:f.targetCollectionStore.id,relation_values_count:q.current,from:m}}}),()=>{M().u4({environment:x,event:{eventName:"collections_relation_property_menu_close",eventProperties:{search_session_id:Y.current,search_session_flow_number:$.current,relation_values_count:q.current}}})})),[x,D,m,l,null==f?void 0:f.targetCollectionStore.id]);const Q=(0,r().K8)((()=>F.map((e=>({type:_e().M7.SearchPage,store:e.store,key:e.id})))),[F]),X=(0,r().K8)((()=>(0,se().w6)(x)),[x]),J=D&&_&&_.length>0&&"default"===t?Q:V,ne=(0,o.useRef)(!0),ie=(0,o.useRef)(void 0);(0,o.useEffect)((()=>{if(Boolean(null==_?void 0:_.length))return;const e=G;!e||ie.current?!e&&ie.current&&J&&(ge().default.measure(ie.current,{environment:x,data:{search_session_id:z,...ne.current&&{search_session_flow_number:1}}}),ne.current=!1,ie.current=void 0):ie.current=ge().default.mark("collection_relation_search_initial_results_loaded")}),[J,x,z,null==_?void 0:_.length,G]);const re=null==f?void 0:f.connectedRelationFlags.isConnectedRelation,ae=!(((0,te().NN)(g)&&X||re)??!1)&&"default"===t,[le,de]=o.useState(null),me=(0,ee().Ks)(),ye=(0,o.useMemo)((()=>{if(!le)return null;const{blockWithExistingRelationTitle:e,currentBlockTitle:t,canAccessBlockWithExistingRelation:n}=le;return(0,Z.jsx)(Un,{onConfirm:()=>{h(le.update),m&&j(x,{from:m,...(0,oe().sl)(me),target_collection_id:null==f?void 0:f.targetCollectionStore.id}),1===(null==f?void 0:f.propertySchema.limit)&&(null==a||a.setState({isOpen:!1}))},onClosed:()=>{de(null)},currentBlockTitle:t,blockWithExistingRelationTitle:e,canAccessBlockWithExistingRelation:n})}),[m,a,le,me,x,null==f?void 0:f.propertySchema.limit,null==f?void 0:f.targetCollectionStore.id,h]);if(!(f&&R&&d&&n&&a))return null;const xe={searchSessionId:z,shouldShowShimmers:D&&(E||G),onScrollSearchHookFn:N,searchSessionFlowNumber:$.current},be=(0,Z.jsx)(Qn,{blockStore:n,searchResults:J,isDefaultSearchLoading:G,searchHookData:{...xe,...(x.device.isMobile||re)&&{shouldShowShimmers:!1}},showChangeConfirmationDialog:de});if(P.isMobile){const e=(0,Z.jsx)(Hn,{blockStore:n,children:be});return(0,te().NN)(g)||w?e:(0,Z.jsxs)(qn,{showChangeConfirmationDialog:de,children:[e,ye]})}let Ce;switch(t){case"sharing":Ce=we(k,{propertyName:f.propertySchema.name});break;case"sprint":Ce=function(e){return e.formatMessage(Me.inputPlaceholder)}(k);break;default:Ce=je({intl:k,connectedRelationFlags:f.connectedRelationFlags,overlayMode:s,disabled:c,format:g})}return(0,Z.jsxs)($n,{header:(0,Z.jsx)(Ue,{inputPlaceholder:Ce,showTargetDatabase:ae,addPage:()=>Zn({environment:x,menuStore:R,blockPropertyValueOverlayStore:a,blockStore:n,schema:d,property:u,targetCollectionStore:f.targetCollectionStore})}),footer:(0,Z.jsx)(Yn,{hasSearchResults:Boolean(null==J?void 0:J.length)}),children:[be,ye]})}function Hn(e){const{blockStore:t,children:n}=e,i=(0,pe().X)("db_ux_mobile"),{format:r,onDismiss:a}=(0,o.useContext)(O().t),l=(0,o.useContext)(Le);return(0,Z.jsx)(K().A,{menuType:ae().gu.Modal,title:(0,Z.jsx)(S().sA,{defaultMessage:"Relation",id:"relationPropertyMenu.mobileRelationMenu.title"}),left:(0,Z.jsx)(Q().A,{href:(0,se().xS)("guides.relations"),analyticsFrom:"relation_menu"}),header:(0,Z.jsx)(Gn,{blockStore:t}),...!i&&{right:(0,Z.jsx)(H().DoneMenuText,{}),onClickRight:()=>(0,te().NN)(r)?a():null==l?void 0:l.relationPropertyMenuStore.reset()},children:n})}function Gn(e){const{blockStore:t}=e,n=(0,S().tz)(),l=(0,i().v3)(),s=(0,i().Y0)(),c=(0,o.useContext)(Le),d=(0,de().D)(),u=(0,ae().Tf)(),{overlayMode:p,isDisabled:g,format:h,onChange:m,blockPointers:y,insertChar:f}=(0,o.useContext)(O().t),x=(0,r().K8)((()=>(null==c?void 0:c.relationPropertyMenuStore.state.searchQuery)??f??""),[null==c?void 0:c.relationPropertyMenuStore,f]),v=(0,a().IS)((e=>({inputMenu:{...s.isAndroid&&{borderBottom:"none"}}})),[s.isAndroid]),b=(0,ee().Ks)();if(!c)return null;const{relationPropertyMenuStore:C,targetCollectionStore:P,connectedRelationFlags:k,propertySchema:M}=c;let j;return j=d?we(n,{propertyName:M.name}):je({connectedRelationFlags:k,overlayMode:p,disabled:g,format:h,intl:n}),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Y().A,{disableMobilePadding:!u,children:(0,Z.jsx)(U().Ay,{value:x,disabled:g,onChange:e=>{const t=e.target.value;C.setState({...C.state,searchQuery:t,searchLimit:Ee().A.limitIncrement})},placeholder:j,showClearButton:!0,focusInitial:!0,style:v.inputMenu})}),x&&!g&&!k.isConnectedRelation&&(0,Z.jsx)(Y().A,{children:(0,Z.jsx)(J,{targetCollectionStore:P,title:x,parentBlockStore:t,onClick:e=>Jn({environment:l,collectionContextStore:b,relationPropertyMenuStore:C,blockPointers:y,onChange:m,index:e,propertySchema:M,targetCollectionStore:P}),focused:!1,isSection:!0})})]})}function qn(e){const{children:t,showChangeConfirmationDialog:n}=e,{collectionStore:l,property:s,schema:c,blockStore:d,blockPropertyValueOverlayStore:u,isDisabled:p,canConfigureCollection:g,blockPointers:m,analyticsFrom:y,overlayMode:x,onChange:v,onDismiss:b,format:C}=(0,o.useContext)(O().t),P=(0,o.useContext)(Le),k=(0,i().v3)(),M=(0,ee().Ks)(),j=Xn(),R=(0,a().IS)((e=>({input:{color:e.text.secondary},menuTitle:{display:"flex"},databaseIcon:{display:"flex",marginLeft:2*_e().g1},databaseTitle:{marginLeft:_e().g1},addPageButton:{display:"flex",alignItems:"center"},plusIcon:{marginRight:8,width:16,height:16}})),[]),I=(0,r().K8)((()=>null==P?void 0:P.targetCollectionStore.getIcon()),[null==P?void 0:P.targetCollectionStore]),A=(0,r().K8)((()=>{const e=Boolean(xe().A.bots.state.find((e=>e.integration_id===h().ob))),t=Boolean(xe().A.bots.state.find((e=>e.integration_id===h().Hd))),n=Boolean(xe().A.bots.state.find((e=>e.integration_id===h().e1)));return(null==P?void 0:P.connectedRelationFlags.isGithubPrRelation)&&!e||(null==P?void 0:P.connectedRelationFlags.isGoogleDriveRelation)&&!t||(null==P?void 0:P.connectedRelationFlags.isFigmaRelation)&&!n}),[null==P?void 0:P.connectedRelationFlags.isGithubPrRelation,null==P?void 0:P.connectedRelationFlags.isGoogleDriveRelation,null==P?void 0:P.connectedRelationFlags.isFigmaRelation]),_=(0,r().K8)((()=>Boolean(null==P?void 0:P.relationPropertyMenuStore.state.addingPage)),[null==P?void 0:P.relationPropertyMenuStore]),D=(0,r().K8)((()=>Boolean(null==P?void 0:P.relationPropertyMenuStore.state.searchPopupOpen)),[null==P?void 0:P.relationPropertyMenuStore]),T=(0,de().D)(c[s]);if(!(l&&d&&u&&P))return null;const{relationPropertyMenuStore:L,propertySchema:F,targetCollectionStore:E,targetParentUrl:W,connectedRelationFlags:{isConnectedRelation:z}}=P,U=(0,Z.jsx)("div",{style:R.menuTitle,children:(0,Z.jsx)(S().sA,{id:"database.relationProperty.newRelation.targetDatabase",defaultMessage:"<regular>In</regular> {databaseWithIcon}",values:{regular:e=>e,databaseWithIcon:(0,Z.jsxs)("div",{style:R.databaseIcon,children:[(0,Z.jsx)(q().B,{disabled:!0,icon:I,isEmptyPage:!1,size:_e().$w}),(0,Z.jsx)($().A,{store:E,underline:!0,style:R.databaseTitle,maxLength:25})]})}})});return(0,Z.jsxs)(K().A,{menuType:ae().gu.Modal,title:F.name,right:(0,Z.jsx)(S().sA,{defaultMessage:"Done",id:"relationPropertyMenu.mobileMenuDone.button"}),onClickRight:b,children:[!z&&(0,Z.jsx)(Y().A,{disableMobilePadding:!0,children:(0,Z.jsx)(N().A,{focused:!1,title:U,showExtensionArrow:!1,onClick:()=>function(e){const{environment:t,targetParentUrl:n,analyticsFrom:o}=e;B().oo({environment:t,url:n}),o&&w(t,{from:o})}({environment:k,targetParentUrl:W,analyticsFrom:y})})}),!A&&(0,Z.jsx)(Y().A,{topBorder:!0,disableMobilePadding:!1,children:(0,Z.jsx)(G().Ay,{popupType:G().nl.SlideUp,open:D,origin:(0,Z.jsx)(N().A,{focused:!1,title:(0,Z.jsxs)("span",{style:R.addPageButton,children:[(0,f().W)(R.plusIcon),T?(0,Z.jsx)(S().sA,{defaultMessage:"Select {name}",id:"relationPropertyMenu.add.button",values:{name:F.name}}):(0,Z.jsx)(S().sA,{defaultMessage:"Add a page",id:"relationPropertyMenu.addAPage.button"})]}),onClick:()=>{var e;(e=L).setState({...e.state,searchPopupOpen:!0,searchLimit:Ee().A.limitIncrement})},style:R.input}),render:()=>t,trapFocus:!1})}),(0,Z.jsx)(bn,{collectionStore:l,collectionId:l.id,targetCollectionStore:E,results:j,resultsType:"existing",property:s,schema:c,propertySchema:F,parentStore:d,disabled:p,canConfigureCollection:g,loading:!1,canDrag:!1,blockPropertyValueOverlayStore:u,onAccept:(e,t)=>function(e){const{environment:t,analyticsFrom:n,result:o,openInNew:i}=e;o.type===_e().M7.SelectedPage&&to({environment:t,analyticsFrom:n,result:o,openInNew:i})}({environment:k,analyticsFrom:y,result:e,openInNew:t}),onClickActionButton:e=>eo({environment:k,collectionContextStore:M,blockPropertyValueOverlayStore:u,result:e,blockPointers:m,onChange:v,analyticsFrom:y,overlayMode:x,propertySchema:F,targetCollectionStore:E,showChangeConfirmationDialog:n}),onCreatePage:e=>Jn({environment:k,collectionContextStore:M,relationPropertyMenuStore:L,blockPointers:m,onChange:v,index:e,propertySchema:F,targetCollectionStore:E}),handleClearProperty:()=>v({newValues:[],oldValues:m}),relationPropertyMenuStore:L,addPage:(e,t)=>Zn({environment:k,menuStore:L,blockPropertyValueOverlayStore:u,blockStore:d,schema:c,property:s,targetCollectionStore:E,uri:e,overrideBotId:t}),addingPage:_,format:C})]})}function $n(e){const{children:t,header:n,footer:i}=e,l=(0,o.useContext)(Le),s=(0,r().K8)((()=>{var e;const t=Boolean(xe().A.bots.state.find((e=>e.integration_id===h().ob))),n=(null==l?void 0:l.connectedRelationFlags.isGoogleDriveRelation)||(null==l?void 0:l.connectedRelationFlags.isFigmaRelation)||(null==l?void 0:l.connectedRelationFlags.isZendeskRelation)||(null==l?void 0:l.connectedRelationFlags.isSalesforceRelation)||(null==l?void 0:l.connectedRelationFlags.isSlackRelation),o=null===(e=ye().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit();return(null==l?void 0:l.connectedRelationFlags.isGithubPrRelation)&&!t||n&&!o}),[null==l?void 0:l.connectedRelationFlags.isGithubPrRelation,null==l?void 0:l.connectedRelationFlags.isGoogleDriveRelation,null==l?void 0:l.connectedRelationFlags.isFigmaRelation,null==l?void 0:l.connectedRelationFlags.isZendeskRelation,null==l?void 0:l.connectedRelationFlags.isSalesforceRelation,null==l?void 0:l.connectedRelationFlags.isSlackRelation]),c=(0,a().IS)((e=>({menuContent:{overflow:"hidden",maxHeight:"70vh"}})),[]);return(0,Z.jsx)(K().A,{menuType:ae().gu.Popup,header:!s&&n,footer:i,children:(0,Z.jsx)("div",{style:c.menuContent,children:t})})}function Yn(e){const{hasSearchResults:t}=e,n=(0,o.useContext)(Le),{blockPointers:a,onChange:l,overlayMode:s,isDisabled:c,insertChar:d,blockStore:u}=(0,o.useContext)(O().t),p=(0,i().v3)(),g=(0,ee().Ks)(),h=(0,r().K8)((()=>(null==n?void 0:n.relationPropertyMenuStore.state.searchQuery)??d??""),[null==n?void 0:n.relationPropertyMenuStore,d]),m=Boolean(null==h?void 0:h.trim());if(!n)return null;const{relationPropertyMenuStore:y,propertySchema:f,targetCollectionStore:x}=n;return f.connectedRelation?null:!c&&x&&u&&m&&t?(0,Z.jsx)(J,{targetCollectionStore:x,title:h,parentBlockStore:u,onClick:e=>Jn({environment:p,collectionContextStore:g,relationPropertyMenuStore:y,blockPointers:a,onChange:l,index:e,propertySchema:f,targetCollectionStore:x}),focused:!1,isSection:!0,index:"add"===(null==s?void 0:s.type)?null==s?void 0:s.index:void 0}):null}function Qn(e){const{blockStore:t,searchResults:n,isDefaultSearchLoading:a,searchHookData:{shouldShowShimmers:l,onScrollSearchHookFn:s,searchSessionId:c,searchSessionFlowNumber:d},showChangeConfirmationDialog:u}=e,{blockPointers:g,collectionStore:h,collectionId:y,property:f,schema:v,blockPropertyValueOverlayStore:b,isDisabled:S,canConfigureCollection:C,analyticsFrom:P,overlayMode:k,onChange:w,format:R,insertChar:A}=(0,o.useContext)(O().t),_=(0,o.useContext)(Le),D=(0,i().v3)(),B=(0,ee().Ks)(),L=Xn(),{searchQuery:F,addingPage:E}=(0,r().K8)((()=>(null==_?void 0:_.relationPropertyMenuStore.state)??{searchQuery:A??"",addingPage:!1}),[null==_?void 0:_.relationPropertyMenuStore,A]),W=(0,r().K8)((()=>F?L.filter((e=>{const t=e.store,n=t.getModel();if(n)return(0,p().Pt)({block:n,query:F,getRecordModel:t.getRecordModel,userTimeZone:(0,m().P)(),schema:v,intl:re().A.getIntl(),onlyPropertyIds:["title"]})})):L),[v,F,L]),N=(0,r().K8)((()=>!n&&0===W.length||l),[W.length,l,n]),z=(0,r().K8)((()=>t.getSpaceId()),[t]),U=o.useRef(void 0);o.useEffect((()=>{N&&""!==F&&(U.current=ge().default.mark("rum.relation_search_query"))}),[N,F]),o.useEffect((()=>{!N&&""!==F&&U.current&&(ge().default.measure(U.current,{environment:D,data:{search_session_id:c}}),U.current=void 0)}),[N,D,c,F]);const K=(0,o.useRef)(0);if(!b||!_)return null;const{relationPropertyMenuStore:V,propertySchema:H,targetCollectionStore:G}=_,q=[...W];n&&n.forEach((e=>{if((e.type===_e().M7.SelectedPage||e.type===_e().M7.SearchPage)&&W.find((t=>(t.type===_e().M7.SelectedPage||t.type===_e().M7.SearchPage)&&t.store.id===e.store.id)))return;const t=H.limit?g.slice(0,1):g,n=e.type!==_e().M7.NewPage?t.map((e=>e.id)).includes(e.store.id):void 0;n&&!F&&"add"===(null==k?void 0:k.type)||(e.type===_e().M7.SearchPage&&n?q.push({...e,type:_e().M7.SelectedPage}):e.type!==_e().M7.SelectedPage||n?q.push(e):q.push({...e,type:_e().M7.SearchPage}))}));const $=q.filter((e=>e.type===_e().M7.SearchPage)),Y=e=>{if(e.type===_e().M7.SearchPage){const t=$.indexOf(e);if(-1===t)return;const n=1/(t+1);K.current+=1;const o={index:t,session_added_order:K.current,search_session_id:c,query_length:F.length,reciprocal_rank:n,search_session_flow_number:d};M().u4({environment:D,event:{eventName:"collections_relation_search_item_click",eventProperties:o}}),fe().default.logEvent("collections_relation_search_mrr",n,o)}};return(0,Z.jsx)(bn,{collectionStore:h,collectionId:y,targetCollectionStore:G,results:q,resultsType:0===q.length&&0===L.length?"existing":"search",property:f,schema:v,propertySchema:H,parentStore:t,disabled:S,canConfigureCollection:C,loading:N,canDrag:!S&&0===F.length&&!(0,te().NN)(R),disableClickToNavigateToPage:(0,te().NN)(R),blockPropertyValueOverlayStore:b,onAccept:(e,t)=>{!function(e){const{environment:t,collectionId:n,collectionContextStore:o,blockPointers:i,result:r,analyticsFrom:a,isDisabled:l,onChange:s,overlayMode:c,openInNew:d,propertySchema:u,targetCollectionStore:p,blockPropertyValueOverlayStore:g,showChangeConfirmationDialog:h}=e;if(l)return;if(!p||!u)return;const{mainEditorCurrentBlockStore:m}=ye().default.state;if(!m)return;if(r.type===_e().M7.SearchPage){const e=r.store,l={newValues:u.limit?[r.store.pointer]:"add"===(null==c?void 0:c.type)?[...i.slice(0,c.index),e.pointer,...i.slice(c.index)]:[...i,e.pointer],oldValues:i};T().N({environment:t,store:g,update:l,collectionStore:null==o?void 0:o.collectionStore(),propertySchema:u}).then((e=>{var i,r;e?h(e):(s(l),a&&j(t,{from:a,collection_id:n,collection_view_id:null==o||null===(i=o.collectionViewStore())||void 0===i?void 0:i.id,collection_view_block_id:null==o||null===(r=o.collectionViewBlockStore())||void 0===r?void 0:r.id,target_collection_id:null==p?void 0:p.id}))})).catch((e=>{console.error(e)}))}else r.type===_e().M7.SelectedPage&&to({environment:t,analyticsFrom:a,result:r,openInNew:d})}({environment:D,collectionId:y,collectionContextStore:B,blockPointers:g,result:e,analyticsFrom:P,isDisabled:S,onChange:w,overlayMode:k,openInNew:t,propertySchema:H,targetCollectionStore:G,showChangeConfirmationDialog:u,blockPropertyValueOverlayStore:b}),e.type===_e().M7.SearchPage&&(0,Se().EE)({type:"rank_by_recently_selected",targetCollectionId:G.id,pageId:e.store.id}),Y(e)},onClickActionButton:e=>{eo({environment:D,collectionContextStore:B,blockPropertyValueOverlayStore:b,result:e,blockPointers:g,onChange:w,analyticsFrom:P,overlayMode:k,propertySchema:H,targetCollectionStore:G,showChangeConfirmationDialog:u}),e.type===_e().M7.SearchPage&&(0,Se().EE)({type:"rank_by_recently_selected",targetCollectionId:G.id,pageId:e.store.id}),Y(e)},onScrollOffsetChange:e=>function(e){const{offsetFromBottom:t,store:n,isLoading:o,searchResults:i,onScrollSearchHookFn:r}=e,a=n.state.searchLimit+Ee().A.limitIncrement;if(t<Ee().A.incrementScrollOffset&&!o&&((null==i?void 0:i.length)??0)>=n.state.searchLimit){if(r)return void r(Ee().A.limitIncrement);n.setState({...n.state,searchLimit:a})}}({offsetFromBottom:e,store:V,isLoading:a,searchResults:n,onScrollSearchHookFn:s}),onDrag:e=>function(e){const{newPageIds:t,blockPointers:n,spaceId:o,onChange:i,analyticsFrom:r,environment:a}=e;i({newValues:t.map((e=>({id:e,spaceId:o,table:x().ev}))),oldValues:n}),r&&(0,I().F)(a,{from:r})}({environment:D,newPageIds:e,blockPointers:g,spaceId:z,onChange:w,analyticsFrom:P}),onCreatePage:e=>Jn({environment:D,collectionContextStore:B,relationPropertyMenuStore:V,blockPointers:g,onChange:w,index:e,propertySchema:H,targetCollectionStore:G}),handleClearProperty:()=>w({newValues:[],oldValues:g}),searchQuery:F,overlayMode:k,relationPropertyMenuStore:V,addPage:(e,n)=>Zn({environment:D,menuStore:V,blockPropertyValueOverlayStore:b,blockStore:t,schema:v,property:f,uri:e,targetCollectionStore:G,overrideBotId:n}),addingPage:E,format:R})}function Xn(){const e=(0,o.useContext)(Le),{blockStore:t,blockPointers:n,overlayMode:i}=(0,o.useContext)(O().t),a=(0,r().K8)((()=>(null==e?void 0:e.relationPropertyMenuStore.state.searchQuery)??""),[null==e?void 0:e.relationPropertyMenuStore]);return(0,r().K8)((()=>t&&null!=e&&e.propertySchema&&null!=e&&e.targetCollectionStore&&(a||"add"!==(null==i?void 0:i.type))?u().bG({relationValue:n,propertySchema:null==e?void 0:e.propertySchema,getRecordModel:t.getRecordModel,includeNoAccess:!0}).map((e=>{const n=ve().Bv.createChildStore(t,e);return{key:e.id,type:_e().M7.SelectedPage,store:n}})):[]),[t,n,i,a,null==e?void 0:e.propertySchema,null==e?void 0:e.targetCollectionStore])}async function Zn(e){const{environment:t,menuStore:n,blockPropertyValueOverlayStore:o,blockStore:i,schema:r,property:a,uri:l,overrideBotId:s,targetCollectionStore:c}=e;if(!c)return;const d=await _().R.clipboardActions.load(),p=c.getFormat().integration_id,g=xe().A.externalAuthentications.state.filter((e=>e.integration_id===p))[0],m=c.getFormat().pattern_name,y=xe().A.integrations.state.find((e=>e.id===p)),f=i instanceof ve().Bv?i:void 0,v=i instanceof ve().Bv?i.getPropertyStore(a):void 0;n.setState({...n.state,addingPage:!0});try{var b;if(!y||!f||!v)return;const e=u().n(v.getValue()),i=l||n.state.searchQuery||"";if(!(0,le().WK)({integration:y,patternName:m,url:i}))return void D().ui({items:[{label:(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.unsupportedUrlErrorDialog.copyDebuggingInformation",defaultMessage:"Copy debugging information"}),color:"blue",onAccept:()=>{d.copyString({environment:t,stringValue:JSON.stringify({botId:null==g?void 0:g.parent_id,url:i},null,2),copiedMessage:d.clipboardMessages.copiedToClipboard})}},{label:(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.unsupportedUrlErrorDialog.closeButton",defaultMessage:"Close"}),onAccept:()=>{}}],showCancel:!1,keepFocus:!1,message:(0,Z.jsx)(S().sA,{id:"connectedRelationPropertyMenuResults.unsupportedUrlErrorDialog.title",defaultMessage:"This source is currently not supported. Please try a different source."})});const p=r[a],C=u().di(p),j=C?v.id:void 0,w=u().H6(p),R=u().KF(p),I=u().up(p),_=u().sP(p),T=u().V5(p),B=u().uv(p),O=_&&fe().default.checkGate({gateName:"cron_connected_relation"}),W=I&&fe().default.checkGate({gateName:"zendesk_ai_enabled"}),N=T&&fe().default.checkGate({gateName:"salesforce_connected_relation"}),z=B&&fe().default.checkGate({gateName:"slack_connected_relation"}),U=(0,ne().jw)(y.id),K=(null==y?void 0:y.id)===h().ob?null===(b=U[0])||void 0===b?void 0:b.id:null==g?void 0:g.parent_id;let V=C||w||I||O||R||N||z?U.map((e=>e.id)):[K];w&&s&&(V=[s]);const H=await E().pP({environment:t,url:i,botIds:V,userDefinedExternalCollectionStore:c,relatedPageId:j});if(!H)return;const G=H.getSpaceId(),q=await(0,be().Se)(t,{name:"ai_usage",spaceId:G,userId:t.currentUser.id,amount:"unknown"});W&&q&&(A().callApi({eventName:"getZendeskTicketConversation",environment:t,data:{ticketUrl:i,spaceId:G,botId:V[0],pageId:v.id}}),M().vd(t,"zendesk_unfurl_ai")),F().createAndCommit({userAction:"connectedRelationPropertyMenuResults.createRelationPage",environment:t,canUndo:!0,perform:n=>{const i={id:H.id,table:x().ev,spaceId:H.getSpaceId()},r=null!=p&&p.limit?[i]:[...e,i],l=u().Ap(r);L().R9({environment:t,store:v,value:l,transaction:n}),o&&o.state.isOpen&&o.state.collectionContextStore&&((0,P().E)({environment:t,collectionContextStore:o.state.collectionContextStore,block_id:f.id,property:a,property_type:"relation",from:"relation_section",isFromBulkActionsToolbar:!1,integration_id:y.id,action:"add",value_count:r.length}),k().v(t,{...(0,oe().sl)(o.state.collectionContextStore),from:"relation_menu",type:"page",integration_id:y.id,creating_block_id:f.id}))}}),n.reset()}finally{n.setState({...n.state,addingPage:!1})}}function Jn(e){const{environment:t,collectionContextStore:n,relationPropertyMenuStore:o,blockPointers:i,onChange:r,index:a,propertySchema:l,targetCollectionStore:s}=e,c=null==s?void 0:s.getSpaceId(),d=null==l?void 0:l.limit,u=(0,ie().zP)({environment:t,table:x().ev,spaceId:c}),p=u.id,g=d?[u]:a?[...i.slice(0,a),u,...i.slice(a)]:[...i,u];r({newPage:{id:p,spaceId:c,name:o.state.searchQuery},newValues:g,oldValues:i}),k().v(t,{...(0,oe().sl)(n),from:"relation_menu",type:"page",target_collection_id:null==s?void 0:s.id,new_page_id:p,creating_block_id:p})}function eo(e){var t;const{environment:n,collectionContextStore:o,blockPropertyValueOverlayStore:i,result:r,blockPointers:a,onChange:l,analyticsFrom:s,overlayMode:d,propertySchema:u,targetCollectionStore:p,showChangeConfirmationDialog:g}=e,{mainEditorCurrentBlockStore:h}=ye().default.state;if(!h||!i.state.isOpen)return;const m=e=>{l(e),s&&j(n,{from:s,...(0,oe().sl)(o),target_collection_id:null==p?void 0:p.id}),x&&(null==i||i.setState({isOpen:!1}))},y=null==u?void 0:u.limit,f=(0,te().NN)(i.state.format),x=f?(0,c().hm)(u,null===(t=i.state.formQuestionStore)||void 0===t?void 0:t.getModel()):y;if(r.type===_e().M7.SearchPage){let e;if(1===x)e={newValues:[r.store.pointer],oldValues:a};else if(void 0===x||x&&a.length+1<=x){const t="add"===(null==d?void 0:d.type)?[...a.slice(0,d.index),r.store.pointer,...a.slice(d.index)]:[...a,r.store.pointer];e={newValues:t,oldValues:a}}e&&(f?m(e):T().N({environment:n,store:i,update:e,collectionStore:null==o?void 0:o.collectionStore(),propertySchema:u}).then((t=>{t?g(t):m(e)})).catch((e=>{console.error(e)})))}else if(r.type===_e().M7.SelectedPage){const e=a.filter((e=>e.id!==r.store.id));m({newValues:e,oldValues:a})}}function to(e){const{environment:t,result:n,openInNew:o,analyticsFrom:i}=e,{mainEditorCurrentBlockStore:r}=ye().default.state;if(!r)return;let a;const s=n.store;if(o){const e=s.isDefined()?me().E2(t,s):void 0;a=(0,g().A)({pageId:s.id,pageModel:s.getModel(),baseUrl:e,pageVisitSource:l().y8.LinkInPage})}else{const e=r.isDefined()?me().E2(t,r):void 0;a=(0,g().A)({pageId:r.id,pageModel:r.getModel(),baseUrl:e,peekViewBlockId:s.id,pageVisitSource:l().y8.LinkInPage})}B().oo({environment:t,url:a,openInNew:o}),i&&(0,R()._)(t,{from:i,meta_click:Boolean(o)})}},232461:(e,t,n)=>{n.d(t,{J:()=>s});var o=()=>n(484714),i=()=>n(847249),r=()=>n(351360),a=()=>n(577437),l=()=>n(787766);function s(){const e=(0,i().O$)(r().AppStoreCurrentSpaceStore),t=(0,o().v3)(),n=(0,i().K8)((()=>{var e;return null===(e=t.currentUser)||void 0===e?void 0:e.id}),[t]),s=(0,i().K8)((()=>t.device.isMobile),[t]),c=(0,a().P9)({name:"slack_imports_invite",spaceId:null==e?void 0:e.id,userId:n}),d=(0,a().P9)({name:"google_imports_invite",spaceId:null==e?void 0:e.id,userId:n}),u=(0,i().K8)((()=>(null==e?void 0:e.canEditMembership())??!1),[e]);return(0,l().vC)({canEditPermission:u,isMobile:s,hasAccessToFeature:(c||d)??!1})}},274570:(e,t,n)=>{n.r(t),n.d(t,{clockIcon:()=>r,iconDefinition:()=>i});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.625 5.725a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 1 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,o.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,n(340498).wt)("clock",i)},279900:(e,t,n)=>{function o(e){let t,n,o;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(o=r,n||(n=t.then((()=>(n=void 0,t=e(...o),t))),n)):(t=e(...r),t)}}n.d(t,{A:()=>o})},283860:(e,t,n)=>{n.d(t,{A:()=>d});n(296540);var o=()=>n(484714),i=()=>n(401497),r=()=>n(148307),a=()=>n(959013),l=()=>n(284371),s=()=>n(132389),c=n(474848);function d(e){const t=(0,a().tz)(),n=function(e){const{isMobile:t}=(0,o().Y0)(),n=t?18:14,r=1,a=6,s=20;return(0,i().IS)((t=>({githubContainer:{display:"flex",alignSelf:"center",flexDirection:"column",width:e||"90%",padding:s,border:`${r}px solid ${t.tableDividerColor}`,borderRadius:a,borderBottomRightRadius:6,cursor:"default"},githubPrTitleRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:`calc(100% + ${s}px)`,overflow:"hidden"},githubPrTitle:{display:"inline-flex",fontSize:n,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",background:t.whiteButtonBackground,padding:"2px 4px",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeft:`2px solid ${t.blueColor}`,borderTop:`2px solid ${t.blueColor}`,borderBottom:`2px solid ${t.blueColor}`,width:"100%"},githubTask:{background:"light"===t.mode?t.accentColors.blue[50]:t.accentColors.blue[400]},githubPrInfoRow:{display:"inline-flex"},githubPrInfoPill:{display:"flex",flexDirection:"row",alignItems:"center",width:"fit-content",padding:"4px 10px",borderRadius:"2em",background:"#238636",flexShrink:0,...l().RC},githubPrInfoOpenText:{color:"white",fontSize:n-2,fontWeight:500},githubPrInfoMergeInto:{display:"inline-flex",alignItems:"center",fontSize:n-2,color:t.text.tertiary,...l().RC},githubPrInfoMain:{padding:"0px 4px",fontFamily:l().Tf.githubMono,background:t.cardPressedBackground,borderRadius:a,color:t.text.primary,verticalAlign:"text-bottom",...l().RC}})),[n,e])}(e.width),d=(0,c.jsx)("div",{id:"github-preview-github-pr-title-row",style:n.githubPrTitleRow,children:(0,c.jsxs)("div",{id:"github-preview-github-pr-title-wrapper",style:n.githubPrTitle,children:[(0,c.jsx)(s().A,{size:2}),"[",(0,c.jsxs)("div",{id:"github-preview-github-pr-task",style:n.githubTask,children:[e.uniqueIdPrefix||t.formatMessage(u.idPrefix),e.uniqueIdValue?`-${e.uniqueIdValue}`:"-1"]}),"]",(0,c.jsx)(s().A,{size:2}),t.formatMessage(u.prTitle)]})}),p=(0,c.jsxs)("div",{id:"github-preview-github-pr-info-row",style:n.githubPrInfoRow,children:[(0,c.jsxs)("div",{id:"github-preview-github-open-pr-pill",style:n.githubPrInfoPill,children:[(0,c.jsx)("img",{src:r().A.images.externalIntegrations.githubPullOpenIconWhitePng,style:{width:16,height:16}}),(0,c.jsx)(s().A,{size:2}),(0,c.jsx)("div",{style:n.githubPrInfoOpenText,children:t.formatMessage(u.open)})]}),(0,c.jsx)(s().A,{size:8}),(0,c.jsx)("div",{id:"github-preview-github-merge-into-main",style:n.githubPrInfoMergeInto,children:(0,c.jsxs)("span",{style:n.githubPrInfoMergeInto,children:[t.formatMessage(u.mergeInto),(0,c.jsx)(s().A,{size:4}),(0,c.jsx)("span",{style:n.githubPrInfoMain,children:t.formatMessage(u.main)})]})})]});return(0,c.jsxs)("div",{id:"github-preview-github-container",style:n.githubContainer,children:[d,(0,c.jsx)(s().A,{size:12}),p]})}const u=(0,a().YK)({idPrefix:{defaultMessage:"TASK",id:"database.viewSettings.githubConfigTab.preview.idPrefix"},prTitle:{defaultMessage:"GitHub PR Title",id:"database.viewSettings.githubConfigTab.preview.prTitle"},open:{defaultMessage:"Open",id:"database.viewSettings.githubConfigTab.preview.open"},mergeInto:{defaultMessage:"Merge into",id:"database.viewSettings.githubConfigTab.preview.mergeInto"},main:{defaultMessage:"main",id:"database.viewSettings.githubConfigTab.preview.main"}})},287531:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(296540),i=n(474848);function r(e){const{pageName:t,targetCollectionStore:o,...r}=e,a=(0,n(484714).Y0)(),l=(0,n(847249).K8)((()=>o.getIcon()),[o]),s=(0,n(401497).IS)((e=>({medium:{color:e.text.secondary},dbName:{display:"flex",alignItems:"center",marginLeft:4},title:{marginLeft:n(246219).g1*(a.isRetina?.5:1)},icon:{width:16,fill:e.mediumIconColor}})),[a.isRetina]),c=(0,i.jsxs)("div",{style:s.dbName,children:[(0,i.jsx)(n(614505).B,{disabled:!0,icon:l,isEmptyPage:!1,size:a.isMobile?24:20}),(0,i.jsx)(n(16006).A,{store:o,style:s.title})]});return(0,i.jsx)(n(760217).A,{title:(0,i.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,i.jsx)(n(959013).sA,{id:"database.searchRelation.createNewPageFooter",defaultMessage:"<medium>New</medium> {pageName} <medium> in</medium> {databaseNameWithIcon}",values:{medium:e=>(0,i.jsx)("span",{style:s.medium,children:e}),pageName:(0,i.jsx)("span",{style:{marginLeft:4,marginRight:4},children:t}),databaseNameWithIcon:c}})}),icon:(0,n(689094).W)(s.icon),...r})}const a=o.memo(r)},299177:(e,t,n)=>{n.d(t,{A:()=>r});class o extends(()=>n(757695))().default{getInitialState(){return{}}}const i=new o;n(604341).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",i);const r=i},320865:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(){return(0,o.jsx)(n(678553).Ay,{title:(0,o.jsx)(n(331542).A,{})})}},324254:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleDownSmallIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 16 16",svg:(0,n(474848).jsx)("path",{d:"m12.76 6.52-4.32 4.32a.62.62 0 0 1-.44.18.62.62 0 0 1-.44-.18L3.24 6.52a.63.63 0 0 1 0-.88c.24-.24.64-.24.88 0L8 9.52l3.88-3.88c.24-.24.64-.24.88 0s.24.64 0 .88"})},i=(0,n(340498).wt)("arrowChevronSingleDownSmall",o)},324561:(e,t,n)=>{n.d(t,{Gi:()=>h,OD:()=>d,Q7:()=>g,UU:()=>m,_3:()=>p,a9:()=>u,f_:()=>c});var o=()=>n(484714),i=()=>n(847249),r=()=>n(857639),a=()=>n(762433),l=()=>n(596513),s=()=>n(714300);function c(e){let{spaceId:t}=e;const n=(0,o().v3)();return(0,i().K8)((()=>{if(t)return l().t.getData(n,{spaceId:t})}),[n,t])}function d(e){let{environment:t,spaceId:n}=e;return n?l().t.awaitData(t,{spaceId:n}):Promise.resolve(void 0)}function u(e){if("admin"===(null==e?void 0:e.type))return e}function p(e){let{spaceId:t}=e;return u((0,s().l)({spaceId:t}))}function g(e,t,n){if(!t)return 0;const o=(0,a().yB)({spaceId:e,logFunction:r().log.bind(r()),billingData:t});return o?Math.max(o,n):0}function h(e){var t;const n=null===(t=(0,a().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const o=n.unitAmount,i="year"===n.billingInterval?12:1;return{amount:o.amount/i,currencyCode:o.currencyCode}}function m(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},344482:(e,t,n)=>{n.d(t,{A:()=>i});n(898992),n(672577);class o extends(()=>n(959180))().A{findTableHeaderCell(e,t){return this.find((n=>n.collectionContextStore===e&&n.property===t))}}const i=new o},367049:(e,t,n)=>{n.d(t,{X:()=>r});var o=()=>n(847249),i=()=>n(351360);function r(){return(0,o().K8)((()=>{const{currentSpaceStore:e,currentSpaceViewStore:t}=i().default.state;if(!e||!t)return!1;const n=e.getMemberCountFromPublicSpaceData(),o=t.getWorkspacePages()??[];return 1===n&&0===o.length&&"personal"===e.getPlanType()}),[])}},406533:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,o.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,n(340498).wt)("questionMarkCircle",i)},412236:(e,t,n)=>{n.d(t,{V:()=>l});n(296540);var o=()=>n(401497),i=()=>n(959013),r=n(474848);const a="https://www.notion.com/blog/notion-ai-for-work";function l(){const e=(0,o().IS)((e=>({default:{cursor:"pointer",textDecoration:"none",color:e.text.uiBluePrimary}})),[]);return(0,r.jsx)("a",{href:a,target:"_blank",style:{...e.default},children:(0,r.jsx)(i().sA,{id:"PackingChangeLearnMore.learnMore",defaultMessage:"Learn more"})})}},413267:(e,t,n)=>{n.d(t,{b:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},422540:(e,t,n)=>{n.d(t,{$0:()=>y,Fx:()=>P,Ge:()=>g,I3:()=>u,Kj:()=>S,PP:()=>k,TK:()=>M,Yy:()=>d,aE:()=>j,cQ:()=>C,kH:()=>h,m7:()=>p,nq:()=>v,nv:()=>f,tj:()=>m});n(898992),n(354520),n(737550);var o=()=>n(496603),i=()=>n(534177),r=()=>n(970013),a=()=>n(651124),l=()=>n(349835),s=()=>n(390066);(0,i().u0)((e=>(0,i().O9)(e)&&(0,i().O9)(e.target)&&(0,i().O9)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target,custom_message:e.custom_message}}:{false:e}));const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1},d={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function u(e){return Boolean(c[e.type]&&!(0,r().UU)(e)&&(!(0,r().$M)(e)||void 0===(0,r().om)(e)))}function p(e){const{collectionFormat:t,collectionSchema:n,filter:l,sort:c,sourcePropertyIds:d}=e,p=(d??(0,i().uv)(n)).filter(((t,o,i)=>{const a=n[t];return!(!a||!u(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,r().o2)(e.spaceId,a))&&(!l||l([t,a],o,n)))}));if(0===p.length)return[];if(!t||!1===c)return p;const g=(0,s().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(p,(e=>g.findIndex((t=>t.property===e))))}function g(e){const{collectionFormat:t,collectionSchema:n,sort:l}=e,c=(0,i().uv)(n).filter(((e,t,o)=>{const i=n[e];return!(!i||!(0,r().JY)(i))}));if(0===c.length)return[];if(!t||!1===l)return c;const d=(0,s().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(c,(e=>d.findIndex((t=>t.property===e))))}function h(e){return e.type===l().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===l().M9.TokenExpected?{type:e.type,token:e.token}:e.type===l().uW.MissingSchemaPropertyOnThisRow||e.type===l().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===l().uW.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===l().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===l().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===l().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===l().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node}:e.type===l().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===l().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===l().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===l().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===l().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const m={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,geo_point:!1};function y(e){return Boolean(m[e.type])}function f(e){const{collectionFormat:t,collectionSchema:n,filter:l,sort:c}=e,d=(0,i().uv)(n).filter(((e,t,o)=>{var i;const a=n[e];return!(!a||!m[a.type])&&((!(0,r().$M)(a)||null===(i=(0,r().om)(a))||void 0===i||!i.auto_update_on_edit)&&(!l||l([e,a],t,n)))}));if(0===d.length)return[];if(!t||!1===c)return d;const u=(0,s().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(d,(e=>u.findIndex((t=>t.property===e))))}const x={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function v(e){return x[e.type]}const b={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function S(e){return b[e.type]}function C(e){return 0===e}function P(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function k(e){const{property:t,collectionSchema:n}=e;return!!n&&!n[t]}function M(e){const{collectionSchema:t,property:n,type:o}=e,i=null==t?void 0:t[n];return!i||("action"===o?!u(i):!m[i.type])}function j(e){let{automationTrigger:t,collectionSchema:n}=e;if("event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:o,source:r,relativeDate:a}=t.event;if(void 0===r)return!1;const l="some"===o.type&&o.some,s="all"===o.type&&o.all;if((l||s||[]).some((e=>k({collectionSchema:n,property:e.property})||M({collectionSchema:n,property:e.property,type:"trigger"}))))return!1;const c="some"===o.type&&(!(0,i().O9)(o.some)||0===o.some.length),d="all"===o.type&&(!(0,i().O9)(o.all)||0===o.all.length);if(!e&&("none"===o.type||c||d)&&!a)return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},432229:(e,t,n)=>{n.d(t,{P:()=>C});n(581454),n(296540);var o=()=>n(560198),i=()=>n(401497),r=()=>n(66913),a=()=>n(84817),l=()=>n(704152),s=()=>n(493823),c=()=>n(864943),d=()=>n(460292),u=()=>n(554509),p=n(474848);function g(e){const t=(0,i().IS)((e=>({background:{position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"100%",background:e.surface.contrast},button:{width:"100%",height:"100%",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"transparent"},hovered:{background:e.buttonHoveredBackground},pressed:{background:e.buttonPressedBackground},icon:{width:14,fill:e.icon.primary}})),[]);return(0,p.jsx)("div",{style:t.background,children:(0,p.jsx)(l().A,{onClick:e.onClick,style:t.button,hoveredStyle:t.hovered,pressedStyle:t.pressed,children:(0,r().V)(t.icon)})})}function h(e){const{text:t,onClick:n}=e,o=(0,i().IS)((e=>({button:{height:28,padding:"0 8px",borderRadius:6,borderWidth:1,borderColor:e.stroke.primary,borderStyle:"solid"}})),[]);return(0,p.jsx)(c().A,{size:"lg",onClick:n,style:o.button,children:(0,p.jsx)(u().D,{styleName:"UISmall-12px/Medium",colorName:"primary",children:t})})}function m(e){const{text:t,onClick:n}=e;return(0,p.jsx)(s().p,{onClick:n,children:(0,p.jsx)(u().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:t})})}function y(e){const{text:t,onClick:n}=e,o=(0,i().IS)((()=>({button:{height:28,padding:"4px 8px"}})),[]);return(0,p.jsx)(c().A,{size:"lg",onClick:n,style:o.button,children:(0,p.jsx)(u().D,{styleName:"UISmall-12px/Medium",colorName:"primary",children:t})})}function f(e){const{button:t}=e;return(0,p.jsx)(y,{...t})}function x(e){const{primary:t,secondary:n}=e;return(0,p.jsxs)(a().Y1,{direction:"horizontal",gap:8,align:"center-left",children:[(0,p.jsx)(h,{...t}),n?(0,p.jsx)(m,{...n}):void 0]})}function v(e){const{numDots:t,activeDot:n}=e,o=(0,i().IS)((e=>({dot:{width:6,height:6,borderRadius:"100%",background:e.icon.quaternary},active:{background:e.icon.primary}})),[]),r=new Array(t).fill(0).map(((e,t)=>{const i=t===n?{...o.dot,...o.active}:o.dot;return(0,p.jsx)("div",{style:i},t)}));return(0,p.jsx)(a().Y1,{direction:"horizontal",gap:8,children:r})}function b(e){const{button:t,numStages:n,stage:o}=e;return(0,p.jsxs)(a().Y1,{direction:"horizontal",gap:"auto",align:"center",children:[(0,p.jsx)(v,{numDots:n,activeDot:o}),(0,p.jsx)(h,{...t})]})}function S(e){const{onDismiss:t,buttonsProps:n,icon:o,title:r,body:l}=e,s=(0,i().IS)((e=>({card:{borderWidth:1,borderColor:e.stroke.secondary,borderStyle:"solid",background:e.surface.contrast,backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",padding:12,width:280},title:{paddingRight:24},icon:{paddingBottom:2}})),[]);let c,h,m,y;if(n)switch(n.type){case"carousel":c=(0,p.jsx)(b,{...n});break;case"full-width":c=(0,p.jsx)(f,{...n});break;case"left-aligned":c=(0,p.jsx)(x,{...n})}return o&&(h=(0,p.jsx)(d().Q,{iconGroup:o,variantName:"small",colorName:"primary",style:s.icon})),r&&(m=(0,p.jsx)("div",{style:s.title,children:(0,p.jsx)(u().D,{styleName:"UISmall-12px/Semibold",colorName:"contrastPrimary",children:r})})),l&&(y=(0,p.jsx)(u().D,{styleName:"UISmall-12px/Regular",colorName:"primary",children:l})),(0,p.jsxs)(a().Y1,{style:s.card,borderRadius:8,gap:8,children:[(0,p.jsxs)(a().Y1,{gap:2,children:[h,m,y]}),c,(0,p.jsx)(g,{onClick:t})]})}function C(e){return(0,p.jsx)(o().wX,{mode:"dark",children:(0,p.jsx)(S,{...e})})}},439616:(e,t,n)=>{n.d(t,{A:()=>D});n(944114),n(581454);var o=n(296540),i=()=>n(662303),r=()=>n(484714),a=()=>n(847249),l=()=>n(401497),s=()=>n(869190),c=()=>n(68263),d=()=>n(959013),u=()=>n(720665),p=()=>n(760217),g=()=>n(406699),h=()=>n(928600),m=()=>n(939740),y=()=>n(8980),f=()=>n(89924),x=()=>n(125565),v=()=>n(573351),b=()=>n(662971),S=()=>n(186445),C=()=>n(722872),P=()=>n(700250),k=()=>n(991249),M=()=>n(118849),j=()=>n(134217),w=n(474848);function R(e,t){const{permissionItem:o,hideIcon:i,onChange:a,buttonStyle:l}=e,s=(0,r().Y0)();return(0,w.jsx)(n(811979).A,{...e,popupType:s.isMobile?g().z7.SlideUp:g().z7.Popup,renderOrigin:r=>(0,w.jsx)(n(585293).a,{...(0,n(553965).A)(e,r),ref:t,title:(0,w.jsx)(d().sA,{defaultMessage:"Link expires",id:"publishSiteSettings.linkExpiration.settingTitle"}),icon:!i&&(0,w.jsx)(y().I,{icon:n(274570).clockIcon,color:"secondary"}),right:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(I,{permissionItem:o}),(0,w.jsx)(y().I,{icon:n(324254).arrowChevronSingleDownSmallIcon,size:"sm",color:"tertiary"})]}),buttonStyle:l}),alignmentToOrigin:P().MY.End,placementToOrigin:P().UV.Bottom,render:e=>(0,w.jsx)(A,{value:o.expiration_timestamp,onChange:a,onClose:()=>{e.close()}})})}function I(e){const{permissionItem:t}=e,n=(0,d().tz)(),o=(0,l().IS)((e=>({container:{color:e.text.secondary}})),[]);if(!t.expiration_timestamp||(0,c().OA)(t))return(0,w.jsx)(x().A,{style:o.container,children:(0,w.jsx)(d().sA,{defaultMessage:"Never",id:"publishSiteSettings.linkExpiration.never"})});const r=s().jE(t.expiration_timestamp,i().locale,n);return(0,w.jsx)(x().A,{style:o.container,children:r})}function A(e){const{value:t,onChange:n,onClose:s}=e,c=(0,r().v3)(),g=c.device,y=(0,a().K8)((()=>!j().qC()),[]),x=(0,a().K8)((()=>j().Si(c)),[c]),v=(0,o.useCallback)((e=>{void 0!==e&&e<=(new Date).getTime()||(n(e),s())}),[n,s]),b=(0,l().IS)((e=>({disabledContainer:{display:"flex",gap:6},disabledText:{color:e.text.tertiary}})),[]),S=function(){const e=Date.now(),t=e+u().pT,n=e+u().nD,o=e+7*u().nD;return[{key:"none",time:void 0,title:(0,w.jsx)(d().sA,{defaultMessage:"Never",id:"publishSiteSettings.linkExpiration.never"})},{key:"hour",time:t,title:(0,w.jsx)(d().sA,{defaultMessage:"In an hour",id:"publishSiteSettings.linkExpiration.oneHour"}),caption:new Intl.DateTimeFormat(i().locale,{hour:"numeric",minute:"numeric"}).format(t)},{key:"day",time:n,title:(0,w.jsx)(d().sA,{defaultMessage:"In a day",id:"publishSiteSettings.linkExpiration.oneDay"}),caption:new Intl.DateTimeFormat(i().locale,{day:"numeric",month:"long",hour:"numeric",minute:"numeric"}).format(n)},{key:"week",time:o,title:(0,w.jsx)(d().sA,{defaultMessage:"In a week",id:"publishSiteSettings.linkExpiration.oneWeek"}),caption:new Intl.DateTimeFormat(i().locale,{day:"numeric",month:"long",hour:"numeric",minute:"numeric"}).format(o)}]}().map((e=>({key:e.key,action:()=>{v(e.time)},render:t=>(0,w.jsx)(p().A,{...t,title:e.title,titleStyle:y?b.disabledText:{},caption:e.caption,captionStyle:y?b.disabledText:{},disabled:y})}))),P=[{key:"predefined-expiration",render:e=>(0,w.jsx)(f().A,{...e}),items:S},{key:"custom-expiration",render:e=>(0,w.jsx)(f().A,{...e,topBorder:!0}),items:[_(v,t,y,b.disabledText)]}];return x&&y&&P.push({key:"upgrade-for-expiration",render:e=>(0,w.jsx)(f().A,{...e,topBorder:!0}),items:[{key:"upsell",action:()=>{k().K(c,{from:"public_permission_item_expiration",upsell:{type:"product",product:x,limit:{type:"none"},trialability:"none"}})},render:e=>(0,w.jsx)(p().A,{...e,focused:e.focused,title:(0,w.jsxs)("div",{style:b.disabledContainer,children:[(0,w.jsx)(d().sA,{defaultMessage:"Unlock link expiration",id:"publishSiteSettings.linkExpiration.upgrade"}),(0,w.jsx)(M().A,{subscriptionTier:x,analyticsName:"public_permission_item_expiration"})]})})}]}),(0,w.jsx)(h().A,{menuType:g.isMobile?C().gu.ActionSheet:C().gu.Popup,width:271,children:(0,w.jsx)(m().Ay,{type:m().Oh.Vertical,initialFocus:void 0,sections:P})})}function _(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{key:"custom",action:()=>{window.parent.close()},render:(i,r)=>(0,w.jsx)(b().A,{...i,renderOrigin:e=>(0,w.jsx)(p().A,{...e,disabled:n,title:(0,w.jsx)(d().sA,{id:"publicPermissionItem.expiration.chooseDate",defaultMessage:"Choose date"}),titleStyle:n?o:{}}),onFocus:r.onFocus,disableDefaultClick:!0,renderExtension:(o,i)=>(0,w.jsx)("div",{style:{padding:"18px 14px 14px"},children:(0,w.jsx)(v().A,{...o,firstDayOfWeek:S().XX.state,value:t||Date.now(),onChange:t=>{e(t),i.close()},disabledDays:n||{before:new Date}})})})}}const D=o.forwardRef(R)},462853:(e,t,n)=>{n.d(t,{l:()=>r});var o=()=>n(617871);const i={[o().e1]:"collection_connected_property_figma",[o().Hd]:"collection_connected_property_google_drive",[o().ob]:"collection_connected_property_github",[o().k0]:"collection_connected_property_zendesk",[o().bh]:"collection_synced_database_github",[o().MN]:"collection_synced_database_asana",[o().Fo]:"collection_synced_database_gitlab",[o().me]:"collection_synced_database_jira",[o().F6]:"collection_synced_database_jira_workspace",[o().Fv]:"collection_synced_database_jira_datacenter"};function r(e){if(e)return i[e]}},471095:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,lockFillIcon:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M6 5.95a4 4 0 1 1 8 0v1.433a2.426 2.426 0 0 1 2.025 2.392v5.4A2.425 2.425 0 0 1 13.6 17.6H6.4a2.425 2.425 0 0 1-2.425-2.425v-5.4c0-1.203.876-2.201 2.025-2.392zm6.75 1.4v-1.4a2.75 2.75 0 1 0-5.5 0v1.4zm-2.2 5.458a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"})},i=(0,n(340498).wt)("lockFill",o)},490044:(e,t,n)=>{n.d(t,{A:()=>p});n(296540);var o=()=>n(484714),i=()=>n(847249),r=()=>n(401497),a=()=>n(500066),l=()=>n(159588),s=()=>n(963589),c=()=>n(644914),d=n(474848);function u(){const e=(0,r().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,a().G)(e.icon)})}function p(e){var t;const n=(0,o().v3)(),a=n.device.isMobile,{isTablet:p}=(0,o().Y0)(),g=(0,s().X)("tablet_refresh_gate"),h=(0,i().K8)((()=>{var t,o;if(a)return n.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(o=e.style)||void 0===o?void 0:o.paddingLeft:10)}),[n.WindowSizeStore,a,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),m=(0,r().IS)((t=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:p&&g?4:8,paddingBottom:p&&g?4:8,paddingLeft:h,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:c().Zr,paddingTop:4,paddingBottom:4,...(0,l().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:a?24:c().ry,height:a?24:c().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,p,g,h,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,d.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:m.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:m.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:m.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(u,{})]}),(0,d.jsx)("div",{style:m.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:m.right,children:e.right})]})}},526278:(e,t,n)=>{n.d(t,{w:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M2.411 9.79a.6.6 0 0 1 .147-.232l5.4-5.4a.625.625 0 1 1 .884.884L4.509 9.375H17a.625.625 0 1 1 0 1.25H4.509l4.333 4.333a.625.625 0 1 1-.884.884l-5.4-5.4a.62.62 0 0 1-.147-.651"})},i=(0,n(340498).wt)("arrowStraightLeft",o)},532940:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkTriangleIcon:()=>r,iconDefinition:()=>i});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.875 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"}),(0,o.jsx)("path",{d:"M8.16 3.563c.818-1.417 2.863-1.417 3.68 0l5.846 10.125c.818 1.416-.204 3.187-1.84 3.187H4.155c-1.636 0-2.659-1.77-1.84-3.187zm2.598.624a.875.875 0 0 0-1.516 0L3.397 14.313a.875.875 0 0 0 .758 1.313h11.69a.875.875 0 0 0 .759-1.312z"})]})},r=(0,n(340498).wt)("exclamationMarkTriangle",i)},541181:(e,t,n)=>{n.d(t,{n:()=>r});var o=()=>n(645873);const i=new(o().O2)("react-day-picker",(async()=>await Promise.all([n.e(95555),n.e(75831),n.e(68548)]).then(n.bind(n,762290)))),r=(0,o()._h)(i,(e=>e.default))},546461:(e,t,n)=>{n.d(t,{EC:()=>C,To:()=>S,YC:()=>P,or:()=>b,u:()=>v});n(16280);var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(496506),l=()=>n(322867),s=()=>n(959013),c=()=>n(534177),d=()=>n(813297),u=()=>n(862292),p=()=>n(698331),g=()=>n(645873),h=()=>n(190019),m=()=>n(76190),y=n(474848);const f=new WeakMap,x=(0,o.createContext)({automationStore:void 0,contextType:void 0,defined:!1,typecheckResult:void 0});x.displayName="AutomationContext";function v(e){const{automationStore:t,children:n,contextType:o}=e,v=(0,i().v3)(),b=(0,s().tz)(),{value:S}=(0,g().fJ)(u().T.formulas),{value:C}=(0,g().fJ)(d().QV.automationTypecheck),P=(0,m().n)(t),k=(0,r().K8)((()=>{if(!S)return{error:new(l().N9)("Missing formulas dependency")};if(!C)return{error:new(l().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:n,automationTypecheckModule:o,contextType:i,formulasModule:r,intl:l,isSubscribed:s}=e,d=f.get(n);if(d)return d;{const e=new(a().default)((()=>{const e=n.getTriggerType();let a=i;return(0,c().O9)(e)&&(0,p().x2)(e)&&(a=(0,p().H8)(e)),(0,h().Z)({environment:t,automationStore:n,automationTypecheckModule:o,contextType:a,formulasModule:r,intl:l,isSubscribed:s})}),{debugName:"automationContextTypecheckResultCachedStore"});return f.set(n,e),e}}({environment:v,automationStore:t,automationTypecheckModule:C,contextType:o,formulasModule:S,intl:b,isSubscribed:P});return e.state}),[v,t,C,o,S,b,P]);return(0,y.jsx)(x.Provider,{value:{automationStore:t,typecheckResult:k,contextType:o,defined:!0},children:n})}function b(e){const{automationStore:t,children:n}=e,o=(0,r().K8)((()=>{var e;return null===(e=t.getTrigger())||void 0===e?void 0:e.type}),[t]);return(0,y.jsx)(v,{automationStore:t,contextType:(0,p().H8)(o??"event"),children:n})}function S(e){var t;return null===(t=f.get(e))||void 0===t?void 0:t.state}function C(){const e=o.useContext(x);if(!1===e.defined)throw new Error("No automation context found!");return e}function P(){return o.useContext(x)}},555267:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(296540),i=()=>n(401497),r=()=>n(62856),a=()=>n(331542),l=n(474848);function s(e){let{loadingMessage:t}=e;const n=(0,i().DP)(),s=(0,r().A)(!0,400);return(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:s&&(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(a().A,{}),t&&(0,l.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t})]})})}},562866:(e,t,n)=>{n.d(t,{$c:()=>l,aI:()=>a,cx:()=>r,uf:()=>i});var o=()=>n(645873);const i={RequestMembersModal:new(o().O2)("RequestMembersModal",(()=>Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(64598),n.e(38119),n.e(77282)]).then(n.bind(n,123350)))),GoogleImportsInviteWithModal:new(o().O2)("GoogleImportsInviteWithModal",(()=>Promise.all([n.e(96346),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(38744),n.e(51195),n.e(51226)]).then(n.bind(n,720193)))),InviteDropdownMenuItemLabel:new(o().O2)("InviteDropdownMenuItemLabel",(()=>n.e(25171).then(n.bind(n,726799)))),personPropertyInviteActions:new(o().O2)("personPropertyInviteActions",(()=>Promise.all([n.e(96346),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(38744),n.e(57613)]).then(n.bind(n,980270))))},r=(0,o()._h)(i.RequestMembersModal,(e=>e.RequestMembersModal)),a=(0,o()._h)(i.GoogleImportsInviteWithModal,(e=>e.GoogleImportsInviteWithModal)),l=(0,o()._h)(i.InviteDropdownMenuItemLabel,(e=>e.InviteDropdownMenuItemLabel))},573351:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(296540),i=n(474848);const r=function(e){let{firstDayOfWeek:t,value:r,selectValue:a=!0,onChange:l,onFocus:s,onBlur:c,disabledDays:d,className:u}=e;const p=(0,o.useMemo)((()=>new Date(r)),[r]),[g,h]=(0,o.useState)(p),m=(0,o.useRef)(r);(0,o.useLayoutEffect)((()=>{m.current!==r&&(h(new Date(r)),m.current=r)}),[r]);const y=(0,o.useCallback)(((e,t,n)=>{l(e.getTime())}),[l]);return(0,i.jsx)("div",{style:{paddingRight:8,paddingBottom:8,paddingLeft:8,paddingTop:4},children:(0,i.jsx)(n(541181).n,{locale:n(662303).locale,className:u??"notion-calendar-picker",numberOfMonths:1,weekStartsOn:t,modifiers:a?{value:p}:{},showOutsideDays:!0,fixedWeeks:!0,onDayClick:y,onMonthSelected:h,disabled:d,month:g,onDayBlur:c,onDayFocus:s})})}},578194:(e,t,n)=>{n.d(t,{r:()=>o});const o=(0,n(583835).Dv)("importEvernote")},585293:(e,t,n)=>{n.d(t,{a:()=>r});var o=n(296540),i=n(474848);const r=o.forwardRef(((e,t)=>{const o=(0,n(401497).IS)((t=>({buttonStyle:{paddingLeft:8,paddingRight:8,paddingTop:2,paddingBottom:2,width:"100%",marginLeft:0,background:"transparent",...e.buttonStyle},menuItemStyle:{gap:6,background:"transparent",...e.style},innerContainer:{marginLeft:0,paddingLeft:0,minWidth:"auto",color:e.disabled?t.text.secondary:void 0,background:"transparent"},desktopIconStyle:{margin:0},rightStyle:{display:"flex",alignItems:"center",gap:6,color:t.text.secondary,margin:0,...e.rightStyle}})),[e.disabled,e.rightStyle,e.buttonStyle,e.style]);return(0,i.jsx)(n(760217).A,{role:"button",...e,ref:t,style:o.menuItemStyle,buttonStyle:o.buttonStyle,textWrapperStyle:o.innerContainer,desktopIconStyle:o.desktopIconStyle,rightStyle:o.rightStyle})}));r.displayName="SiteSettingButtonMenuItem"},603815:(e,t,n)=>{n.d(t,{A$:()=>M,JQ:()=>j,Vn:()=>P,s4:()=>k});n(16280),n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(803949),n(581454);var o=()=>n(857639),i=()=>n(585515),r=()=>n(577449),a=()=>n(388821),l=()=>n(179034),s=()=>n(545285),c=()=>n(534177),d=()=>n(449506),u=()=>n(780054),p=()=>n(989423),g=()=>n(870618),h=()=>n(303626),m=()=>n(14307),y=()=>n(245865),f=()=>n(540758),x=()=>n(670631),v=()=>n(508496),b=()=>n(571963),S=()=>n(603815),C=()=>n(108944);async function P(e){const{environment:t,request:n,abortSignal:o,prefetchCacheKey:i,headers:r}=e;return(0,b().updateLoadCachedPageChunkCalledAt)(),m().isConnected()||m().isConnecting()?d().callApi({eventName:"loadCachedPageChunkV2",environment:t,data:n,abortSignal:o,prefetchCacheKey:i,headers:r}):d().callApi({eventName:"loadPageChunkV2",environment:t,data:n,abortSignal:o,prefetchCacheKey:i,headers:r})}async function k(e){const{mode:t,environment:n,request:c,isFirstChunk:d,abortSignal:m}=e,y={...c,limit:30,cursor:c.cursor||{stack:[]},baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName};if("inMemoryAndDiskCacheWithInexactPreload"===t&&(await S().A$(n,{id:c.page.id,table:l().ev}),null!=m&&m.aborted))throw new Error("Abort signal received");const v=a().RecordMapWithRole.create(),b=[];let C=!1;const P=new Set,k=await i().T(y,r().h.fromMonomorphicFunctionUnsafe((async e=>{const o=await g().h7({environment:n,pointer:e,abortSignal:m,useInMemoryCacheOnly:"inMemoryOnly"===t});if(null!=m&&m.aborted)throw new Error("Abort signal received");if(o)return v.setModelAndRole(e,o.model,o.role),o.model;if("inMemoryOnly"===t)throw new Error(`Record not found: ${e.table},${e.id}`);if((0,s().u)(e)&&!P.has(e.id)&&d){if(void 0===x().A.state.offlinePages)return b.push(e),void(C=!0);if(void 0===x().A.state.offlinePages||!f().Bd(c.page.id))throw new Error(`Record not found: ${e.table},${e.id}`);b.push(e)}})),((e,t,n,o)=>{h().N.enableLogging&&console.log(`Spidering from ${e.table}:${e.id} to ${t.table}:${t.id} (${n})`),null!=o&&o.suppressErrorOnClient&&P.add(t.id)}));if(C&&(await x().A.waitUntil((()=>void 0!==x().A.state.offlinePages)),!f().Bd(c.page.id))){const[e]=b;throw new Error(`Record not found: ${e.table},${e.id}`)}if(b.length>0&&(0,p().LM)({eventName:"offline_page_was_missing_records_in_cache",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((e=>{(0,p().u4)({environment:n,event:{eventName:"offline_page_was_missing_records_in_cache",eventProperties:{}},opts:{sampling:{behavior:"decided",sampleDecision:e}}}),e&&o().log({level:"error",from:"loadingHelpers",type:"offlinePageWasMissingRecordsInCache",data:{pageId:c.page.id,missingRecords:b}})})),null!=m&&m.aborted)throw new Error("Abort signal received");return{recordMap:v.toJson(),cursor:k.cursorValue}}async function M(e,t){const n=e.currentUser.id;if(!n||!e.defaultRecordCache.persistedRecordCache)return Promise.resolve(void 0);(await e.defaultRecordCache.persistedRecordCache.getPageBlocksByParent({page:t,userId:n})).forEach((t=>{e.defaultRecordCache.inMemoryRecordCache.setRecord({pointer:t.pointer,userId:t.userId},t.value),e.defaultRecordCache.inMemoryRecordCache.emitRecord(t.pointer,[]),y().unsubscribeAfterDelay({environment:e,pointer:t.pointer,userId:t.userId})}))}function j(e){if(!v().default.checkGate({gateName:"load_page_chunk_omit_existing_record_versions"}))return;const t=a().RecordMapPolymorphic.create();let n=0;const o=()=>n>=50,i=e=>{"space"!==(null==e?void 0:e.table)&&(o()||e&&void 0===t.get(e.pointer)&&(t.set(e.pointer,e.getVersion()),n++))};if(e.isReady())for(const a of(0,C().E)(e))i(a);if(e.userId){const t=e.environment.defaultRecordCache.inMemoryRecordCache.data.getUserRecordMap(e.userId);i(t.getModel({table:"notion_user",id:e.userId}));let n=0;for(const e of t.getPointersByTable("notion_user")){if(o()||n>=10)break;n++,i(t.getModel(e))}}const r=Array.from(t).map((e=>{let{pointer:t,value:n}=e;if(void 0!==n)return{pointer:t,version:n}})).filter(c().O9);return r.length?r:void 0}},613850:(e,t,n)=>{n.d(t,{G:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M4.665 17.22a.625.625 0 0 0 .805.365 7.96 7.96 0 0 0 4.528-4.353 7.94 7.94 0 0 0 4.532 4.353.625.625 0 0 0 .44-1.17 6.69 6.69 0 0 1-4.345-6.268V4.509l2.683 2.683a.625.625 0 0 0 .884-.884l-3.75-3.75a.625.625 0 0 0-.884 0l-3.75 3.75a.625.625 0 1 0 .884.884l2.683-2.683v5.625a6.71 6.71 0 0 1-4.345 6.281.625.625 0 0 0-.365.805"})},i=(0,n(340498).wt)("arrowMergeUp",o)},698331:(e,t,n)=>{n.d(t,{$X:()=>r,H8:()=>a,x2:()=>i});var o=()=>n(534177);function i(e){return"event"===e||"recurrence"===e}function r(e){const t=e.getTrigger();return(0,o().O9)(t)&&i(t.type)}function a(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,o().HB)(e)}},714300:(e,t,n)=>{n.d(t,{l:()=>s});var o=()=>n(484714),i=()=>n(847249),r=()=>n(176983),a=()=>n(596513),l=()=>n(324561);function s(e){let{spaceId:t}=e;const n=(0,o().v3)(),s=(0,r().J)();return(0,i().K8)((()=>{if(!t||!s)return;const e=a().t.getData(n,{spaceId:t});return(0,l().a9)(e)}),[n,t,s],{useDeepEqual:!0})}},725118:(e,t,n)=>{n.d(t,{R:()=>r});var o=()=>n(645873);const i=new(o().O2)("SlackImportsInviteWithModal",(async()=>await Promise.all([n.e(51195),n.e(68117)]).then(n.bind(n,559183)))),r=(0,o()._h)(i,(e=>e.SlackImportsInviteWithModal))},735790:(e,t,n)=>{n.d(t,{M:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},r=(0,n(340498).wt)("sliders",i)},742117:(e,t,n)=>{n.d(t,{V:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronRight",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},756114:(e,t,n)=>{n.d(t,{D:()=>o});function o(e,t){t.route.name;return!1}},757491:(e,t,n)=>{n.d(t,{l:()=>i});var o=n(296540);function i(e){return(0,o.useEffect)((()=>()=>e()),[])}},768627:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{searchQuery:"",searchLimit:o.limitIncrement,searchPopupOpen:!1,addingPage:!1}}}o.limitIncrement=20,o.resultsCacheTTL=2*n(720665).Xb,o.incrementScrollOffset=200;const i=o},787766:(e,t,n)=>{n.d(t,{Hc:()=>c,Io:()=>u,Mg:()=>g,S3:()=>l,X3:()=>s,dE:()=>p,iO:()=>d,vC:()=>h,vG:()=>a});n(944114),n(898992),n(803949);var o=()=>n(401497),i=()=>n(100622),r=()=>n(284371);function a(e){const{focus:t}=e;return(0,o().IS)((e=>({searchBar:{padding:16},inputStyle:{minWidth:60,width:"auto",borderTopLeftRadius:4,borderTopRightRadius:4,fontSize:14,fontWeight:r().Wy.regular},inputOuterStyle:{padding:6,borderRadius:6,height:20,alignItems:"center",minHeight:32,background:e.accentColors.gray[30],...t&&{background:"none"}}})),[t])}function l(){return(0,o().IS)((e=>({selectAllSectionStyle:{display:"flex",flexDirection:"column",gap:2,padding:"8px 0px 16px 0px"},sectionMenuItem:{padding:"12px 0px 0px 2px",display:"flex",flexDirection:"column",gap:2},dividerStyle:{margin:"0px 16px"},dividerInnerStyle:{borderBottom:`1px solid ${e.stroke.secondary}`},selectAllStyle:{display:"flex",fontSize:14,color:e.text.primary},totalCountsStyle:{paddingLeft:3,fontSize:14,color:e.text.tertiary}})),[])}function s(){return(0,o().IS)((e=>({footerStyle:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:60,padding:"12px 16px 16px 16px",borderTop:`1px solid ${e.stroke.secondary}`}})),[])}function c(){return(0,o().IS)((e=>({labelContainer:{display:"flex",alignItems:"center",color:i().Ay.uiLightBlack,size:14,gap:6},importListButton:{height:28,borderRadius:4,border:void 0,width:"100%"},importListButtonContainer:{padding:"0 6px",alignItems:"center"}})),[])}function d(){return(0,o().IS)((e=>({topContainer:{display:"flex",alignItems:"center",width:"100%",height:40,padding:"0 16px",borderBottom:`1px solid ${e.stroke.secondary}`},sendInviteLabel:{color:e.text.primary,fontSize:14,fontWeight:r().Wy.medium,textAlign:"left",verticalAlign:"top"}})),[])}function u(e,t){return(0,o().IS)((n=>({buttonContainer:{padding:"0 8px",...t},button:{height:32,borderRadius:4,border:`1px solid ${n.stroke.primary}`,...e}})),[e,t])}function p(e){const{filteredImportedContacts:t,inviteTargetsStore:n}=e,o=n.state.inviteTargets.length;return 0!==o&&o===t.length}function g(e){const{filteredImportedContacts:t}=e,n={};return t.forEach(((e,t)=>{const o=e.value.email[0].toUpperCase(),i=/^[A-Za-z]$/.test(o)?o:"#";n[i]||(n[i]=[]),n[i].push(e)})),n}function h(e){const{canEditPermission:t,isMobile:n,hasAccessToFeature:o}=e;return!(n||o||!t)}},803557:(e,t,n)=>{n.d(t,{KG:()=>a,Xx:()=>r});var o=()=>n(645873);const i={SlackImportContactsButton:new(o().O2)("SlackImportContactsButton",(()=>n.e(55901).then(n.bind(n,659126)))),GoogleImportContactsButton:new(o().O2)("GoogleImportContactsButton",(()=>n.e(37398).then(n.bind(n,97509))))},r=(0,o()._h)(i.SlackImportContactsButton,(e=>e.default)),a=(0,o()._h)(i.GoogleImportContactsButton,(e=>e.GoogleImportContactsButton))},804800:(e,t,n)=>{n.d(t,{L:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{open:!1,type:void 0}}}const i=new o},811979:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(296540),i=()=>n(847249),r=()=>n(592678),a=n(474848);function l(e,t){const{onClose:l,persistOnClose:s,render:u,stopClickPropagation:p,onClick:g,disablePopup:h,disabled:m,forceInitialInbound:y,renderOrigin:f,originGap:x,borderRadius:v,popupWrapStyle:b}=e,S=(0,i().uB)(e.buttonPopupStore,n(463830).A);(0,o.useEffect)((()=>()=>{S.setState({open:!1})}),[S]);const C=(0,o.useCallback)((()=>c(l,s,S)),[l,s,S]),P=(0,o.useCallback)((()=>(0,a.jsx)(d,{onClose:l,persistOnClose:s,render:u,buttonPopupStore:S})),[l,s,u,S]),k=(0,o.useCallback)((e=>function(e,t,n,o,i){t&&(null==e||e.stopPropagation());if(e&&r().Vt(e))return;n&&n(e);o||i.setState({...i.state,open:!0})}(e,p,g,h,S)),[p,g,h,S]),M=(0,i().K8)((()=>f({...e,onClick:m?n(496603).D_:k})),[m,k,e,f]),j=(0,i().K8)((()=>S.state.open),[S]);return(0,a.jsx)(n(897119).Ay,{ref:t,...e,forceInitialInbound:Boolean(y),render:P,open:j,onDismiss:C,origin:M,originGap:x,borderRadius:v,popupWrapStyle:b,trapFocus:!0})}const s=o.forwardRef(l);function c(e,t,n){e&&e(),t||n.reset()}function d(e){let{onClose:t,persistOnClose:n,render:r,buttonPopupStore:l}=e;const s=(0,o.useCallback)((()=>c(t,n,l)),[t,n,l]),d=(0,i().K8)((()=>r({close:s})),[r,s]);return(0,a.jsx)(a.Fragment,{children:d})}},817126:(e,t,n)=>{n.d(t,{G9:()=>u,Ld:()=>c,kg:()=>d});var o=()=>n(847249),i=()=>n(970013),r=()=>n(617871),a=()=>n(462853),l=()=>n(351360),s=()=>n(577437);function c(e){let{spaceId:t,userId:n}=e;const o=(0,s()._X)({name:"collection_connected_property_figma",spaceId:t,userId:n}),i=(0,s()._X)({name:"collection_connected_property_github",spaceId:t,userId:n}),a=(0,s()._X)({name:"collection_connected_property_google_drive",spaceId:t,userId:n}),l=(0,s()._X)({name:"collection_connected_property_zendesk",spaceId:t,userId:n});return{[r().e1]:o,[r().ob]:i,[r().Hd]:a,[r().k0]:l}}function d(e){if(!e)return;const t=e&&(0,i().UU)(e)?e.connectedRelation.integration_id:void 0;return(0,a().l)(t)}function u(e){const t=e.featureName,n=(0,o().K8)((()=>{var t;return e.spaceId??(null===(t=l().default.state.currentSpaceStore)||void 0===t?void 0:t.id)}),[e.spaceId]),i=(0,o().K8)((()=>{var t;return e.userId??(null===(t=l().default.state.currentUserStore)||void 0===t?void 0:t.id)}),[e.userId]);return(0,s()._X)({name:t,spaceId:n,userId:i})}},820635:(e,t,n)=>{n.d(t,{Q:()=>m});n(581454),n(296540);var o=()=>n(484714),i=()=>n(847249),r=()=>n(401497),a=()=>n(187174),l=()=>n(959013),s=()=>n(284371),c=()=>n(296206),d=()=>n(449506),u=()=>n(698449),p=()=>n(351360),g=()=>n(994006),h=n(474848);function m(e){const{group:t,limit:n,noMembersMessage:m,color:y,trackHover:f}=e,x=(0,r().IS)((e=>({container:{marginBottom:4,..."white_background"===y?{fontSize:s().J.UISmall.desktop,color:e.text.secondary,padding:"4px 8px"}:{}},userContainer:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},user:{flexGrow:1},moreMessage:{marginLeft:2,marginTop:4,..."white_background"===y?{fontSize:s().J.UISmall.desktop,color:e.text.secondary}:{color:e.text.contrastSecondary}}})),[y]),v=(0,i().O$)(p().AppStoreCurrentSpaceStore),b=(0,o().v3)();(0,i().K8)((()=>{f&&c().ZX(b,{group_id:t.group_id})}),[f,t,b]);const[{value:S}]=(0,a().Yb)((async()=>{if(!v)return;const e=await d().callApi({eventName:"getSpacePermissionGroupMembers",environment:b,data:{groupIds:[t.group_id],spaceId:v.id}});if("success"===e.type){var o;const i=null===(o=e.data.groupUsersMap[t.group_id])||void 0===o?void 0:o.userIds;return(0,u().gA)({userIds:i,limit:n,spaceStore:v})}}),[v,b,t,n]);return 0===(null==S?void 0:S.limitedUserStores.length)?(0,h.jsx)(h.Fragment,{children:m}):(0,h.jsxs)("div",{style:x.container,children:[null==S?void 0:S.limitedUserStores.map((e=>(0,h.jsx)("div",{style:x.userContainer,children:(0,h.jsx)(g().A,{style:x.user,userStore:e,avatarSize:18})},e.id))),S&&S.countRemainingUsers>0&&(0,h.jsx)("div",{style:x.moreMessage,children:(0,h.jsx)(l().sA,{id:"blockPermissionsSettings.groupPermissionUsers.tooltip",defaultMessage:"{countRemainingUsers} more…",values:{countRemainingUsers:S.countRemainingUsers}})})]})}},824160:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var o=()=>n(484714),i=()=>n(401497),r=()=>n(704152),a=n(474848);function l(e){const t=(0,o().Y0)(),n=(0,i().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,a.jsx)(r().A,{style:{...n.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,a.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})}):(0,a.jsx)(r().A,{style:{...n.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,a.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})})}},843189:(e,t,n)=>{n.d(t,{E:()=>a});var o=n(296540),i=()=>n(960715),r=n(474848);const a=o.forwardRef(((e,t)=>{let{children:o,color:a,disabled:l,icon:s,iconStyle:c,isLoading:d,shape:u="default",size:p="md",style:g,...h}=e;const m=(0,n(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",h=a?`${a}Hover`:"primaryHover",m=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:u,size:p,hasIconOnly:Boolean(s)&&!o}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:l||d?.3:1,fontWeight:n(284371).Wy.medium,...g},hovered:{background:l?e.tint[r]:e.tint[h]},pressed:{background:l?e.tint[r]:e.tint[m]},icon:{...(0,i().D3)({size:p,hasIconOnly:!o}),...c}}}),[o,a,l,s,c,d,u,p,g]);return(0,r.jsxs)(n(197190).A,{ref:t,style:m.button,hoveredStyle:m.hovered,pressedStyle:m.pressed,disabled:l,isLoading:d,...h,children:[s?s(m.icon):null,o]})}));a.displayName="TintButton"},851979:(e,t,n)=>{n.d(t,{h:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("eye",{viewBox:"0 0 32 32",svg:(0,o.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},853306:(e,t,n)=>{n.d(t,{A:()=>C});n(581454);var o=n(296540),i=()=>n(662303),r=()=>n(847249),a=()=>n(401497),l=()=>n(66913),s=()=>n(284371),c=()=>n(115512),d=()=>n(141333),u=()=>n(265665),p=()=>n(484595),g=()=>n(704152),h=()=>n(864943),m=()=>n(204063),y=()=>n(125565),f=n(474848);const x=20;function v(e){var t;let{icon:l,iconStyle:u,title:p,subtitle:g,confirmText:v,confirmTextStyle:C="blue",confirmTextPerRadioOption:P,cancelText:k,radioOptions:M,defaultSelectedRadioOption:j,onDismiss:w,onSelectRadio:R,onConfirm:I,width:A,footer:_}=e;const D=(0,n(484714).v3)(),[T,B]=(0,o.useState)(j??(null===(t=M[0])||void 0===t?void 0:t.key)),L=(0,r().uB)(void 0,n(17090).A),F=(0,r().K8)((()=>null==L?void 0:L.state.elementRef),[L]),E=(0,d().CR)(F),O=(0,d().yE)(F),W=(0,d().o7)(F),N=O>0,z=Math.ceil(O+W)<Math.floor(E),U=(0,o.useCallback)((e=>{e!==T&&(B(e),null==R||R(e))}),[R,T]),K=(0,o.useCallback)((()=>{I(T)}),[I,T]),V=(0,a().IS)((e=>{const t={marginLeft:-20,marginRight:-20,height:1,borderTop:`1px solid ${e.regularDividerColor}`,transition:"opacity 200ms"};return{container:{display:"flex",position:"relative",flexDirection:"column",justifyContent:"center",overflow:"hidden",width:`min(${A??400}px, calc(100vw - 40px))`,maxHeight:"80vh",padding:x,borderRadius:6,alignItems:"stretch"},icon:{width:36,height:36,fill:e.icon.secondary,marginBottom:6,...u},iconContainer:{width:"100%",display:"flex",justifyContent:"center"},title:{fontFamily:s().vc(i().locale).sans,fontSize:17,lineHeight:"22px",fontWeight:s().Wy.medium,textAlign:"center",marginBottom:14},subtitle:{fontFamily:s().vc(i().locale).sans,fontSize:(0,c().ny)(D,"UIRegular"),lineHeight:(0,c().ks)(D,"UIRegular"),fontWeight:s().Wy.regular,marginTop:6,marginBottom:6,textAlign:"center"},radioContainer:{display:"flex",flexDirection:"column",gap:8},topDivider:{...t,opacity:N?1:0},bottomDivider:{...t,opacity:z?1:0},scroller:{marginLeft:-20,marginRight:-20,paddingLeft:x,paddingRight:x},actionButtonsContainer:{display:"flex",flexDirection:"column",marginTop:20},cancelButton:{marginTop:8,justifyContent:"center"},dismissButton:{position:"absolute",top:10,right:10,zIndex:1}}}),[D,u,z,N,A]),H=(null==P?void 0:P[T])??v;return(0,f.jsxs)("div",{style:V.container,children:[(0,f.jsx)("div",{style:V.dismissButton,children:(0,f.jsx)(b,{onClick:w})}),l&&(0,f.jsx)("div",{style:V.iconContainer,children:l(V.icon)}),(0,f.jsx)(y().A,{isMultiline:!0,style:V.title,children:p}),g&&(0,f.jsx)(y().A,{isSmall:!0,style:V.subtitle,isMultiline:!0,children:g}),M.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{style:V.topDivider}),(0,f.jsx)(n(2143).H,{type:n(756279).A.Y,style:V.scroller,store:L,children:(0,f.jsx)("div",{style:V.radioContainer,children:M.map((e=>(0,f.jsx)(S,{radioItem:e,isSelected:e.key===T,onSelectRadio:U},e.key)))})}),(0,f.jsx)("div",{style:V.bottomDivider})]}),(0,f.jsxs)("div",{style:V.actionButtonsContainer,children:["blue"===C?(0,f.jsx)(m().A,{size:"lg",onClick:K,children:H}):"red"===C?(0,f.jsx)(m().A,{size:"lg",onClick:K,isRed:!0,children:H}):(0,f.jsx)(h().A,{size:"lg",onClick:K,children:H}),(0,f.jsx)(h().A,{size:"lg",onClick:w,style:V.cancelButton,children:k??(0,f.jsx)(n(959013).sA,{id:"radioModal.cancel",defaultMessage:"Cancel"})})]}),_]})}function b(e){let{onClick:t}=e;const n=(0,a().IS)((e=>({button:{display:"flex",justifyContent:"center",alignItems:"center",width:24,height:24,borderRadius:"100%",background:e.lightGrayButtonBackground},buttonHovered:{background:e.lightGrayButtonHoveredBackground},buttonPressed:{background:e.lightGrayButtonPressedBackground},closeIcon:{width:16,height:16,fill:e.icon.secondary}})),[]);return(0,f.jsx)(g().A,{style:n.button,hoveredStyle:n.buttonHovered,pressedStyle:n.buttonPressed,onClick:t,children:(0,l().V)(n.closeIcon)})}function S(e){let{radioItem:t,isSelected:n,onSelectRadio:o}=e;const i=(0,a().IS)((e=>({button:{display:"flex",justifyContent:"space-between",gap:10,height:"auto",minHeight:70,borderRadius:8,paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14-p().p,border:void 0,boxShadow:n?`inset 0 0 0 1px ${e.icon.uiBluePrimary}`:`inset 0 0 0 1px ${e.stroke.primary}`},buttonText:{display:"flex",flexDirection:"column",gap:2,...s().RC},optionTitle:{fontWeight:s().Wy.medium},optionSubtitle:{whiteSpace:"break-spaces"}})),[n]);return(0,f.jsxs)(h().A,{size:"lg",onClick:()=>o(t.key),style:i.button,children:[(0,f.jsxs)("div",{style:i.buttonText,children:[(0,f.jsx)(y().A,{style:i.optionTitle,children:(0,f.jsx)(u().j,{children:t.title})}),t.subtitle&&(0,f.jsx)(y().A,{isSmall:!0,isMultiline:!0,style:i.optionSubtitle,children:t.subtitle})]}),(0,f.jsx)(p().A,{isSelected:n})]})}const C=o.memo(v)},883234:(e,t,n)=>{n.d(t,{_:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},887080:(e,t,n)=>{n.d(t,{A:()=>p});n(296540);var o=()=>n(847249),i=()=>n(401497),r=()=>n(959013),a=()=>n(645873);const l=new(a().O2)("DisconnectContactModal",(async()=>{const{DisconnectContactModal:e}=await n.e(6178).then(n.bind(n,538049));return{DisconnectContactModal:e}})),s=(0,a()._h)(l,(e=>e.DisconnectContactModal));var c=()=>n(939740),d=()=>n(89924),u=n(474848);const p=function(e){const{importListItems:t}=e,a=(0,o().uB)(void 0,n(970585).A),l=(0,o().K8)((()=>n(804800).L.getState().open),[]),p=(0,i().IS)((e=>({InviteDropdownMenu:{background:e.cardContentBackground,width:265,borderRadius:8},helpIcon:{width:14,height:14,fill:e.icon.secondary},helpSection:{color:e.text.secondary,fontSize:12,padding:"0 8px",width:"100%"}})),[]),g={key:"all_import_sections",render:e=>(0,u.jsx)(d().A,{...e,title:(0,u.jsx)(r().sA,{id:"spacePermissionsSettings.inviteLinkRefreshModal.inviteDropdownMenu.title",defaultMessage:"Import from"})}),items:t},h={key:"help_section",render:e=>(0,u.jsx)(d().A,{...e,topBorder:!0}),items:[{key:"help_section",render:e=>m,action:()=>{}}]},m=(0,u.jsx)(n(187485).A,{style:{display:"flex",padding:"0 4px"},className:"notion-print-ignore",href:(0,n(836251).xS)("guides.publicAPI"),external:!0,children:(0,u.jsx)(n(493823).p,{icon:n(133033).$,iconStyle:p.helpIcon,style:p.helpSection,children:(0,u.jsx)(r().sA,{id:"spacePermissionsSettings.inviteLinkRefreshModal.inviteDropdownMenu.learnMore",defaultMessage:"Learn more"})})});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n(928600).A,{menuType:n(722872).gu.Popup,children:(0,u.jsx)(c().Ay,{type:c().Oh.Vertical,store:a,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,sections:[g,h],style:p.InviteDropdownMenu})}),l&&(0,u.jsx)(s,{open:l})]})}},887480:(e,t,n)=>{n.d(t,{Ay:()=>i().A,yQ:()=>a});var o=()=>n(645873),i=()=>n(853306);const r=new(o().O2)("radioModalRenderer",(()=>n.e(35818).then(n.bind(n,415995)))),a=(0,o()._h)(r,(e=>e.default))},888325:(e,t,n)=>{function o(e){return`${e.table}:${e.id}`}n.d(t,{_:()=>o})},920495:(e,t,n)=>{n.d(t,{n:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M13.3 14.25a.55.55 0 0 1-.55.55h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 .55.55m-.55-1.95a.55.55 0 1 0 0-1.1h-5.5a.55.55 0 0 0 0 1.1z"}),(0,o.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.121c0-.563-.224-1.104-.622-1.502L11.63 2.997a2.13 2.13 0 0 0-1.502-.622zM5.375 4.5c0-.483.392-.875.875-.875h3.7V6.25A2.05 2.05 0 0 0 12 8.3h2.625v7.2a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875zm8.691 2.7H12a.95.95 0 0 1-.95-.95V4.184z"})]})},r=(0,n(340498).wt)("page",i)},926329:(e,t,n)=>{n.d(t,{b:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("templates",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},940563:(e,t,n)=>{n.r(t),n.d(t,{arrowStraightRightIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"m17.442 9.558-5.4-5.4a.625.625 0 0 0-.884.884l4.333 4.333H3a.625.625 0 1 0 0 1.25h12.491l-4.333 4.333a.625.625 0 1 0 .884.884l5.4-5.4a.62.62 0 0 0 0-.884"})},i=(0,n(340498).wt)("arrowStraightRight",o)},973633:(e,t,n)=>{n.d(t,{P:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("peopleFillCheckmark",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M14.5391 10.3174C14.4115 10.3174 14.2975 10.29 14.1973 10.2354C14.097 10.1807 13.999 10.0964 13.9033 9.98242L12.29 8.01367C12.1715 7.86328 12.1123 7.70833 12.1123 7.54883C12.1123 7.38021 12.1693 7.23665 12.2832 7.11816C12.4017 6.99967 12.5452 6.94043 12.7139 6.94043C12.8141 6.94043 12.9053 6.96322 12.9873 7.00879C13.0739 7.0498 13.1582 7.12272 13.2402 7.22754L14.5117 8.84082L17.2188 4.51367C17.3555 4.28581 17.5309 4.17188 17.7451 4.17188C17.9046 4.17188 18.0482 4.22428 18.1758 4.3291C18.3034 4.42936 18.3672 4.56608 18.3672 4.73926C18.3672 4.81673 18.349 4.89648 18.3125 4.97852C18.2806 5.05599 18.2419 5.12891 18.1963 5.19727L15.1406 9.97559C14.9948 10.2035 14.7943 10.3174 14.5391 10.3174ZM2.85645 16.2441C2.47363 16.2441 2.17285 16.1576 1.9541 15.9844C1.73535 15.8112 1.62598 15.5742 1.62598 15.2734C1.62598 14.8314 1.75814 14.3688 2.02246 13.8857C2.29134 13.4027 2.67643 12.9492 3.17773 12.5254C3.68359 12.1016 4.29199 11.7575 5.00293 11.4932C5.71387 11.2288 6.51139 11.0967 7.39551 11.0967C8.28418 11.0967 9.08398 11.2288 9.79492 11.4932C10.5059 11.7575 11.112 12.1016 11.6133 12.5254C12.1191 12.9492 12.5065 13.4027 12.7754 13.8857C13.0443 14.3688 13.1787 14.8314 13.1787 15.2734C13.1787 15.5742 13.0693 15.8112 12.8506 15.9844C12.6318 16.1576 12.3311 16.2441 11.9482 16.2441H2.85645ZM7.40234 9.87988C6.9056 9.87988 6.44759 9.74544 6.02832 9.47656C5.61361 9.20768 5.27865 8.84538 5.02344 8.38965C4.77279 7.93392 4.64746 7.4235 4.64746 6.8584C4.64746 6.30241 4.77279 5.80111 5.02344 5.35449C5.27865 4.90332 5.61589 4.54557 6.03516 4.28125C6.45443 4.01693 6.91016 3.88477 7.40234 3.88477C7.89909 3.88477 8.3571 4.01465 8.77637 4.27441C9.19564 4.53418 9.5306 4.88965 9.78125 5.34082C10.0365 5.78743 10.1641 6.28874 10.1641 6.84473C10.1641 7.41439 10.0365 7.92936 9.78125 8.38965C9.5306 8.84538 9.19564 9.20768 8.77637 9.47656C8.3571 9.74544 7.89909 9.87988 7.40234 9.87988Z"})})},980427:(e,t,n)=>{n.d(t,{V:()=>r});var o=()=>n(989423),i=()=>n(508496);function r(e,t){(0,o().u4)({environment:e,event:{eventName:"open_import_contacts_dropdown",eventProperties:{source:t.source}}}),i().default.logEvent("open_import_contacts_dropdown",void 0,{metadata:t})}}}]);