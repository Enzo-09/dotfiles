"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[30733,49157,54518],{346:(e,t,o)=>{o.d(t,{MG:()=>h,T1:()=>g,a1:()=>y,dt:()=>m,kg:()=>f,lC:()=>b,n_:()=>v});var n=o(296540),i=()=>o(484714),r=()=>o(847249),a=()=>o(187174),s=()=>o(645873),l=()=>o(941463),d=()=>o(441199),c=()=>o(749687),u=()=>o(737230),p=()=>o(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([o.e(96346),o.e(16471),o.e(85864),o.e(92845),o.e(71718),o.e(21194),o.e(17989),o.e(90625),o.e(37580),o.e(45624)]).then(o.bind(o,140401)))),h=(0,s()._h)(g,(e=>e.PerformanceToolbar)),m=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function f(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,i().v3)(),t=w("PerformanceToolbarStore"),o=w("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function b(){const e=w("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function y(){const e=(0,i().v3)(),t=w("createPerformanceToolbarMouseListeners"),o=w("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:h,updateSidebarWidth:m}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,g,h,m)}),[t,e,o,a,s,p,g,h,m])}function w(e){const t=f(),[{value:o}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},10123:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(570551);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){(0,n().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},21735:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().default{getInitialState(){return{shouldUseEdgeCache:!1}}}const i=new n;o(604341).exposeDebugValue("EdgeCacheStore",i);const r=i},43972:(e,t,o)=>{o.d(t,{w:()=>l});o(296540);var n=()=>o(764880),i=()=>o(534177),r=()=>o(256863),a=()=>o(453697),s=o(474848);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n().H3)(t)?(0,s.jsx)(r().A,{botValue:t.asActor,...o}):(0,n().ps)(t)?(0,s.jsx)(a().A,{userValue:t.asActor,...o}):(0,n().h2)(t)?(0,s.jsx)(a().A,{userValue:void 0,...o}):void(0,i().HB)(t)}},53528:(e,t,o)=>{o.d(t,{OH:()=>s,T2:()=>l,do:()=>d});var n=()=>o(597777),i=()=>o(869190),r=()=>o(604995),a=()=>o(416504);function s(e){const{dateTime:t,intl:o,shortenDateAndRange:n}=e,a=r().C6.toPersistedDate(t.valueOf());return i().ZF({value:a,allowRelativeDates:!0,intl:o,shortenDateAndRange:n,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=r().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return i().ZF({value:l,allowRelativeDates:!0,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function d(e){const{luxonRange:t,intl:o}=e,s=r().C6.toPersistedDateRange(t),l=i().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:o,displayInUserTimezone:!0}),d=t.end.setZone((0,a().P)()),c=i().fU({start_time:d.toFormat(n().GE),humanReadable:!1,intl:o});return o.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:c})}},63467:(e,t,o)=>{o.d(t,{y:()=>c});var n=()=>o(637997),i=()=>o(267419);const r={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222))};let a=!1,s=!1;async function l(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...i,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(a)return;const[e]=o(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const c=(0,o(279900).A)((async()=>{await async function(){s||(await l(await o.e(51872).then(o.bind(o,443716))),s=!0)}(),await d()}))},69447:(e,t,o)=>{o.d(t,{Lq:()=>n,WK:()=>r,nh:()=>i});const n=40,i=48,r=60},72307:(e,t,o)=>{o.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},97059:(e,t,o)=>{o.d(t,{W:()=>m,w:()=>h});o(944114);var n=()=>o(585515),i=()=>o(577449),r=()=>o(161479),a=()=>o(545285),s=()=>o(763824),l=()=>o(780054),d=()=>o(870618),c=()=>o(670631),u=()=>o(227440),p=()=>o(508496),g=()=>o(540758);async function h(e){const{environment:t}=e;return(await s().lX(Object.keys(c().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:o}=e,s={page:{id:o,spaceId:(0,r().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},c=[];return await n().T(s,i().h.sideEffect((e=>((0,a().u)(e)&&c.push(e.id),Promise.resolve())),i().h.fromMonomorphicFunctionUnsafe((async e=>{const o=await d().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==o?void 0:o.model})))),c}({environment:t,pageId:e})))).flat()}function m(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,g().Bd)(t)}},105819:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>i});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,o(340498).wt)("pencilLine",n)},165121:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().default{constructor(){super()}getInitialState(){}}const i=new n},173019:(e,t,o)=>{o.d(t,{r:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},175116:(e,t,o)=>{o.d(t,{ET:()=>l,Ks:()=>d,RI:()=>s,p2:()=>a});o(16280);var n=o(296540);const i="collectionContextStore",r=(0,o(446943).C)({displayName:i,legacyContextKey:i,modernContextDefaultValue:void 0}),a=r.context,s=r.Provider;function l(){const e=n.useContext(a);if(void 0===e)throw new Error(`No context provided: ${i}`);return e}function d(){return n.useContext(a)}},194188:(e,t,o)=>{function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}o.d(t,{A:()=>n})},205618:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:o(854150).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const i=n},224011:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(705540);class i extends(()=>o(757695))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await n().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},n().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},240562:(e,t,o)=>{o.d(t,{p:()=>r});var n=()=>o(645873);const i=new(n().O2)("HelpButtonContent",(async()=>await o.e(42481).then(o.bind(o,101107)))),r=(0,n()._h)(i,(e=>e.HelpButtonContent))},249696:(e,t,o)=>{o.d(t,{W:()=>r});var n=()=>o(847249),i=()=>o(540144);function r(){return(0,n().K8)((()=>(0,i().M5)()),[])}},256863:(e,t,o)=>{o.d(t,{A:()=>a});o(296540);var n=()=>o(847249),i=()=>o(824862),r=o(474848);const a=function(e){const{botValue:t,botStore:a,showActiveDot:s,style:l,size:d}=e,c=(0,o(959013).tz)(),u=(0,n().K8)((()=>{if(a){const e=a.getIcon();if(e)return{pointer:{table:i().GP,id:a.id,spaceId:a.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:i().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[a,t]),p=(0,n().K8)((()=>(null==a?void 0:a.getDisplayName(c))??(0,o(799288).Hg)(t)),[a,t,c]),{activeDotStyle:g}=(0,o(401497).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.accentColors.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}})),[]);return(0,r.jsxs)("div",{style:l,children:[(0,r.jsx)(o(614505).B,{icon:u,title:p,size:d||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),s?(0,r.jsx)("div",{style:g}):void 0]})}},271084:(e,t,o)=>{o.d(t,{k:()=>i});o(581454);class n extends(()=>o(757695))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[i,r]=t;return r-n})).map((e=>{let[t,o]=e;return t}))}}const i=new n;(0,o(604341).exposeDebugValue)("UserSimilarityStore",i)},277201:(e,t,o)=>{o.d(t,{I:()=>x,i:()=>S});var n=o(296540),i=()=>o(484714),r=()=>o(847249),a=()=>o(401497),s=()=>o(387964),l=()=>o(340498),d=()=>o(959013),c=()=>o(186445),u=()=>o(38337),p=()=>o(869562),g=()=>o(749687),h=()=>o(962730),m=()=>o(948914),f=()=>o(145214),v=()=>o(285790),b=()=>o(35392),y=()=>o(859428),w=o(474848);function x(e){const t=(0,i().v3)(),o=(0,i().Y0)(),n=(0,d().tz)(),a=(0,r().O$)(g().sidebarMouseEnteredStore),l=(0,r().O$)(m().b),u=(0,r().O$)(c().$o),h=n.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),f=(!o.isElectronMac||!u)&&!l&&a;return(0,w.jsx)(S,{isVisible:f,icon:s().S,caption:h,onClick:()=>{p().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const C={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function S(e){const t=(0,i().Y0)(),o=(0,a().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.mediumIconColor}})),[]),r=(0,n.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...o.button,...e.style})),[e.style,o.button,t.isMobile]);return(0,w.jsx)(y().A,{renderTooltip:()=>(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,w.jsx)(b().A,{style:o.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?h().W.Right:h().W.Bottom,render:o=>(0,w.jsx)(f().A,{tag:v().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:C,mobileFeedback:t.isMobile,onClick:e.onClick,className:u().P7S,...o})})}},279900:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(n=r,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...r),t)}}o.d(t,{A:()=>n})},352759:(e,t,o)=>{o.d(t,{p:()=>b,t:()=>y});o(581454),o(296540);var n=()=>o(484714),i=()=>o(847249),r=()=>o(584262),a=()=>o(959013),s=()=>o(857783),l=()=>o(255018),d=()=>o(939740),c=()=>o(958378),u=()=>o(89924),p=()=>o(900967),g=()=>o(728611),h=()=>o(211716),m=()=>o(592968),f=()=>o(551619),v=o(474848);function b(e){let{store:t}=e;return(0,v.jsx)("div",{style:{width:"100%",maxWidth:"100%",margin:"0 auto 6px auto"},onMouseDown:f().NV,onClick:f().sx,children:(0,v.jsx)(l().A,{type:"page",store:t,headerText:(0,v.jsx)(a().sA,{defaultMessage:"Linked to this page",id:"page.expandedBacklinks.label"}),disableCurrentPageToken:!0,disableInaccessiblePages:!0})})}function y(e){let{store:t}=e;const o=(0,n().v3)(),a=(0,i().K8)((()=>(0,p().c)(t,o)),[t,o]),l=(0,i().K8)((()=>a.backlinks.map((e=>e.backlinkStore))),[a]).map(((e,t)=>({key:e.id,render:t=>(0,v.jsx)(c().A,{...t,store:e,hidePath:!1}),action:t=>{let{event:n}=t;m().F.setState({isOpen:!1});const i=g().Vr(n);s().uK({environment:o,store:e,openInNew:i,visitType:h().ig.Link,pageVisitSource:r().y8.Backlinks})}})));return(0,v.jsx)(d().Ay,{type:d().Oh.Vertical,initialFocus:void 0,sections:[{key:"all",items:l,render:e=>(0,v.jsx)(u().A,{...e})}]})}},378347:(e,t,o)=>{o(746518)({target:"Object",stat:!0},{hasOwn:o(39297)})},381138:(e,t,o)=>{o.d(t,{q:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},387964:(e,t,o)=>{o.d(t,{S:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,n.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},r=(0,o(340498).wt)("arrowChevronDoubleBackward",i)},392998:(e,t,o)=>{o.d(t,{A:()=>a});var n=()=>o(194188),i=()=>o(10123),r=()=>o(570551);function a(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e),a=(0,n().A)(t);return isNaN(a)?new Date(NaN):a?(o.setDate(o.getDate()+a),o):o}},398842:(e,t,o)=>{o.d(t,{Jv:()=>b,Zr:()=>y,Rl:()=>w,mA:()=>v});var n=o(296540),i=()=>o(484714),r=()=>o(847249),a=()=>o(401497),s=()=>o(970013),l=()=>o(743176),d=()=>o(68465),c=()=>o(159588),u=()=>o(963589),p=()=>o(331542),g=o(474848);function h(){const e=(0,a().DP)();return(0,g.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,g.jsx)(p().A,{legacySize:14})})}var m=()=>o(399275);const f=function(){return(0,g.jsx)(o(464708).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,g.jsx)(o(959013).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const v=n.memo((function(e){const{propertySchema:t,showIcon:n,showDragIcon:r,hideName:s,badge:l,style:d,iconStyle:u,iconSize:p,dragHandleStyle:h,className:m,labelSizeVariant:f}=e,v=(0,i().v3)(),{device:b}=v,y=b.isMobile?16:14,x=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:y,...d},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:s?void 0:"small"===f||r?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:r?1:0,transition:`opacity ${c().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:r?0:1,transition:`opacity ${c().bM}`},dragIcon:{fill:e.icon.secondary}})),[y,s,u,f,r,d]);return(0,g.jsxs)("div",{className:m,style:x.container,children:[n&&(0,g.jsxs)("div",{style:x.iconWrapper,children:[(0,g.jsx)("div",{style:x.itemIcon,children:(0,g.jsx)(w,{propertySchema:t,iconSize:p,iconStyle:u})}),(0,g.jsx)("div",{style:x.dragHandle,children:(0,g.jsx)(o(57232).A,{style:h,iconSize:12,iconStyle:x.dragIcon})})]}),!s&&(0,g.jsx)("div",{style:{...o(284371).RC},children:t.name}),l]})}));function b(e){const{propertySchema:t}=e,o=(0,i().v3)();return(0,r().K8)((()=>(0,d().O0)(o)&&s().$M(t)&&s().om(t)),[o,t])?(0,g.jsx)(f,{}):null}function y(e){let{propertyId:t,collectionContextStore:o}=e;return(0,r().K8)((()=>{var e;const n=null===(e=o.collectionStore())||void 0===e?void 0:e.id;if(!n)return!1;const i=m().d.state.collectionsProperties[n];return!!i&&"Loading"===i[t]}),[o,t])?(0,g.jsx)(h,{}):null}function w(e){const{propertySchema:t,iconSize:o,iconStyle:n}=e,{isMobile:r}=(0,i().Y0)(),s=(0,a().DP)(),d=(0,u().X)("nds_default_property_noticon"),c=r?18:16;return(0,g.jsx)(l().zB,{type:t.type,icon:t.icon,size:o||c,theme:s,style:n,isDefaultNoticonEnabled:d})}},399275:(e,t,o)=>{o.d(t,{d:()=>i});o(898992),o(354520);class n extends(()=>o(757695))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,o(206267).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const o=this.state.collectionsProperties[e],n=o?{...o,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:n}})}removeCollectionProperties(e,t){const o=this.state.collectionsProperties[e];if(!o)return;const n=Object.fromEntries(Object.entries(o).filter((e=>{let[o]=e;return!t.has(o)})));if(0===Object.keys(n).length){const{[e]:t,...o}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:o})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:n}})}}const i=new n;(0,o(604341).exposeDebugValue)("ConnectedPropertiesSyncStore",i)},406533:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(340498).wt)("questionMarkCircle",i)},413267:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},427636:(e,t,o)=>{o.d(t,{A:()=>i});o(296540);var n=o(474848);const i=function(e){const{botStore:t,avatarSize:i,shouldShowBadge:r,style:a,inline:s}=e,l=(0,o(959013).tz)(),d=(0,o(484714).Y0)(),c=(0,o(847249).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:p,badgeStyle:g}=(0,o(401497).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...a},avatarWrapStyle:s?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:d.isMobile?11:9,lineHeight:d.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[a,s,d]);return(0,n.jsxs)("div",{style:u,children:[(0,n.jsx)("div",{style:p,children:(0,n.jsx)(o(256863).A,{botStore:t,size:i})}),(0,n.jsx)("div",{style:{...o(284371).RC},children:c}),r&&(0,n.jsx)("div",{style:g,children:"Bot"})]})}},454531:(e,t,o)=>{o.d(t,{W:()=>g});var n=()=>o(972435),i=()=>o(867772),r=()=>o(681810),a=()=>o(901389),s=()=>o(896628),l=()=>o(383594),d=()=>o(751156),c=()=>o(892632);const u=1500,p=(0,o(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image linkâ€¦",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function g(e){let{environment:t,intl:o,store:n,rect:i}=e;l().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(p.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;l().I(),d().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:i}=e;m({environment:t,store:n,url:{originUrl:o},position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(p.fileTypeCaption,{idealImageWidth:u}),onUpload:e=>{var i;l().I(),c().QM({environment:t,file:e[0],bucket:"secure",record:(null===(i=n.getCoverStore())||void 0===i?void 0:i.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:f,onProgress:v,onComplete:e=>{var o;o={environment:t,store:n,url:{originUrl:e}},h({...o,position:.5})},onError:()=>{a().f1(o.formatMessage(p.uploadFailed))}})}},{type:"embed",title:o.formatMessage(p.embedTitle),inputPlaceholder:o.formatMessage(p.embedPlaceholder),caption:o.formatMessage(p.embedCaption),buttonText:o.formatMessage(p.embedSubmit),onChange:e=>{var o;o={environment:t,store:n,url:e},h({...o,position:.5}),l().I()}},{type:"unsplash",onChange:e=>{let{url:o,position:i}=e;m({environment:t,store:n,url:{originUrl:o},position:i})}}]})}async function h(e){const{environment:t,store:o,url:a,position:l}=e,{serverCommitResult:c}=d().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:o,url:a,position:l||.5,transaction:e})}});await c,r().A.state.loadingMode===i().vS&&r().A.setState({loadingMode:i().Gi,dataURL:r().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:n().A.formatMessage(p.downloading)})}function m(e){h(e),e.environment.device.isMobile&&l().I()}function f(e){const{file:t,name:o,size:a}=e;if(l().I(),r().A.setState({loadingMode:i().Wc,file:t,name:o,size:a}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,dataURL:t.dataURL,progressText:n().A.formatMessage(p.preparing)});else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,progressText:n().A.formatMessage(p.preparing)})}function v(e){const{progressPercent:t,progressText:o}=e;r().A.state.loadingMode===i().vS&&r().A.setState({...r().A.state,uploadProgress:t,progressText:o})}},490044:(e,t,o)=>{o.d(t,{A:()=>p});o(296540);var n=()=>o(484714),i=()=>o(847249),r=()=>o(401497),a=()=>o(500066),s=()=>o(159588),l=()=>o(963589),d=()=>o(644914),c=o(474848);function u(){const e=(0,r().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,c.jsx)("div",{children:(0,a().G)(e.icon)})}function p(e){var t;const o=(0,n().v3)(),a=o.device.isMobile,{isTablet:p}=(0,n().Y0)(),g=(0,l().X)("tablet_refresh_gate"),h=(0,i().K8)((()=>{var t,n;if(a)return o.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(n=e.style)||void 0===n?void 0:n.paddingLeft:10)}),[o.WindowSizeStore,a,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),m=(0,r().IS)((t=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:p&&g?4:8,paddingBottom:p&&g?4:8,paddingLeft:h,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:d().Zr,paddingTop:4,paddingBottom:4,...(0,s().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:a?24:d().ry,height:a?24:d().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,p,g,h,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,c.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:m.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,c.jsx)("div",{style:m.left,children:e.left}),e.icon&&(0,c.jsxs)("div",{style:m.icon,children:[e.icon,e.isAlias&&(0,c.jsx)(u,{})]}),(0,c.jsx)("div",{style:m.children,children:e.children}),e.right&&(0,c.jsx)("div",{style:m.right,children:e.right})]})}},527580:(e,t,o)=>{o.d(t,{TK:()=>s,YC:()=>a,ui:()=>r});var n=()=>o(645873);const i={pageVerification:new(n().O2)("pageVerification",(()=>o.e(94891).then(o.bind(o,80826)))),pageVerificationBadge:new(n().O2)("pageVerificationBadge",(()=>Promise.all([o.e(75134),o.e(43380),o.e(96346),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(28866),o.e(6463),o.e(1213),o.e(59794),o.e(75601),o.e(58504),o.e(14590),o.e(41412)]).then(o.bind(o,161901)))),pageVerificationMenuRenderer:new(n().O2)("pageVerificationMenuRenderer",(()=>Promise.all([o.e(75134),o.e(43380),o.e(96346),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(28866),o.e(6463),o.e(1213),o.e(59794),o.e(75601),o.e(58504),o.e(14590),o.e(26207)]).then(o.bind(o,196770))))},r=(0,n()._h)(i.pageVerification,(e=>e.PageAddVerificationButton)),a=(0,n()._h)(i.pageVerificationBadge,(e=>e.PageVerificationBadge)),s=(0,n()._h)(i.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},529803:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().default{}const i=new n},544862:(e,t,o)=>{o.d(t,{A:()=>A});var n=o(296540),i=()=>o(484714),r=()=>o(847249),a=()=>o(959013),s=()=>o(896628),l=()=>o(454531),d=()=>o(751156),c=()=>o(600871),u=()=>o(478726),p=()=>o(227440),g=()=>o(867772),h=()=>o(681810),m=()=>o(608581),f=()=>o(145214),v=()=>o(704152),b=()=>o(807683),y=()=>o(401497),w=()=>o(534177),x=o(474848);function C(e){let{src:t,placeholderSrc:o,placeholderBehavior:i,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[d,c]=(0,n.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!o&&(d||void 0===t);break;default:(0,w().HB)(i)}const p=(0,y().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,n.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const g=(0,n.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,x.jsxs)("div",{style:p.container,children:[(0,x.jsx)(b().Ay,{src:t,onLoad:g,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),o&&(0,x.jsx)(b().Ay,{src:o,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var S=()=>o(24611);const A=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:c,height:u,proxyWidth:p}=e;const m=(0,i().v3)(),f=(0,r().uB)(void 0,o(454305).A),v=(0,r().K8)((()=>a||"suggest"===o(77246).Uv.getMode(t)),[a,t]),y=(0,r().K8)((()=>t.getCover()),[t]),w=(0,r().O$)(h().A),[S,A]=(0,n.useState)(void 0);if(!y)return null;const M=w.loadingMode!==g().pF&&w.loadingMode!==g().Wc;return(0,x.jsx)(o(801678).A,{mouseStore:f,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:i}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:n,transaction:e}),i()}})}(e,t,m),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:a}=e;return(0,x.jsx)(P,{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:a,lastProxiedUrl:S,store:t,disabled:v,paddingRight:l,paddingLeft:c,mouseStore:f})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},render:e=>(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(o(360083).A,{url:y.cover,isAuthenticated:!0,permissionRecord:y.pointer,width:p,onFinishedLoadingProxyUrl:A,render:(t,o)=>{const n={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:M?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,x.jsx)(C,{src:o,placeholderSrc:M?w.dataURL:void 0,placeholderBehavior:M?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:n,onLoadComplete:k,testId:"pageCover"})}}),M&&(0,x.jsxs)("div",{style:b().fd,children:[(0,x.jsx)(o(331542).A,{size:"md",style:{marginRight:4}}),(0,x.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==w.uploadProgress?(0,x.jsx)(o(773382).A,{percentage:w.uploadProgress}):w.progressText?(0,x.jsx)("span",{children:w.progressText}):null})]})]})})};function k(){h().A.reset()}function P(e){let{isVisible:t,isRepositioning:o,handleCancelClick:s,handleRepositionClick:d,handleSavePositionClick:b,lastProxiedUrl:y,store:w,disabled:C,paddingRight:A,paddingLeft:k,mouseStore:P}=e;const M=(0,i().v3)(),I=(0,a().tz)(),R=(0,n.useCallback)((e=>function(e,t,o,n,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:n,rect:r})}(e,M,I,w,P)),[M,I,w,P]),j=(0,r().K8)((()=>h().A.state.loadingMode),[]),T=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":u().x6,t}(w)),[w]),{device:E}=M,B=(0,r().K8)((()=>!o&&!(0,c().LX)({device:E})),[o,E]),D=(0,r().O$)(p().e);if(C||j!==g().pF||!D)return null;const{isMobile:W}=E;return(0,x.jsx)(f().A,{animate:{width:T,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,x.jsxs)(m().A,{isVisible:t,position:"bottom",style:{marginRight:A,marginLeft:k},children:[B&&(0,x.jsx)(v().A,{style:{borderRight:W?"none":void 0,...S().k},onClick:R,children:(0,x.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!W&&(0,x.jsx)(v().A,{style:{...S().k,borderRight:"none"},onClick:e=>d(e,y),children:(0,x.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!W&&(0,x.jsx)(v().A,{style:S().k,onClick:b,children:(0,x.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!W&&(0,x.jsx)(v().A,{style:{...S().k,borderRight:"none"},onClick:s,children:(0,x.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},551619:(e,t,o)=>{o.d(t,{Hy:()=>j,NV:()=>I,O9:()=>E,Rg:()=>T,Sm:()=>D,dK:()=>W,f7:()=>B,l8:()=>V,n$:()=>L,no:()=>_,sx:()=>R});var n=()=>o(484714),i=()=>o(792485),r=()=>o(847249),a=()=>o(700500),s=()=>o(651124),l=()=>o(519831),d=()=>o(620689),c=()=>o(591197),u=()=>o(835066),p=()=>o(964345),g=()=>o(68465),h=()=>o(753199),m=()=>o(504836),f=()=>o(478726),v=()=>o(747100),b=()=>o(963589),y=()=>o(665579),w=()=>o(351360),x=()=>o(525569),C=()=>o(508496),S=()=>o(375447),A=()=>o(66496),k=()=>o(548821),P=()=>o(712505),M=()=>o(302022);function I(e){(0,h().SQ)({event:e,context:h().y$.EditorMouseDown,callback:()=>{}})}function R(e){(0,h().SQ)({event:e,context:h().y$.EditorClick,callback:()=>{}})}function j(e){return(0,r().K8)((()=>Boolean(M().A.state.pageMap[e.id])||A().A.state.pages.has(e.id)),[e.id])}function T(e,t){const o=(0,n().v3)(),a=(0,i().S)(),s=j(e),l=(0,r().K8)((()=>{var o,n;return t===k().Rr.Frame?Boolean(null===(o=w().default.state.currentLoadingContainerStore)||void 0===o?void 0:o.state.ready):t===k().Rr.PeekView&&P().default.state.open?Boolean(null===(n=P().default.state.loadingContainerStore)||void 0===n?void 0:n.state.ready):t===k().Rr.CollectionPageView||t===k().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),d=B(e);return(0,r().K8)((()=>{if(!l)return!1;const t=o.currentUser.isLoggedIn(),n=a&&a.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=n&&n.hasPublicPermission)||"edit"===(null==n?void 0:n.permission))&&!s&&!d&&(!(0,g().ZE)(n)||"completionPopup"!==x().default.state.type))}),[o.currentUser,d,l,a,s,e])}function E(e,t){const o=(0,n().v3)(),a=(0,i().S)(),{isTablet:s}=(0,n().Y0)(),l=(0,b().X)("tablet_refresh_template_pills_gate");return(0,r().K8)((()=>{if(t===k().Rr.SitePreview)return!1;if(o.device.isMobile&&(!s||!l))return!1;if(!o.currentUser.isLoggedIn())return!1;const n=a&&a.publicEditModeStore.state;if(null!=n&&n.hasPublicPermission&&"edit"!==(null==n?void 0:n.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const i=e.getContentStores()[0];if(i&&!i.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const r=p().gZ.state,d=p().Di.state;if(r&&e.id===d)return!1;return!((0,f().L5)(t)?c().VY.state:c().u3.state)}),[o,a,e,t,s,l])}function B(e){return(0,r().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(a().xd.externalObjectInstancePage)}),[e])}function D(e){return(0,r().K8)((()=>{if(!(0,m().vL)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===l().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function W(e){return(0,r().K8)((()=>{if(!(0,m().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function V(e){return(0,r().K8)((()=>{if(!C().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===s().IE.CsvImport}),[e])}function L(e){const t=(0,n().v3)(),{device:o,WindowSizeStore:i}=t,a=(0,r().K8)((()=>{const e=i.state.height,n=o.isMobile&&S().A.state.open?e:0;return d().C6(t)+n}),[t,i,o.isMobile]);return(0,r().K8)((()=>"home-phone"===e?y().q3:o.isTablet?380:o.isIOS?Math.max(350,a):o.isMobile?400:"side-peek"===e||"center-peek"===e?v().ln:"home"===e?y().wH:"30vh"),[o,a,e])}function _(e){const t=(0,n().v3)(),o=(0,r().K8)((()=>(0,u().dC)(t,e)),[t,e]);return(0,r().K8)((()=>o&&!e.isFullWidth()?(0,u().Zy)(t,(0,v().cq)(e),(0,v().RX)(e)):0),[t,o,e])}},555267:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(296540),i=()=>o(401497),r=()=>o(62856),a=()=>o(331542),s=o(474848);function l(e){let{loadingMessage:t}=e;const o=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a().A,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t})]})})}},563615:(e,t,o)=>{o.d(t,{$b:()=>c,Nz:()=>l,Q1:()=>a,Vh:()=>u,ZO:()=>d,bl:()=>s,eN:()=>r,oQ:()=>i});var n=()=>o(645873);const i={WorkflowPageBlock:new(n().O2)("WorkflowPageBlock",(async()=>await o.e(87700).then(o.bind(o,885789)))),WorkflowEditorTopbar:new(n().O2)("WorkflowEditorTopbar",(async()=>await Promise.all([o.e(96346),o.e(55373),o.e(36192),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(92143)]).then(o.bind(o,484654)))),WorkflowInPlaceEditor:new(n().O2)("WorkflowInPlaceEditor",(async()=>await Promise.all([o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(55373),o.e(36192),o.e(44711),o.e(62475),o.e(3151),o.e(16471),o.e(53321),o.e(58550),o.e(98629),o.e(90825),o.e(37353),o.e(29151),o.e(31895),o.e(83647),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(4422),o.e(28721),o.e(28866),o.e(21194),o.e(6463),o.e(71993),o.e(1213),o.e(17989),o.e(90625),o.e(59794),o.e(78846),o.e(26483),o.e(43741),o.e(81768),o.e(94387),o.e(82850),o.e(52393),o.e(77692),o.e(75601),o.e(11341),o.e(7060),o.e(82136),o.e(12739),o.e(26090),o.e(73594),o.e(93282),o.e(12341),o.e(50984),o.e(66984),o.e(40828),o.e(26199),o.e(18057),o.e(90978),o.e(56264),o.e(5023),o.e(55927),o.e(61151),o.e(72226),o.e(48199),o.e(67780),o.e(96933),o.e(4253),o.e(9150),o.e(50437)]).then(o.bind(o,742628)))),ChatCollectionView:new(n().O2)("ChatCollectionView",(async()=>await Promise.all([o.e(96346),o.e(55373),o.e(85864),o.e(7114),o.e(45666)]).then(o.bind(o,227519)))),CustomCollectionView:new(n().O2)("CustomCollectionView",(async()=>await Promise.all([o.e(96346),o.e(55373),o.e(36192),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(64165)]).then(o.bind(o,120250)))),WorkflowEditorCollectionViewPage:new(n().O2)("WorkflowEditorCollectionViewPage",(async()=>await Promise.all([o.e(75134),o.e(43380),o.e(96346),o.e(55373),o.e(36192),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(1213),o.e(78846),o.e(43741),o.e(93282),o.e(67780),o.e(16697)]).then(o.bind(o,258651)))),WorkflowContainerEmptyState:new(n().O2)("WorkflowContainerEmptyState",(async()=>await o.e(97891).then(o.bind(o,50512)))),workflowActions:new(n().O2)("workflowActions",(async()=>await Promise.all([o.e(96346),o.e(55373),o.e(36192),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(11097)]).then(o.bind(o,847)))),workflowNavigationActions:new(n().O2)("workflowNavigationActions",(async()=>await o.e(93139).then(o.bind(o,691093)))),workflowNavigationHelpers:new(n().O2)("workflowNavigationHelpers",(async()=>await o.e(92821).then(o.bind(o,564037)))),workflowAdvanced:new(n().O2)("workflowAdvanced",(async()=>await Promise.all([o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(55373),o.e(36192),o.e(44711),o.e(62475),o.e(3151),o.e(16471),o.e(53321),o.e(58550),o.e(98629),o.e(90825),o.e(37353),o.e(29151),o.e(31895),o.e(83647),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(4422),o.e(28721),o.e(28866),o.e(21194),o.e(6463),o.e(71993),o.e(1213),o.e(17989),o.e(90625),o.e(59794),o.e(78846),o.e(26483),o.e(43741),o.e(81768),o.e(94387),o.e(82850),o.e(52393),o.e(77692),o.e(75601),o.e(11341),o.e(7060),o.e(82136),o.e(12739),o.e(26090),o.e(73594),o.e(93282),o.e(12341),o.e(50984),o.e(66984),o.e(40828),o.e(26199),o.e(18057),o.e(90978),o.e(56264),o.e(5023),o.e(55927),o.e(61151),o.e(72226),o.e(48199),o.e(67780),o.e(96933),o.e(4253),o.e(9150)]).then(o.bind(o,140659))))},r=(0,n()._h)(i.WorkflowPageBlock,(e=>e.default)),a=(0,n()._h)(i.ChatCollectionView,(e=>e.ChatCollectionView)),s=(0,n()._h)(i.CustomCollectionView,(e=>e.CustomCollectionView)),l=(0,n()._h)(i.WorkflowEditorTopbar,(e=>e.WorkflowEditorTopbar)),d=(0,n()._h)(i.WorkflowInPlaceEditor,(e=>e.WorkflowInPlaceEditor)),c=(0,n()._h)(i.WorkflowEditorCollectionViewPage,(e=>e.WorkflowEditorCollectionViewPage)),u=(0,n()._h)(i.WorkflowContainerEmptyState,(e=>e.WorkflowContainerEmptyState))},567121:(e,t,o)=>{o.d(t,{EG:()=>a,K5:()=>r,RH:()=>i,Yi:()=>s,ls:()=>n});const n=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},570551:(e,t,o)=>{function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}o.d(t,{A:()=>n})},578194:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(583835).Dv)("importEvernote")},591197:(e,t,o)=>{o.d(t,{VY:()=>s,ZJ:()=>r,u3:()=>a});var n=()=>o(496506);class i extends(()=>o(757695))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const r=new i,a=new(n().default)((()=>!1!==r.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(n().default)((()=>!1!==r.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},592968:(e,t,o)=>{o.d(t,{F:()=>i});class n extends(()=>o(757695))().default{getInitialState(){return{isOpen:!1}}}const i=new n},603815:(e,t,o)=>{o.d(t,{A$:()=>k,JQ:()=>P,Vn:()=>S,s4:()=>A});o(16280),o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949),o(581454);var n=()=>o(857639),i=()=>o(585515),r=()=>o(577449),a=()=>o(388821),s=()=>o(179034),l=()=>o(545285),d=()=>o(534177),c=()=>o(449506),u=()=>o(780054),p=()=>o(989423),g=()=>o(870618),h=()=>o(303626),m=()=>o(14307),f=()=>o(245865),v=()=>o(540758),b=()=>o(670631),y=()=>o(508496),w=()=>o(571963),x=()=>o(603815),C=()=>o(108944);async function S(e){const{environment:t,request:o,abortSignal:n,prefetchCacheKey:i,headers:r}=e;return(0,w().updateLoadCachedPageChunkCalledAt)(),m().isConnected()||m().isConnecting()?c().callApi({eventName:"loadCachedPageChunkV2",environment:t,data:o,abortSignal:n,prefetchCacheKey:i,headers:r}):c().callApi({eventName:"loadPageChunkV2",environment:t,data:o,abortSignal:n,prefetchCacheKey:i,headers:r})}async function A(e){const{mode:t,environment:o,request:d,isFirstChunk:c,abortSignal:m}=e,f={...d,limit:30,cursor:d.cursor||{stack:[]},baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName};if("inMemoryAndDiskCacheWithInexactPreload"===t&&(await x().A$(o,{id:d.page.id,table:s().ev}),null!=m&&m.aborted))throw new Error("Abort signal received");const y=a().RecordMapWithRole.create(),w=[];let C=!1;const S=new Set,A=await i().T(f,r().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await g().h7({environment:o,pointer:e,abortSignal:m,useInMemoryCacheOnly:"inMemoryOnly"===t});if(null!=m&&m.aborted)throw new Error("Abort signal received");if(n)return y.setModelAndRole(e,n.model,n.role),n.model;if("inMemoryOnly"===t)throw new Error(`Record not found: ${e.table},${e.id}`);if((0,l().u)(e)&&!S.has(e.id)&&c){if(void 0===b().A.state.offlinePages)return w.push(e),void(C=!0);if(void 0===b().A.state.offlinePages||!v().Bd(d.page.id))throw new Error(`Record not found: ${e.table},${e.id}`);w.push(e)}})),((e,t,o,n)=>{h().N.enableLogging&&console.log(`Spidering from ${e.table}:${e.id} to ${t.table}:${t.id} (${o})`),null!=n&&n.suppressErrorOnClient&&S.add(t.id)}));if(C&&(await b().A.waitUntil((()=>void 0!==b().A.state.offlinePages)),!v().Bd(d.page.id))){const[e]=w;throw new Error(`Record not found: ${e.table},${e.id}`)}if(w.length>0&&(0,p().LM)({eventName:"offline_page_was_missing_records_in_cache",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((e=>{(0,p().u4)({environment:o,event:{eventName:"offline_page_was_missing_records_in_cache",eventProperties:{}},opts:{sampling:{behavior:"decided",sampleDecision:e}}}),e&&n().log({level:"error",from:"loadingHelpers",type:"offlinePageWasMissingRecordsInCache",data:{pageId:d.page.id,missingRecords:w}})})),null!=m&&m.aborted)throw new Error("Abort signal received");return{recordMap:y.toJson(),cursor:A.cursorValue}}async function k(e,t){const o=e.currentUser.id;if(!o||!e.defaultRecordCache.persistedRecordCache)return Promise.resolve(void 0);(await e.defaultRecordCache.persistedRecordCache.getPageBlocksByParent({page:t,userId:o})).forEach((t=>{e.defaultRecordCache.inMemoryRecordCache.setRecord({pointer:t.pointer,userId:t.userId},t.value),e.defaultRecordCache.inMemoryRecordCache.emitRecord(t.pointer,[]),f().unsubscribeAfterDelay({environment:e,pointer:t.pointer,userId:t.userId})}))}function P(e){if(!y().default.checkGate({gateName:"load_page_chunk_omit_existing_record_versions"}))return;const t=a().RecordMapPolymorphic.create();let o=0;const n=()=>o>=50,i=e=>{"space"!==(null==e?void 0:e.table)&&(n()||e&&void 0===t.get(e.pointer)&&(t.set(e.pointer,e.getVersion()),o++))};if(e.isReady())for(const a of(0,C().E)(e))i(a);if(e.userId){const t=e.environment.defaultRecordCache.inMemoryRecordCache.data.getUserRecordMap(e.userId);i(t.getModel({table:"notion_user",id:e.userId}));let o=0;for(const e of t.getPointersByTable("notion_user")){if(n()||o>=10)break;o++,i(t.getModel(e))}}const r=Array.from(t).map((e=>{let{pointer:t,value:o}=e;if(void 0!==o)return{pointer:t,version:o}})).filter(d().O9);return r.length?r:void 0}},606982:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(10123),i=()=>o(570551);function r(e,t){(0,i().A)(2,arguments);var o=(0,n().A)(e),r=(0,n().A)(t),a=o.getTime()-r.getTime();return a<0?-1:a>0?1:a}},608581:(e,t,o)=>{o.d(t,{A:()=>c});o(898992),o(354520),o(581454),o(941795);var n=o(296540),i=()=>o(401497),r=()=>o(955825),a=()=>o(284371),s=()=>o(963575),l=o(474848);function d(e){const{button:t,isLast:o}=e,s=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,o&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,o&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const c=function(e){let{children:t,isVisible:c,position:u,style:p}=e;const g=(0,o(484714).v3)(),h=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:s().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:g.device.isMobile?"auto":"none",opacity:g.device.isMobile?1:0,fontFamily:a().vc(o(662303).locale).sans,position:"absolute",right:s().A.horizontal.small,bottom:s().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:s().A.vertical.small,bottom:void 0}})),[g]),m=n.Children.toArray(t).filter(o(534177).O9),f=m.length;return(0,l.jsx)(o(145214).A,{animate:{opacity:c?1:0},...(0,r().AH)(h.container,p,c&&h.containerHover,"top"===u&&h.containerTop),children:m.map(((e,t)=>{const i=t===f-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(859428).A&&n.isValidElement(e))return n.cloneElement(e,{render:(t,o)=>{const n=e.props.render(t,o);return(0,l.jsx)(d,{isLast:i,button:n},e.key)}});if(e.type===o(704152).A&&n.isValidElement(e))return(0,l.jsx)(d,{isLast:i,button:e},e.key)}}))})}},654734:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(296540),i=()=>o(869190),r=()=>o(604995),a=()=>o(416504),s=o(474848);const l=function(e){const t=(0,o(959013).tz)(),l=(0,o(401497).DP)(),u=(0,o(396182).I)(),p=(0,n.useRef)(),g=(0,n.useCallback)((()=>{const t=e.value;if(!t)return;const n=r().q8(t,(0,a().P)());if(!n)return;const i=n.valueOf(),s=i-Date.now();s<0||s>o(720665).nD||p.current&&p.current.timestamp===i||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:i,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),h=(0,n.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,n.useEffect)((()=>{g()}),[g]),(0,n.useEffect)((()=>()=>{h()}),[h]);const{value:m,withComma:f}=e,v=(0,o(847249).K8)((()=>m?(0,i().ZF)({value:m,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:o(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,m]);if(!m)return null;const b=r().AA(m,(0,a().P)(),o(662303).locale);let y;if(m.reminder){const e=r().Zs(m,(0,a().P)());y=e?{color:l.errorText}:{color:o(100622).Ay.blue}}const w=(0,s.jsxs)(s.Fragment,{children:[v,m.reminder&&(0,o(599987).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),f?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...y},children:w}):(0,s.jsx)(o(859428).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:c(l,e.tooltipHeader),children:[d(b.start),b.end?` â†’ ${d(b.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...y},...t,children:w}),placement:e.tooltipPlacement})};function d(e){return(0,i().eV)({value:e,preset:"medium"})}function c(e,t){return t?{color:e.text.contrastSecondary}:{}}},665579:(e,t,o)=>{o.d(t,{$E:()=>M,$L:()=>s,BZ:()=>c,EC:()=>h,EI:()=>w,E_:()=>P,Ed:()=>p,Fq:()=>v,Lu:()=>C,Mk:()=>g,O0:()=>k,UO:()=>I,V$:()=>A,VQ:()=>m,Xx:()=>x,Xy:()=>d,YS:()=>f,_g:()=>y,dd:()=>u,pW:()=>l,q3:()=>a,wH:()=>r});var n=()=>o(496603),i=()=>o(534177);const r=160,a=40,s=24,l=20,d=600,c=270,u=405,p=480,g=500,h=void 0,m=16,f=10,v=8,b=(o(69447).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),y=4;function w(e){return{icon:e.mediumIconColor,text:e.text.secondary}}function x(e){return{width:48,height:48,fill:e.lightIconColor}}function C(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.surface.page}const S=1;function A(e){let{isPhone:t,theme:o}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:o.home.tile.background,boxShadow:P({isPhone:t,theme:o}),...b}}function k(e){let{mode:t}=e;switch(t){case"dark":return 0;case"light":return S;default:return(0,i().ub)(t),0}}function P(e){let{isPhone:t,theme:o,borderOnly:i}=e;if("dark"===o.mode)return"unset";o.mode;const r=k({mode:o.mode});return(0,n().oE)([i||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}function M(e){return{display:"flex",flexDirection:"column",width:"100%",gap:24}}function I(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:P({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):o.homeShadow.card.hovered}}},665638:(e,t,o)=>{o.d(t,{$:()=>p,S:()=>g});var n=()=>o(847249),i=()=>o(401497),r=()=>o(186445),a=()=>o(838364),s=()=>o(644914),l=()=>o(155959),d=()=>o(661179),c=()=>o(508496),u=()=>o(895227);function p(e){const{environment:t,rightEdgeDistance:o,isInPeekRenderer:a}=e,l=e.width??36,c=(0,n().K8)((()=>(0,s().zo)(t,a)-(0,s().Ql)(t)),[t,a]),p=(0,n().K8)((()=>g(t,16+d().A.state)),[t]),h=(0,n().K8)((()=>o+d().A.state),[o]),m=(0,n().K8)((()=>r().$o.state?0:1),[]);return(0,i().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:p,right:h,opacity:m,transform:`translateX(-${c}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${u().L}ms,\n\t\t\t\t\tcolor ${u().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:l,height:l,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[c,p,h,l,m])}function g(e,t){const o=c().default.checkGate({gateName:"tablet_refresh_gate"}),n=e.device.isMobileNative&&!o,i=(0,l().T)("supportsNativeBottomBar"),r=n&&!i;return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet&&o?-12:r?a().l:0))}},681810:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(867772).Ay)},709687:(e,t,o)=>{o.d(t,{r:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("bell",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.36914 11.7627C1.36914 12.3369 1.80664 12.7266 2.51074 12.7266H5.32031C5.38184 14.0322 6.44824 15.2285 8 15.2285C9.55176 15.2285 10.6182 14.0391 10.6797 12.7266H13.4893C14.2002 12.7266 14.6309 12.3369 14.6309 11.7627C14.6309 11.0381 13.9678 10.416 13.3457 9.81445C12.8672 9.34277 12.751 8.39941 12.6621 7.46289C12.5732 4.87207 11.8213 3.14258 10.0371 2.49316C9.77734 1.59082 9.01855 0.900391 8 0.900391C6.98145 0.900391 6.22266 1.59082 5.96289 2.49316C4.17871 3.14258 3.42676 4.87207 3.33789 7.46289C3.24902 8.39941 3.13965 9.34277 2.6543 9.81445C2.03906 10.416 1.36914 11.0381 1.36914 11.7627ZM3.00293 11.4756V11.3936C3.18066 11.1953 3.57715 10.833 3.91211 10.4434C4.38379 9.90332 4.60254 8.92578 4.6709 7.62695C4.75293 4.85156 5.60059 3.92871 6.70801 3.62793C6.87207 3.58691 6.96777 3.50488 6.98145 3.32031C7.01562 2.62305 7.39844 2.1582 8 2.1582C8.60156 2.1582 8.99121 2.62305 9.01855 3.32031C9.03223 3.50488 9.12793 3.58691 9.29883 3.62793C10.3994 3.92871 11.2539 4.85156 11.3291 7.62695C11.3975 8.92578 11.623 9.90332 12.0879 10.4434C12.4297 10.833 12.8125 11.1953 12.9834 11.3936V11.4756H3.00293ZM6.6123 12.7266H9.3877C9.33984 13.5811 8.7793 14.1348 8 14.1348C7.22754 14.1348 6.66699 13.5811 6.6123 12.7266Z"})})},748539:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,519737));return e}))},756114:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},765974:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkTriangleFillIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},i=(0,o(340498).wt)("exclamationMarkTriangleFill",n)},801678:(e,t,o)=>{o.d(t,{A:()=>f});var n=o(296540),i=()=>o(662303),r=()=>o(484714),a=()=>o(847249),s=()=>o(955825),l=()=>o(959013),d=()=>o(100622),c=()=>o(496603),u=()=>o(284371),p=()=>o(720665),g=()=>o(145214),h=o(474848);const m={isRepositioning:!1};const f=function(e){const t=(0,n.useRef)(null),i=(0,r().v3)(),{isMobile:l}=(0,r().Y0)(),[d,u]=(0,n.useState)(m),g=(0,n.useCallback)((()=>{u(m)}),[]),{renderControl:f,onFlushTemporaryPosition:b,style:y,source:w,store:x}=e,{isRepositioning:C,image:S,startDragRenderedPosition:A,startDragImageScreenHeight:k}=d,P=(0,a().K8)((()=>0===o(502438).default.state.stores.length),[]),[M,I]=(0,n.useState)(!1),R=(0,a().uB)(e.mouseStore,o(454305).A),j=(0,a().K8)((()=>R.state.mouseEntered),[R]),T=(0,o(401497).IS)((()=>({dragContainer:{width:"100%",cursor:C?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[C]),E=(0,a().K8)((()=>function(e,t,o){return(0,c().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,c().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,p().pN)(t)?o:t}}const n=t.getFormat(),i=n.page_cover_position;if((0,c().Et)(i))return i;return o}(e,t)}(w,x,d.temporaryPosition)),[d.temporaryPosition,w,x]);(0,n.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&C&&b({imagePosition:E,reset:()=>{R.reset(),g()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[E,C,R,b,g]),C&&!P&&g();const B=(0,n.useMemo)((()=>(0,c().nF)((e=>{R.setState({...R.state,mouseEntered:!0})}),100)),[R]),D=(0,n.useMemo)((()=>(0,c().sg)((e=>{R.setState({...R.state,mouseEntered:!1})}),100)),[R]),W=(0,n.useCallback)(((e,t)=>{o(778417).IU({environment:i});const n=new Image;n.onload=()=>{u((e=>({...e,isRepositioning:!0,image:n})))},t&&(n.src=t)}),[i]),V=(0,n.useCallback)((e=>{b({imagePosition:E,reset:()=>{g()}})}),[E,b,g]),L=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(819121).p)(t)&&I(!0)}),[]),_=(0,n.useCallback)((()=>{I(!0)}),[]),N=(0,n.useCallback)((e=>{if(S&&C){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/S.width*S.height;u((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:E})))}}}),[S,E,C]),F=(0,n.useCallback)((e=>{if(C){const t=e.diffY/(k||0)+(A||0);u((e=>({...e,temporaryPosition:(0,c().LI)((0,o(40845).A)(t,0,1),4)})))}}),[C,k,A]),z=(0,n.useCallback)((()=>{u((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),O=(0,a().K8)((()=>f({handleRepositionClick:W,handleSavePositionClick:V,handleCancelClick:g,isVisible:l||j||M||C,isRepositioning:C})),[W,V,M,l,C,j,f,g]);return(0,h.jsxs)("div",{ref:t,onFocus:L,onBlur:_,onMouseEnter:B,onMouseMove:B,onMouseLeave:D,...(0,s().AH)(T.container,y),children:[(0,h.jsx)(o(603820).A,{onDraggableDragStart:N,onDraggableDragMove:F,onDraggableDragEnd:z,onDraggableDragCancel:z,disabled:!C,render:t=>(0,h.jsx)("div",{...(0,s().AH)(T.dragContainer),...t,children:e.render({imagePosition:E,isRepositioning:C})})}),(0,h.jsx)(v,{small:e.small,isRepositioning:C}),O]})};function v(e){let{small:t,isRepositioning:o}=e;if(t)return null;const n={background:d().Ay.blackWithAlpha(.4),borderRadius:4,color:d().Ay.white,fontSize:12,fontFamily:u().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,h.jsx)(g().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,h.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},835755:(e,t,o)=>{o.d(t,{p:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},843189:(e,t,o)=>{o.d(t,{E:()=>a});var n=o(296540),i=()=>o(960715),r=o(474848);const a=n.forwardRef(((e,t)=>{let{children:n,color:a,disabled:s,icon:l,iconStyle:d,isLoading:c,shape:u="default",size:p="md",style:g,...h}=e;const m=(0,o(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",h=a?`${a}Hover`:"primaryHover",m=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:u,size:p,hasIconOnly:Boolean(l)&&!n}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||c?.3:1,fontWeight:o(284371).Wy.medium,...g},hovered:{background:s?e.tint[r]:e.tint[h]},pressed:{background:s?e.tint[r]:e.tint[m]},icon:{...(0,i().D3)({size:p,hasIconOnly:!n}),...d}}}),[n,a,s,l,d,c,u,p,g]);return(0,r.jsxs)(o(197190).A,{ref:t,style:m.button,hoveredStyle:m.hovered,pressedStyle:m.pressed,disabled:s,isLoading:c,...h,children:[l?l(m.icon):null,n]})}));a.displayName="TintButton"},851775:(e,t,o)=>{o.d(t,{A:()=>a});var n=()=>o(194188),i=()=>o(10123),r=()=>o(570551);function a(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e),a=(0,n().A)(t),s=o.getFullYear(),l=o.getDate(),d=new Date(0);d.setFullYear(s,a,15),d.setHours(0,0,0,0);var c=function(e){(0,r().A)(1,arguments);var t=(0,i().A)(e),o=t.getFullYear(),n=t.getMonth(),a=new Date(0);return a.setFullYear(o,n+1,0),a.setHours(0,0,0,0),a.getDate()}(d);return o.setMonth(a,Math.min(l,c)),o}},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>n,pF:()=>a,vS:()=>i});const n="loadingLocalImage",i="uploading",r="downloading",a="loaded";class s extends(()=>o(757695))().default{getInitialState(){return{loadingMode:a}}}const l=s},877051:(e,t,o)=>{o.d(t,{V:()=>a});var n=()=>o(847249),i=()=>o(351360),r=()=>o(963589);function a(){const e=(0,r().X)("lazier_dependencies"),t=(0,n().K8)((()=>i().default.state.renderPhase),[]);return e&&"rendered"!==t}},883234:(e,t,o)=>{o.d(t,{_:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,n.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},894074:(e,t,o)=>{o.d(t,{A:()=>l});var n=()=>o(10123),i=()=>o(851775),r=()=>o(194188),a=()=>o(570551);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if((0,a().A)(2,arguments),"object"!==s(t)||null===t)throw new RangeError("values parameter must be an object");var o=(0,n().A)(e);return isNaN(o.getTime())?new Date(NaN):(null!=t.year&&o.setFullYear(t.year),null!=t.month&&(o=(0,i().A)(o,t.month)),null!=t.date&&o.setDate((0,r().A)(t.date)),null!=t.hours&&o.setHours((0,r().A)(t.hours)),null!=t.minutes&&o.setMinutes((0,r().A)(t.minutes)),null!=t.seconds&&o.setSeconds((0,r().A)(t.seconds)),null!=t.milliseconds&&o.setMilliseconds((0,r().A)(t.milliseconds)),o)}}}]);