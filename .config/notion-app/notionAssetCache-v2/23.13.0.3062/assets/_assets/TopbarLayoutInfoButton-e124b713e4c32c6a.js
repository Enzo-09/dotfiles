"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2597],{53528:(e,t,n)=>{n.d(t,{OH:()=>s,T2:()=>l,do:()=>c});var o=()=>n(597777),i=()=>n(869190),a=()=>n(604995),r=()=>n(416504);function s(e){const{dateTime:t,intl:n,shortenDateAndRange:o}=e,r=a().C6.toPersistedDate(t.valueOf());return i().ZF({value:r,allowRelativeDates:!0,intl:n,shortenDateAndRange:o,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:n,userTimeZone:o,displayInUserTimezone:r,alwaysIncludeTimezone:s}=e,l=a().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return i().ZF({value:l,allowRelativeDates:!0,intl:n,userTimeZone:o,displayInUserTimezone:r,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:n}=e,s=a().C6.toPersistedDateRange(t),l=i().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:n,displayInUserTimezone:!0}),c=t.end.setZone((0,r().P)()),d=i().fU({start_time:c.toFormat(o().GE),humanReadable:!1,intl:n});return n.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:d})}},77126:(e,t,n)=>{n.d(t,{j:()=>i});class o extends(()=>n(959180))().A{}const i=new o},97059:(e,t,n)=>{n.d(t,{W:()=>f,w:()=>h});n(944114);var o=()=>n(585515),i=()=>n(577449),a=()=>n(161479),r=()=>n(545285),s=()=>n(763824),l=()=>n(780054),c=()=>n(870618),d=()=>n(670631),u=()=>n(227440),p=()=>n(508496),m=()=>n(540758);async function h(e){const{environment:t}=e;return(await s().lX(Object.keys(d().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:n}=e,s={page:{id:n,spaceId:(0,a().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},d=[];return await o().T(s,i().h.sideEffect((e=>((0,r().u)(e)&&d.push(e.id),Promise.resolve())),i().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await c().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==n?void 0:n.model})))),d}({environment:t,pageId:e})))).flat()}function f(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,m().Bd)(t)}},146594:(e,t,n)=>{n.d(t,{H:()=>a});var o=()=>n(645873);const i=new(o().O2)("UpdateSidebarTabInfo",(async()=>await Promise.all([n.e(75134),n.e(43380),n.e(9304),n.e(85515),n.e(1213),n.e(78846),n.e(43741),n.e(93282),n.e(67780),n.e(96933),n.e(49157),n.e(21377)]).then(n.bind(n,722143)))),a=(0,o()._h)(i,(e=>e.UpdateSidebarTabInfo))},182034:(e,t,n)=>{n.d(t,{O:()=>u,e:()=>d});n(898992),n(672577);var o=()=>n(908006),i=()=>n(878523),a=()=>n(725614),r=()=>n(892632),s=()=>n(299545),l=()=>n(77126),c=()=>n(489348);function d(e,t){const n=s().dd(t),o=r().xh(n);e.setState({...e.state,files:o})}async function u(e){const{blockStore:t,pageViewBlockStore:n,environment:r}=e;n?n.setState({...n.state,forceDiscussionOpen:!0}):c().A.openNewPageDiscussionInput(t),i().o2(r,{from:"page_comments"}),await o().default.afterNextFlush();const s=l().j.find((e=>e.getBlockStore().id===t.id)),d=null==s?void 0:s.getInputStore();d&&a().setSelectionAtEnd({store:d.state.textStore})}},323974:(e,t,n)=>{n.d(t,{q:()=>u});var o=n(296540),i=()=>n(484714),a=()=>n(847249),r=()=>n(33791),s=()=>n(548821),l=()=>n(712287),c=()=>n(517223),d=()=>n(455994);function u(e){const{collectionStore:t,from:n,forceShowButtonIfNoProperties:u,pageViewBlockContext:p}=e,m=(0,a().K8)((()=>null==t?void 0:t.getLayoutStore()),[t]),h=(0,i().v3)(),f=p===s().Rr.PeekView,y=(0,a().K8)((()=>d().A.getPanelState(f?"peek":"mainPage").isOpen),[f]),g=(0,a().K8)((()=>!!t&&(0,r().v)({collectionStore:t,collectionViewBlockStore:t.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[t]),S=(0,a().K8)((()=>!!m&&m.getModules().page_details.length>0),[m]),{count:v,isPropertiesModuleInPageDetails:w}=(0,a().K8)((()=>S&&t?(0,c().pm)({collectionStore:t}):{count:0,isPropertiesModuleInPageDetails:!1}),[S,t]),I=o.useCallback((()=>{if(!m)return;const e={environment:h,layoutStore:m,from:n,panelLocation:f?"peek":"mainPage"};y?(0,l().F)(e):(0,l().j)(e)}),[h,n,y,f,m]),P=o.useMemo((()=>p!==s().Rr.InPageSnapShot&&(p!==s().Rr.DraftPostInInlineComposer&&(v>0||!!u&&(w&&g)))),[p,v,u,w,g]);return{pageDetailsPropertiesCount:v,toggleDetailsPanel:I,isDetailsPanelOpen:y,pageDetailsHasModules:S,canShowButton:P}}},398842:(e,t,n)=>{n.d(t,{Jv:()=>S,Zr:()=>v,Rl:()=>w,mA:()=>g});var o=n(296540),i=()=>n(484714),a=()=>n(847249),r=()=>n(401497),s=()=>n(970013),l=()=>n(743176),c=()=>n(68465),d=()=>n(159588),u=()=>n(963589),p=()=>n(331542),m=n(474848);function h(){const e=(0,r().DP)();return(0,m.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,m.jsx)(p().A,{legacySize:14})})}var f=()=>n(399275);const y=function(){return(0,m.jsx)(n(464708).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,m.jsx)(n(959013).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const g=o.memo((function(e){const{propertySchema:t,showIcon:o,showDragIcon:a,hideName:s,badge:l,style:c,iconStyle:u,iconSize:p,dragHandleStyle:h,className:f,labelSizeVariant:y}=e,g=(0,i().v3)(),{device:S}=g,v=S.isMobile?16:14,I=(0,r().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:v,...c},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:s?void 0:"small"===y||a?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:a?1:0,transition:`opacity ${d().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:a?0:1,transition:`opacity ${d().bM}`},dragIcon:{fill:e.icon.secondary}})),[v,s,u,y,a,c]);return(0,m.jsxs)("div",{className:f,style:I.container,children:[o&&(0,m.jsxs)("div",{style:I.iconWrapper,children:[(0,m.jsx)("div",{style:I.itemIcon,children:(0,m.jsx)(w,{propertySchema:t,iconSize:p,iconStyle:u})}),(0,m.jsx)("div",{style:I.dragHandle,children:(0,m.jsx)(n(57232).A,{style:h,iconSize:12,iconStyle:I.dragIcon})})]}),!s&&(0,m.jsx)("div",{style:{...n(284371).RC},children:t.name}),l]})}));function S(e){const{propertySchema:t}=e,n=(0,i().v3)();return(0,a().K8)((()=>(0,c().O0)(n)&&s().$M(t)&&s().om(t)),[n,t])?(0,m.jsx)(y,{}):null}function v(e){let{propertyId:t,collectionContextStore:n}=e;return(0,a().K8)((()=>{var e;const o=null===(e=n.collectionStore())||void 0===e?void 0:e.id;if(!o)return!1;const i=f().d.state.collectionsProperties[o];return!!i&&"Loading"===i[t]}),[n,t])?(0,m.jsx)(h,{}):null}function w(e){const{propertySchema:t,iconSize:n,iconStyle:o}=e,{isMobile:a}=(0,i().Y0)(),s=(0,r().DP)(),c=(0,u().X)("nds_default_property_noticon"),d=a?18:16;return(0,m.jsx)(l().zB,{type:t.type,icon:t.icon,size:n||d,theme:s,style:o,isDefaultNoticonEnabled:c})}},399275:(e,t,n)=>{n.d(t,{d:()=>i});n(898992),n(354520);class o extends(()=>n(757695))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,n(206267).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const n=this.state.collectionsProperties[e],o=n?{...n,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:o}})}removeCollectionProperties(e,t){const n=this.state.collectionsProperties[e];if(!n)return;const o=Object.fromEntries(Object.entries(n).filter((e=>{let[n]=e;return!t.has(n)})));if(0===Object.keys(o).length){const{[e]:t,...n}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:n})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:o}})}}const i=new o;(0,n(604341).exposeDebugValue)("ConnectedPropertiesSyncStore",i)},555801:(e,t,n)=>{n.r(t),n.d(t,{TopbarLayoutInfoButton:()=>j});var o=n(296540),i=()=>n(484714),a=()=>n(847249),r=n(474848);const s={viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M15 6.25a.5.5 0 0 1 0 1h-1a.5.5 0 0 1 0-1zm.5 2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0 0 1h1a.5.5 0 0 0 .5-.5m-.5 1.5a.5.5 0 0 1 0 1h-1a.5.5 0 1 1 0-1z"}),(0,r.jsx)("path",{d:"M17.625 6.25A2.125 2.125 0 0 0 15.5 4.125h-11A2.125 2.125 0 0 0 2.375 6.25v7.5c0 1.174.951 2.125 2.125 2.125h11a2.125 2.125 0 0 0 2.125-2.125zM15.5 5.375c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-2.95v-9.25zm-11 9.25a.875.875 0 0 1-.875-.875v-7.5c0-.483.392-.875.875-.875h6.95v9.25z"})]})},l=(0,n(340498).wt)("sidebarRight",s);var c=()=>n(959013),d=()=>n(146594),u=()=>n(553965),p=()=>n(712287),m=()=>n(323974),h=()=>n(933951),f=()=>n(455994),y=()=>n(644914),g=()=>n(737230),S=()=>n(962730),v=()=>n(548821),w=()=>n(712505),I=()=>n(406699),P=()=>n(285790),b=()=>n(859428),T=()=>n(863059);const x=(0,c().YK)({showInfoToolTip:{defaultMessage:"View details",id:"topbar.infoButton.tooltip"},hideInfoToolTip:{defaultMessage:"Close page info",id:"topbar.infoButton.tooltipToHide"},buttonAriaLabel:{defaultMessage:"Page info",id:"topbar.infoButton.text"}});function A(e){let{layoutStoreId:t,inPeek:n,onClick:o,...i}=e;const s=(0,c().tz)(),d=(0,T().gQ)(),u=(0,a().K8)((()=>f().A.getPanelState(n?"peek":"mainPage").isOpen),[n]);return(0,r.jsx)("div",{style:d.iconButton,children:(0,r.jsx)(P().A,{style:{width:d.iconButton.width,height:d.iconButton.height},icon:l,iconStyle:d.icon,ariaLabel:s.formatMessage(x.buttonAriaLabel),focused:u,onClick:e=>{null==o||o(e)},...i})})}function j(e){const{blockStore:t,buttonPopupStore:n,pageViewBlockContext:s}=e,l=(0,i().v3)(),P=(0,i().Y0)(),T=(0,o.useMemo)((()=>(0,r.jsx)("div",{style:{textAlign:"center"},children:(0,r.jsx)(c().sA,{...x.showInfoToolTip})})),[]),j=(0,o.useMemo)((()=>(0,r.jsx)("div",{style:{textAlign:"center"},children:(0,r.jsx)(c().sA,{...x.hideInfoToolTip})})),[]),D=(0,a().K8)((()=>{if(w().default.state.open)return w().default.state.targetStore}),[]),k=(0,a().K8)((()=>t.getAssociatedCollectionStore()),[t]),C=(0,a().K8)((()=>null==k?void 0:k.getLayoutStore()),[k]),J=(0,h().sS)({pageStore:t,pageViewBlockStore:void 0,collectionStore:k}).page_details,z=D===t,M=(0,a().K8)((()=>f().A.getPanelState(z?"peek":"mainPage").displayStyle),[z]),B=(0,y().rw)({tab:g().tF.Info}),R=z?"peek":"mainPage",{toggleDetailsPanel:_,canShowButton:O}=(0,m().q)({collectionStore:k,from:"topbar",forceShowButtonIfNoProperties:!0,pageViewBlockContext:s}),F=(0,a().K8)((()=>f().A.getPanelState(z?"peek":"mainPage").isOpen),[z]);if(!O||!C)return null;if(!z){const e=B?j:T;return(0,r.jsx)(b().A,{placement:S().W.Bottom,renderTooltip:()=>e,render:e=>(0,r.jsx)(A,{...e,layoutStoreId:C.id,inPeek:z,onClick:_})})}if("static_sidebar"===M){const e=F?j:T;return(0,r.jsx)(b().A,{placement:S().W.Bottom,renderTooltip:()=>e,render:e=>(0,r.jsx)(A,{...e,layoutStoreId:C.id,inPeek:z,onClick:_})})}return(0,r.jsx)(I().Ay,{popupType:P.isMobile?I().z7.SlideUp:I().z7.Popup,onClose:()=>{(0,p().F)({environment:l,layoutStore:C,from:"topbar",panelLocation:R})},buttonPopupStore:n,renderOrigin:e=>(0,r.jsx)(b().A,{placement:S().W.Bottom,renderTooltip:()=>T,render:t=>(0,r.jsx)(A,{...(0,u().A)(e,t),layoutStoreId:C.id,inPeek:z,onClick:_})}),originGap:8,render:()=>(0,r.jsx)(d().H,{modules:J,store:t,context:z?v().Rr.PeekView:v().Rr.Frame,disabled:!1,shownAs:"popup"}),style:{width:380,overflow:"hidden"}})}},556048:(e,t,n)=>{n.d(t,{C8:()=>p,Dz:()=>l,GC:()=>h,GL:()=>f,YY:()=>m,dM:()=>d,h9:()=>c,jX:()=>s,oF:()=>u,uj:()=>r});var o=()=>n(645873);const i={JiraSyncInfoPopup:new(o().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([n.e(75134),n.e(68744)]).then(n.bind(n,408453)))),ImproveJiraSyncPopup:new(o().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([n.e(75134),n.e(2686)]).then(n.bind(n,484967)))),JiraDCAuthModal:new(o().O2)("JiraDCAuthModal",(async()=>await n.e(28763).then(n.bind(n,992567)))),ExternalImportAndSyncIndicator:new(o().O2)("ExternalImportAndSyncIndicator",(async()=>await n.e(98288).then(n.bind(n,984289)))),JiraSyncedAllProjectsTooltip:new(o().O2)("JiraSyncedAllProjectsTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedAllIssuesTooltip:new(o().O2)("JiraSyncedAllIssuesTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(o().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncSourceTooltip:new(o().O2)("JiraSyncSourceTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(o().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await n.e(21446).then(n.bind(n,470020))))},a={JiraSyncTeamSpaceModal:new(o().O2)("JiraSyncTeamSpaceModal",(async()=>n.e(56188).then(n.bind(n,604698))))},r=(0,o()._h)(a.JiraSyncTeamSpaceModal,(e=>e.default)),s=(0,o()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,o()._h)(i.JiraDCAuthModal,(e=>e.default)),c=(0,o()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),d=(0,o()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,o()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),p=(0,o()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),m=(0,o()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),h=(0,o()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),f=(0,o()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,n(340498).xh)("jira",{default:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:20},small:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:16},mini:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:14},large:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:24}})},654734:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(869190),a=()=>n(604995),r=()=>n(416504),s=n(474848);const l=function(e){const t=(0,n(959013).tz)(),l=(0,n(401497).DP)(),u=(0,n(396182).I)(),p=(0,o.useRef)(),m=(0,o.useCallback)((()=>{const t=e.value;if(!t)return;const o=a().q8(t,(0,r().P)());if(!o)return;const i=o.valueOf(),s=i-Date.now();s<0||s>n(720665).nD||p.current&&p.current.timestamp===i||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:i,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),h=(0,o.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,o.useEffect)((()=>{m()}),[m]),(0,o.useEffect)((()=>()=>{h()}),[h]);const{value:f,withComma:y}=e,g=(0,n(847249).K8)((()=>f?(0,i().ZF)({value:f,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,r().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,f]);if(!f)return null;const S=a().AA(f,(0,r().P)(),n(662303).locale);let v;if(f.reminder){const e=a().Zs(f,(0,r().P)());v=e?{color:l.errorText}:{color:n(100622).Ay.blue}}const w=(0,s.jsxs)(s.Fragment,{children:[g,f.reminder&&(0,n(599987).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),y?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...v},children:w}):(0,s.jsx)(n(859428).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:d(l,e.tooltipHeader),children:[c(S.start),S.end?` â†’ ${c(S.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...v},...t,children:w}),placement:e.tooltipPlacement})};function c(e){return(0,i().eV)({value:e,preset:"medium"})}function d(e,t){return t?{color:e.text.contrastSecondary}:{}}},848565:(e,t,n)=>{n.d(t,{FB:()=>p,Ql:()=>m,SM:()=>h,Wv:()=>a,Yz:()=>s,ds:()=>i,e4:()=>o,eQ:()=>r,im:()=>c,jw:()=>l,k2:()=>u,uG:()=>d});const o=8,i=10,a=8,r=24,s=6,l=1.5,c=(r-l)/2,d=r+s,u=`calc(100% + ${a+(o-s)-d}px)`,p=r+8,m=-16;function h(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}}}]);