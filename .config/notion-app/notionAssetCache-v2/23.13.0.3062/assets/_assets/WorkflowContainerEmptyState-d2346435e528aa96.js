"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92821,97891],{50512:(e,t,i)=>{i.r(t),i.d(t,{WorkflowContainerEmptyState:()=>y});var n=i(296540),o=()=>i(484714),r=()=>i(847249),a=()=>i(401497),s=i(474848);const c=(0,i(340498).wt)("shippingBox",{viewBox:"0 0 37 36",svg:(0,s.jsx)("path",{d:"M4.91749 27.6943C4.20931 27.2881 3.66776 26.8193 3.29285 26.2881C2.91793 25.7568 2.73047 24.9339 2.73047 23.8193V11.4443C2.73047 10.6318 2.88148 9.95996 3.1835 9.42871C3.49593 8.88704 3.9854 8.42871 4.65192 8.05371L15.6964 1.77246C16.6441 1.23079 17.5814 0.959961 18.5083 0.959961C19.4352 0.959961 20.3672 1.23079 21.3045 1.77246L32.3646 8.05371C33.0207 8.42871 33.4998 8.88704 33.8018 9.42871C34.1143 9.95996 34.2705 10.6318 34.2705 11.4443V23.8193C34.2705 24.9339 34.083 25.7568 33.7081 26.2881C33.3436 26.8193 32.802 27.2881 32.0834 27.6943L19.8049 34.6631C19.3571 34.9131 18.9196 35.0381 18.4927 35.0381C18.0761 35.0381 17.6491 34.9131 17.2117 34.6631L4.91749 27.6943ZM6.32344 25.6318L17.2742 31.8662V18.8975L5.10495 11.9443V23.7412C5.10495 24.1683 5.19347 24.5277 5.37052 24.8193C5.54756 25.111 5.8652 25.3818 6.32344 25.6318ZM30.6931 25.6318C31.1409 25.3818 31.4534 25.111 31.6304 24.8193C31.8075 24.5277 31.896 24.1683 31.896 23.7412V11.9443L19.7268 18.8975V31.8662L30.6931 25.6318ZM18.5083 16.71L23.3354 13.9756L11.2755 7.11621L6.44841 9.88184L18.5083 16.71ZM25.8504 12.5537L30.5682 9.88184L20.2735 4.00684C19.1071 3.32975 17.9303 3.32975 16.743 4.00684L13.7437 5.70996L25.8504 12.5537Z"})});var l=()=>i(959013),u=()=>i(284371),p=()=>i(563615),d=()=>i(493823),w=()=>i(554509),f=()=>i(351360),g=()=>i(564037);function y(e){const{store:t}=e,i=(0,o().v3)(),y=(0,a().DP)(),v=(0,r().K8)((()=>t.canEdit()&&!t.isLocked()),[t]),k=(0,g().useIsWorkflowEditorOpen)();return(0,n.useEffect)((()=>{"rendered"!==f().default.state.renderPhase&&f().default.setState({...f().default.state,renderPhase:"rendered"})}),[]),(0,s.jsxs)("div",{style:{marginLeft:96,marginRight:96,marginBottom:180,borderTop:`1px solid ${y.accentColors.gray[100]}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:12,paddingTop:180},children:[c({width:48,height:48,color:y.accentColors.gray[200]}),v&&!k?(0,s.jsx)(d().p,{style:{paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,fontWeight:u().Wy.medium,fontSize:16,lineHeight:1.2,borderRadius:8,border:`1px solid ${y.accentColors.gray[100]}`},size:"lg",onClick:async()=>{(await p().oQ.workflowNavigationActions.load()).showWorkflowEditor({environment:i,parentStore:t})},children:(0,s.jsx)(l().sA,{id:"CollectionViewBlock.workflowContainerSetup",defaultMessage:"Continue setup"})}):(0,s.jsx)("div",{style:{padding:8},children:(0,s.jsx)(w().D,{styleName:"UIRegular-14px/Medium",colorName:"tertiary",children:(0,s.jsx)(l().sA,{id:"CollectionViewBlock.workflowContainerEmptyState",defaultMessage:"Empty app"})})})]})}},564037:(e,t,i)=>{i.r(t),i.d(t,{getCurrentWorkflowNavigationState:()=>b,getDefaultClosedNavigationState:()=>k,getDefaultOpenNavigationState:()=>v,getIsWorkflowEditorOpen:()=>m,getIsWorkflowEditorStateOpen:()=>C,getIsWorkflowNavigationStateCurrent:()=>V,getMergedWorkflowNavigationState:()=>h,routeArgsGivenNavigationState:()=>j,useIsWorkflowEditorOpen:()=>O,useWorkflowNavigationState:()=>S});var n=()=>i(484714),o=()=>i(847249),r=()=>i(496603),a=()=>i(498212),s=()=>i(534177),c=()=>i(671593),l=()=>i(638681),u=()=>i(351360),p=()=>i(46986);const d=l().object({required:{isOpen:l().literal(!0)},optional:{}}),w={configure:l().intersection([d,l().object({required:{type:l().literal("configure")},optional:{prompt:l().string()}})]),function:l().intersection([d,l().object({required:{type:l().literal("function"),key:l().string()},optional:{}})]),module:l().intersection([d,l().object({required:{type:l().literal("module"),key:l().string()},optional:{}})]),trigger:l().intersection([d,l().object({required:{type:l().literal("trigger"),key:l().string()},optional:{}})]),debug:l().intersection([d,l().object({required:{type:l().literal("debug")},optional:{}})]),preview:l().intersection([d,l().object({required:{type:l().literal("preview")},optional:{collectionViewId:l().string()}})]),runtime_actor:l().intersection([d,l().object({required:{type:l().literal("runtime_actor")},optional:{}})]),view_settings:l().intersection([d,l().object({required:{type:l().literal("view_settings"),key:l().string()},optional:{}})]),view:l().intersection([d,l().object({required:{type:l().literal("view"),key:l().string()},optional:{}})]),runs:l().intersection([d,l().object({required:{type:l().literal("runs")},optional:{runId:l().string()}})]),test:l().intersection([d,l().object({required:{type:l().literal("test"),name:l().string(),functionKey:l().string()},optional:{}})])},f=l().union(Object.values(w)),g=l().object({required:{isOpen:l().literal(!1)},optional:{}}),y=l().union([f,g]);function v(){return{isOpen:!0,type:"configure"}}function k(){return{isOpen:!1}}function C(e){return(null==e?void 0:e.isOpen)??!1}function m(e){return C(b(e))}function V(e){const{currentNavigationState:t,navigationState:i}=e,n=h({defaultNavigationState:{isOpen:!1},currentNavigationState:t,newNavigationState:i});return(0,r().n4)(t,n)}function b(e){const{RouterStore:t}=e;if("page"!==t.state.route.name)return;const i=u().default.state.mainEditorCurrentBlockStore;return i&&i.isCollectionView()&&i.canEdit()&&!i.isLocked()?function(e){const{workflowViewType:t,workflowViewKey:i,workflowPrompt:n,collectionViewId:o}=e;switch(t){case"debug":case"runtime_actor":return{isOpen:!0,type:t};case"function":case"module":case"trigger":case"view_settings":case"view":if(!i)return;return{isOpen:!0,type:t,key:i};case"preview":return{isOpen:!0,type:"preview",collectionViewId:o};case"configure":return{isOpen:!0,type:"configure",prompt:n?decodeURIComponent(n):void 0};case"runs":return{isOpen:!0,type:"runs",runId:(0,a().ZA)(i)};case"test":if(!i)return;const[e,r]=i.split(",");if(!e||!r)return;return{isOpen:!0,type:"test",name:r,functionKey:e};default:return}}(t.state.route):void 0}function h(e){const{defaultNavigationState:t,currentNavigationState:i,newNavigationState:n}=e;if(!(0,p().sx)())return{isOpen:!1};const o={...t};if(i)for(const[a,s]of Object.entries(i))o[a]=s;if(n)for(const[a,s]of Object.entries(n))o[a]=s;const r=(0,c().tf)(y,o);if(r)throw r;return o}function j(e){if(!e.isOpen)return{workflowViewType:void 0,workflowViewKey:void 0,collectionViewId:void 0};const t=e.type,i={};switch(t){case"configure":case"debug":case"runtime_actor":return{...i,workflowViewType:t,workflowViewKey:void 0};case"function":case"module":case"trigger":case"view_settings":case"view":return{...i,workflowViewType:t,workflowViewKey:e.key};case"runs":return{...i,workflowViewType:t,workflowViewKey:e.runId};case"test":return{...i,workflowViewType:t,workflowViewKey:`${e.functionKey},${e.name}`};case"preview":return{...i,workflowViewType:"preview",collectionViewId:e.collectionViewId};default:(0,s().HB)(t)}}function S(){const e=(0,n().v3)();return(0,o().K8)((()=>b(e)??{isOpen:!1}),[e])}function O(){const e=(0,n().v3)();return(0,o().K8)((()=>m(e)),[e])}}}]);