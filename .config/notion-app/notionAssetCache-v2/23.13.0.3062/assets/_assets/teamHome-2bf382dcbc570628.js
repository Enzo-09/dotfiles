"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[89041],{53528:(e,t,n)=>{n.d(t,{OH:()=>s,T2:()=>l,do:()=>d});var o=()=>n(597777),i=()=>n(869190),r=()=>n(604995),a=()=>n(416504);function s(e){const{dateTime:t,intl:n,shortenDateAndRange:o}=e,a=r().C6.toPersistedDate(t.valueOf());return i().ZF({value:a,allowRelativeDates:!0,intl:n,shortenDateAndRange:o,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:n,userTimeZone:o,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=r().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return i().ZF({value:l,allowRelativeDates:!0,intl:n,userTimeZone:o,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function d(e){const{luxonRange:t,intl:n}=e,s=r().C6.toPersistedDateRange(t),l=i().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:n,displayInUserTimezone:!0}),d=t.end.setZone((0,a().P)()),c=i().fU({start_time:d.toFormat(o().GE),humanReadable:!1,intl:n});return n.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:c})}},72307:(e,t,n)=>{n.d(t,{A:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},77126:(e,t,n)=>{n.d(t,{j:()=>i});class o extends(()=>n(959180))().A{}const i=new o},97059:(e,t,n)=>{n.d(t,{W:()=>f,w:()=>g});n(944114);var o=()=>n(585515),i=()=>n(577449),r=()=>n(161479),a=()=>n(545285),s=()=>n(763824),l=()=>n(780054),d=()=>n(870618),c=()=>n(670631),u=()=>n(227440),m=()=>n(508496),p=()=>n(540758);async function g(e){const{environment:t}=e;return(await s().lX(Object.keys(c().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:n}=e,s={page:{id:n,spaceId:(0,r().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},c=[];return await o().T(s,i().h.sideEffect((e=>((0,a().u)(e)&&c.push(e.id),Promise.resolve())),i().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await d().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==n?void 0:n.model})))),c}({environment:t,pageId:e})))).flat()}function f(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&m().default.checkGate({gateName:"download_for_offline"})&&!(0,p().Bd)(t)}},175116:(e,t,n)=>{n.d(t,{ET:()=>l,Ks:()=>d,RI:()=>s,p2:()=>a});n(16280);var o=n(296540);const i="collectionContextStore",r=(0,n(446943).C)({displayName:i,legacyContextKey:i,modernContextDefaultValue:void 0}),a=r.context,s=r.Provider;function l(){const e=o.useContext(a);if(void 0===e)throw new Error(`No context provided: ${i}`);return e}function d(){return o.useContext(a)}},182034:(e,t,n)=>{n.d(t,{O:()=>u,e:()=>c});n(898992),n(672577);var o=()=>n(908006),i=()=>n(878523),r=()=>n(725614),a=()=>n(892632),s=()=>n(299545),l=()=>n(77126),d=()=>n(489348);function c(e,t){const n=s().dd(t),o=a().xh(n);e.setState({...e.state,files:o})}async function u(e){const{blockStore:t,pageViewBlockStore:n,environment:a}=e;n?n.setState({...n.state,forceDiscussionOpen:!0}):d().A.openNewPageDiscussionInput(t),i().o2(a,{from:"page_comments"}),await o().default.afterNextFlush();const s=l().j.find((e=>e.getBlockStore().id===t.id)),c=null==s?void 0:s.getInputStore();c&&r().setSelectionAtEnd({store:c.state.textStore})}},293633:(e,t,n)=>{n.d(t,{l:()=>s});var o=()=>n(484714),i=()=>n(847249),r=()=>n(401497),a=()=>n(665579);function s(){const e=(0,r().DP)(),t=(0,o().WS)();return(0,i().K8)((()=>(t?a().pW:a().$L)+2*(0,a().O0)({mode:e.mode})),[t,e.mode])}},298697:(e,t,n)=>{n.d(t,{A:()=>s});n(581454);var o=n(296540),i=()=>n(401497),r=()=>n(710149),a=n(474848);function s(e){let{paragraphs:t}=e;const n=(0,i().IS)((e=>({skeletonRect:{borderRadius:4,backgroundColor:e.lightDividerColor}})),[]),s=null==t?void 0:t.map(((e,t)=>{const i={height:e.lineHeight,marginTop:e.lineMargin,marginBottom:e.lineMargin},s={marginTop:e.sectionMargin,marginBottom:e.sectionMargin},l=[...Array(e.repeat||1)].map(((t,o)=>(0,a.jsx)("div",{style:s,children:e.sectionWidths.map(((e,t)=>(0,a.jsx)(r().A,{style:{...n.skeletonRect,...i,width:`${e}%`}},t)))},o)));return(0,a.jsxs)(o.Fragment,{children:[" ",l," "]},t)}));return(0,a.jsxs)(a.Fragment,{children:[" ",s," "]})}},398842:(e,t,n)=>{n.d(t,{Jv:()=>S,Zr:()=>v,Rl:()=>x,mA:()=>y});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(970013),l=()=>n(743176),d=()=>n(68465),c=()=>n(159588),u=()=>n(963589),m=()=>n(331542),p=n(474848);function g(){const e=(0,a().DP)();return(0,p.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,p.jsx)(m().A,{legacySize:14})})}var f=()=>n(399275);const h=function(){return(0,p.jsx)(n(464708).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,p.jsx)(n(959013).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const y=o.memo((function(e){const{propertySchema:t,showIcon:o,showDragIcon:r,hideName:s,badge:l,style:d,iconStyle:u,iconSize:m,dragHandleStyle:g,className:f,labelSizeVariant:h}=e,y=(0,i().v3)(),{device:S}=y,v=S.isMobile?16:14,b=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:v,...d},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:s?void 0:"small"===h||r?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:r?1:0,transition:`opacity ${c().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:r?0:1,transition:`opacity ${c().bM}`},dragIcon:{fill:e.icon.secondary}})),[v,s,u,h,r,d]);return(0,p.jsxs)("div",{className:f,style:b.container,children:[o&&(0,p.jsxs)("div",{style:b.iconWrapper,children:[(0,p.jsx)("div",{style:b.itemIcon,children:(0,p.jsx)(x,{propertySchema:t,iconSize:m,iconStyle:u})}),(0,p.jsx)("div",{style:b.dragHandle,children:(0,p.jsx)(n(57232).A,{style:g,iconSize:12,iconStyle:b.dragIcon})})]}),!s&&(0,p.jsx)("div",{style:{...n(284371).RC},children:t.name}),l]})}));function S(e){const{propertySchema:t}=e,n=(0,i().v3)();return(0,r().K8)((()=>(0,d().O0)(n)&&s().$M(t)&&s().om(t)),[n,t])?(0,p.jsx)(h,{}):null}function v(e){let{propertyId:t,collectionContextStore:n}=e;return(0,r().K8)((()=>{var e;const o=null===(e=n.collectionStore())||void 0===e?void 0:e.id;if(!o)return!1;const i=f().d.state.collectionsProperties[o];return!!i&&"Loading"===i[t]}),[n,t])?(0,p.jsx)(g,{}):null}function x(e){const{propertySchema:t,iconSize:n,iconStyle:o}=e,{isMobile:r}=(0,i().Y0)(),s=(0,a().DP)(),d=(0,u().X)("nds_default_property_noticon"),c=r?18:16;return(0,p.jsx)(l().zB,{type:t.type,icon:t.icon,size:n||c,theme:s,style:o,isDefaultNoticonEnabled:d})}},399275:(e,t,n)=>{n.d(t,{d:()=>i});n(898992),n(354520);class o extends(()=>n(757695))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,n(206267).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const n=this.state.collectionsProperties[e],o=n?{...n,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:o}})}removeCollectionProperties(e,t){const n=this.state.collectionsProperties[e];if(!n)return;const o=Object.fromEntries(Object.entries(n).filter((e=>{let[n]=e;return!t.has(n)})));if(0===Object.keys(o).length){const{[e]:t,...n}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:n})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:o}})}}const i=new o;(0,n(604341).exposeDebugValue)("ConnectedPropertiesSyncStore",i)},465039:(e,t,n)=>{n.d(t,{KF:()=>d,LS:()=>l});n(16280);var o=n(296540),i=()=>n(401497),r=()=>n(981305),a=n(474848);const s=(0,o.createContext)({screenWidthType:"desktop",isMobileWidth:!1,isLowResolutionTabletWidth:!1,isDesktopWidth:!1,isTabletWidth:!1});function l(){const e=(0,o.useContext)(s);if(!e)throw new Error("ScreenWidthContext not found. Please make sure this is used within a ScreenWidthContext.Provider.");return e}function d(e){const{children:t,mobileUpperBound:n=550,lowResolutionTabletUpperBound:l=720,tabletUpperBound:d=1024,throttle:c=0}=e,u=(0,o.useRef)(null),m=(0,i().IS)((()=>({sizeObserverContainer:{width:"100%",height:0,position:"absolute"}})),[]),[p,g]=(0,o.useState)("desktop"),f=(0,o.useCallback)((e=>{e.state.width<=n?g("mobile"):e.state.width>n&&e.state.width<=l?g("lowResolutionTablet"):e.state.width>l&&e.state.width<=d?g("tablet"):g("desktop")}),[n,l,d]);(0,r().B)(u,f,c);const h="mobile"===p,y="desktop"===p,S="tablet"===p,v="lowResolutionTablet"===p,x=o.useMemo((()=>({screenWidthType:p,isMobileWidth:h,isLowResolutionTabletWidth:v,isDesktopWidth:y,isTabletWidth:S})),[p,h,v,y,S]);return(0,a.jsxs)(s.Provider,{value:x,children:[(0,a.jsx)("div",{ref:u,style:m.sizeObserverContainer}),t]})}s.displayName="ScreenWidthContext"},551619:(e,t,n)=>{n.d(t,{Hy:()=>k,NV:()=>P,O9:()=>_,Rg:()=>M,Sm:()=>V,dK:()=>W,f7:()=>D,l8:()=>N,n$:()=>E,no:()=>B,sx:()=>R});var o=()=>n(484714),i=()=>n(792485),r=()=>n(847249),a=()=>n(700500),s=()=>n(651124),l=()=>n(519831),d=()=>n(620689),c=()=>n(591197),u=()=>n(835066),m=()=>n(964345),p=()=>n(68465),g=()=>n(753199),f=()=>n(504836),h=()=>n(478726),y=()=>n(747100),S=()=>n(963589),v=()=>n(665579),x=()=>n(351360),b=()=>n(525569),w=()=>n(508496),I=()=>n(375447),T=()=>n(66496),C=()=>n(548821),A=()=>n(712505),j=()=>n(302022);function P(e){(0,g().SQ)({event:e,context:g().y$.EditorMouseDown,callback:()=>{}})}function R(e){(0,g().SQ)({event:e,context:g().y$.EditorClick,callback:()=>{}})}function k(e){return(0,r().K8)((()=>Boolean(j().A.state.pageMap[e.id])||T().A.state.pages.has(e.id)),[e.id])}function M(e,t){const n=(0,o().v3)(),a=(0,i().S)(),s=k(e),l=(0,r().K8)((()=>{var n,o;return t===C().Rr.Frame?Boolean(null===(n=x().default.state.currentLoadingContainerStore)||void 0===n?void 0:n.state.ready):t===C().Rr.PeekView&&A().default.state.open?Boolean(null===(o=A().default.state.loadingContainerStore)||void 0===o?void 0:o.state.ready):t===C().Rr.CollectionPageView||t===C().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),d=D(e);return(0,r().K8)((()=>{if(!l)return!1;const t=n.currentUser.isLoggedIn(),o=a&&a.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=o&&o.hasPublicPermission)||"edit"===(null==o?void 0:o.permission))&&!s&&!d&&(!(0,p().ZE)(o)||"completionPopup"!==b().default.state.type))}),[n.currentUser,d,l,a,s,e])}function _(e,t){const n=(0,o().v3)(),a=(0,i().S)(),{isTablet:s}=(0,o().Y0)(),l=(0,S().X)("tablet_refresh_template_pills_gate");return(0,r().K8)((()=>{if(t===C().Rr.SitePreview)return!1;if(n.device.isMobile&&(!s||!l))return!1;if(!n.currentUser.isLoggedIn())return!1;const o=a&&a.publicEditModeStore.state;if(null!=o&&o.hasPublicPermission&&"edit"!==(null==o?void 0:o.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const i=e.getContentStores()[0];if(i&&!i.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const r=m().gZ.state,d=m().Di.state;if(r&&e.id===d)return!1;return!((0,h().L5)(t)?c().VY.state:c().u3.state)}),[n,a,e,t,s,l])}function D(e){return(0,r().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(a().xd.externalObjectInstancePage)}),[e])}function V(e){return(0,r().K8)((()=>{if(!(0,f().vL)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===l().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function W(e){return(0,r().K8)((()=>{if(!(0,f().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function N(e){return(0,r().K8)((()=>{if(!w().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===s().IE.CsvImport}),[e])}function E(e){const t=(0,o().v3)(),{device:n,WindowSizeStore:i}=t,a=(0,r().K8)((()=>{const e=i.state.height,o=n.isMobile&&I().A.state.open?e:0;return d().C6(t)+o}),[t,i,n.isMobile]);return(0,r().K8)((()=>"home-phone"===e?v().q3:n.isTablet?380:n.isIOS?Math.max(350,a):n.isMobile?400:"side-peek"===e||"center-peek"===e?y().ln:"home"===e?v().wH:"30vh"),[n,a,e])}function B(e){const t=(0,o().v3)(),n=(0,r().K8)((()=>(0,u().dC)(t,e)),[t,e]);return(0,r().K8)((()=>n&&!e.isFullWidth()?(0,u().Zy)(t,(0,y().cq)(e),(0,y().RX)(e)):0),[t,n,e])}},556048:(e,t,n)=>{n.d(t,{C8:()=>m,Dz:()=>l,GC:()=>g,GL:()=>f,YY:()=>p,dM:()=>c,h9:()=>d,jX:()=>s,oF:()=>u,uj:()=>a});var o=()=>n(645873);const i={JiraSyncInfoPopup:new(o().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([n.e(75134),n.e(68744)]).then(n.bind(n,408453)))),ImproveJiraSyncPopup:new(o().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([n.e(75134),n.e(2686)]).then(n.bind(n,484967)))),JiraDCAuthModal:new(o().O2)("JiraDCAuthModal",(async()=>await n.e(28763).then(n.bind(n,992567)))),ExternalImportAndSyncIndicator:new(o().O2)("ExternalImportAndSyncIndicator",(async()=>await n.e(98288).then(n.bind(n,984289)))),JiraSyncedAllProjectsTooltip:new(o().O2)("JiraSyncedAllProjectsTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedAllIssuesTooltip:new(o().O2)("JiraSyncedAllIssuesTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(o().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncSourceTooltip:new(o().O2)("JiraSyncSourceTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(o().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await n.e(21446).then(n.bind(n,470020))))},r={JiraSyncTeamSpaceModal:new(o().O2)("JiraSyncTeamSpaceModal",(async()=>n.e(56188).then(n.bind(n,604698))))},a=(0,o()._h)(r.JiraSyncTeamSpaceModal,(e=>e.default)),s=(0,o()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,o()._h)(i.JiraDCAuthModal,(e=>e.default)),d=(0,o()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),c=(0,o()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,o()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),m=(0,o()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),p=(0,o()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),g=(0,o()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),f=(0,o()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,n(340498).xh)("jira",{default:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:20},small:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:16},mini:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:14},large:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:24}})},591197:(e,t,n)=>{n.d(t,{VY:()=>s,ZJ:()=>r,u3:()=>a});var o=()=>n(496506);class i extends(()=>n(757695))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const r=new i,a=new(o().default)((()=>!1!==r.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(o().default)((()=>!1!==r.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},626041:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ae});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(72307),l=()=>n(284371),d=()=>n(435009),c=()=>n(938090),u=()=>n(2143),m=()=>n(347199),p=()=>n(963589),g=()=>n(465039),f=()=>n(551619),h=()=>n(817942),y=()=>n(954933),S=()=>n(293633),v=()=>n(439929),x=()=>n(187174),b=()=>n(519831),w=()=>n(449506),I=()=>n(630116);var T=()=>n(578136),C=()=>n(168500),A=()=>n(756279),j=()=>n(351360),P=()=>n(994310),R=()=>n(906551);var k=()=>n(623241),M=(n(898992),n(354520),n(581454),()=>n(584262)),_=()=>n(589407),D=()=>n(863330),V=()=>n(798880),W=()=>n(959013),N=()=>n(872539),E=()=>n(285790),B=()=>n(296798),z=()=>n(298697),O=()=>n(614505),J=()=>n(16006),K=()=>n(453697),F=()=>n(812119),H=()=>n(632709),L=()=>n(271084),U=()=>n(134217),$=()=>n(749240),Z=()=>n(848237),Y=n(474848);const G=5,X=8;function q(e){const{teamStore:t}=e,n=(0,a().IS)((e=>({container:{maxWidth:200,width:"-webkit-fill-available",paddingTop:10}})),[]);return(0,Y.jsxs)("div",{style:n.container,children:[(0,Y.jsx)(Q,{teamStore:t}),(0,Y.jsx)(ee,{teamStore:t}),(0,Y.jsx)(te,{teamStore:t})]})}function Q(e){const{teamStore:t}=e,n=(0,a().IS)((e=>({emptyDescription:{color:e.text.secondary}})),[]),o=(0,r().K8)((()=>null!=t&&t.isReady()?null==t?void 0:t.getDescription():(0,Y.jsx)(z().A,{paragraphs:[{lineHeight:12,lineMargin:6,sectionWidths:[100,100,50],repeat:1,sectionMargin:0}]})),[t]),i=!o||""===o;return(0,Y.jsx)(ne,{title:(0,Y.jsx)(W().sA,{defaultMessage:"About",id:"TeamHome.About.about"}),children:i?(0,Y.jsx)("div",{style:n.emptyDescription,children:(0,Y.jsx)(W().sA,{defaultMessage:"No description",id:"TeamHome.About.emptyDescription"})}):o})}function ee(e){const{teamStore:t}=e,n=(0,i().v3)(),s=(0,W().tz)(),d=(0,a().IS)((e=>({moreMembers:{color:e.text.secondary,fontWeight:l().Wy.regular,fontSize:14,marginLeft:8,textTransform:void 0,letterSpacing:0},moreMembersButton:{marginTop:2,padding:"0px 2px"}})),[]),c=(0,o.useCallback)((()=>{t&&Z().F2({environment:n,teamId:t.id,tab:H().p.Members,from:"team_home"})}),[n,t]),u=(0,r().K8)((()=>{const e=$().subscriptionDataStoreInstance.state;if(!e)return[];const n=((null==t?void 0:t.getMemberInfoUsingSpaceMembers((0,U().Ye)(e)))??[]).filter((e=>"user"===e.entity_type)),o=L().k.state??{};return n.sort(((e,t)=>(o[t.user_id]??0)-(o[e.user_id]??0))),n}),[t]),m=(0,r().K8)((()=>null!=t&&t.isReady()?u.slice(0,G).map((e=>I().sk.createChildStore(t,{table:V().oo,id:e.user_id}))):[]),[u,t]),p=(0,r().K8)((()=>null!=t&&t.isReady()?m.map((e=>(0,Y.jsx)(oe,{userStore:e},e.id))):Array(3).fill(null).map(((e,t)=>(0,Y.jsx)(F().J,{isInHomeWidget:!1},`team-members-not-yet-loaded-${t}`)))),[m,t]),g=Math.max(u.length-m.length,0);return(0,Y.jsxs)(ne,{title:(0,Y.jsx)(W().sA,{defaultMessage:"Members",id:"TeamHome.About.members"}),children:[p,g>0&&(0,Y.jsx)(E().A,{style:d.moreMembersButton,icon:_().L,ariaLabel:s.formatMessage({id:"TeamHome.About.members.moreLink",defaultMessage:"Show more members"}),onClick:c,caption:(0,Y.jsx)(W().sA,{defaultMessage:"{count} more",id:"TeamHome.About.members.more",values:{count:g}}),captionStyle:d.moreMembers})]})}function te(e){const{teamStore:t}=e,n=(0,i().v3)(),s=(0,W().tz)(),d=(0,a().IS)((e=>({pageTitle:{fontSize:14,fontWeight:l().Wy.regular,color:e.text.primary,paddingLeft:3,borderBottom:`1px solid ${e.darkDividerColor}`},pageRecord:{padding:"4px 1px",display:"flex",alignItems:"center",borderRadius:4},pageIcon:{marginRight:4},addPage:{fontWeight:l().Wy.regular,fontSize:14,color:e.text.secondary,textTransform:void 0,letterSpacing:0},noPages:{}})),[]),c=(0,o.useCallback)((()=>{if(!t)return;const e=j().default.state.currentSpaceStore,o=j().default.state.currentSpaceViewStore;e&&o&&N().A5({environment:n,from:"team_home",spaceStore:e,spaceViewStore:o,teamStore:t,andNavigate:!0,appendOrPrepend:"append"})}),[n,t]),u=(0,r().K8)((()=>{if(null==t||!t.isReady())return Array(3).fill(null).map(((e,t)=>(0,Y.jsx)(F().J,{isInHomeWidget:!1},`pages-not-yet-loaded-${t}`)));const e=(null==t?void 0:t.getTeamPageStores())??[];return 0===e.length?null!=t&&t.canAddOrRemoveTopLevelPages()?(0,Y.jsx)(E().A,{icon:D().plusSmallIcon,ariaLabel:s.formatMessage({id:"TeamHomeAbout.pages.addPage",defaultMessage:"Add page"}),onClick:c,caption:(0,Y.jsx)(W().sA,{id:"TeamHomeAbout.pages.addPage",defaultMessage:"Add page"}),captionStyle:d.addPage}):(0,Y.jsx)("div",{style:d.noPages,children:(0,Y.jsx)(W().sA,{defaultMessage:"No pages",id:"TeamHomeAbout.pages.noPages"})}):e.slice(0,X).map((e=>{var t;if(!e.isReady())return(0,Y.jsx)(F().J,{isInHomeWidget:!1},e.id);const n=null===(t=e.getModel())||void 0===t?void 0:t.getRenderUrl({getRecordModel:e.getRecordModel,pageVisitSource:M().y8.TeamHomePage});return n?(0,Y.jsxs)(B().A,{href:n,style:d.pageRecord,children:[(0,Y.jsx)(O().B,{disabled:!0,isEmptyPage:e.isEmptyPage(),icon:e.getIcon(),size:16,emojiSize:16,disableShrinking:!0,largeIcon:!0,style:d.pageIcon}),(0,Y.jsx)(J().A,{style:d.pageTitle,store:e,underline:!1})]},e.id):null}))}),[t,d,c,s]);return(0,Y.jsx)(ne,{title:(0,Y.jsx)(W().sA,{defaultMessage:"Pages",id:"TeamHome.About.pages"}),children:u})}function ne(e){const{title:t,children:n}=e,o=(0,a().IS)((e=>({propertyHeader:{fontSize:12,fontWeight:l().Wy.medium,color:e.text.secondary,paddingBottom:8},propertyValue:{fontSize:14,fontWeight:l().Wy.regular,color:e.text.primary,paddingBottom:32}})),[]);return(0,Y.jsxs)("div",{children:[(0,Y.jsx)("div",{style:o.propertyHeader,children:t}),(0,Y.jsx)("div",{style:o.propertyValue,children:n})]})}function oe(e){const{userStore:t}=e,n=(0,a().IS)((e=>({uiUserAvatarStyles:{fontSize:14,padding:"4px 1px"}})),[]);return(0,r().K8)((()=>t.isReady()),[t])?(0,Y.jsx)(K().A,{userStore:t,type:"avatar-name",size:16,avatarShouldShowShadow:!1,hasTooltip:!1,tooltipOverrideStyle:n.uiUserAvatarStyles}):(0,Y.jsx)(F().J,{isInHomeWidget:!1})}var ie=()=>n(855685),re=()=>n(898808);function ae(e){const{teamId:t}=e,[n,c]=o.useState(void 0),M=(0,i().v3)(),_=(0,i().Y0)(),D=(0,r().O$)(j().AppStoreCurrentSpaceStore),V=(0,r().K8)((()=>{if(D)return I().sk.createChildStore(D,{table:"team",id:t,spaceId:D.id})}),[D,t]),W=(0,r().K8)((()=>null==V?void 0:V.getChannelStore()),[V]),N=(0,r().K8)((()=>(0,T().D)({isMobileNative:M.device.isMobileNative,disableExposureLogging:!0})),[M]),E=(0,p().X)("team_home_about_proto");!function(e){const{environment:t,channelStore:n,parentStore:o}=e,i=(0,r().K8)((()=>null==n?void 0:n.getSpaceId()),[n]),a=n&&i&&{id:n.id,table:b().Vl,spaceId:i},s=o&&a&&I().md.createChildStore(o,a),l=(0,r().K8)((()=>n&&n.isReady()&&!n.isDefined()&&n.canEdit()),[n]);(0,x().Yb)((async()=>{if(!n||!o||!s)return;const e=n.getSpaceId();if(e&&l){const i=await w().callApi({eventName:"createCollectionViewBlockForPosts",environment:t,data:{spaceId:e,parentId:o.pointer.id,parentTable:o.pointer.table,channelId:n.id}});if("failed"===i.type)return;if("success"===i.type){const{collectionViewBlockId:e}=i.data;return e}}}),[l,n,o,s,t])}({environment:M,channelStore:W,parentStore:V});const B=(0,r().K8)((()=>null==V?void 0:V.getName()),[V]),{canViewPosts:z}=(0,k().i)({teamStore:V}),O=(0,f().n$)("team-home"),J=(0,r().K8)((()=>{if(!D||!W)return;const e=I().sk.createUniqueRootStore(M,{table:"block",id:W.id,spaceId:D.id});return e.isCollectionView()?e:void 0}),[M,D,W]),K=(0,o.useCallback)((()=>{d().oo({environment:M,url:`/team/${t}/join`})}),[M,t]),F=(0,o.useCallback)((e=>{m().A.PageScroller=e}),[]);(0,o.useEffect)((()=>{(null==D?void 0:D.isReady())&&(null==V?void 0:V.isReady())&&!z&&K()}),[z,D,K,V]),(0,o.useEffect)((()=>{J&&function(e){const{teamId:t,collectionViewIds:n}=e,{teamHomeCollectionViewIdsKey:o}=(0,R().k)(t);P().A.set(o,n)}({teamId:t,collectionViewIds:J.getCollectionViewIds()})}),[J,t]);const H=(0,r().K8)((()=>{const e=null==n?void 0:n.isLoadedStore.state,t=Boolean(null==n?void 0:n.collectionStoresStore.state.length);return Boolean(e&&t)}),[n]);(0,o.useEffect)((()=>{null!=W&&W.id&&C().u.initMeasurement({homeType:"team"})}),[null==W?void 0:W.id]),(0,o.useEffect)((()=>{var e;null===(e=M.mobileNative)||void 0===e||e.markTransitionReady({type:"team_home"})}),[M.mobileNative]),(0,y().v)({firstMountToReadyMetricName:"feed.first_mount_to_ready",pageOriginToReadyMetricName:"feed.page_origin_to_ready",isReady:H,homeType:"team"});const L=(0,S().l)(),U=(0,a().IS)((e=>({pageContainer:{display:"flex",flexDirection:"column",order:s().A.appCursorListener.teamHome,width:"100%",backgroundColor:e.contentBackground},teamHome:{position:"relative",cursor:"default"},twoColumn:{display:"flex",flexWrap:"wrap",gap:40},pageLayout:{paddingBottom:O},scroller:{height:"100dvh"},container:{display:"flex",flexDirection:"column",gap:16,paddingTop:_.isMobile?24:40,paddingLeft:0},feedHeader:{display:"flex",alignItems:"center",gap:8,paddingBottom:24},teamIconAndName:{display:"flex",alignItems:"center",gap:12},teamName:{fontSize:30,fontWeight:l().Wy.semibold}})),[O,_.isMobile]);if(!N)return null;const $=!V,Z=M.device.isMobile,G=M.device.isMobileNative;return(0,Y.jsx)("div",{id:G?v().d_:void 0,style:U.pageContainer,children:(0,Y.jsx)(u().H,{type:A().A.Y,style:U.scroller,ref:F,className:"home-content",children:(0,Y.jsx)(h().Mx,{type:Z?"home-phone":E?"team-home":"default",style:U.teamHome,gap:L,children:(0,Y.jsx)(g().KF,{lowResolutionTabletUpperBound:980,tabletUpperBound:1190,throttle:100,children:(0,Y.jsxs)(h().vV,{style:U.pageLayout,children:[(0,Y.jsx)("div",{style:U.container,children:$?(0,Y.jsx)(ie().ah,{}):(0,Y.jsx)("div",{style:U.feedHeader,children:(0,Y.jsxs)("div",{style:U.teamIconAndName,children:[V&&(0,Y.jsx)(re().x,{store:V,size:40}),(0,Y.jsx)("div",{style:U.teamName,children:B})]})})}),E?(0,Y.jsx)(h().MR,{minWidth:300,style:U.twoColumn,left:(0,Y.jsx)(le,{isReady:H,setCollectionContextStore:c,collectionViewBlockStore:J}),right:(0,Y.jsx)(q,{teamStore:V})},"feed"):(0,Y.jsx)(se,{isReady:H,setCollectionContextStore:c,collectionViewBlockStore:J})]})})})})})}function se(e){const{isReady:t,setCollectionContextStore:n,collectionViewBlockStore:o}=e,i=(0,a().IS)((e=>({collectionViewContainer:{display:"contents",...t?{}:{display:"block",opacity:0}}})),[t]);return(0,Y.jsxs)(Y.Fragment,{children:[t?void 0:(0,Y.jsx)(ie().SU,{hasComposer:!0}),(0,Y.jsx)("div",{style:i.collectionViewContainer,children:o&&(0,Y.jsx)(c().dN,{store:o,disabled:!1,isFullScreen:!1,overridePaddingLeft:2,overridePaddingRight:2,headerActionsBehavior:"default",headerAllowedActions:["filter","sort","automations","search","noDate"],hideViewTabBar:!1,showOnlyCurrentView:!0,productUseCase:"team_home",viewId:o.id,overrideViewType:"feed",setCollectionContextStore:n})})]})}function le(e){const{isReady:t,setCollectionContextStore:n,collectionViewBlockStore:o}=e,i=(0,a().IS)((e=>({feedPanel:{maxWidth:752,width:t?"-webkit-fill-available":void 0}})),[t]);return(0,Y.jsx)("div",{style:i.feedPanel,children:(0,Y.jsx)(se,{isReady:t,setCollectionContextStore:n,collectionViewBlockStore:o})})}},654734:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(869190),r=()=>n(604995),a=()=>n(416504),s=n(474848);const l=function(e){const t=(0,n(959013).tz)(),l=(0,n(401497).DP)(),u=(0,n(396182).I)(),m=(0,o.useRef)(),p=(0,o.useCallback)((()=>{const t=e.value;if(!t)return;const o=r().q8(t,(0,a().P)());if(!o)return;const i=o.valueOf(),s=i-Date.now();s<0||s>n(720665).nD||m.current&&m.current.timestamp===i||(m.current&&clearTimeout(m.current.timer),m.current={timestamp:i,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),g=(0,o.useCallback)((()=>{m.current&&(clearTimeout(m.current.timer),m.current=void 0)}),[]);(0,o.useEffect)((()=>{p()}),[p]),(0,o.useEffect)((()=>()=>{g()}),[g]);const{value:f,withComma:h}=e,y=(0,n(847249).K8)((()=>f?(0,i().ZF)({value:f,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,f]);if(!f)return null;const S=r().AA(f,(0,a().P)(),n(662303).locale);let v;if(f.reminder){const e=r().Zs(f,(0,a().P)());v=e?{color:l.errorText}:{color:n(100622).Ay.blue}}const x=(0,s.jsxs)(s.Fragment,{children:[y,f.reminder&&(0,n(599987).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),h?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...v},children:x}):(0,s.jsx)(n(859428).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:c(l,e.tooltipHeader),children:[d(S.start),S.end?` â†’ ${d(S.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...v},...t,children:x}),placement:e.tooltipPlacement})};function d(e){return(0,i().eV)({value:e,preset:"medium"})}function c(e,t){return t?{color:e.text.contrastSecondary}:{}}},659915:(e,t,n)=>{n.d(t,{o:()=>i,s:()=>r});n(898992),n(430670);var o=()=>n(919709);function i(e){return!e.isTransclusionType()&&!e.isCollectionView()&&!e.hasContent()&&e.isEmptyTitle()}function r(e){const t=(0,o().tyK)(e.getTitleValue()),n=e.getContentStores().flatMap((e=>(0,o().tyK)(e.getTitleValue())));return t.length>0||n&&n.length>0}},747444:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{isOpen:!1,blockStore:void 0}}}const i=new o},812119:(e,t,n)=>{n.d(t,{J:()=>a});n(296540);var o=()=>n(401497),i=()=>n(710149),r=n(474848);function a(e){const{widthPercentage:t,isInHomeWidget:n}=e,a=(0,o().IS)((e=>({rowContainer:{display:"flex",height:30,alignItems:"center",gap:1,alignSelf:"stretch"},circleShimmer:{width:n?12:16,height:n?12:16,flexShrink:0,borderRadius:12,backgroundColor:e.lightDividerColor},rowShimmer:{width:t||"35%",height:10,flexShrink:0,borderRadius:12,marginLeft:2,backgroundColor:e.lightDividerColor},column:{display:"flex",height:34,padding:"7px 0px",alignItems:"center",gap:6,flex:"1 0 0"}})),[t,n]);return(0,r.jsx)("div",{style:a.rowContainer,children:(0,r.jsxs)("div",{style:a.column,children:[(0,r.jsx)(i().A,{style:a.circleShimmer}),(0,r.jsx)(i().A,{style:a.rowShimmer})]})})}},848565:(e,t,n)=>{n.d(t,{FB:()=>m,Ql:()=>p,SM:()=>g,Wv:()=>r,Yz:()=>s,ds:()=>i,e4:()=>o,eQ:()=>a,im:()=>d,jw:()=>l,k2:()=>u,uG:()=>c});const o=8,i=10,r=8,a=24,s=6,l=1.5,d=(a-l)/2,c=a+s,u=`calc(100% + ${r+(o-s)-c}px)`,m=a+8,p=-16;function g(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},954933:(e,t,n)=>{n.d(t,{v:()=>d});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=(n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),()=>n(406792));const s=new Set;const l=new Set;function d(e){let{firstMountToReadyMetricName:t,pageOriginToReadyMetricName:n,isReady:d,homeType:c}=e;const u=(0,i().v3)();function m(e){return{environment:u,...e.startsWith("feed.")?{home_type:c}:{}}}const p=function(e,t){const n=(0,o.useMemo)((()=>a().default.DO_NOT_USE_markLegacy(e)),[e]),i=(0,o.useRef)(t);return(0,o.useEffect)((()=>{i.current=t}),[t]),(0,o.useCallback)((()=>{s.has(e)||(s.add(e),a().default.DO_NOT_USE_measureLegacy(n,i.current))}),[n,e])}(t,m(t)),g=function(e,t){const n=(0,o.useRef)(t);return(0,o.useEffect)((()=>{n.current=t}),[t]),(0,o.useCallback)((()=>{l.has(e)||(l.add(e),a().default.DO_NOT_USE_measureFromPageOriginLegacy(e,n.current))}),[e])}(n,m(n)),f=(0,r().K8)((()=>"personal"===c?function(e){const{route:t,initialRoute:n,historyState:o}=e.RouterStore.state;if("page"!==t.name)return!1;switch(n.name){case"root":return 1===(null==o?void 0:o.index);case"page":return n.blockId===t.blockId&&0===(null==o?void 0:o.index);default:return!1}}(u):function(e){const{route:t,initialRoute:n,historyState:o}=e.RouterStore.state;if("team"!==t.name)return!1;switch(n.name){case"root":return 1===(null==o?void 0:o.index);case"team":return n.teamId===t.teamId&&0===(null==o?void 0:o.index);default:return!1}}(u)),[u,c]);(0,o.useEffect)((()=>{f&&d&&(p(),g())}),[d,p,g,f])}},981305:(e,t,n)=>{n.d(t,{B:()=>r});n(16280);var o=n(296540),i=()=>n(472090);function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,o.useEffect)((()=>{const o=new(i().E)({throttleMs:n});if(!e.current)throw new Error("ref.current is null");return o.observe(e.current),o.rect.addListener(t),()=>{o.destroy()}}),[t])}}}]);