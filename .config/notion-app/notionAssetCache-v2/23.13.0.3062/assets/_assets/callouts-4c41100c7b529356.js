"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[74688],{15154:(e,t,n)=>{n.d(t,{G:()=>o,_:()=>r});const r=.7,o=1},44211:(e,t,n)=>{n.r(t),n.d(t,{ConfigureRetentionAnnouncement:()=>S});var r=n(296540),o=()=>n(484714),a=()=>n(847249),i=()=>n(624090);const s=(0,n(340498).xh)("infoCircleFill",{default:{loader:()=>n.e(38827).then(n.bind(n,438827))},small:{loader:()=>n.e(65333).then(n.bind(n,265333))},mini:{loader:()=>n.e(25027).then(n.bind(n,925027))},large:{loader:()=>n.e(14233).then(n.bind(n,114233))}});var c=()=>n(287882),l=()=>n(959013),u=()=>n(751156),d=()=>n(755199),m=()=>n(58293),_=()=>n(861243),p=()=>n(351360),g=()=>n(404141),f=n(474848);const v=(0,l().YK)({title:{defaultMessage:"Configure data retention settings",id:"sidebar.configureRetention.title"},body:{defaultMessage:"Starting August 19th, pages in Trash will be automatically deleted after {duration}",id:"sidebar.configureRetention.body"},postLaunchBody:{defaultMessage:"Pages in Trash will be automatically deleted after {duration}",id:"sidebar.configureRetention.postLaunchBody"},button:{defaultMessage:"Configure",id:"sidebar.configureRetention.button"}});function S(e){const t=(0,o().v3)(),n=(0,l().tz)(),S=(0,a().K8)((()=>p().default.state.currentUserSettingsStore),[]),y=(0,m().r)(),h=(0,a().K8)((()=>(0,i().XX)(null==y?void 0:y.getModel())/1e3),[y]),b=(0,r.useCallback)((()=>{S&&(u().createAndCommit({userAction:"ConfigureRetentionAnnouncement.handleClick",environment:t,canUndo:!0,perform:e=>{d().mJ({transaction:e,userSettingsStore:S,data:{seen_trash_autodeletion_announcement:!0}})}}),g().A.setState({openedFrom:"content_search",open:!0,currentTab:"security",highlightedSetting:void 0,defaultSubtab:"data_retention"}))}),[S,t]),w=(0,r.useCallback)((()=>{S&&u().createAndCommit({userAction:"ConfigureRetentionAnnouncement.handleDismiss",environment:t,canUndo:!0,perform:e=>{d().mJ({transaction:e,userSettingsStore:S,data:{seen_trash_autodeletion_announcement:!0}})}})}),[S,t]),k=new Date>new Date("2024-08-19")?v.postLaunchBody:v.body;return(0,f.jsx)(_().Y,{messageKey:"configure_retention_sidebar",title:n.formatMessage(v.title),iconGroup:s,body:n.formatMessage(k,{duration:(0,c().rN)(h,n)}),buttons:[{text:n.formatMessage(v.button),onClick:b}],onDismiss:w})}},51367:(e,t,n)=>{n.d(t,{DL:()=>i,Sq:()=>c,Y5:()=>s,gc:()=>u,wo:()=>l});var r=()=>n(917629),o=()=>n(989423),a=()=>n(508496);function i(e,t){const n=(0,r().h2)(t.callout_key);n&&(t.placement_key=(0,r().t9)(n)),(0,o().u4)({environment:e,event:{eventName:"callout_show",eventProperties:t}}),a().default.logEvent("callout_show",t.callout_key)}function s(e,t){const n=(0,r().h2)(t.callout_key);n&&(t.placement_key=(0,r().t9)(n)),(0,o().u4)({environment:e,event:{eventName:"callout_click",eventProperties:t}}),a().default.logEvent("callout_click",t.callout_key)}function c(e,t){const n=(0,r().h2)(t.callout_key);n&&(t.placement_key=(0,r().t9)(n)),(0,o().u4)({environment:e,event:{eventName:"callout_dismiss",eventProperties:t}}),a().default.logEvent("callout_dismiss",t.callout_key)}function l(e,t){const{eligible_callouts:n,required_arg_timeout:r,required_args_run_duration:a,eligibility_timeouts:i,blocklist:s}=t;(0,o().u4)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:n,required_arg_timeout:r,required_args_run_duration:a,eligibility_timeouts:i,blocklist:s}}})}function u(e,t){(0,o().u4)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}},97065:(e,t,n)=>{n.d(t,{DH:()=>a});var r=()=>n(61844);const o=["trial_from_perf_marketing","onboarding_reverse_trial","mp_reverse_trial","feature_upsell_reverse_trial","admin_trial"];function a(e){return o.includes(e)||r().FN.includes(e)}},240865:(e,t,n)=>{n.d(t,{V:()=>a});var r=()=>n(847249),o=()=>n(351360);function a(){return(0,r().K8)((()=>{const{currentSpaceStore:e}=o().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},243670:(e,t,n)=>{n.d(t,{V9:()=>s,XF:()=>c,tk:()=>a,tz:()=>i});var r=()=>n(244641);const o={1:"intro",3:"inviteMembers",5:"connectWorkspace",8:"createTeamspaces",11:"verifyPages",14:"samlSSO",17:"storeRecords",20:"notionAi"};function a(e){if(e in o)return o[e]}function i(e,t,n){const o=r().c9.fromMillis(e.endDateMs),a=n??r().c9.now();return a<o&&o.diff(a).as("days")<=t}function s(e,t){const n=r().c9.fromMillis(e.endDateMs);return(t??r().c9.now())>n}function c(e,t){const n=r().c9.fromMillis(e.endDateMs);return(t??r().c9.now()).hasSame(n,"day")}},324561:(e,t,n)=>{n.d(t,{Gi:()=>p,OD:()=>u,Q7:()=>_,UU:()=>g,_3:()=>m,a9:()=>d,f_:()=>l});var r=()=>n(484714),o=()=>n(847249),a=()=>n(857639),i=()=>n(762433),s=()=>n(596513),c=()=>n(714300);function l(e){let{spaceId:t}=e;const n=(0,r().v3)();return(0,o().K8)((()=>{if(t)return s().t.getData(n,{spaceId:t})}),[n,t])}function u(e){let{environment:t,spaceId:n}=e;return n?s().t.awaitData(t,{spaceId:n}):Promise.resolve(void 0)}function d(e){if("admin"===(null==e?void 0:e.type))return e}function m(e){let{spaceId:t}=e;return d((0,c().l)({spaceId:t}))}function _(e,t,n){if(!t)return 0;const r=(0,i().yB)({spaceId:e,logFunction:a().log.bind(a()),billingData:t});return r?Math.max(r,n):0}function p(e){var t;const n=null===(t=(0,i().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const r=n.unitAmount,o="year"===n.billingInterval?12:1;return{amount:r.amount/o,currencyCode:r.currencyCode}}function g(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},391657:(e,t,n)=>{n.d(t,{g:()=>u});n(944114);var r=n(296540),o=()=>n(484714),a=()=>n(722559),i=()=>n(628315),s=()=>n(51367),c=()=>n(832895),l=n(474848);function u(e){const{message:t,buttons:n}=e,u=(0,o().v3)();(0,r.useEffect)((()=>{s().DL(u,{callout_key:t.key,placement_key:(0,a().Q3)(t)})}),[u,t]);const d=(0,r.useCallback)((e=>{s().Y5(u,{callout_key:t.key,placement_key:(0,a().Q3)(t),click_type:"primary_cta"}),e&&e()}),[u,t]),m=(0,r.useCallback)((()=>{s().Sq(u,{callout_key:t.key,placement_key:(0,a().Q3)(t),dismiss_type:"sidebar_dismiss"}),i().OX(u,t),e.onDismiss&&e.onDismiss()}),[u,t,e]);let _;if(n){_=[];for(const e of n)_.push({...e,onClick:()=>{d(e.onClick)}})}return(0,l.jsx)(c().Ue,{children:(0,l.jsx)(c().wY,{...e,buttons:_,onDismiss:m})})}},461946:(e,t,n)=>{n.d(t,{$G:()=>a,$z:()=>m,BV:()=>u,WL:()=>o,YO:()=>c,e3:()=>s,x5:()=>i,yL:()=>l});n(898992),n(672577);var r=()=>n(166386);const o=30,a=5,i=3;function s(e){return Boolean(m(e)||d(e))}function c(e){return m(e)||d(e)}function l(e){const t=m(e)||d(e);if(t)return(0,r().Vm)(t)}function u(e){const t=m(e)||d(e);if(t)return(0,r().kd)(t)}function d(e){var t;return null===(t=_(e))||void 0===t?void 0:t.find((e=>{let{offer:t}=e;return"trial"===t.type&&"business_reverse"===t.campaign}))}function m(e){var t;return null===(t=_(e))||void 0===t?void 0:t.find((e=>{let{offer:t}=e;return"stacked_business_trial"===t.campaign}))}function _(e){if(e)return Array.isArray(e)?e:[e]}},641106:(e,t,n)=>{n.d(t,{N:()=>a,e:()=>r});function r(e,t){t}const o={dummy_modal:{title:{id:"announcementDigest.dummy_modal.title",defaultMessage:"Dummy Modal",description:"Title for the dummy modal announcement"},caption:{id:"announcementDigest.dummy_modal.caption",defaultMessage:"This is a dummy description of an announcement. Hi.",description:"Caption for the dummy modal announcement"},callToAction:{id:"announcementDigest.dummy_modal.callToAction",defaultMessage:"Do Nothing",description:"Button for the dummy modal announcement that does nothing"},imageUrl:n(148307).A.images.sites.sitesLaunchModalPng},dummy_modal_2:void 0,ai_assistant_announcement:void 0,ai_google_drive_universal_qna_announcement:void 0,ai_github_ai_connector_announcement:void 0,ai_jira_universal_qna_announcement:void 0,ai_microsoft_teams_universal_qna_announcement:void 0,notion_calendar_launch_promo:void 0,omnimodal:void 0,mwn_feature_modal:void 0,organization_onboarding_modal:void 0,posts_onboarding_modal:void 0,notion_mail_launch_modal:void 0,notion_mail_launch_modal_2:void 0,passkey_nudge_modal:void 0,ai_for_work_announcement_modal:void 0,ai_for_work_announcement_pro_modal:void 0};function a(e){return o[e]}},656633:(e,t,n)=>{n.d(t,{vp:()=>a});var r=()=>n(134217);const o={isSalesAssisted:void 0};function a(e,t){return o.isSalesAssisted??(0,r().e9)(e,t)}(0,n(466103).exposeDebugEnvironmentValue)("getAssistantOnboardingDebugInfo",(e=>()=>{const{currentUserSettingsStore:t,currentSpaceStore:r}=n(351360).default.state,o=null==t?void 0:t.getSettings();if(!o||!r)return;const{ai_qna_intro_onboarding_phase:i,ai_assistant_onboarding_phase:s,ai_assistant_onboarding_phase_last_set_at:c,ai_assistant_tooltips_onboarding_phase:l,ai_sales_assisted_extra_notification_seen_at:u,last_exposed_to_ai_qna_at:d,qna_reminders_shown_at:m}=o;return{isSalesAssisted:a(e,r.id),relevantUserSettings:{ai_qna_intro_onboarding_phase:i,ai_assistant_onboarding_phase:s,ai_assistant_tooltips_onboarding_phase:l,ai_assistant_onboarding_phase_last_set_at:c,ai_sales_assisted_extra_notification_seen_at:u,last_exposed_to_ai_qna_at:d,qna_reminders_shown_at:m}}}))},678894:(e,t,n)=>{n.d(t,{A:()=>a});var r=()=>n(604995);class o extends(()=>n(757695))().default{getInitialState(){return{uploadingProfilePhoto:!1,name:"",startDayOfWeek:(0,r().Lm)(),accountSettings:{hasPassword:!1,canConfigurePassword:!1,isSamlEnforced:!1,mfaStatus:"loading",numMfaSettings:0,regenerateBackupCodes:!1,hasPasskeys:!1,error:void 0}}}getValueForUser(e,t,n){if(e.isDefined()){const o=e.getFullName(n),a=e.getProfilePhoto(),i=t.getSettings();return{...this.state,uploadingProfilePhoto:!1,profilePhoto:a,name:o||"",startDayOfWeek:void 0===(null==i?void 0:i.start_day_of_week)?(0,r().Lm)():null==i?void 0:i.start_day_of_week}}}}const a=o},714300:(e,t,n)=>{n.d(t,{l:()=>c});var r=()=>n(484714),o=()=>n(847249),a=()=>n(176983),i=()=>n(596513),s=()=>n(324561);function c(e){let{spaceId:t}=e;const n=(0,r().v3)(),c=(0,a().J)();return(0,o().K8)((()=>{if(!t||!c)return;const e=i().t.getData(n,{spaceId:t});return(0,s().a9)(e)}),[n,t,c],{useDeepEqual:!0})}},749356:(e,t,n)=>{n.d(t,{VY:()=>m,Qm:()=>_,z6:()=>d,OC:()=>f,L6:()=>p,Zc:()=>v,x3:()=>g});var r=()=>n(857639),o=()=>n(386164);const a={plans_page:["lic_25","lic_50","resurrection_offer","ai_fifty_percent_upgrade"],sidebar_upsell:["lic_25","lic_50"]};var i=()=>n(502800),s=()=>n(449506),c=()=>n(901389),l=()=>n(989423),u=()=>n(351360);async function d(e,t){var n;const{spaceId:r,offerCampaign:o}=t;if(!r||!o||null===(n=u().default.state.currentSpaceStore)||void 0===n||!n.canAdmin())return;const a=await s().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:r,offerCampaign:o}});return"failed"!==a.type&&"offer"in a.data&&a.data.offer?a.data.offer:void 0}async function m(e){const{environment:t,spaceId:n,offerCampaign:r,entrypoint:o}=e,a=await s().callApi({eventName:"applyCustomerOffer",environment:t,data:{spaceId:n,offerCampaign:r,entrypoint:o??"unknown"}});if("failed"!==a.type)return a;c().Qg(a)}async function _(e,t){const n=await s().callApi({eventName:"applyCustomerOffer",environment:e,data:{...t}});if("failed"!==n.type)return n;c().Qg(n)}async function p(e){const{environment:t,spaceId:n,offerCampaign:r}=e;return void 0!==await d(t,{spaceId:n,offerCampaign:r})}async function g(e){var t;const{environment:n,hasReceived:a,offerType:c,newPlan:l,coupon:d}=e,m=null===(t=u().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId();if(!m)return;const _=await s().callApi({eventName:"updateCustomerOffer",environment:n,data:{spaceId:m,hasReceived:a,offerType:c,newPlan:l,coupon:d},headers:(0,o().WS)({cellId:void 0,spaceId:m})});"failed"===_.type&&r().log({level:"error",from:"offerActions",type:"updateLegacyCustomerOfferFailed",error:(0,i().convertErrorToLog)(_.error)})}async function f(e,t,n){const r=function(e){if(a.hasOwnProperty(e))return a[e]}(n);if(r)for(const o of r){const n=await d(e,{spaceId:t,offerCampaign:o});if((null==n?void 0:n.campaign)===o)return n}}function v(e){let{environment:t,spaceName:n,offerCampaign:r}=e;if(n)switch(r){case"lic_25":case"lic_50":(0,l().WU)(t,"lic_offer_eligible","lic_offer_eligible",3600,{workspace_name:n,lic_25:"lic_25"===r,lic_50:"lic_50"===r});break;case"resurrection_offer":(0,l().WU)(t,"resurrection_offer_eligible","resurrection_offer_eligible",3600,{workspace_name:n});break;default:return}}},787766:(e,t,n)=>{n.d(t,{Hc:()=>l,Io:()=>d,Mg:()=>_,S3:()=>s,X3:()=>c,dE:()=>m,iO:()=>u,vC:()=>p,vG:()=>i});n(944114),n(898992),n(803949);var r=()=>n(401497),o=()=>n(100622),a=()=>n(284371);function i(e){const{focus:t}=e;return(0,r().IS)((e=>({searchBar:{padding:16},inputStyle:{minWidth:60,width:"auto",borderTopLeftRadius:4,borderTopRightRadius:4,fontSize:14,fontWeight:a().Wy.regular},inputOuterStyle:{padding:6,borderRadius:6,height:20,alignItems:"center",minHeight:32,background:e.accentColors.gray[30],...t&&{background:"none"}}})),[t])}function s(){return(0,r().IS)((e=>({selectAllSectionStyle:{display:"flex",flexDirection:"column",gap:2,padding:"8px 0px 16px 0px"},sectionMenuItem:{padding:"12px 0px 0px 2px",display:"flex",flexDirection:"column",gap:2},dividerStyle:{margin:"0px 16px"},dividerInnerStyle:{borderBottom:`1px solid ${e.stroke.secondary}`},selectAllStyle:{display:"flex",fontSize:14,color:e.text.primary},totalCountsStyle:{paddingLeft:3,fontSize:14,color:e.text.tertiary}})),[])}function c(){return(0,r().IS)((e=>({footerStyle:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:60,padding:"12px 16px 16px 16px",borderTop:`1px solid ${e.stroke.secondary}`}})),[])}function l(){return(0,r().IS)((e=>({labelContainer:{display:"flex",alignItems:"center",color:o().Ay.uiLightBlack,size:14,gap:6},importListButton:{height:28,borderRadius:4,border:void 0,width:"100%"},importListButtonContainer:{padding:"0 6px",alignItems:"center"}})),[])}function u(){return(0,r().IS)((e=>({topContainer:{display:"flex",alignItems:"center",width:"100%",height:40,padding:"0 16px",borderBottom:`1px solid ${e.stroke.secondary}`},sendInviteLabel:{color:e.text.primary,fontSize:14,fontWeight:a().Wy.medium,textAlign:"left",verticalAlign:"top"}})),[])}function d(e,t){return(0,r().IS)((n=>({buttonContainer:{padding:"0 8px",...t},button:{height:32,borderRadius:4,border:`1px solid ${n.stroke.primary}`,...e}})),[e,t])}function m(e){const{filteredImportedContacts:t,inviteTargetsStore:n}=e,r=n.state.inviteTargets.length;return 0!==r&&r===t.length}function _(e){const{filteredImportedContacts:t}=e,n={};return t.forEach(((e,t)=>{const r=e.value.email[0].toUpperCase(),o=/^[A-Za-z]$/.test(r)?r:"#";n[o]||(n[o]=[]),n[o].push(e)})),n}function p(e){const{canEditPermission:t,isMobile:n,hasAccessToFeature:r}=e;return!(n||r||!t)}},804411:(e,t,n)=>{n.d(t,{Q:()=>a});var r=()=>n(920949),o=()=>n(449506);async function a(e,t){const n=await o().callApi({eventName:"getEmailDomainSettings",environment:e,data:{}});"success"===n.type&&t.setState({...t.state,emailDomainSettings:n.data});try{const n=await(0,r().Su)(e);t.setState({...t.state,accountSettings:{...n,error:void 0}})}catch(a){t.setState({...t.state,accountSettings:{...t.state.accountSettings,error:a}})}}},832086:(e,t,n)=>{n.r(t),n.d(t,{getEligibleStaticMessages:()=>z,maybeShowMessagesImpl:()=>W,showStartupMessagesImpl:()=>V});n(944114),n(898992),n(354520),n(581454),n(908872);var r=()=>n(244641),o=()=>n(690495),a=()=>n(917629),i=()=>n(763824),s=()=>n(534177),c=()=>n(449506),l=()=>n(804411),u=()=>n(351360),d=()=>n(430483),m=()=>n(57605),_=()=>n(508496),p=()=>n(678894),g=()=>n(749240),f=()=>n(731741),v=()=>n(628315),S=()=>n(51367),y=(n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(672577),()=>n(130382)),h=()=>n(402390),b=()=>n(386164),w=()=>n(762433),k=()=>n(166386),I=()=>n(461946),P=()=>n(979340),x=()=>n(720665),A=()=>n(640653);async function C(e){const{environment:t}=e,n=await c().callApi({eventName:"getEmailDomainSettings",environment:t,data:{}});return"failed"===n.type||Boolean(n.data.settings.disable_notion_mail)}var D=()=>n(596513),U=()=>n(749356),M=()=>n(15154),N=()=>n(807778),B=()=>n(134217),q=()=>n(10984),E=()=>n(577437);function G(e){const{currentUserSettingsStore:t,minAccountAgeInDays:r}=e,o=(0,n(680074).iZ)(t);return Number(o)>=r}function R(e){return"unsubscribed_admin"===e.state.type||"unsubscribed_member"===e.state.type}const T={dummy_modal:async e=>Promise.resolve(!1),dummy_modal_2:async e=>Promise.resolve(!1),omnimodal:async e=>{let{}=e;return Promise.resolve(!1)},ai_google_drive_universal_qna_announcement:async e=>Promise.resolve(!1),ai_jira_universal_qna_announcement:async e=>{const{environment:t,currentSpaceStore:n,mainEditorCurrentBlockStore:r,assistantFeatureGateStore:o,currentUserSettingsStore:a}=e,i=await D().t.awaitData(t,{spaceId:n.getSpaceId()}),s=(0,P().rV)((0,w().AI)(i),"plus"),l=(n.getMemberCountFromPublicSpaceData()??1)>1;if(!(r.canRead()&&n.canAdmin()&&s&&l))return!1;if(!G({currentUserSettingsStore:a,minAccountAgeInDays:8}))return!1;if(!o.isJiraQnaEnabled()||!o.isAiEnabled())return!1;try{const e=await c().callApi({eventName:"getJiraAIConnectorAnnouncementEligibility",environment:t,data:{spaceId:n.getSpaceId()}});return"success"===e.type&&e.data.eligibility}catch{return!1}},ai_github_ai_connector_announcement:async e=>Promise.resolve(!1),ai_microsoft_teams_universal_qna_announcement:async e=>Promise.resolve(!1),ai_assistant_announcement:async e=>{const{currentUserSettingsStore:t,mainEditorCurrentBlockStore:n,assistantFeatureGateStore:r}=e,o=t.getSettings();if(!o)return!1;const a=void 0===(null==o?void 0:o.ai_assistant_onboarding_phase);return Promise.resolve(n.canRead()&&G({currentUserSettingsStore:t,minAccountAgeInDays:8})&&a&&r.canSeeAssistantFeaturePromotionalModal())},sidebar_upgrade_nudge:async e=>{const{currentUserSettingsStore:t,billingData:r,currentSpaceStore:o}=e,a=t.getSettings(),i=o.getMemberCountFromPublicSpaceData()??1,s=(0,n(907917).x)({billingData:r,memberCount:i});return Promise.resolve(!(null!=a&&a.dismissed_sidebar_upgrade_nudge||"none"!==s||(0,w().Fq)(r)||1!==i||(0,A().bN)(o)))},calendar_launch_prompt:async e=>{const{experimentStore:t,currentSpaceStore:o,currentUserSettingsStore:a,subscriptionDataStore:i}=e,s=a.getSettings(),c=null==s?void 0:s.notion_calendar_launch_modal_dismissed_at;if(void 0===c)return!1;if((0,n(583238).mX)())return!1;const l=r().c9.now().toMillis()-c;return Promise.resolve(!R(i)&&t.checkGate({gateName:"notion_calendar_launch_modal"})&&!(0,A().XZ)(o)&&void 0!==s&&"dismissed_modal"===s.notion_calendar_launch_modal_phase&&l>=2*x().nD)},ai_limit_nudge:async e=>{var t,n;const{environment:r,currentSpaceStore:o,currentUserSettingsStore:a,assistantFeatureGateStore:i}=e;if(!i.isAiEnabled())return!1;const s=a.getSettings();if(void 0===s)return!1;const c=o.getSpaceId(),l=await(0,E().Bw)(r,{name:"ai_usage",spaceId:c,userId:r.currentUser.id,amount:1}),u=l.limit;if("unlimited"===u.total)return!1;const d=Number(u.current/u.total),m=d>=M().G?Boolean(null===(t=s.addOnLimitNotifications)||void 0===t?void 0:t.disableLimitNotificationInSidebar):Boolean(null===(n=s.addOnLimitNotifications)||void 0===n?void 0:n.disableWarningNotificationInSidebar),_=l.upsell;return"unavailable"!==l.type&&void 0!==_&&!m&&d>=M()._},block_limit_nudge:e=>{const{environment:t,subscriptionDataStore:n,currentSpaceStore:r}=e;return Promise.resolve(R(n)&&n.state&&B().z8(t,n.state,r.id))},post_reverse_trial_sidebar:async e=>{const{environment:t,subscriptionDataStore:r,currentSpaceStore:o}=e;if(!R(r)||!o.canAdmin())return Promise.resolve(!1);const a=o.getSpaceId(),i=await c().callApi({eventName:"getCustomerOffersReceived",environment:t,data:{spaceId:a},headers:(0,b().WS)({cellId:void 0,spaceId:a})});if("failed"===i.type)return Promise.resolve(!1);const s=i.data,l=(0,k().e8)(s,"trial"),u=(0,I().e3)(s),d=l&&!u&&(0,n(97065).DH)(l.offer.campaign);return Promise.resolve(d)},self_serve_business_trial_nudge:async e=>{var t;const{billingData:o,currentSpaceViewStore:a,environment:i,currentSpaceStore:s}=e,l=s.getSpaceId();if(!o)return Promise.resolve(!1);const u=(0,w().DS)(o),d=await c().callApi({eventName:"getCustomerOffersReceived",environment:i,data:{spaceId:l},headers:(0,b().WS)({cellId:void 0,spaceId:l})});if("failed"===d.type)return Promise.resolve(!1);const m=(0,I().yL)(d.data);if(!m)return Promise.resolve(!1);const _=Math.floor(u.diff(m,"days").days),p=Boolean((0,n(243670).tk)(_)),g=null===(t=a.getSettings())||void 0===t?void 0:t.business_trial_nudge_last_dismissed_at;return g&&r().c9.fromMillis(g).hasSame(u,"day")?Promise.resolve(!1):Promise.resolve(p)},self_serve_business_trial_ending_soon:async e=>{const{billingData:t,environment:n,currentSpaceStore:r}=e,o=r.getSpaceId();if(!t)return Promise.resolve(!1);const a=(0,w().DS)(t),i=await c().callApi({eventName:"getCustomerOffersReceived",environment:n,data:{spaceId:o},headers:(0,b().WS)({cellId:void 0,spaceId:o})});if("failed"===i.type)return Promise.resolve(!1);const s=(0,I().BV)(i.data);if(!s)return Promise.resolve(!1);const l=Math.floor(s.startOf("day").diff(a.startOf("day"),"days").days);return Promise.resolve(l>=0&&l<=I().$G)},lic_offer_sidebar:async e=>{const{environment:t,subscriptionDataStore:n,currentSpaceStore:r}=e,o=r.getSpaceId();if(!R(n)||!B().qc(n.state)||!o)return Promise.resolve(!1);const a=await(0,U().OC)(t,o,"sidebar_upsell");if(!a)return Promise.resolve(!1);const i=a.campaign;if("lic_25"!==i&&"lic_50"!==i)return Promise.resolve(!1);const s=(0,A().GK)(t,r);return s&&(0,U().Zc)({environment:t,spaceName:s,offerCampaign:i}),Promise.resolve(!0)},new_year_2025_offer_sidebar:async e=>{const{environment:t,subscriptionDataStore:n,currentSpaceStore:r}=e,o=r.getSpaceId();if(!(B().qc(n.state)&&R(n)&&o&&(0,N().tW)()))return Promise.resolve(!1);const a=await(0,U().z6)(t,{spaceId:o,offerCampaign:"new_year_2025"});if(!a)return Promise.resolve(!1);return"new_year_2025"!==a.campaign?Promise.resolve(!1):Promise.resolve(!0)},resurrection_offer_sidebar:async e=>{const{environment:t,subscriptionDataStore:n,currentSpaceStore:r}=e,o=(0,N().vv)(),a=r.getSpaceId();if(!(R(n)&&o&&B().qc&&a))return Promise.resolve(!1);const i=await(0,U().z6)(t,{spaceId:a,offerCampaign:"resurrection_offer"});return i?Promise.resolve((0,k().u6)(i)):Promise.resolve(!1)},onboarding_reverse_trial_sidebar:async e=>{const{environment:t,currentSpaceStore:r}=e,o=await m().A.awaitData(t,{spaceId:r.getSpaceId()}),a=(0,n(753735).uq)(o),i=(0,w().DS)(o);if(!a||!r.canAdmin())return Promise.resolve(!1);const s=r.getSpaceId(),l=await c().callApi({eventName:"getCustomerOffersReceived",environment:t,data:{spaceId:s},headers:(0,b().WS)({cellId:void 0,spaceId:s})});if("success"!==l.type)return Promise.resolve(!1);const u=(0,k().e8)(l.data,"trial");if(!u)return Promise.resolve(!1);const d=(0,k().ER)(u,i),_=(0,k().b_)(u.offer).as("days"),p=d>Math.round(_/2);return Promise.resolve(p)},import_data_prompt:async e=>{var t;const{experimentStore:n,currentUserSettingsStore:r}=e;if(Boolean(null===(t=r.getSettings())||void 0===t||null===(t=t.adoption_entry_points)||void 0===t?void 0:t.import_sidebar_announcement))return Promise.resolve(!1);const o=n.getEligibleGroup({experimentId:"adoption_import_push",defaultGroup:"control"});return Promise.resolve("on"===o)},integration_webhooks:async e=>{let{currentSpaceStore:t,experimentStore:n}=e;return Promise.resolve(t.canAdmin())},student_org_prompt:async e=>{var t,n;const{environment:r,subscriptionDataStore:o,currentUserSettingsStore:a}=e,i=o.state,s=o.state.subscriptionTier,l=void 0!==s&&["student","personal","personal_free","free"].includes(s),u=new Set(["student_club_monthly","student_club_yearly"]),d=(0,A().p3)(),m=B().qc(i)&&(null==i||null===(t=i.customerData)||void 0===t?void 0:t.stripe)&&"plan"in i.customerData.stripe&&u.has(i.customerData.stripe.plan);if(void 0!==(null===(n=a.getSettings())||void 0===n?void 0:n.dismissed_sidebar_student_org_prompt)||!l||m||"multiplayer"===(null==d?void 0:d.collaborativeIntent))return!1;const _=await c().callApi({eventName:"isEmailEducation",environment:r,data:{validationType:"Domain"}});return"failed"!==_.type&&_.data.isEligible},notion_calendar_launch_promo:async e=>{const{environment:t,currentUserSettingsStore:n,mainEditorCurrentBlockStore:r,experimentStore:o,currentSpaceStore:a}=e,i=n.getSettings();if(!i)return!1;const s=i.notion_calendar_launch_modal_phase,c=t.device.isElectron?void 0===s:void 0===s||"connected_notion_calendar"===s,l="msStore"===t.device.desktopTargetPlatform;return Promise.resolve(r.canRead()&&o.checkGate({gateName:"notion_calendar_launch_modal"})&&!(0,A().IL)(a)&&!(0,A().XZ)(a)&&!l&&c)},startup_sidebar_footer:async e=>Promise.resolve(!1),asana_post_import_tour:async e=>{var t,n;const{currentUserSettingsStore:r,mainEditorCurrentBlockStore:o}=e,a=o,i=(null==a?void 0:a.isCollectionView())&&(null===(t=a.getFormat())||void 0===t?void 0:t.is_asana_imported_project)&&!(null!==(n=r.getSettings())&&void 0!==n&&n.seen_asana_post_import_tour);return Promise.resolve(i)},configure_retention_sidebar:async e=>{var t;const{environment:n,currentSpaceStore:r,currentUserSettingsStore:o}=e,a=await(0,E().Se)(n,{name:"configurable_retention",spaceId:r.getSpaceId(),userId:n.currentUser.id}),i=void 0===r.getSettings().delete_from_trash_delay_seconds&&void 0===r.getSettings().purge_delay_seconds,s=!(null!==(t=o.getSettings())&&void 0!==t&&t.seen_trash_autodeletion_announcement);return Promise.resolve(a&&r.canAdmin()&&i&&s)},desktop_download_sidebar:async e=>{var t,n,o;const{currentUserSettingsStore:a,environment:i}=e;if("web-desktop"!==i.device.deviceType)return!1;if(Boolean((null===(t=a.getSettings())||void 0===t?void 0:t.used_mac_app)||(null===(n=a.getSettings())||void 0===n?void 0:n.used_windows_app)))return!1;const s=null===(o=a.getSettings())||void 0===o?void 0:o.signup_time;if(!s)return!1;const c=r().c9.now().toMillis()-s;return!(c>=7*x().nD)&&Promise.resolve(c<Number(x().pT))},open_in_calendar_tooltip:async e=>{const{currentSpaceStore:t,currentUserSettingsStore:n}=e,r=n.getSettings(),o=(0,A().dT)({env:"production",spaceStore:t});return Promise.resolve(!(o||null!=r&&r.seen_open_in_calendar_tooltip))},ai_google_drive_qna_notification_tooltip:async e=>{const{environment:t,assistantFeatureGateStore:n,currentSpaceStore:r,currentSpaceViewStore:o}=e,a=o.getSettings();if(!a||!n.isAiEnabled()||!n.canUseUniversalGoogleDriveSearchScope()||void 0!==a.ai_google_drive_qna_notification_seen_at)return Promise.resolve(!1);const i=await c().callApi({eventName:"getGoogleDriveRecallStatusForUser",environment:t,data:{spaceId:r.getSpaceId()}});return Promise.resolve("success"===i.type&&"enabled"===i.data.status)},ai_slack_qna_notification_tooltip:async e=>{const{environment:t,currentSpaceStore:n,currentSpaceViewStore:r,assistantFeatureGateStore:o}=e,a=null==r?void 0:r.getSettings(),i=n.getSpaceId();if(!o.isSlackQnaNotificationEnabled()||!o.isAiEnabled()||!a||void 0!==a.ai_slack_qna_notification_seen_at)return Promise.resolve(!1);const[s,l]=await Promise.all([c().callApi({eventName:"getConnectedAppsForUniversalQna",environment:t,data:{spaceId:i},headers:(0,b().WS)({spaceId:i})}),c().callApi({eventName:"getSlackBulkIngestionStatus",environment:t,data:{spaceId:i},headers:(0,b().WS)({spaceId:i})})]);return Promise.resolve("success"===s.type&&s.data.connectedApps.includes("slack-admin")&&"success"===l.type&&!l.data.inProgress&&l.data.isSyncCompleted)},ai_slack_qna_embed_tooltip:async e=>{var t;const{environment:n,currentSpaceStore:r,mainEditorCurrentBlockStore:o,assistantFeatureGateStore:a,currentUserSettingsStore:i,experimentStore:s}=e;if(null!==(t=i.getSettings())&&void 0!==t&&t.seen_slack_embed_ai_connector_tooltip)return!1;const c=await D().t.awaitData(n,{spaceId:r.getSpaceId()}),l=(0,P().rV)((0,w().AI)(c),"plus"),u=((0,A().Xz)({environment:n,spaceId:r.id})??1)>1;return!!(o.canRead()&&l&&u)&&(!!G({currentUserSettingsStore:i,minAccountAgeInDays:8})&&(!(!s.checkGate({gateName:"enable_slack_embed_tooltips_actual"})||!a.isAiEnabled())&&Promise.resolve(!0)))},ai_sales_assisted_notification_tooltip:async e=>{const{assistantFeatureGateStore:t,currentUserSettingsStore:r,currentSpaceStore:o,environment:a}=e,i=null==r?void 0:r.getSettings(),s=(0,n(656633).vp)(a,o.id),c="tooltip"!==(null==i?void 0:i.ai_assistant_onboarding_phase)||void 0!==(null==i?void 0:i.ai_assistant_onboarding_phase_last_set_at)&&(0,y().Mn)(i.ai_assistant_onboarding_phase_last_set_at)<1,l=await(0,E().Se)(a,{name:"ai_usage",amount:"unknown",spaceId:null==o?void 0:o.id,userId:a.currentUser.id});return Promise.resolve(t.showAssistantNotionAiCopy()&&t.isAiEnabled()&&s&&void 0===i.ai_sales_assisted_extra_notification_seen_at&&!c&&l)},ai_assistant_origin_element_tooltip:async e=>{const{environment:t,currentUserSettingsStore:r,mainEditorCurrentBlockStore:o,assistantFeatureGateStore:a}=e;return Promise.resolve(!n(186445).$o.state&&o.canRead()&&a.isQnATooltipsVisible(t.device,r))},language_switch_prompt:async e=>{var t,n;const{currentUserSettingsStore:r}=e,o=(null==r||null===(t=r.getSettings())||void 0===t?void 0:t.preferred_locale)||h().q,a=(null==r||null===(n=r.getSettings())||void 0===n?void 0:n.language_switching_prompt_dismissals)||[],i=Boolean((0,h().A_)(o,a));return Promise.resolve(i)},forms_share_form_tooltip:async e=>{var t;const{currentUserSettingsStore:n}=e,r=Boolean(null===(t=n.getSettings())||void 0===t?void 0:t.seen_forms_share_form_tooltip);return Promise.resolve(!r)},forms_add_conditional_logic_tooltip:async e=>{var t;const{currentUserSettingsStore:n}=e,r=Boolean(null===(t=n.getSettings())||void 0===t?void 0:t.seen_forms_add_conditional_logic_tooltip);return Promise.resolve(!r)},contact_sales_promo_sidebar_v2:async e=>{var t;const{environment:r,currentSpaceStore:o,subscriptionDataStore:a,currentUserSettingsStore:i,experimentStore:s}=e;let c=!1;try{c=await(0,n(128265).G)(r)}catch(_){}const l=(0,q().dL)()||(0,q().$P)()||(0,q().tL)(),u=B().qc(a.state),d=await(0,A().Pu)({environment:r,spaceId:o.id})??1,m=((null==i||null===(t=i.getSettings())||void 0===t?void 0:t.preferred_locale)||h().q)===h().q;return Promise.resolve(u&&c&&l&&d>5&&m&&Boolean("on"===s.getEligibleGroup({experimentId:"contact_sales_promo_v2",defaultGroup:"control"})))},mwn_feature_modal:async e=>{const{experimentStore:t,currentUserSettingsStore:n,environment:r}=e,o=null==n?void 0:n.getSettings(),a=Boolean(null==o?void 0:o.mwn_feature_modal_dismissed_at_millis),i=r.RouterStore.state.route,s=i&&"gallery"===i.name;return Promise.resolve(!a&&t.checkGate({gateName:"mwn_feature_modal"})&&!s)},customize_slug_tooltip:async e=>{const{currentSpaceStore:t}=e,n=(0,A().oT)(t);return Promise.resolve(n)},collection_add_item_button_tooltip:async e=>{const{mainEditorCurrentBlockStore:t}=e;return Promise.resolve(t.canEdit())},faces_xsell_sidebar:async e=>{var t;const{experimentStore:n,currentUserSettingsStore:r}=e,o=G({currentUserSettingsStore:r,minAccountAgeInDays:8}),a=null==r||null===(t=r.getSettings())||void 0===t?void 0:t.first_seen_faces_xsell_at,i=a&&(0,y().Mn)(a)<7;return Promise.resolve(o&&(n.checkGate({gateName:"faces_xsell_sidebar"})||i))},jira_ai_sidebar_reminder:async e=>{const{assistantFeatureGateStore:t}=e,o=function(e){const{messageKey:t,nDays:n}=e,{currentUserSettingsStore:o,currentSpaceViewStore:a}=u().default.state,i=null==o?void 0:o.getSettings(),s=((null==i?void 0:i.callout_dismissal_timestamps)??[]).find((e=>e.name===t)),c=null==a?void 0:a.getSettings(),l=((null==c?void 0:c.callout_dismissal_timestamps)??[]).find((e=>e.name===t)),d=Math.max((null==s?void 0:s.timestamp)??0,(null==l?void 0:l.timestamp)??0);return!!d&&(r().c9.now().toMillis()-d)/864e5>=n}({messageKey:"ai_jira_universal_qna_announcement",nDays:7}),a=t.notYetConnectedToJiraUniversalQnA(n(99254).y.state),i=T.ai_jira_universal_qna_announcement(e);return o&&a&&i},student_offer_jan_2025_sidebar:async e=>{const{environment:t,experimentStore:n,currentSpaceStore:r}=e,o=(0,A().p3)(),a=r.getMemberCountFromPublicSpaceData()??1,i="singleplayer"===o.collaborativeIntent||1===a;if(!["personal","school"].includes(o.intent??"")||!i)return!1;const s=await c().callApi({eventName:"isEmailEducation",environment:t,data:{validationType:"Domain"}});return"failed"!==s.type&&(!!n.checkGate({gateName:"student_offer_jan_2025_sidebar"})&&s.data.isEligible)},workflow_template_installation:async e=>{const{mainEditorCurrentBlockStore:t}=e;return Promise.resolve(t.canEdit())},organization_onboarding_modal:async e=>{const{environment:t,currentSpaceStore:n,experimentStore:r}=e;if(!r.checkGate({gateName:"organization_console_ga_enabled"}))return!1;const o=(0,P().bp)(n.getSubscriptionTier()),a=n.isReady()&&n.canAdmin();if(!o||!a)return!1;const i=await c().callApi({eventName:"getOrganizationOnboardingInfo",environment:t,data:{spaceId:n.getSpaceId()}});if("success"===i.type){const e=i.data.result.onboardingStatus;return"ineligible"!==e&&"completed"!==e}return!1},posts_onboarding_modal:async e=>{const{environment:t}=e;return Promise.resolve((0,n(578136).D)({isMobileNative:Boolean(t.mobileNative),disableExposureLogging:!0}))},transcription_block_alpha_announcement:async e=>{const{currentSpaceStore:t}=e;return Promise.resolve(!(0,A().IL)(t)&&(0,n(540144).M5)())},notion_mail_launch_modal:async e=>{const{environment:t,experimentStore:n}=e,r=await C({environment:t}),o="msStore"===t.device.desktopTargetPlatform;return!r&&!o&&n.checkGate({gateName:"notion_mail_launch_modal"})},notion_mail_launch_modal_2:async e=>{const{environment:t,experimentStore:n}=e;return!(await C({environment:t}))&&n.checkGate({gateName:"notion_mail_launch_modal_2"})},notion_mail_launch_2_callout:async e=>{const{environment:t,experimentStore:n}=e;return!(await C({environment:t}))&&n.checkGate({gateName:"notion_mail_launch_modal_2"})},icloud_calendar_sidebar:async e=>{const{currentSpaceStore:t,experimentStore:n,currentUserStore:r}=e;if((0,A().XZ)(t))return Promise.resolve(!1);const o=null==r?void 0:r.getEmail();if(!o)return Promise.resolve(!1);if(!["@icloud.com","@me.com","@mac.com","@privaterelay.appleid.com"].some((e=>o.endsWith(e))))return Promise.resolve(!1);const a=n.checkGate({gateName:"icloud_calendar_callout"});return Promise.resolve(a)},ai_for_work_announcement_modal:async e=>{var t;const{environment:n,currentSpaceStore:r,currentUserSettingsStore:o}=e,a=B().e9(n,r.id),i=(0,P().HO)(r.getSubscriptionTier())||"professional"===(null===(t=o.getSettings())||void 0===t?void 0:t.domain_type);return a||i?Promise.resolve(!1):Promise.resolve(!0)},ai_for_work_announcement_pro_modal:async e=>{var t;const{environment:n,currentSpaceStore:r,currentUserSettingsStore:o}=e,a=B().e9(n,r.id),i=(0,P().HO)(r.getSubscriptionTier())||"professional"===(null===(t=o.getSettings())||void 0===t?void 0:t.domain_type);return a||!i?Promise.resolve(!1):Promise.resolve(!0)},passkey_nudge_modal:async e=>{const{experimentStore:t,spaceProfileSettingsStore:n}=e;return t.checkGate({gateName:"passkey_nudges"})&&!n.state.accountSettings.isSamlEnforced&&n.state.accountSettings.hasPassword&&!n.state.accountSettings.hasPasskeys?Promise.resolve(!0):Promise.resolve(!1)},collaboration_callout:async e=>{var t;const{currentSpaceStore:r,currentSpaceViewStore:o,currentUserSettingsStore:a,environment:i}=e;if(!r)return!1;const s=1===(r.getMemberCountFromPublicSpaceData()??1)&&0===r.getSpacePages().length&&"personal"===r.getPlanType(),c=((null===(t=o.getPrivatePages(i))||void 0===t?void 0:t.length)??0)>0,{allPagesStores:l}=(0,A().au)({environment:i,spaceViewStore:o,userSettingsStore:a,type:"shared"}).state,u=l.length>0;if(!s||!c||u)return Promise.resolve(!1);const d=await(0,E().Se)(i,{name:"slack_imports_invite",spaceId:null==r?void 0:r.id,userId:i.currentUser.id}),m=await(0,E().Se)(i,{name:"google_imports_invite",spaceId:null==r?void 0:r.id,userId:i.currentUser.id}),p=r.canEditMembership();return(0,n(787766).vC)({canEditPermission:p,isMobile:i.device.isMobile,hasAccessToFeature:d||m})&&_().default.checkGate({gateName:"sharing_imports_callout"})?Promise.resolve(!0):Promise.resolve(!1)},public_share_link_tooltip:async e=>{const{experimentStore:t,mainEditorCurrentBlockStore:n}=e;return n.canAdmin()&&t.checkGate({gateName:"sharing_anyone_with_the_link"})?"on"!==t.getEligibleGroup({experimentId:"sharing_public_share_link_tooltip"})?Promise.resolve(!1):Promise.resolve(!0):Promise.resolve(!1)},home_db_tiles_moved_tooltip:async e=>{var t;const{currentUserSettingsStore:n}=e,o=null===(t=n.getSettings())||void 0===t?void 0:t.signup_time;if(!o)return!1;return o>=r().c9.utc(2025,4,18).toMillis()?Promise.resolve(!1):Promise.resolve(!0)},set_default_landing_page_tooltip:async e=>{const{environment:t,currentSpaceStore:n,currentSpaceViewStore:r}=e;return t.device.isMobile||"personal_home"===(0,A().Yi)(t,{space:null==n?void 0:n.getModel(),spaceView:null==r?void 0:r.getModel()})?Promise.resolve(!1):Promise.resolve(!0)}};var j=()=>n(641106);const F=5e3,O=3e4;async function L(e){const t={environment:Promise.resolve(e),currentUserStore:u().default.waitUntil((()=>{var e;return Boolean(null===(e=u().default.state.currentUserStore)||void 0===e?void 0:e.isReady())})).then((()=>u().default.state.currentUserStore)),currentUserSettingsStore:u().default.waitUntil((()=>{var e;return Boolean(null===(e=u().default.state.currentUserSettingsStore)||void 0===e?void 0:e.isReady())})).then((()=>u().default.state.currentUserSettingsStore)),currentSpaceStore:u().default.waitUntil((()=>{var e;return Boolean(null===(e=u().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>u().default.state.currentSpaceStore)),mainEditorCurrentBlockStore:u().default.waitUntil((()=>{var e;return Boolean(null===(e=u().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.isReady())})).then((()=>u().default.state.mainEditorCurrentBlockStore)),currentSpaceViewStore:u().default.waitUntil((()=>{var e;return Boolean(null===(e=u().default.state.currentSpaceViewStore)||void 0===e?void 0:e.isReady())})).then((()=>u().default.state.currentSpaceViewStore)),assistantFeatureGateStore:d().zD.waitUntil((()=>d().zD.getIsInitialized())).then((()=>d().zD)),subscriptionDataStore:g().subscriptionDataStoreInstance.waitUntilLoaded().then((()=>g().subscriptionDataStoreInstance)),experimentStore:_().default.waitUntilStatsigReady().then((()=>_().default)),billingData:u().default.waitUntil((()=>{var e;return Boolean(null===(e=u().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>u().default.state.currentSpaceStore)).then((t=>m().A.awaitData(e,{spaceId:t.getSpaceId()}))),spaceProfileSettingsStore:u().default.waitUntil((()=>{var e;return Boolean(null===(e=u().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>{const t=new(p().A);return l().Q(e,t).then((()=>t))}))},n={};return Promise.all((0,s().uv)(t).map((e=>async function(e,t,n){const r=await(0,i().nQ)(O,n);return r.timeout?Promise.reject(t):(e[t]=r.result,Promise.resolve(void 0))}(n,e,t[e])))).then((()=>({requiredArgs:n,timeoutKey:void 0})),(e=>({timeoutKey:e,requiredArgs:void 0})))}async function z(e,t){const n=r().c9.now().toMillis(),{requiredArgs:o,timeoutKey:a}=await L(e),s=r().c9.now().toMillis()-n;if(!o)return{eligibleKeys:[],requiredArgTimeout:a,requiredArgsRunDuration:s};const{candidates:c,timeouts:l}=await async function(e,t){const n=[],r=[];for(const o of t){const{timeout:t,result:a}=await(0,i().nQ)(F,T[o](e));t?n.push(o):a&&r.push(o)}return{candidates:r,timeouts:n}}(o,t);return{eligibleKeys:c,eligibilityTimeouts:l,requiredArgsRunDuration:s}}async function W(e,t,n){await async function(){return new Promise((e=>{Q?e():Y.push(e)}))}();const{eligibleKeys:r,eligibilityTimeouts:o,requiredArgsRunDuration:a,requiredArgTimeout:i}=await z(e,t);if(i)return{shown:[],requiredArgTimeout:i,requiredArgsRunDuration:a};const s=K(r),c=[];for(const l of s){const t={id:"",key:l,type:"static",props:{}};v().rG(e,t,n).success&&c.push(l)}return{shown:c,eligibilityTimeouts:o,requiredArgsRunDuration:a}}async function V(e){var t;const n=a().qd.filter((e=>o().lU[e].show_on_startup));await _().default.waitUntilStatsigReady();const{eligibleKeys:r,eligibilityTimeouts:i,requiredArgTimeout:s,requiredArgsRunDuration:l}=await z(e,n);if(s)return void S().wo(e,{eligible_callouts:[],required_arg_timeout:s,required_args_run_duration:l,eligibility_timeouts:[]});let u=K(r);if(_().default.checkGate({gateName:"callouts_omnimodal"})){const e=u.filter((e=>"Modal"===(0,a().t9)(e)&&Boolean((0,j().N)(e))));e.length>1&&(f().A.setConfig("omnimodal",{callouts:e}),u=["omnimodal",...u.filter((e=>"Modal"!==(0,a().t9)(e)))])}const{requiredArgs:d}=await L(e),m=[],{high:p,normal:g}=await async function(e,t){const n=await c().callApi({eventName:"getUnreadInAppMessagesForUser",environment:e,data:{workspaceId:t}});if("failed"===n.type)return{high:[],normal:[]};return n.data.messages.reduce(((e,t)=>("highPriority"in t.config&&t.config.highPriority?e.high.push(t):e.normal.push(t),e)),{high:[],normal:[]})}(e,null==d||null===(t=d.currentSpaceStore)||void 0===t?void 0:t.getSpaceId());for(const o of p)f().A.setConfig(o.config.key,{message:o}),m.push(o.config);for(const o of u)m.push({id:"",key:o,type:"static",props:{}});for(const o of g)f().A.setConfig(o.config.key,{message:o}),m.push(o.config);const y=[];for(const o of m){v().rG(e,o).success&&y.push(o.key)}const h=_().default.getConfigKey("callout_config","callout_blocklist");S().wo(e,{eligible_callouts:y,required_arg_timeout:null,required_args_run_duration:l,eligibility_timeouts:i??[],blocklist:h}),function(){Q=!0;for(const e of Y)e()}()}function K(e){return[...(0,a().C)(e.filter((e=>"Modal"===(0,a().t9)(e)))),...(0,a().C)(e.filter((e=>"Modal"!==(0,a().t9)(e))))]}let Q=!1;const Y=[]},832895:(e,t,n)=>{n.d(t,{Ue:()=>g,wY:()=>f});n(944114),n(898992),n(803949);var r=n(296540),o=()=>n(401497),a=()=>n(949306),i=()=>n(534177),s=()=>n(84817),c=()=>n(704152),l=()=>n(493823),u=()=>n(460292),d=()=>n(554509),m=n(474848);const _=(0,r.createContext)(void 0);_.displayName="AnimationDismissContext";const p=300;function g(e){const{children:t}=e,[n,a]=(0,r.useState)(100),i=(0,o().IS)((()=>({card:{marginBottom:`-${n}%`,transitionProperty:"margin-bottom",transitionDuration:`${p}ms`,transitionTimingFunction:"ease"}})),[n]);(0,r.useEffect)((()=>{a(0)}),[]);const s=(0,r.useCallback)((e=>{a(100),setTimeout(e,p)}),[]);return(0,m.jsx)(_.Provider,{value:s,children:(0,m.jsx)("div",{style:i.card,children:t})})}function f(e){const{title:t,body:n,buttons:c,imageUrl:p,imageUrlHeight:g,onDismiss:f,staticIcon:S,iconGroup:y,iconColor:h}=e,b=(0,o().IS)((e=>({container:{backgroundColor:"transparent",margin:8,display:"flex"},card:{borderRadius:8,border:`1px solid ${"dark"===e.mode?e.stroke.secondary:"transparent"}`,boxShadow:e.shadowSM,position:"relative",padding:8,backgroundColor:e.surface.wash,WebkitBackdropFilter:"blur(30px)",backdropFilter:"blur(30px)"},content:{paddingTop:4},closeButton:{position:"absolute",top:8,right:8,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center"},image:{height:g??56,alignSelf:"start",maxWidth:"100%",marginLeft:4},iconWrapper:{width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center"}})),[g]),w=(0,r.useContext)(_),k=(0,r.useCallback)((()=>{w?w((()=>null==f?void 0:f())):null==f||f()}),[f,w]),I=[];let P,x,A;return c&&(0,i().EI)(c)&&c.forEach(((e,t)=>I.push((0,m.jsx)(v,{...e},t)))),f&&(P=(0,m.jsx)(l().p,{isGray:!0,size:"xs",style:b.closeButton,onClick:k,children:(0,m.jsx)(u().Q,{iconGroup:a().Q,variantName:"mini",colorName:"secondary"})})),p&&(x=(0,m.jsx)("img",{src:p,style:b.image})),y?A=(0,m.jsx)("span",{style:b.iconWrapper,children:(0,m.jsx)(u().Q,{iconGroup:y,variantName:"default",colorName:h??"primary"})}):S&&(A=S),(0,m.jsx)("div",{style:b.container,children:(0,m.jsxs)(s().Y1,{direction:"vertical",style:b.card,gap:8,children:[x,(0,m.jsxs)(s().Y1,{direction:"horizontal",children:[A,(0,m.jsxs)(s().Y1,{gap:4,style:b.content,children:[(0,m.jsxs)(s().Y1,{gap:4,padding:`0px ${f?32:8}px 0px 8px`,children:[(0,m.jsx)(d().D,{styleName:"UISmall-12px/Semibold",colorName:"primary",children:t}),(0,m.jsx)(d().D,{styleName:"UISmall-12px/Regular",colorName:"secondary",children:n})]}),(0,m.jsx)("div",{children:I})]})]}),P]})})}function v(e){const t=Boolean(e.leftIcon)||Boolean(e.leftIconGroup),n=(0,o().IS)((()=>({button:{paddingTop:4,paddingRight:8,paddingBottom:4,paddingLeft:t?6:8,borderRadius:6}})),[t]);let r,a;return e.leftIcon?r=e.leftIcon:e.leftIconGroup&&(r=(0,m.jsx)(u().Q,{iconGroup:e.leftIconGroup,variantName:"small"})),e.rightIcon?a=e.rightIcon:e.rightIconGroup&&(a=(0,m.jsx)(u().Q,{iconGroup:e.rightIconGroup,variantName:"small"})),(0,m.jsx)(s().Y1,{direction:"horizontal",children:(0,m.jsx)(c().A,{disabled:e.disabled,style:n.button,onClick:e.onClick,children:(0,m.jsxs)(s().Y1,{direction:"horizontal",align:"center-left",gap:t?4:6,width:"hug",children:[r,(0,m.jsx)(d().D,{styleName:"UISmall-12px/Semibold",colorName:e.disabled?"tertiary":"primary",children:e.text}),a]})})})}},861243:(e,t,n)=>{n.d(t,{Y:()=>i});n(296540);var r=()=>n(391657),o=()=>n(832895),a=n(474848);function i(e){const{messageKey:t}=e,n={id:"",key:t,type:"static",props:{}};return(0,a.jsx)(o().Ue,{children:(0,a.jsx)(r().g,{...e,message:n})})}},907917:(e,t,n)=>{n.d(t,{w:()=>c,x:()=>s});var r=()=>n(762433),o=()=>n(979340),a=()=>n(240865),i=()=>n(324561);function s(e){const{billingData:t,memberCount:n}=e,a=(0,r().AI)(t),i=(0,o().dL)(a),s=(0,o().sP)(a);return i&&n<5?"invite":i?"upgrade":n<5&&!s?"invite":"none"}function c(e){return s({billingData:(0,i().f_)({spaceId:e}),memberCount:(0,a().V)()??1})}},920949:(e,t,n)=>{n.d(t,{SY:()=>s,Su:()=>u,WS:()=>c,YX:()=>l});n(898992),n(672577);var r=()=>n(534177),o=()=>n(449506),a=()=>n(972435);const i=(0,n(959013).YK)({sms:{id:"mfaMethod.sms",defaultMessage:"SMS"},totp:{id:"mfaMethod.totp",defaultMessage:"Authenticator"},backupCode:{id:"mfaMethod.backupCode",defaultMessage:"Backup code"}}),s={"data-1p-ignore":"true","data-lpignore":"true"};function c(e){const t=["totp","sms","backup_code"];return e.sort(((e,n)=>{const r=t.indexOf(e.mfaMethod),o=t.indexOf(n.mfaMethod);return r===o?e.createdAt-n.createdAt:r-o}))}function l(e){switch(e){case"sms":return a().A.formatMessage(i.sms);case"totp":return a().A.formatMessage(i.totp);case"backup_code":return a().A.formatMessage(i.backupCode);default:(0,r().HB)(e)}}async function u(e){const t=await o().callApi({eventName:"authGetLoginConfiguration",environment:e,data:{}});if("success"===t.type){const e=t.data,n="required"!==e.samlSignIn&&e.hasAccount&&e.passwordSignIn,r="required"===e.samlSignIn,o="required"!==e.samlSignIn&&e.hasAccount&&e.mfaOptions.length>0,a=n&&!r?o?"on":"off":"disabled",i=e.mfaOptions.find((e=>"backup_code"===e.mfaMethod)),s=e.passkeys.length>0;return{hasPassword:n,canConfigurePassword:!r,isSamlEnforced:r,mfaStatus:a,numMfaSettings:e.mfaOptions.length,regenerateBackupCodes:void 0===i&&"on"===a,hasPasskeys:s}}throw t.error}}}]);