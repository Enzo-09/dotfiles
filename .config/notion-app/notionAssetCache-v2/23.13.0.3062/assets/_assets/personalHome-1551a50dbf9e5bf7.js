"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44802],{1248:(e,t,n)=>{n.d(t,{_:()=>o});class o extends(()=>n(757695))().default{getInitialState(){}}},10123:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(570551);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){(0,o().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},33218:(e,t,n)=>{n.d(t,{UQ:()=>m,gL:()=>h});n(16280),n(898992),n(672577),n(803949);var o=()=>n(651124),i=()=>n(792071),r=()=>n(688728),a=()=>n(369186),s=()=>n(475140),l=()=>n(235692),c=()=>n(778781),d=()=>n(696706),u=()=>n(896628),p=()=>n(751156);function m(e){let{environment:t,transaction:n,layoutStore:o,position:l,updatedModule:c,sessionId:d}=e;const u=r().Zm[l.area],m=o.getRawModules();if("form_conditional_modules"===u){const e=null==m?void 0:m[u];if(!(null==e?void 0:e[l.moduleId]))throw new Error("Unable to find module being updated.");return void p().createAndCommitOrAppend({environment:t,transaction:n,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:o,operation:i().N4X.updateModuleInArea({pointer:o.pointer,area:u,module:(0,a().Lv)(c)})})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const g=(0,s().LC)(m,(e=>e.id===l.moduleId));if(!g||g.area!==u)throw new Error("Unable to find module being updated.");p().createAndCommitOrAppend({environment:t,transaction:n,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:o,operation:i().N4X.updateModuleInArea({pointer:o.pointer,module:(0,a().Lv)(c),..."views_main_tab_modules"===g.area?{area:g.area,viewId:g.viewId}:{area:g.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function g(e){var t,n,o;let{collectionStore:i,layoutStore:r}=e;const a=new Map,s=i.getFormat(),l=[...null===(t=r.getModules())||void 0===t?void 0:t.page_main,...null===(n=r.getModules())||void 0===n?void 0:n.page_details],d=new Map;null===(o=s.property_visibility)||void 0===o||o.forEach((e=>{d.set(e.property,e)})),l.forEach((e=>{if(!(0,c()._Q)(e))return(0,c().gx)(e)?(a.set(e.propertyId,{property:e.propertyId}),void d.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),d.set(e,{property:e,visibility:"show"})}))}));const u=i.getNormalizedPropertyGroups();var p;u?u.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(p=s.collection_page_properties)||void 0===p||p.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(d.values())}}function h(e){let{environment:t,transaction:n,collectionStore:r,layoutStore:a}=e;const{propertiesFormat:s,propertyVisibility:m}=g({collectionStore:r,layoutStore:a});p().createAndCommitOrAppend({environment:t,transaction:n,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),n=a.getFormat(),g=a.firstModuleOfType("viewsMain");g&&(0,c().y6)(g)&&t.find((e=>d().L3.isEqual(e,g.collection_view_block_pointer)))&&p().applyOperation({transaction:e,store:a,operation:i().N4X.removeBlockChild(a.pointer,g.collection_view_block_pointer.id)});const h=null==n?void 0:n.previousViewsMainCollectionViewBlockPointer,f=h&&t.find((e=>d().L3.isEqual(e,h)));f&&p().applyOperation({transaction:e,store:a,operation:i().N4X.removeBlockChild(a.pointer,f.id)}),p().applyOperation({transaction:e,store:a,operation:i().N4X.setModulesByAreas(a.pointer,(0,l().K5)())}),p().applyOperation({transaction:e,store:a,operation:i().N4X.deleteFormat(a.pointer)});const y=r.getFormat(),{page_section_visibility:v}=y;u().zA({stores:[r],update:{property_groups:void 0,collection_page_properties:s,property_visibility:m,...v?{page_section_visibility:o().Zi}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},36951:(e,t,n)=>{n.d(t,{Iu:()=>S,VK:()=>C,xh:()=>x});n(16280),n(898992),n(354520);var o=()=>n(370657),i=()=>n(386164),r=()=>n(427704),a=()=>n(919709),s=()=>n(532659),l=()=>n(498212),c=()=>n(939768),d=()=>n(449506),u=()=>n(705540),p=()=>n(435009),m=()=>n(351360),g=()=>n(122058),h=()=>n(847),f=()=>n(46986),y=()=>n(555102),v=()=>n(182865);async function x(e){var t;const{environment:n,clientStore:r,message:c,configs:u}=e,p=m().default.state.currentSpaceStore;if(!p)throw new Error("No current space store");const g=null===(t=n.currentUser)||void 0===t?void 0:t.id;if(!g)throw new Error("No current user");if((0,a().q4_)(c).trim().length<6)return;const h=u.filter((e=>o()._z.includes(e.type))),f=await d().callStreamApi({eventName:"runInferenceTranscript",environment:n,data:{transcript:[{id:(0,l().Ay)(),type:"config",value:{type:"route-inference-transcript",configs:h}},{id:(0,l().Ay)(),type:"user",value:c,userId:g}],traceId:(0,l().Ay)(),spaceId:p.id,generateTitle:!1},headers:(0,i().WS)({spaceId:p.id})});if("failed"===f.type)throw f.error;if(s().hS.is(f.data))for await(const o of f.data)if("config"===o.type)r.state.userSelectedConfig||r.setState({...r.state,configForNewTranscripts:o.value});else if("error"===o.type)throw o.message}function C(e){var t;const{environment:n,threadStore:o,openInNewElectronTab:i,openUsingQuickSearchHandler:a}=e,s=null==o?void 0:o.id,d=null==o?void 0:o.getConfig();"search"===(null==d?void 0:d.type)&&(0,g().By)({sessionId:void 0,searchSessionId:d.searchSessionId,threadId:s,environment:n});const h=n.device.isElectron,f=(0,c().Gm)({url:r().JZ.chat,query:{...h?{spaceId:null===(t=m().default.state)||void 0===t||null===(t=t.currentSpaceStore)||void 0===t?void 0:t.id}:{},t:s?(0,l().Xw)(s):void 0}});a&&h?u().openQuickSearchResult(f):i&&h?u().openNotionUrl({makeTabActive:!0,url:f,position:"end",openInNew:"tab",environment:n}):p().oo({environment:n,url:f})}function S(e){const{environment:t,query:n,clientStore:o,config:i,additionalSteps:r=[],openInNewElectronTab:a,openUsingQuickSearchHandler:s,suggestedPrompt:l}=e,c=m().default.state.currentSpaceStore;if(!c)throw new Error("No current space");const d=m().default.state.currentSpaceViewStore;if(!d)throw new Error("No current space view");const u=m().default.state.currentUserStore;if(!u)throw new Error("No current user");(0,v().Wq)({clientStore:o,environment:t});const p=(0,y().Kf)({environment:t,spaceStore:c,userStore:u,value:n}),g=(0,f().aj)();if("workflow"!==i.type||g){const e=(0,y().Xd)({environment:t,spaceStore:c,userStore:u,config:i,addSteps:[...r,p],blockStore:m().default.state.mainEditorCurrentBlockStore,spaceViewStore:d});C({environment:t,threadStore:(0,h().addTranscriptToNewThreadOnClientAndRun)({environment:t,spaceStore:c,clientStore:o,userStore:u,transcript:e,analyticsArgs:{suggestedPrompt:l}}),openInNewElectronTab:a,openUsingQuickSearchHandler:s})}else(0,h().createEmptyWorkflowContainerAndBuild)({environment:t,parentStore:c,userStep:p})}},56394:(e,t,n)=>{n.d(t,{A:()=>c});n(296540);var o=()=>n(484714),i=()=>n(401497),r=()=>n(668725),a=()=>n(704152),s=()=>n(963589),l=n(474848);function c(e){const{icon:t,title:n,on:c,disabled:d,hasDiff:u,wrapStyle:p,innerStyle:m,hideChevron:g}=e,{isMobile:h}=(0,o().Y0)(),f=(0,s().X)("db_ux_chrome"),y=(0,i().IS)((e=>({container:{borderRadius:14,marginRight:6,display:"inline-flex",...u&&{position:"relative"},...p},filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:h?28:24,lineHeight:h?"28px":"24px",padding:"0 8px",...!f&&{border:`1px solid ${e.outlineButtonBorder}`},color:e.text.secondary,...c&&{color:e.text.uiBluePrimary,borderColor:e.filterPillBorder,background:e.tint.uiBlue},...d&&{color:e.text.uiBlueTertiary,borderColor:e.text.uiBlueTertiary,background:e.tint.uiBlue},...m},hovered:c?{background:e.tint.uiBlueHover}:{},pressed:c?{background:e.tint.uiBluePressed}:{},chevron:{width:10,marginLeft:4,marginTop:1,fill:d?e.text.uiBlueTertiary:c?e.blueColor:e.lightIconColor},diffDot:{position:"absolute",top:-2,right:-2,background:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[300],border:`1px solid ${e.contentBackground}`,width:9,height:9,borderRadius:9}})),[u,p,h,f,c,d,m]);return(0,l.jsxs)("div",{style:y.container,children:[(0,l.jsxs)(a().A,{disabled:d,style:y.filterPill,hoveredStyle:y.hovered,pressedStyle:y.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,n,!g&&(0,r().b)(y.chevron)]}),u&&(0,l.jsx)("div",{style:y.diffDot})]})}},75993:(e,t,n)=>{n.d(t,{A:()=>o});const o=n(757695).default.createValue(!0)},88481:(e,t,n)=>{n.d(t,{pI:()=>b,Ay:()=>P});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(828634),l=()=>n(953418),c=()=>n(141333),d=()=>n(817942),u=()=>n(756279),p=()=>n(17090),m=()=>n(2143),g=()=>n(496603);function h(e){var t,n,o;let{panDirection:i,cardWidth:r,gapSize:a,cardOffset:s,startAndEndPadding:l,maxScrollDistPx:c,scrollerStore:d}=e;const u=l-a,{elementRef:p}=d.state,m=(null===(t=p.current)||void 0===t?void 0:t.clientWidth)??0,h=(null===(n=p.current)||void 0===n?void 0:n.scrollWidth)??0,f=(null===(o=p.current)||void 0===o?void 0:o.scrollLeft)??0,y=r+a,v=y-f%y+u,x=("left"===i?y-v:v)%y;return function(e){let{newScrollLeft:t,scrollWidth:n,extraGapAtStartAndEndPx:o,clientWidth:i}=e,r=t;r<=o?r=0:r+i>=n-o&&(r=n);return(0,g().qE)(r,0,n)}({newScrollLeft:f+(0===s?0:"left"===i?y-s:-s)+("left"===i?-1:1)*(Math.max(1,Math.floor(Math.min(c,m-x)/y))*y+x),scrollWidth:h,extraGapAtStartAndEndPx:u,clientWidth:m})}n(16280);const f=o.createContext({isHovered:!1});f.displayName="TileGalleryContext";var y=()=>n(534177),v=n(474848);const x=function(e){let{additionalStyles:t,transitionMs:n,force:i,children:r}=e;const{isHovered:s}=function(){const e=(0,o.useContext)(f);if(!e)throw new Error("useTileGalleryContext must be used within a TileGalleryContext.Provider");return e}(),l=(0,a().IS)((()=>{let e;switch(i){case"forceShow":e=1;break;case"forceHide":e=0;break;case void 0:e=s?1:0;break;default:(0,y().HB)(i)}return{hoverStyle:{opacity:e,transition:`opacity ${(0,y().O9)(n)?n:200}ms ease-in`,...t}}}),[t,i,s,n]);return(0,v.jsx)("div",{style:l.hoverStyle,children:r})};function C(e){let{onClick:t,type:i,scrollerStore:s,heightAdjustment:l,horizontalOffset:d}=e;const[u,p]=(0,o.useState)(!1),m=(0,r().K8)((()=>s.state.elementRef),[s]),g=(0,c().HD)(m),h=(0,c().Xg)(m),f=(0,c().sj)(m),C=(0,o.useMemo)((()=>"left"===i?0===f:"right"===i?Math.ceil(f+g)>=h:void(0,y().HB)(i)),[i,f,g,h]),S=(0,a().IS)((e=>({container:{borderRadius:"100%",width:32,height:32,boxShadow:e.homeScrollButtonShadow,background:e.home.scrollButtonBackground.base,position:"absolute",..."left"===i?{left:-16+(d??0)}:{right:-16+(d??0)},top:`calc(50% - ${16-(l??0)}px`,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},pressedStyle:{background:e.home.scrollButtonBackground.pressed},icon:{fill:u?e.regularIconColor:e.mediumIconColor,width:13,height:13}})),[l,u,i,d]);return(0,v.jsx)(x,{force:C?"forceHide":void 0,transitionMs:100,children:(0,v.jsx)(n(493823).p,{style:S.container,onClick:t,hoveredStyle:S.container,pressedStyle:S.pressedStyle,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:"left"===i?(0,n(380048).I)(S.icon):(0,n(742117).V)(S.icon)})})}const S=o.memo(C);function b(e){const{isHovered:t,...n}=e,i=(0,o.useMemo)((()=>({isHovered:t})),[t]);return(0,v.jsx)(f.Provider,{value:i,children:(0,v.jsx)(T,{...n})})}const w=600,_=16,j=32,A=96,k=24,I=16,M=16;function T(e){const t=e.marginOffset??k,n=e.mobileContainerOffset??I,g=e.startAndEndPadding??M,f=e.gapSizeOverride??_,y=(0,i().WS)(),x=(0,i().v3)(),C=(0,o.useRef)(null),b=(0,o.useRef)(null),T=(0,s().wY)(b);(0,o.useEffect)((()=>{var t,n;(null===(t=C.current)||void 0===t||t.getClientRect(),void 0!==e.scrollPosition)&&l().VG({element:null===(n=C.current)||void 0===n?void 0:n.getNode(),environment:x,options:{left:e.scrollPosition.position,behavior:e.scrollPosition.animate?"smooth":"auto"}})}),[null==T?void 0:T.width,e.scrollPosition,x]);const P=(0,r().uB)(void 0,p().A),L=(0,o.useCallback)((t=>{var n;let{panDirection:o}=t;const i=h({panDirection:o,cardWidth:e.cardWidth,gapSize:f,startAndEndPadding:g,cardOffset:64,maxScrollDistPx:w,scrollerStore:P});l().VG({element:null===(n=C.current)||void 0===n?void 0:n.getNode(),environment:x,options:{left:i,behavior:"smooth"}})}),[e.cardWidth,P,g,x,f]),R=(0,o.useCallback)((()=>L({panDirection:"left"})),[L]),H=(0,o.useCallback)((()=>L({panDirection:"right"})),[L]),B=(0,r().K8)((()=>(null==P?void 0:P.state.elementRef)??{current:null}),[P]),V=(0,c().HD)(B),D=(0,c().Xg)(B),E=(0,c().sj)(B),O=!y&&!e.preventScroll,N=0===E,F=Math.ceil(E+V)===D-t||Math.ceil(E+V)===D||Math.ceil(E+V)===D+t,W=(0,o.useMemo)((()=>{if(!y)return N||F?N?F?void 0:`linear-gradient(to left, transparent 0%, black ${A}px)`:`linear-gradient(to right, transparent 0%, black ${A}px)`:`\n\t\t\t\tlinear-gradient(\n\t\t\t\t\tto right,\n\t\t\t\t\ttransparent 0%,\n\t\t\t\t\tblack ${A}px,\n\t\t\t\t\tblack calc(100% - ${A}px),\n\t\t\t\t\ttransparent 100%\n\t\t\t\t)\n\t\t\t`}),[y,N,F]),z=(0,a().IS)((()=>{const o=F?t:0,i=N?t:0;return{galleryAndButtonsContainer:{position:"relative",...y&&{marginLeft:-n,marginRight:-n},...e.containerStyle},scrollContainer:{marginLeft:-i,marginRight:-o,marginBottom:-j},scroller:{...y&&{paddingLeft:n,paddingRight:n},maskImage:W,WebkitMaskImage:W},innerContainer:{display:"flex",gap:f,width:"max-content",marginBottom:1,paddingTop:1,paddingLeft:i,paddingRight:o,paddingBottom:j,...e.innerContainerStyle}}}),[F,N,y,n,e.containerStyle,e.innerContainerStyle,t,W,f]),U=-t/2;return(0,v.jsxs)("div",{style:z.galleryAndButtonsContainer,children:[(0,v.jsx)("div",{style:z.scrollContainer,children:(0,v.jsx)(m().H,{ref:C,className:d().A5,store:P,type:u().A.X,style:z.scroller,preventType:e.preventScroll?u().A.X:void 0,children:(0,v.jsx)("div",{style:z.innerContainer,ref:b,children:e.children})})}),O&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(S,{onClick:R,type:"left",scrollerStore:P,heightAdjustment:U,horizontalOffset:e.scrollButtonHorizontalOffset}),(0,v.jsx)(S,{onClick:H,type:"right",scrollerStore:P,heightAdjustment:U,horizontalOffset:e.scrollButtonHorizontalOffset})]})]})}const P=o.memo(b)},101209:(e,t,n)=>{n.d(t,{v:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("boltFilled",{svg:(0,o.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},122555:(e,t,n)=>{n.d(t,{p:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("arrowUpLeft",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M0.845703 8.58691L0.852539 1.72363C0.852539 1.48665 0.923177 1.29525 1.06445 1.14941C1.21029 0.999023 1.40625 0.923828 1.65234 0.923828H8.51562C8.74349 0.923828 8.93034 0.999023 9.07617 1.14941C9.22201 1.2998 9.29492 1.47526 9.29492 1.67578C9.29492 1.8763 9.21973 2.04948 9.06934 2.19531C8.91895 2.33659 8.74121 2.40723 8.53613 2.40723H6.10254L3.16309 2.30469L4.40723 3.39844L10.915 9.91992C11.0745 10.084 11.1543 10.264 11.1543 10.46C11.1543 10.5921 11.1178 10.7174 11.0449 10.8359C10.972 10.9544 10.8763 11.0479 10.7578 11.1162C10.6439 11.1891 10.5186 11.2256 10.3818 11.2256C10.1813 11.2256 10.0013 11.1481 9.8418 10.9932L3.32715 4.47852L2.21973 3.23438L2.33594 6.05078V8.60742C2.33594 8.8125 2.26302 8.99251 2.11719 9.14746C1.97591 9.29785 1.80273 9.37305 1.59766 9.37305C1.39714 9.37305 1.22168 9.29785 1.07129 9.14746C0.920898 8.99707 0.845703 8.81022 0.845703 8.58691Z"})})},124085:(e,t,n)=>{n.d(t,{P:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("thinPlus",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M 7.75 0L 6.25 0L 6.25 6.25L 0 6.25L 0 7.75L 6.25 7.75L 6.25 14L 7.75 14L 7.75 7.75L 14 7.75L 14 6.25L 7.75 6.25L 7.75 0Z"})})},132389:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,o.jsx)("div",{style:t})}},143650:(e,t,n)=>{n.d(t,{e:()=>s});var o=n(296540),i=()=>n(484714),r=()=>n(751156),a=()=>n(351360);function s(){const[e,t]=(0,o.useState)(!0),n=(0,i().v3)();(0,o.useEffect)((()=>{if(e){const{currentSpaceViewStore:e}=a().default.state;if(!e)return;r().createAndCommit({userAction:"PostsHomePanel.updateLastOpened",environment:n,canUndo:!0,perform:t=>{r().applyOperation({store:e,operation:{pointer:e.pointer,path:["settings","last_opened_aggregated_feed"],command:"set",args:Date.now()},transaction:t})}})}}),[e,n])}},149375:(e,t,n)=>{n.d(t,{v:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},155185:(e,t,n)=>{n.d(t,{I:()=>a,_:()=>r});const o={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},i={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1};function r(e){return o[e.type]}function a(e){return i[e.type]}},167068:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(296540),i=n(474848);function r(e){let{...t}=e;const o=(0,n(959013).tz)(),r=(0,n(401497).IS)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},threeDotIcon:{width:12,height:12,fill:e.mediumIconColor}})),[]),a=o.formatMessage({defaultMessage:"View options",id:"PersonalHomePanel.moreDropdownButton.tooltip"});return(0,i.jsx)(n(704152).A,{ariaLabel:a,style:r.buttonStyle,mobileFeedback:!1,...t,children:(0,n(30626)._)(r.threeDotIcon)})}const a=o.memo(r)},168500:(e,t,n)=>{n.d(t,{u:()=>i});var o=()=>n(961581);const i=new class{constructor(){this.pendingNavigation=void 0}initMeasurement(e){var t;let{homeType:i}=e;o().A.state.initialRenderCompleted||o().A.update((e=>({...e,initialRenderCompleted:!0})));const r=null===(t=n(606932).A.popTimings())||void 0===t?void 0:t.navigationStart;this.pendingNavigation=r?{loadType:"navigation",homeType:i,navigationStart:r}:void 0}onResults(e){let{environment:t}=e;if(!this.pendingNavigation)return;const{navigationStart:o,homeType:i,loadType:r}=this.pendingNavigation;this.pendingNavigation=void 0,n(406792).default.measureAfterNextFlush({metricName:"feed_render",startTime:o},{environment:t,getData:()=>({home_type:i,load_type:r})})}}},181088:(e,t,n)=>{n.r(t),n.d(t,{clockSmallIcon:()=>r,iconDefinition:()=>i});n(296540);var o=n(474848);const i={viewBox:"0 0 16 16",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M8 3.955a.625.625 0 0 0-.625.625v2.795H5.12a.625.625 0 1 0 0 1.25H8c.345 0 .625-.28.625-.625V4.58A.625.625 0 0 0 8 3.955"}),(0,o.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 0 12.25 6.125 6.125 0 0 0 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0"})]})},r=(0,n(340498).wt)("clockSmall",i)},194188:(e,t,n)=>{function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{A:()=>o})},196459:(e,t,n)=>{n.d(t,{O:()=>_});n(898992),n(354520),n(737550);var o=()=>n(244641),i=n(296540),r=()=>n(484714),a=()=>n(847249),s=()=>n(187174),l=()=>n(496603),c=()=>n(534177),d=()=>n(767525),u=()=>n(838924),p=()=>n(351360),m=()=>n(523239);n(823215);function g(e){if(0===e.length)return!0;const t=e[0];return e.every((e=>void 0!==e&&e===t))}var h=()=>n(185984),f=()=>n(90857),y=()=>n(614016),v=()=>n(823115),x=()=>n(377515),C=()=>n(379560),S=()=>n(677169),b=()=>n(541808);const w=1e4;function _(){var e;const t=(0,r().v3)(),n=(0,S().m)(),{timeZone:_}=(0,d().mn)(),I=(0,u().s5)(),{connectedAccounts:M,disconnectedAccounts:T}=(0,b().B)(),[P,L]=i.useState(0),[R,H]=i.useState(!0),B=(0,i.useMemo)((()=>(0,l().sg)((()=>{L((e=>e+1)),H(!1),setTimeout((()=>H(!0)),w)}),1e3,{leading:!0,trailing:!1})),[]),{currentSpaceViewStore:V,currentSpaceStore:D}=(0,a().K8)((()=>({currentSpaceViewStore:p().default.state.currentSpaceViewStore,currentSpaceStore:p().default.state.currentSpaceStore})),[]),E=(0,a().K8)((()=>void 0!==C().A.getStateForCurrentSpaceView()),[]),O=(0,a().K8)((()=>{var e,o;const{botSpaceId:i,botUserId:r}=n,a=null==V?void 0:V.getSpaceId(),s=null==V?void 0:V.getUserId(),l=null==D?void 0:D.id,c=null===(e=p().default.state.currentUserStore)||void 0===e?void 0:e.id,d=null===(o=t.currentUser)||void 0===o?void 0:o.id;return g([i,a,l])&&g([r,s,c,d])}),[n,null==D?void 0:D.id,V,null===(e=t.currentUser)||void 0===e?void 0:e.id]),N=i.useRef(void 0),[F]=(0,s().Yb)((async()=>{const e=n.botId;if(!O||!V)return"appNotSynced";if(!e)return n.loading||(0,m().F8)(),"noConnectedBot";const o=await(0,m().qq)({environment:t,currentSpaceViewStore:V,botId:e,forceRefetch:!1,timeRange:(0,y().M)(),reason:"foreground_load"}),i=!N.current,r=N.current&&(N.current.spaceViewId!==V.id||N.current.botId!==e);switch("skipped"===o&&(i||r)&&k({environment:t,currentSpaceViewStore:V,botId:e,forceRefetch:!0,timeRange:(0,y().M)(),updateMethod:"replace",reason:"background_load"}),N.current={spaceViewId:V.id,botId:e},o){case"success":case"skipped":return"loadCompleted";case"failure":return"loadError";default:(0,c().HB)(o)}}),[O,n.botId,n.loading,V,t,P]),{days:W,numDaysWithEvents:z}=(0,a().K8)((()=>{const e=n.botId;if(!e||"resolved"!==F.status||!E||!V)return{days:[],numDaysWithEvents:0};const{timeMin:t,timeMax:i}=(0,y().iI)(),r=(0,f().g2)({events:C().A.getEvents(),calendars:C().A.getCalendarMap(),startDate:o().c9.fromMillis(t,{zone:_}),endDateInclusive:o().c9.fromMillis(i,{zone:_}),getCalendarVisibility:t=>(0,x().Pj)({spaceViewStore:V,botId:e,calendar:t}),eventFilters:{all_day_events:(0,h().E)("all_day_events"),events_without_participants:(0,h().E)("events_without_participants"),events_without_location:(0,h().E)("events_without_location")},timeZone:_});let a=0;return{days:r.filter((e=>{const t=e.allDayEvents.length>0||e.timedEvents.length>0;return t&&a++,t||(0,v().cK)(e.date,I)})),numDaysWithEvents:a}}),[n.botId,F.status,E,V,I,_]),U=function(e){let{botIdState:t,eventsLoadingState:n,isEventsDataAvailable:o,numDaysWithEvents:i,connectedAccounts:r,disconnectedAccounts:a}=e;const s=r.filter((e=>j(e)||A(e))),l=a.filter((e=>j(e)||A(e)));return t.loading||"resolved"!==n.status&&"rejected"!==n.status||"resolved"===n.status&&"noConnectedBot"===n.value&&!t.loading&&void 0!==t.botId||"resolved"===n.status&&"loadCompleted"===n.value&&!o||"resolved"===n.status&&"appNotSynced"===n.value?"loading":!t.loading&&!t.botId||0===s.length&&0===l.length?"signedOut":0===r.filter(j).length&&a.filter(j).length>0?a.filter(j).some((e=>"missingScopes"===e.authorizationStatus))?"missingScopes":"disconnectedAccount":"rejected"===n.status||"resolved"===n.status&&"loadError"===n.value?"loadError":0===i?"noEvents":"events"}({botIdState:n,eventsLoadingState:F,isEventsDataAvailable:E,numDaysWithEvents:z,connectedAccounts:M,disconnectedAccounts:T});return{isRetryEventLoadingEnabled:R,retryEventLoading:B,displayState:U,eventsLoadingState:F,days:W}}function j(e){let{provider:t}=e;return"google"===t}function A(e){let{provider:t}=e;return"icloud"===t}const k=(0,l().sg)(m().qq,1e4,{leading:!0,trailing:!0})},205557:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,lightBulbBrightSmallIcon:()=>i});n(296540);const o={viewBox:"0 0 16 16",svg:(0,n(474848).jsx)("path",{d:"M8 1.385c-2.23 0-4.035 1.793-4.035 3.985 0 .782.193 1.525.56 2.147.09.161.181.312.281.473.454.725.86 1.386.86 2.08a.63.63 0 0 0 .624.625.63.63 0 0 0 .625-.625c.01-1.064-.553-1.972-1.041-2.75l-.27-.448a3 3 0 0 1-.389-1.512C5.215 3.853 6.46 2.625 8 2.625s2.785 1.228 2.785 2.735c0 .558-.137 1.084-.39 1.512l-.269.449-.01.016c-.475.773-1.03 1.675-1.03 2.723a.63.63 0 0 0 .55.62v.015h.074a.63.63 0 0 0 .625-.625c0-.684.406-1.355.859-2.08v-.002l.001-.001q.067-.117.139-.233t.141-.237c.367-.622.56-1.365.56-2.147 0-2.202-1.815-3.985-4.035-3.985m-1.6 10.19a.63.63 0 0 0-.625.625.63.63 0 0 0 .625.625h3.2a.63.63 0 0 0 .625-.625.63.63 0 0 0-.625-.625zm.8 1.8a.63.63 0 0 0-.625.625.63.63 0 0 0 .625.625h1.6A.63.63 0 0 0 9.425 14a.63.63 0 0 0-.625-.625z"})},i=(0,n(340498).wt)("lightBulbBrightSmall",o)},207583:(e,t,n)=>{n.d(t,{F:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("eyeHideInversePadded",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M17.3867 18.1074C17.6055 18.3193 17.9404 18.333 18.1592 18.1074C18.3848 17.875 18.3711 17.5469 18.1592 17.335L6.5791 5.76855C6.37402 5.55664 6.01855 5.5498 5.80664 5.76855C5.60156 5.97363 5.60156 6.3291 5.80664 6.53418L17.3867 18.1074ZM12 6.1582C10.8105 6.1582 9.73047 6.36328 8.72559 6.69141L9.81934 7.78516C10.5098 7.58691 11.2275 7.4707 12 7.4707C16.3682 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 12.6113 18.7334 14.0059 16.9766 15.1064L17.9883 16.125C20.1348 14.7168 21.3857 12.8779 21.3857 12.0713C21.3857 10.6699 17.6055 6.1582 12 6.1582ZM12 17.9912C13.2646 17.9912 14.4199 17.7725 15.4658 17.4102L14.3789 16.3232C13.6338 16.542 12.8477 16.6787 12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.6133 5.32129 10.1299 7.19434 8.98145L6.16211 7.94922C3.92676 9.37109 2.60742 11.251 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM15.4111 13.3906C15.5889 12.9873 15.6914 12.5361 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C11.5283 8.39355 11.084 8.48242 10.6738 8.65332L15.4111 13.3906ZM12 15.7559C12.5332 15.7559 13.0322 15.6328 13.4766 15.4209L8.64355 10.5811C8.4248 11.0322 8.30176 11.5312 8.30176 12.0781C8.30859 14.0811 9.94238 15.7559 12 15.7559Z"})})},216296:(e,t,n)=>{n.d(t,{s:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})},i=(0,n(340498).wt)("circle",o)},218275:(e,t,n)=>{n.r(t),n.d(t,{arrowUpRightSquareSmallIcon:()=>r,iconDefinition:()=>i});n(296540);var o=n(474848);const i={viewBox:"0 0 16 16",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M6.898 5.025a.575.575 0 1 0 0 1.15h2.114l-3.969 3.968a.575.575 0 0 0 .814.814l3.968-3.969v2.114a.575.575 0 0 0 1.15 0V5.6a.575.575 0 0 0-.575-.575z"}),(0,o.jsx)("path",{d:"M4.25 2.375c-1.036 0-1.875.84-1.875 1.875v7.5c0 1.036.84 1.875 1.875 1.875h7.5c1.036 0 1.875-.84 1.875-1.875v-7.5c0-1.036-.84-1.875-1.875-1.875zM3.625 4.25c0-.345.28-.625.625-.625h7.5c.345 0 .625.28.625.625v7.5c0 .345-.28.625-.625.625h-7.5a.625.625 0 0 1-.625-.625z"})]})},r=(0,n(340498).wt)("arrowUpRightSquareSmall",i)},235022:(e,t,n)=>{n.d(t,{RK:()=>c,x:()=>l,zf:()=>a});n(898992),n(354520),n(581454);var o=()=>n(179034),i=()=>n(351360),r=()=>n(630116);const a=10;const s=new class{constructor(){this.localStorageStore=new(n(419494).Ay)({namespace:"recentsCache",important:!1,trackingType:"preference"})}get(e){return this.localStorageStore.get(e)}set(e,t){this.localStorageStore.set(e,t)}remove(e){this.localStorageStore.remove(e)}};function l(e){var t;const n=null===(t=i().default.state.currentSpaceViewStore)||void 0===t?void 0:t.id;if(!n)return!1;const o=e.filter((e=>e.canRead())).slice(0,a);return s.set(n,o.map((e=>e.id))),!0}function c(){const{currentSpaceViewStore:e}=i().default.state;if(!e)return;const t=s.get(e.id);return t?t.map((t=>r().Bv.createChildStore(e,{id:t,table:o().ev,spaceId:e.id}))):void 0}},235692:(e,t,n)=>{n.d(t,{K5:()=>p,Vp:()=>d,_u:()=>c,oP:()=>m,wC:()=>l,xN:()=>u});n(898992),n(354520),n(581454);var o=()=>n(183558),i=()=>n(155185),r=()=>n(778781),a=()=>n(369186);const s={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},l={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},c={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyLabels:"hide",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},d={page_main:[],page_details:[],form_layout_schema:[],person_profile_page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"recent_activity",type:"recentActivity"}],person_profile_page_details:[{id:"collaborators",type:"collaborators"},{id:"teamspaces",type:"teamspaces"}]};function u(e){return(0,a().jr)({modulesByArea:s,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function p(){return{page_layout_schema:(0,a().ke)(s.page_main).map((e=>{if(!(0,r().cn)(e))return(0,i().I)(e)?{...e,id:(0,o().Ay)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().ke)(s.page_details).map((e=>{if(!(0,r().cn)(e))return(0,i().I)(e)?{...e,id:(0,o().Ay)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0}}function m(e,t){const n=void 0===t?[{id:(0,o().Ay)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,o().Ay)(),type:"formQuestion",formQuestionId:e},{id:(0,o().Ay)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0,form_layout_schema:[{id:(0,o().Ay)(),type:"cover"},{id:(0,o().Ay)(),type:"formTitle"},...n,{id:(0,o().Ay)(),type:"formSubmit"}]}}},253673:(e,t,n)=>{n.d(t,{z:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M10 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M7.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M10 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h8.3c.68 0 1.328-.287 1.74-.767.429-.502.591-1.217.23-1.923-1.02-1.99-3.42-3.305-6.12-3.305m-5.007 3.875c.761-1.488 2.672-2.626 5.007-2.626s4.246 1.138 5.007 2.626c.105.204.07.378-.067.54-.156.182-.448.33-.79.33h-8.3c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54"})},i=(0,n(340498).wt)("person",o)},254982:(e,t,n)=>{n.d(t,{G:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("trendingLarge",{viewBox:"0 0 48 48",svg:(0,o.jsx)("path",{d:"M8.75 36.5842V11.4307C8.75 10.7907 9.28581 10.24 9.95558 10.24C10.6105 10.24 11.1463 10.7907 11.1463 11.4307V24.7219L15.79 20.0186C16.4747 19.3339 17.0998 19.0363 17.7993 19.0363C18.4988 19.0363 19.1537 19.3488 19.8086 20.0186L25.2858 25.6298C25.4198 25.7637 25.5686 25.8381 25.6877 25.8381C25.8216 25.8381 25.9705 25.7637 26.1044 25.6298L31.9686 19.6912L29.5128 17.2353C28.977 16.6995 29.3044 16.0149 30.0635 15.8065L38.7705 13.6186C39.4402 13.44 40.0356 14.0056 39.857 14.6902L37.6542 23.4121C37.4607 24.1712 36.7612 24.4986 36.2253 23.9628L33.7844 21.507L27.7119 27.6093C27.0421 28.2791 26.4021 28.5916 25.6877 28.5916C24.9881 28.5916 24.3184 28.2791 23.6784 27.6093L18.2012 21.9981C18.0672 21.8642 17.9333 21.7898 17.7993 21.7898C17.6653 21.7898 17.5314 21.8642 17.3974 21.9981L11.1463 28.3684V34.9619C11.1463 35.2744 11.2505 35.3786 11.563 35.3786H39.5444C40.1993 35.3786 40.75 35.9144 40.75 36.5693C40.75 37.2391 40.1993 37.76 39.5444 37.76H9.9407C9.22628 37.76 8.75 37.2986 8.75 36.5842Z"})})},266945:(e,t,n)=>{n.d(t,{x:()=>c});n(296540);var o=()=>n(847249),i=()=>n(959013),r=()=>n(534177),a=()=>n(569866),s=()=>n(212326),l=n(474848);function c(){const e=(0,o().K8)((()=>(0,s().dl)()),[]);switch(e){case"unread_and_read":case"unread_only":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"You'll be notified here for @mentions, page activity, and page invites",id:"inbox.filterEmptyState.nonArchivedMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"You're all caught up",id:"inbox.filterEmptyState.nonArchivedTitle"})});case"archived_only":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"Any Inbox updates you archived will show up here.",id:"inbox.filterEmptyState.archivedMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"No archived updates",id:"inbox.filterEmptyState.archivedTitle"})});case"all_updates":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"Any activity in the workspace will show up here.",id:"inbox.filterEmptyState.allPagesMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"No activity in the workspace",id:"inbox.filterEmptyState.allPagesTitle"})});default:(0,r().HB)(e)}}},273923:(e,t,n)=>{n.d(t,{R:()=>o});const o=(0,n(296540).createContext)({isHoveredOnPanelStore:void 0,sizeStore:void 0});o.displayName="HomePanelContext"},277942:(e,t,n)=>{n.d(t,{J1:()=>r,M4:()=>c,NV:()=>d,_:()=>a,ev:()=>u,j5:()=>l,rm:()=>s});var o=()=>n(645873);const i={FullPageAI:new(o().O2)("FullPageAI",(()=>Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(95699)]).then(n.bind(n,130145)))),AIModePicker:new(o().O2)("AIModePicker",(()=>n.e(82926).then(n.bind(n,546716)))),AgentModelPicker:new(o().O2)("AgentModelPicker",(()=>n.e(8243).then(n.bind(n,843970)))),AIChatInput:new(o().O2)("AIChatInput",(()=>Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(16716),n.e(67333)]).then(n.bind(n,397693)))),AIChatView:new(o().O2)("AIChatView",(()=>Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(31611),n.e(91078),n.e(47108)]).then(n.bind(n,475685)))),AgentChatView:new(o().O2)("AgentChatView",(()=>Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(31611),n.e(91078),n.e(46283)]).then(n.bind(n,126382)))),AgentChatInput:new(o().O2)("AgentChatInput",(()=>Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(16716),n.e(90068)]).then(n.bind(n,333470))))},r=(0,o()._h)(i.FullPageAI,(e=>e.FullPageAI)),a=(0,o()._h)(i.AIModePicker,(e=>e.AIModePicker)),s=(0,o()._h)(i.AgentModelPicker,(e=>e.AgentModelPicker)),l=(0,o()._h)(i.AIChatInput,(e=>e.AIChatInput)),c=(0,o()._h)(i.AIChatView,(e=>e.AIChatView)),d=(0,o()._h)(i.AgentChatView,(e=>e.AgentChatView)),u=(0,o()._h)(i.AgentChatInput,(e=>e.AgentChatInput))},293633:(e,t,n)=>{n.d(t,{l:()=>s});var o=()=>n(484714),i=()=>n(847249),r=()=>n(401497),a=()=>n(665579);function s(){const e=(0,r().DP)(),t=(0,o().WS)();return(0,i().K8)((()=>(t?a().pW:a().$L)+2*(0,a().O0)({mode:e.mode})),[t,e.mode])}},296060:(e,t,n)=>{n.d(t,{H:()=>i,a:()=>r});var o=n(296540);const i={panelState:void 0,view:"notionHomeTile"},r=(0,o.createContext)(i);r.displayName="CalendarAnalyticsContext"},297401:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(e){const t=(0,n(484714).v3)(),i={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:r,disabled:a}=e,{device:s}=t,l=s.isMobile?{...i.removeFilterButton,...i.removeFilterButtonMobile}:i.removeFilterButton;return(0,o.jsx)(n(285790).A,{icon:n(931121).J,onClick:r,disabled:a,disableBackground:!0,style:l})}},300755:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,templatesFillIcon:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"m14.636 8.765 1.003 1.737a.93.93 0 0 0 .355-.73v-5.59a.934.934 0 0 0-.932-.932H9.239a.934.934 0 0 0-.932.932v5.6c0 .502.41.921.923.921h.752L11.1 8.765q.048-.083.109-.155a2.035 2.035 0 0 1 3.425.152z"}),(0,o.jsx)("path",{d:"M9.347 11.803H9.23a2.024 2.024 0 0 1-2.022-2.022V6.284a4.195 4.195 0 1 0 .538 8.295zm2.706-2.488L8.57 15.353a.931.931 0 0 0 .81 1.397h6.978a.934.934 0 0 0 .811-1.398l-3.484-6.037a.936.936 0 0 0-1.622 0z"})]})},r=(0,n(340498).wt)("templatesFill",i)},310188:(e,t,n)=>{n.d(t,{K:()=>r});var o=()=>n(713998),i=()=>n(641007);function r(e){let{type:t,store:n,textValue:r}=e;if(!r||!t)return{linkHref:void 0,shouldShowMaliciousContentDialog:!1};const a=(null==n?void 0:n.getCreatedById())===i().xY.id&&"url"===t;return{linkHref:(0,o().UY)(t,r),shouldShowMaliciousContentDialog:a}}},320260:(e,t,n)=>{n.d(t,{y:()=>c});var o=n(296540),i=()=>n(401497),r=()=>n(644187),a=()=>n(720665),s=()=>n(645873);const l=new(s().O2)("notionCalendarLogos",(async()=>n.e(94366).then(n.bind(n,543276))));function c(e){const t=(0,s().fJ)(l),n=function(){const[e,t]=(0,o.useState)(new Date),n=(0,o.useRef)();return(0,o.useEffect)((()=>{const o=()=>{const n=new Date;n.getDate()!==e.getDate()&&t(n)},i=new Date,r=new Date(i);r.setHours(i.getHours()+1),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);const s=r.getTime()-i.getTime(),l=setTimeout((()=>{o(),n.current=window.setInterval(o,a().pT)}),s);return()=>{clearTimeout(l),clearInterval(n.current)}}),[e]),e}(),c=e.dateNumber??n.getDate(),d=(0,i().IS)((t=>({icon:{width:16,height:16,color:t.icon.secondary,...e.style}})),[e.style]),u=(0,o.useCallback)((e=>{const n=r().K;if(e<1||e>31)return n(d.icon);const o=`calendarDate${e<10?`0${e}`:`${e}`}Icon`;if("resolved"!==t.status)return n(d.icon);return(0,t.value[o])(d.icon)}),[d,t]);return u(c)}},324561:(e,t,n)=>{n.d(t,{Gi:()=>g,OD:()=>d,Q7:()=>m,UU:()=>h,_3:()=>p,a9:()=>u,f_:()=>c});var o=()=>n(484714),i=()=>n(847249),r=()=>n(857639),a=()=>n(762433),s=()=>n(596513),l=()=>n(714300);function c(e){let{spaceId:t}=e;const n=(0,o().v3)();return(0,i().K8)((()=>{if(t)return s().t.getData(n,{spaceId:t})}),[n,t])}function d(e){let{environment:t,spaceId:n}=e;return n?s().t.awaitData(t,{spaceId:n}):Promise.resolve(void 0)}function u(e){if("admin"===(null==e?void 0:e.type))return e}function p(e){let{spaceId:t}=e;return u((0,l().l)({spaceId:t}))}function m(e,t,n){if(!t)return 0;const o=(0,a().yB)({spaceId:e,logFunction:r().log.bind(r()),billingData:t});return o?Math.max(o,n):0}function g(e){var t;const n=null===(t=(0,a().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const o=n.unitAmount,i="year"===n.billingInterval?12:1;return{amount:o.amount/i,currencyCode:o.currencyCode}}function h(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},358167:(e,t,n)=>{n.d(t,{v:()=>r});var o=()=>n(847249),i=()=>n(116008);function r(e){const{blockId:t,propertyId:n}=e;return(0,o().K8)((()=>i().A.isPropertyWithDraftDiscussion({blockId:t,propertyId:n})),[t,n])}},370873:(e,t,n)=>{n.d(t,{p:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("myTasksLarge",{viewBox:"0 0 48 48",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M21.693 39.17a9.05 9.05 0 0 1-.73 1.238H39.52c1.65 0 2.892-.413 3.727-1.238.835-.824 1.253-2.05 1.253-3.68V19.203c0-1.628-.418-2.855-1.253-3.68-.835-.824-2.078-1.236-3.727-1.236H16.253c-1.66 0-2.908.412-3.744 1.237-.824.814-1.237 2.04-1.237 3.68v5.28c.212-.02.423-.036.635-.047a6.387 6.387 0 0 1 1.269 0c.222.01.438.027.65.048v-5.14c0-.824.211-1.448.634-1.87.423-.424 1.031-.635 1.824-.635h23.188c.783 0 1.39.212 1.824.634.434.423.65 1.047.65 1.872v16.003c0 .825-.216 1.449-.65 1.872-.433.423-1.041.634-1.824.634H22.248a8.47 8.47 0 0 1-.555 1.316ZM15.364 10.082c-.38.381-.629.93-.745 1.65h26.55c-.127-.72-.38-1.269-.761-1.65-.37-.39-.952-.586-1.745-.586H17.125c-.793 0-1.38.195-1.76.586ZM18.52 5.816c-.38.338-.591.846-.634 1.523h20.016c-.053-.677-.275-1.185-.666-1.523-.38-.349-.936-.523-1.665-.523H20.2c-.729 0-1.29.174-1.68.523Z"}),(0,o.jsx)("path",{d:"M9.448 42.073a7.71 7.71 0 0 0 3.11.634c1.088 0 2.12-.211 3.092-.634a8.253 8.253 0 0 0 2.57-1.745 8.123 8.123 0 0 0 1.76-2.57 7.712 7.712 0 0 0 .634-3.108 7.75 7.75 0 0 0-.634-3.124 8.032 8.032 0 0 0-1.729-2.57 8.03 8.03 0 0 0-2.57-1.728 7.75 7.75 0 0 0-3.124-.635 7.71 7.71 0 0 0-3.109.635 7.907 7.907 0 0 0-2.569 1.744 8.253 8.253 0 0 0-1.745 2.57A7.639 7.639 0 0 0 4.5 34.65c0 1.11.211 2.152.634 3.125a8.254 8.254 0 0 0 1.745 2.57 8.03 8.03 0 0 0 2.57 1.728Zm3.807-2.649c-.17.18-.402.27-.698.27-.296 0-.534-.09-.714-.27-.169-.18-.253-.412-.253-.698v-3.108H8.48c-.286 0-.518-.09-.698-.27-.18-.17-.27-.402-.27-.698 0-.296.09-.528.27-.698.18-.18.412-.27.698-.27h3.109v-3.108c0-.285.084-.518.253-.698.18-.18.418-.27.714-.27s.529.09.698.27c.18.18.27.413.27.698v3.109h3.108c.286 0 .518.09.698.27.18.169.27.401.27.697 0 .296-.09.529-.27.698-.18.18-.412.27-.698.27h-3.108v3.108c0 .286-.09.519-.27.698ZM27.229 32.326c.292.341.664.512 1.116.512.514 0 .903-.198 1.166-.592l5.693-8.58c.095-.14.164-.277.21-.413a1.3 1.3 0 0 0 .068-.401c0-.354-.124-.646-.37-.876a1.246 1.246 0 0 0-.901-.352c-.247 0-.456.05-.63.149-.168.094-.328.259-.48.493l-4.78 7.506-2.394-2.868c-.259-.3-.584-.45-.974-.45-.366 0-.668.117-.907.351a1.186 1.186 0 0 0-.357.883c0 .16.024.312.073.456.054.14.15.286.29.438l3.177 3.744Z"})]})})},379610:(e,t,n)=>{n.d(t,{p:()=>o().Ay});var o=()=>n(88481)},380048:(e,t,n)=>{n.d(t,{I:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},390527:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>P,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>w,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>b,MAX_RECURRENCE_INTERVAL:()=>y,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>v,RRULE_WEEKDAYS_MAP:()=>f,adjustedStartDateIfPossible:()=>j,areRecurrenceSchedulesEqual:()=>V,convertFromUnpersistedRecurrenceConfig:()=>B,convertToUnpersistedRecurrenceConfig:()=>L,getFormattedEndCondition:()=>T,getFormattedNextRecurrenceTime:()=>M,getNewEndTimestamp:()=>R,getNextDateUtc:()=>I,getRecurrenceAfter:()=>A,isRunningBetweenMidnightAnd3AM:()=>k,isValidRecurrenceInterval:()=>x,isValidRecurrenceNumberOfRuns:()=>C,rruleFromRecurrence:()=>S,templateAncestorsViolateRecurrenceNesting:()=>_});n(898992),n(354520),n(581454);var o=()=>n(244641);n(944114);function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(0===n.length)return e.map((e=>[e]));const r=[];for(const a of e)r.push(...i(n[0],...n.slice(1)).map((e=>[a,...e])));return r}var r=()=>n(496603),a=()=>n(534177),s=()=>n(720665),l=()=>n(597777),c=()=>n(869190),d=()=>n(416504),u=()=>n(402390);class p extends(()=>n(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var m=()=>n(912720);const g=(0,n(959013).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12–3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),h={day:p.DAILY,week:p.WEEKLY,month:p.MONTHLY,year:p.YEARLY},f={MO:p.MO,TU:p.TU,WE:p.WE,TH:p.TH,FR:p.FR,SA:p.SA,SU:p.SU},y=99,v=999;function x(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=y}function C(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=v}function S(e){const{start_date:t,frequency:n,interval:o,weekdays:r,timezone:s,hour:c,minute:d}=e,u="week"===n&&r?r.map((e=>f[e])):void 0,m={};return(0,a().O9)(e.end_condition)&&("date"===e.end_condition.type?m.until=(0,l().eU)(e.end_condition.end_at):"number"===e.end_condition.type?m.count=e.end_condition.number_of_occurrences:(0,a().HB)(e.end_condition)),"month"===e.frequency&&(0,a().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?m.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?m.byweekday=i(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,n]=e;return f[t].nth(n)})):(0,a().HB)(e.monthly_restriction)),new p({freq:h[n],dtstart:(0,l().eU)(t),interval:o,byweekday:u,tzid:s,byhour:c??0,byminute:d??0,bysecond:0,...m})}const b=1,w=1;function _(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const n=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),o=e.length,i=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,r=o>b,a=n.length>=w;return{violatesConstraint:r||a,templateNestingExceedsMaxDepth:r,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:o,immediateAncestorRecurrenceType:i}}function j(e){var t;const{recurrence:n,afterDate:i}=e;if("number"===(null===(t=n.end_condition)||void 0===t?void 0:t.type)||n.start_date>=i)return n;let r=o().c9.fromMillis(n.start_date,{zone:"utc"});const a=o().c9.fromMillis(i,{zone:"utc"});switch(n.frequency){case"year":{const e=Math.floor(a.diff(r,"years").years/n.interval);r=r.plus({years:e*n.interval});break}case"month":{const e=Math.floor(a.diff(r,"months").months/n.interval);r=r.plus({months:e*n.interval});break}case"week":{const e=Math.floor(a.diff(r,"weeks").weeks/n.interval);r=r.plus({weeks:e*n.interval});break}case"day":{const e=Math.floor(a.diff(r,"days").days/n.interval);r=r.plus({days:e*n.interval});break}}return{...n,start_date:(0,l().DH)(r.toMillis())}}function A(e){const{recurrence:t,afterDate:n}=e;if((0,m().wt)(t)){const e=(0,l().l1)(n);return t.start_date>=e?new Date(t.start_date):void 0}{const e=S(j({recurrence:t,afterDate:n})).after((0,l().eU)(n));if(!e)return;return(0,l().h1)(e)}}function k(e){return 0===e.hour||1===e.hour||2===e.hour}function I(e){return S(e).after((0,l().eU)((0,l().Rz)()))||void 0}function M(e){const{recurrence:t,intl:n}=e,i=I(B(t));if(!i)return;const r=k(t),a=o().c9.fromJSDate(i).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,u().H)(n)).setZone(t.timezone),s=(0,c().Yq)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:n,shortenDate:!0});if(r)return n.formatMessage(g.dateBetweenMidnightAnd3AM,{date:s});{let e=a.toLocaleString(o().c9.TIME_SIMPLE);return t.timezone!==(0,d().P)()&&(e+=` ${a.toFormat("ZZZZ")}`),n.formatMessage(g.dateAtTime,{date:s,time:e})}}function T(e,t){return(0,a().O9)(e)?"number"===e.type?t.formatMessage(g.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,c().Yq)({date:o().c9.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,a().HB)(e):t.formatMessage(g.noEndCondition)}const P=100;function L(e){return{...e,start_date:(0,l().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().l1)(e.end_condition.end_at)}:(0,a().HB)(e.end_condition):void 0}}function R(e,t,n){return e.plus(n-t)}function H(e,t){const n=o().c9.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Rz)(n.toJSDate())}}function B(e){return{...e,start_date:(0,l().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?H(e,e.end_condition):(0,a().HB)(e.end_condition):void 0}}function V(e,t){const n=r().fN(e,(e=>void 0!==e)),o=r().fN(t,(e=>void 0!==e));return r().n4(n,o)}},392998:(e,t,n)=>{n.d(t,{A:()=>a});var o=()=>n(194188),i=()=>n(10123),r=()=>n(570551);function a(e,t){(0,r().A)(2,arguments);var n=(0,i().A)(e),a=(0,o().A)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},398208:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(296540),i=n(474848);function r(e){let{onClose:t,style:o}=e;const r=(0,n(959013).tz)(),{isMobile:a}=(0,n(484714).Y0)(),s=(0,n(401497).IS)((()=>({closeButton:{borderRadius:"100%",width:a?28:22,height:a?28:22,...o},closeButtonIconStyle:a?{width:18,height:18}:{}})),[a,o]);return(0,i.jsx)(n(285790).A,{iconStyle:s.closeButtonIconStyle,style:s.closeButton,hovered:!0,icon:n(66913).V,onClick:t,ariaLabel:r.formatMessage({id:"circleCloseButton.ariaLabel",defaultMessage:"Close"})})}const a=o.memo(r)},410430:(e,t,n)=>{n.d(t,{k:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("homeDatabaseViews",{viewBox:"0 0 48 48",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7646 26.1309H32.2473L36.0334 22.8856C36.2419 22.7069 36.4666 22.5572 36.7021 22.4365V11.7607C36.7021 10.1982 36.2969 9.0166 35.4863 8.21582C34.6758 7.40527 33.4746 7 31.8828 7H6.80469C5.22266 7 4.02637 7.40527 3.21582 8.21582C2.40527 9.0166 2 10.1982 2 11.7607V29.6025C2 31.165 2.40527 32.3467 3.21582 33.1475C4.02637 33.9482 5.22266 34.3486 6.80469 34.3486H28.2646V31.7785C28.2646 31.6778 28.2678 31.5774 28.274 31.4775H20.7646V26.1309ZM4.88574 23.377V17.9863H17.9521V23.377H4.88574ZM20.7646 23.377V17.9863H33.8164V23.377H20.7646ZM20.7646 15.2324H33.8164V12.0098C33.8164 11.3066 33.6357 10.7793 33.2744 10.4277C32.9131 10.0664 32.3955 9.88574 31.7217 9.88574H20.7646V15.2324ZM17.9521 15.2324V9.88574H6.98047C6.29688 9.88574 5.77441 10.0664 5.41309 10.4277C5.06152 10.7793 4.88574 11.3066 4.88574 12.0098V15.2324H17.9521ZM17.9521 26.1309V31.4775H6.98047C6.29688 31.4775 5.77441 31.3018 5.41309 30.9502C5.06152 30.5889 4.88574 30.0566 4.88574 29.3535V26.1309H17.9521Z"}),(0,o.jsx)("path",{d:"M31.2624 29.6092C30.6291 30.152 30.2646 30.9444 30.2646 31.7785V39.3216C30.2646 40.1106 30.9042 40.7501 31.6932 40.7501H35.0504C35.4448 40.7501 35.7646 40.4303 35.7646 40.0358V34.893C35.7646 34.4985 36.0844 34.1787 36.4789 34.1787H40.0504C40.4449 34.1787 40.7646 34.4985 40.7646 34.893V40.0358C40.7646 40.4303 41.0844 40.7501 41.4789 40.7501H44.8361C45.6251 40.7501 46.2646 40.1106 46.2646 39.3216V31.7785C46.2646 30.9444 45.9002 30.152 45.2669 29.6092L39.1943 24.4042C38.6594 23.9456 37.8699 23.9456 37.3349 24.4042L31.2624 29.6092Z"})]})})},422540:(e,t,n)=>{n.d(t,{$0:()=>f,Fx:()=>w,Ge:()=>m,I3:()=>u,Kj:()=>S,PP:()=>_,TK:()=>j,Yy:()=>d,aE:()=>A,cQ:()=>b,kH:()=>g,m7:()=>p,nq:()=>x,nv:()=>y,tj:()=>h});n(898992),n(354520),n(737550);var o=()=>n(496603),i=()=>n(534177),r=()=>n(970013),a=()=>n(651124),s=()=>n(349835),l=()=>n(390066);(0,i().u0)((e=>(0,i().O9)(e)&&(0,i().O9)(e.target)&&(0,i().O9)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target,custom_message:e.custom_message}}:{false:e}));const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1},d={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function u(e){return Boolean(c[e.type]&&!(0,r().UU)(e)&&(!(0,r().$M)(e)||void 0===(0,r().om)(e)))}function p(e){const{collectionFormat:t,collectionSchema:n,filter:s,sort:c,sourcePropertyIds:d}=e,p=(d??(0,i().uv)(n)).filter(((t,o,i)=>{const a=n[t];return!(!a||!u(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,r().o2)(e.spaceId,a))&&(!s||s([t,a],o,n)))}));if(0===p.length)return[];if(!t||!1===c)return p;const m=(0,l().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(p,(e=>m.findIndex((t=>t.property===e))))}function m(e){const{collectionFormat:t,collectionSchema:n,sort:s}=e,c=(0,i().uv)(n).filter(((e,t,o)=>{const i=n[e];return!(!i||!(0,r().JY)(i))}));if(0===c.length)return[];if(!t||!1===s)return c;const d=(0,l().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(c,(e=>d.findIndex((t=>t.property===e))))}function g(e){return e.type===s().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===s().M9.TokenExpected?{type:e.type,token:e.token}:e.type===s().uW.MissingSchemaPropertyOnThisRow||e.type===s().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===s().uW.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===s().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===s().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===s().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===s().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node}:e.type===s().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===s().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===s().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===s().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===s().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const h={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,geo_point:!1};function f(e){return Boolean(h[e.type])}function y(e){const{collectionFormat:t,collectionSchema:n,filter:s,sort:c}=e,d=(0,i().uv)(n).filter(((e,t,o)=>{var i;const a=n[e];return!(!a||!h[a.type])&&((!(0,r().$M)(a)||null===(i=(0,r().om)(a))||void 0===i||!i.auto_update_on_edit)&&(!s||s([e,a],t,n)))}));if(0===d.length)return[];if(!t||!1===c)return d;const u=(0,l().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(d,(e=>u.findIndex((t=>t.property===e))))}const v={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function x(e){return v[e.type]}const C={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function S(e){return C[e.type]}function b(e){return 0===e}function w(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function _(e){const{property:t,collectionSchema:n}=e;return!!n&&!n[t]}function j(e){const{collectionSchema:t,property:n,type:o}=e,i=null==t?void 0:t[n];return!i||("action"===o?!u(i):!h[i.type])}function A(e){let{automationTrigger:t,collectionSchema:n}=e;if("event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:o,source:r,relativeDate:a}=t.event;if(void 0===r)return!1;const s="some"===o.type&&o.some,l="all"===o.type&&o.all;if((s||l||[]).some((e=>_({collectionSchema:n,property:e.property})||j({collectionSchema:n,property:e.property,type:"trigger"}))))return!1;const c="some"===o.type&&(!(0,i().O9)(o.some)||0===o.some.length),d="all"===o.type&&(!(0,i().O9)(o.all)||0===o.all.length);if(!e&&("none"===o.type||c||d)&&!a)return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},447934:(e,t,n)=>{n.d(t,{$L:()=>A,Fv:()=>H,HD:()=>B,V_:()=>P,bV:()=>L,jP:()=>T,nh:()=>M,w8:()=>R});n(16280),n(18107),n(967357),n(898992),n(354520);var o=()=>n(206267),i=()=>n(792071),r=()=>n(688728),a=()=>n(475140),s=()=>n(235692),l=()=>n(924329),c=()=>n(778781),d=()=>n(144081),u=()=>n(334261),p=()=>n(661920),m=()=>n(435009),g=()=>n(751156),h=()=>n(799832),f=()=>n(492414),y=()=>n(594794),v=()=>n(869562),x=()=>n(351360),C=()=>n(712505),S=()=>n(630116),b=()=>n(263711),w=()=>n(640868),_=()=>n(204521),j=()=>n(33218);function A(e){let{environment:t,transaction:n,collectionStore:o,userId:r,modules:a}=e;const l=(0,y().zP)({environment:t,spaceId:o.getSpaceId(),table:d().zx}),c=S().sk.createChildStore(o,l),{model:u,operations:[p]}=i().wfN.create({pointer:l,parent:o.pointer,createdByUserId:r,modules:a??(0,s().K5)()});g().applyOperation({transaction:n,store:c,operation:p});const m=i().BnK.setLayout(o.pointer,l);return g().applyOperation({transaction:n,store:o,operation:m}),{model:u,store:c}}function k(e){let t;return e?t=e:C().default.state.open&&C().default.state.targetStore?t=C().default.state.targetStore:x().default.state.mainEditorCurrentBlockStore&&(t=x().default.state.mainEditorCurrentBlockStore),t}function I(e){v().setUpdateExpand({environment:e,isExpanded:!1,from:"keyboard_default",saveDetailsSidebarPreference:!1}),p().VN({environment:e,from:"open_page_layout_editor",preventAnimation:!0})}function M(e){var t,n;let{environment:i,blockStore:r,collectionStore:a,collectionViewStore:s,from:l,initialSelectedModuleType:c}=e;const d=function(e){var t;let n=k(e);if(null!==(t=n)&&void 0!==t&&t.isCollectionView()){const e=(0,h().U)(n);n=e?e.resultsInViewOrder(1).at(0):void 0}return n}(r),u=window.location.href;I(i);const p=o().JW();b().g.setState({isOpen:!0,mode:"layout-editor",collectionStore:a,pageStore:d,siteRootBlockStore:void 0,sessionId:p,initialSelectedModuleId:null==d||null===(t=d.getAssociatedCollectionStore())||void 0===t||null===(t=t.getLayoutStore())||void 0===t||null===(t=t.getModel())||void 0===t||null===(t=t.firstRawModuleOfType(c??"titleWithIcon"))||void 0===t?void 0:t.id,urlOnOpen:u}),(0,_().Ko)({environment:i,from:l,context:"layout",sessionId:p,collectionId:null==a?void 0:a.id,existingLayoutId:null==a||null===(n=a.getLayoutStore())||void 0===n?void 0:n.id,collectionViewId:null==s?void 0:s.id})}function T(e){let{environment:t,store:n,siteRootBlockStore:i,from:r}=e;const a=k(n);I(t);const s=o().JW();b().g.setState({isOpen:!0,mode:"site-settings-editor",pageStore:a,siteRootBlockStore:i,sessionId:s}),(0,_().Ko)({environment:t,context:"site",from:r,sessionId:s,collectionId:void 0,existingLayoutId:void 0})}function P(e){let{slideBlockStore:t}=e;const n=t.getNavigableBlockStore(),i=o().JW();b().g.setState({isOpen:!0,mode:"presentation",pageStore:n,currentSlideStore:t,sessionId:i}),window.document.documentElement.requestFullscreen()}function L(e){let{environment:t,pageStore:n,slideBlockStore:o}=e;b().g.setState({isOpen:!1});const i=(0,f().Ay)({store:n,scrollToBlockId:o.id,pageVisitSource:void 0});m().oo({environment:t,url:i}),window.document.fullscreenElement&&window.document.exitFullscreen()}function R(e){b().g.getState().isOpen&&H(e)}function H(e){let{environment:t}=e;const n=b().g.getState();if(!n.isOpen)throw new Error("Cannot close page layout editor. Page layout editor is not open.");"layout-editor"===n.mode&&n.urlOnOpen&&window.location.href!==n.urlOnOpen&&m().aX(t),b().g.setState({isOpen:!1})}function B(e){var t;let{environment:n,transaction:o,property:i,layoutStore:s}=e;const d=b().g.getSessionId(),p=null===(t=s.getModel())||void 0===t?void 0:t.getRawModules(),m=s.getCollectionModel();if(!p||!m)return;const g=S().md.createChildStore(s,m.pointer),h=(0,a().yn)(p,(e=>"titleWithIcon"===e.type));if(h&&(0,c().Mj)(h.module)){var f;const{module:e,position:t}=h,a={...e,type:"titleWithIcon",propertyIds:null===(f=e.propertyIds)||void 0===f?void 0:f.filter((e=>e!==i))};(0,j().UQ)({environment:n,sessionId:d,transaction:o,layoutStore:s,position:{area:(0,r().Fw)(t.area),moduleId:e.id},updatedModule:(0,l().X)(a)})}const y=(0,a().LP)(p,(e=>"property"===e.type&&e.propertyId===i));for(const{module:a,position:l}of y){const e=a.id,t=(0,r().Fw)(l.area);(0,w().U)({environment:n,sessionId:d,transaction:o,layoutStore:s,position:{area:t,moduleId:e}})}const v=m.getFormat().collection_page_sections;if(v){const e=v.filter((e=>e.section!==i));u().LK({store:g,pageSectionFormats:e,transaction:o,environment:n})}}},458366:(e,t,n)=>{n.d(t,{B2:()=>P,EI:()=>I,F1:()=>j,Kc:()=>w,NN:()=>T,UY:()=>b,br:()=>M,lA:()=>A,lh:()=>_,pi:()=>x,w_:()=>S,zP:()=>C});n(898992),n(737550);var o=()=>n(584262),i=()=>n(443239),r=()=>n(970013),a=()=>n(713998),s=()=>n(882262),l=()=>n(415566),c=()=>n(177256),d=()=>n(72135),u=()=>n(919709),p=()=>n(496603),m=()=>n(534177),g=()=>n(939768),h=()=>n(720665),f=()=>n(41459),y=()=>n(492414),v=()=>n(972435);function x(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function C(e){switch(e){case f().j.Table:return"table";case f().j.Board:return"board";case f().j.ListView:return"list";case f().j.GalleryView:return"gallery";case f().j.Relation:case f().j.RelationSection:return"relation_section";case f().j.Timeline:return"timeline";case f().j.Calendar:return"calendar";case f().j.Page:return"page_properties";case f().j.CompactPage:return"compact_page";case f().j.Mini:return"mini_peek";case f().j.FormEditor:case f().j.FormViewer:case f().j.PropertyModule:return"property_module";default:(0,m().HB)(e)}}function S(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function b(e){const{store:t,property:n,propertySchema:i}=e,r=null==i?void 0:i.type;if("title"===r)return(0,y().Ay)({store:t,fullyQualified:!1,pageVisitSource:o().y8.LinkInPage});{const e=t.getPropertyValue(n);return a().UY(r,e)}}function w(e){let t=(0,u().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let n=g().qg(t),o=n.host;if(n.protocol&&o||(n=g().qg(`http://${t}`),o=n.host),!o)return{domain:void 0,restOfUrl:void 0};o&&(o=o.replace(/^www./i,""));const i=t.toLowerCase().indexOf(o.toLowerCase());if(-1===i)return{domain:void 0,restOfUrl:void 0};o=t.slice(i,i+o.length);return{domain:o,restOfUrl:t.slice(i+o.length)}}function _(e){const{numberValue:t,numberFormat:n,numberShowAs:o}=e;if(!(p().yr(t)||h().pN(t)||"bar"!==(null==o?void 0:o.type)&&"ring"!==(null==o?void 0:o.type))){const e=v().A.getIntl();return"percent"===n?d().ZV(t,"percent",e):`${t} / ${o.maxValue}`}}function j(e){const{property:t,collectionStore:n}=e,o=n.isSyncedCollection();return Boolean(o)&&(0,i().u)(t)}function A(e,t){switch(e){case"side_peek":return{icon:c().A,tooltip:v().A.formatMessage(k.openInSidePeekTooltip),caption:t?"":v().A.formatMessage(k.openAsPageTitle)};case"center_peek":return{icon:l().q,tooltip:v().A.formatMessage(k.openInCenterPeekTooltip),caption:t?"":v().A.formatMessage(k.openAsPageTitle)};case"full_page":return{icon:s().m,tooltip:v().A.formatMessage(k.openAsPageTooltip),caption:t?"":v().A.formatMessage(k.openAsPageTitle)};default:(0,m().HB)(e)}}const k=(0,n(959013).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function I(e){const t=e.getSchema();if(t)for(const[o,i]of Object.entries(t)){var n;if(i&&"text"===i.type&&"summarize"===(null===(n=i.ai_inference)||void 0===n?void 0:n.type)){const t=e.getPropertyValue(o);if(t)return t}}}function M(e){const{store:t,additionalStores:n,collectionContextStore:o}=e,i=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==o?void 0:o.contextType)||!i)&&n.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==i.id}))}function T(e){return e===f().j.FormEditor||e===f().j.FormViewer}function P(e){return Boolean(e&&!r().dA.includes(e.type))}},462424:(e,t,n)=>{n.d(t,{i:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("exercise",{viewBox:"0 0 17 16",svg:(0,o.jsx)("path",{d:"M9.25 3C9.25 2.2275 9.7275 1.75 10.5 1.75C11.2725 1.75 11.75 2.2275 11.75 3C11.75 3.7725 11.2725 4.25 10.5 4.25C9.7275 4.25 9.25 3.7725 9.25 3ZM10.8775 7.185C11.37 7.77 11.985 8.5 13.5 8.5V7.25C12.565 7.25 12.275 6.905 11.8325 6.38C11.315 5.765 10.67 5 9 5C6.5875 5 5.205 6.2825 4.25 8.19L5.3675 8.75C6.06 7.365 6.795 6.665 7.8025 6.3925L6.565 8.8675C6.0925 9.815 5.3875 10.25 4.33 10.25H3.25V11.75H4.33C6.005 11.75 7.1275 11.065 7.8825 9.585C8.5425 10.085 10.5175 11.7425 11.075 14L12.4975 13.525C11.945 11.285 10.3625 9.6625 9.34 8.8125L10.405 6.685C10.57 6.8275 10.715 6.9975 10.875 7.1875L10.8775 7.185Z"})})},464699:(e,t,n)=>{n.d(t,{b:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("plusThick",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},465364:(e,t,n)=>{n.d(t,{$N:()=>M,D5:()=>T,GB:()=>A,M9:()=>_,Pt:()=>I,eW:()=>k,jo:()=>P,v7:()=>j});n(944114),n(898992),n(803949),n(581454);var o=()=>n(244641),i=()=>n(787626),r=()=>n(713998),a=()=>n(597777),s=()=>n(604995),l=()=>n(416504),c=()=>n(519831),d=()=>n(496603),u=()=>n(534177),p=()=>n(299709),m=()=>n(317001),g=()=>n(520861),h=()=>n(878060),f=()=>n(44729),y=()=>n(246826),v=()=>n(319975),x=()=>n(519839),C=()=>n(695625),S=()=>n(397248),b=()=>n(630116),w=()=>n(747671);function _(e){const{environment:t,droppedStores:n,duplicate:r,calendarBy:d,transaction:u,collectionContextStore:h,duplicateActions:y}=e,v=o().c9.fromMillis(e.startOfDay);let C=!0;for(const o of n){const t=e.collectionStore?e.collectionStore:(0,x().Dj)({store:o,collectionContextStore:h});if(o.getParentTable()===c().Vl||!t){C=!1;break}f().X$({childStore:o,parentStore:t,transaction:u})||(C=!1)}const S=(0,g().T)({environment:t,droppedStores:n,duplicate:r,transaction:u,collectionStore:e.collectionStore,duplicateActions:y});for(const o of S){const n=e.collectionStore?e.collectionStore:(0,x().Dj)({store:o,collectionContextStore:h});if(!n)continue;const r=n.getMappedProperty(d),c=o.getPropertyStore(r),g=(0,i().b)(c.getValue())||s().Ec((0,l().P)()),f=s().kW(g,(0,l().P)()),y=v.toFormat(s().tr);let S;if("date"===f.type||"datetime"===f.type)S={...f,start_date:y};else{const e=s().AA(f,(0,l().P)());if(!e.end)return;const t={...f,start_date:y},n=s().AA(t,(0,l().P)()).start.diff(e.start,"days"),o=e.end.plus(n).toFormat(s().tr);S={...f,start_date:y,end_date:o}}const b=s().kW(S,a().$K(g)||(0,l().P)());(0,m().j)({environment:t,store:o,collectionStore:n,collectionContextStore:h,shouldCoerce:!0,groupsPointer:[],transaction:u,alreadyMovedToCollection:C}),T({environment:t,type:"dateValue",propertyId:r,store:o,transaction:u,dateValue:b}),(0,p().E)({environment:t,collectionContextStore:h,block_id:o.id,property:r,property_type:"date",from:"calendar"})}}function j(e){const{calendarStore:t,direction:n,targetStore:o}=e;t.setState({...t.state,isDragging:!0,targetStore:o,direction:n,temporaryValue:void 0})}function A(e){const{calendarStore:t,x:n,y:r,calendarBy:c}=e,u=t.state;if(u.isDragging){const e=(0,i().b)(u.targetStore.getPropertyStore(c).getValue());if(!e)return;const p=s().kW(e,(0,l().P)()),m=u.temporaryValue||e,g=s().kW(m,(0,l().P)()),h=[];u.dayStoreMap.forEach(((e,t)=>{h.push({store:e,timestamp:t})}));const f=h.find((e=>{let{store:t}=e;const o=C().T.getRectFromStore(t);return Boolean(o&&S().ux(o,n,r))}));let y;if(f){const e=o().c9.fromMillis(f.timestamp),t=e.endOf("day"),n=e.toFormat(s().tr);if(p){const i=s().AA(p,(0,l().P)());if(u.direction===w().Q.Left)if(o().IX.fromDateTimes(e,t).contains(i.start))y=p;else{let e;e="datetimerange"===p.type||"daterange"===p.type?{...p,start_date:n,end_date:p.end_date}:"datetime"===p.type?{type:"datetimerange",start_date:n,start_time:p.start_time,end_date:p.start_date,end_time:p.start_time,time_zone:p.time_zone,reminder:p.reminder}:{type:"daterange",start_date:n,end_date:p.start_date,reminder:p.reminder};const t=s().AA(e,(0,l().P)());y=!i.end&&t.start>i.start||i.end&&t.start>i.end?g:e}else if(i.end?o().IX.fromDateTimes(e,t).contains(i.end):o().IX.fromDateTimes(e,t).contains(i.start))y=p;else{let e;e="date"===p.type?{...p,type:"daterange",end_date:n}:"datetime"===p.type?{...p,type:"datetimerange",end_date:n,end_time:"00:00"}:{...p,end_date:n};const t=s().AA(e,(0,l().P)());y=t.end&&t.end<t.start?g:e}}}if(y&&!d().n4(g,y)){const e=s().kW(y,a().$K(m)||(0,l().P)());t.setState({...u,temporaryValue:e})}}}function k(e){const{environment:t,calendarStore:n,calendarBy:o,transaction:i}=e,r=n.state;r.isDragging&&r.temporaryValue&&(T({type:"dateValue",environment:t,dateValue:r.temporaryValue,propertyId:o,store:r.targetStore,transaction:i}),n.setState({...n.state,isDragging:!1}))}function I(e){const{calendarStore:t}=e,n=t.state;n.isDragging&&t.setState({...n,isDragging:!1})}function M(e){const{environment:t,store:n,collectionStore:i,collectionContextStore:a,startDayOfWeek:c,transaction:d}=e,u=a.dateRangeStartStore.state,p=(0,l().P)(),g=a.normalizedQueryStore.state;if(!g||!g.calendar_by)return;const h=(null==i?void 0:i.getMappedProperty(g.calendar_by))??g.calendar_by,f=s().hp(u,c,p),v=f.startOf("month"),x=f.endOf("month"),C=o().c9.now().startOf("day");let S;return S=o().IX.fromDateTimes(v,x).contains(C)?s().p6(C.valueOf(),p):s().p6(s().iB(u,c,p).valueOf(),p),y().zv({store:n.getPropertiesStore(),data:{[h]:r().m5(S)},transaction:d}),(0,m().j)({environment:t,store:n,collectionStore:i,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:d}),n}function T(e){const{environment:t,store:n,propertyId:o,transaction:i}=e;let a;"timestamp"===e.type?a=s().p6(e.timestampMs.valueOf(),(0,l().P)()):"dateValue"===e.type?a=e.dateValue:(0,u().HB)(e);const c=n.getPropertyValue(o),d=r().m5(a);y().zv({store:n.getPropertiesStore(),data:{[o]:d},transaction:i}),h().O({environment:t,store:n,dateProperty:{id:o,oldValue:c,newValue:d}})}function P(e){const{environment:t,collectionStore:n,calendarBy:o,store:i,insertStores:r,collectionContextStore:a,transaction:s}=e,l=i.getPropertyStore(o).getValue();for(const c of r)(0,m().j)({environment:t,store:c,collectionStore:n,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:s}),v().R9({environment:t,store:c.getPropertyStore(o),value:l,transaction:s});return r.map((e=>b().Bv.createChildStore(n,e.pointer)))}},471265:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,templatesSmallIcon:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 16 16",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("g",{clipPath:"url(#clip0_9410_11368)",children:(0,o.jsx)("path",{d:"m14.98 12.41-1.86-3.22c.55-.25.91-.8.91-1.4V2.83c0-.84-.69-1.53-1.53-1.53H7.32c-.84 0-1.53.69-1.53 1.53v1.2C5.61 4.01 5.43 4 5.24 4 2.8 3.99.82 5.98.82 8.42s1.99 4.43 4.43 4.43q.36 0 .72-.06a1.53 1.53 0 0 0 1.49 1.91h6.2c.55 0 1.04-.28 1.32-.76s.28-1.05 0-1.53M7.32 9.33h.58L7 10.9c-.5.36-1.11.55-1.75.55-1.67 0-3.03-1.36-3.03-3.03A3.034 3.034 0 0 1 5.8 5.44V7.8c0 .84.68 1.52 1.52 1.52zm5.31-1.53c0 .07-.06.13-.13.13h-.11l-.51-.89c-.27-.46-.74-.74-1.27-.76a1.53 1.53 0 0 0-1.31.65c-.03.04-.06.07-.08.11l-.51.88H7.32c-.07 0-.12-.05-.12-.12V2.83c0-.07.06-.13.13-.13h5.18c.07 0 .13.06.13.13V7.8zm-5.3 5.31 3.05-5.28s.04-.06.06-.08c.03-.04.07-.07.12-.07s.09.02.12.07l3.09 5.36s.02.09 0 .13-.07.06-.11.06h-6.2s-.09-.02-.11-.06a.15.15 0 0 1 0-.13z"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_9410_11368",children:(0,o.jsx)("path",{d:"M0 0h16v16H0z"})})})]})},r=(0,n(340498).wt)("templatesSmall",i)},520861:(e,t,n)=>{n.d(t,{T:()=>i});n(944114),n(898992),n(908872);var o=()=>n(415651);function i(e){const{environment:t,collectionStore:n,duplicate:i,droppedStores:r,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:c}=r.reduce(((e,t)=>(i||t.getAssociatedCollectionId()!==(null==n?void 0:n.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...o().MS({environment:t,droppedStores:c,duplicate:i,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},523713:(e,t,n)=>{n.d(t,{x:()=>r});var o=()=>n(534177),i=()=>n(640653);function r(e){let{isPhone:t,spaceStore:n}=e;return!t&&(0,o().O9)(n)&&!(0,i().dT)({env:"production",spaceStore:n})}},533345:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{open:!1}}}const i=new o},541808:(e,t,n)=>{n.d(t,{B:()=>a});var o=()=>n(847249),i=()=>n(496603),r=()=>n(379560);function a(){return(0,o().K8)((()=>{var e;const t=i().$z((null===(e=r().A.getStateForCurrentSpaceView())||void 0===e?void 0:e.accounts.getOrderedValues())??[],(e=>{let{authorized:t}=e;return String(t)}));return{connectedAccounts:t.true??[],disconnectedAccounts:t.false??[]}}),[])}},546461:(e,t,n)=>{n.d(t,{EC:()=>b,To:()=>S,YC:()=>w,or:()=>C,u:()=>x});n(16280);var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(496506),s=()=>n(322867),l=()=>n(959013),c=()=>n(534177),d=()=>n(813297),u=()=>n(862292),p=()=>n(698331),m=()=>n(645873),g=()=>n(190019),h=()=>n(76190),f=n(474848);const y=new WeakMap,v=(0,o.createContext)({automationStore:void 0,contextType:void 0,defined:!1,typecheckResult:void 0});v.displayName="AutomationContext";function x(e){const{automationStore:t,children:n,contextType:o}=e,x=(0,i().v3)(),C=(0,l().tz)(),{value:S}=(0,m().fJ)(u().T.formulas),{value:b}=(0,m().fJ)(d().QV.automationTypecheck),w=(0,h().n)(t),_=(0,r().K8)((()=>{if(!S)return{error:new(s().N9)("Missing formulas dependency")};if(!b)return{error:new(s().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:n,automationTypecheckModule:o,contextType:i,formulasModule:r,intl:s,isSubscribed:l}=e,d=y.get(n);if(d)return d;{const e=new(a().default)((()=>{const e=n.getTriggerType();let a=i;return(0,c().O9)(e)&&(0,p().x2)(e)&&(a=(0,p().H8)(e)),(0,g().Z)({environment:t,automationStore:n,automationTypecheckModule:o,contextType:a,formulasModule:r,intl:s,isSubscribed:l})}),{debugName:"automationContextTypecheckResultCachedStore"});return y.set(n,e),e}}({environment:x,automationStore:t,automationTypecheckModule:b,contextType:o,formulasModule:S,intl:C,isSubscribed:w});return e.state}),[x,t,b,o,S,C,w]);return(0,f.jsx)(v.Provider,{value:{automationStore:t,typecheckResult:_,contextType:o,defined:!0},children:n})}function C(e){const{automationStore:t,children:n}=e,o=(0,r().K8)((()=>{var e;return null===(e=t.getTrigger())||void 0===e?void 0:e.type}),[t]);return(0,f.jsx)(x,{automationStore:t,contextType:(0,p().H8)(o??"event"),children:n})}function S(e){var t;return null===(t=y.get(e))||void 0===t?void 0:t.state}function b(){const e=o.useContext(v);if(!1===e.defined)throw new Error("No automation context found!");return e}function w(){return o.useContext(v)}},550125:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var o=()=>n(847249),i=()=>n(401497),r=()=>n(141333),a=n(474848);function s(e){let{scrollerStore:t}=e;const n=(0,o().K8)((()=>t.state.elementRef??{current:null}),[t]),s=0===(0,r().yE)(n),l=(0,i().IS)((e=>({border:{flexShrink:0,width:"100%",boxShadow:s?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[s]);return(0,a.jsx)("div",{style:l.border})}},555555:(e,t,n)=>{n.d(t,{n:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("import",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},560409:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(296540),i=n(474848);function r(e,t){let{children:r,style:a,innerStyle:s,hoveredStyle:l,pressedStyle:c,disabled:d,borderRadiusVariant:u="small",...p}=e;const[m,g]=(0,o.useState)(!1),h=(0,n(484714).WS)(),f=(0,o.useMemo)((()=>"small"===u?12:"large"===u?16:"rounded"===u?100:void(0,n(534177).HB)(u)),[u]),y=(0,n(401497).IS)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=(0,n(665579).UO)({isPhone:h,theme:e});return{container:{position:"relative"},linkBoxContainer:{flexShrink:0,overflow:"hidden",borderRadius:f,background:e.home.cards.background.base,...a,boxShadow:"unset"},inner:{userSelect:"none",WebkitUserSelect:"none",display:"flex",flexDirection:"column",...s},hovered:{background:e.home.cards.background.hovered,...l,boxShadow:"unset"},pressed:{background:e.home.cards.background.pressed,...c,boxShadow:"unset"},shadowBox:{pointerEvents:"none",position:"absolute",borderRadius:f,top:0,left:0,right:0,bottom:0,zIndex:1,boxShadow:m?(null==l?void 0:l.boxShadow)??o:(null==a?void 0:a.boxShadow)??t}}}),[f,h,a,s,l,c,m]);return(0,i.jsxs)("div",{style:y.container,onMouseEnter:()=>{!d&&g(!0)},onMouseLeave:()=>{!d&&g(!1)},ref:t,children:[(0,i.jsx)(n(296798).A,{style:y.linkBoxContainer,innerStyle:y.inner,hoveredStyle:y.hovered,pressedStyle:y.pressed,disabled:d,...p,children:r}),(0,i.jsx)("div",{style:y.shadowBox})]})}const a=o.forwardRef(r)},566910:(e,t,n)=>{n.d(t,{e:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"m4.897 3.086-.122-.143a.625.625 0 0 0-.95.814l1.347 1.57c-1.762.91-3.195 2.304-4.083 3.997a1.47 1.47 0 0 0 0 1.362c1.61 3.07 5.011 5.155 8.911 5.155 1.282 0 2.51-.225 3.637-.637l1.588 1.853a.625.625 0 0 0 1.042-.67L4.989 3.229a.6.6 0 0 1-.093-.143M2.194 9.905c.807-1.538 2.15-2.807 3.816-3.599L7.4 7.928a3.326 3.326 0 0 0 4.252 4.961l1.107 1.292a9.4 9.4 0 0 1-2.76.41c-3.459 0-6.42-1.848-7.805-4.486a.22.22 0 0 1 0-.2m6.696.097q0-.151.039-.29l1.194 1.393q-.06.007-.124.007a1.11 1.11 0 0 1-1.109-1.11m7.012 4.038a9.4 9.4 0 0 0 3.01-3.354 1.47 1.47 0 0 0 0-1.362C17.302 6.254 13.9 4.169 10 4.169c-.805 0-1.588.089-2.339.257l.94 1.096a9.5 9.5 0 0 1 1.4-.103c3.458 0 6.42 1.848 7.804 4.486a.22.22 0 0 1 0 .2 8.14 8.14 0 0 1-2.722 2.98z"}),(0,o.jsx)("path",{d:"M13.205 10.893a3.33 3.33 0 0 0-3.596-4.194z"})]})},r=(0,n(340498).wt)("eyeSlash",i)},569866:(e,t,n)=>{n.d(t,{A:()=>a});n(296540);var o=()=>n(401497),i=()=>n(829548),r=n(474848);function a(e){const{message:t,title:n}=e,a=(0,o().IS)((e=>({wrapper:{textAlign:"center",paddingLeft:20,paddingRight:20,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",minHeight:220},icon:{width:48,fill:e.icon.tertiary},message:{fontSize:14,color:e.text.tertiary,marginTop:2,marginBottom:4,maxWidth:380,textWrap:"balance"},title:{fontSize:14,fontWeight:500,color:e.text.secondary,maxWidth:380,textWrap:"balance"}})),[]),s=e.icon||i().y;return(0,r.jsxs)("div",{style:a.wrapper,children:[(0,r.jsx)("div",{style:{paddingBottom:12},children:s(a.icon)}),(0,r.jsx)("div",{style:a.title,children:n}),(0,r.jsx)("div",{style:a.message,children:t})]})}},570551:(e,t,n)=>{function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>o})},575695:(e,t,n)=>{n.d(t,{A:()=>j});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(563884),l=()=>n(959013),c=()=>n(534177),d=()=>n(56394),u=()=>n(780865),p=()=>n(962730),m=()=>n(377586),g=()=>n(493823),h=()=>n(760217),f=()=>n(545805),y=()=>n(897119),v=()=>n(204063),x=()=>n(427711),C=()=>n(297401),S=()=>n(978625),b=()=>n(806754),w=()=>n(821879),_=n(474848);const j=function(e){let{onChange:t,onMenuDismiss:o,showButtons:a,title:s,value:l,disabled:c,dateFormat:d,icon:u,mode:p,focused:m}=e;const g=(0,i().v3)(),h=(0,r().uB)(void 0,n(35394).A);(0,n(852507).l)((()=>{R({value:l},h)}));const{device:f}=g;return f.isMobile?(0,_.jsx)(F,{onChange:t,onMenuDismiss:o,showButtons:a,title:s,value:l,disabled:c,dateFormat:d,icon:u,mode:p,store:h}):(0,_.jsx)(N,{onChange:t,onMenuDismiss:o,showButtons:a,title:s,value:l,disabled:c,dateFormat:d,focused:m,icon:u,mode:p,store:h})};function A(e){const{device:t}=e;return t.isMobile?m().n.SlideUp:m().n.Popup}function k(e){return{buttonMenuItem:{color:e.text.secondary},activeMenuItem:{color:e.text.primary}}}function I(e){e.preventDefault&&e.preventDefault()}function M(e){e({starting:void 0,ending:void 0})}function T(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},icon:{height:14,width:14,fill:"currentColor"},iconActiveDesktop:{height:14,width:14,fill:"currentColor",alignSelf:"flex-start",marginTop:2,marginRight:2},iconActiveDesktopWrapper:{marginTop:0},iconActiveMobile:{height:14,width:14,fill:"currentColor",marginTop:1,marginRight:6},popup:{paddingTop:12,paddingBottom:8},menuItemTitleDesktop:{width:"100%"},sectionMenuItem:{display:"flex"},summary:{display:"inline-flex"}}}function P(e,t){t||e.setState({...e.state,isOpen:!0,focus:"starting"})}function L(e,t,n,o,i){const{temporaryDateRange:r}=n.state;u().a9(e)||(i||t(r),n.setState({...n.state,isOpen:!1,temporaryDateRange:{starting:void 0,ending:void 0}}),o&&o())}function R(e,t){if(!e.error)return t.setState({...t.state,temporaryDateRange:{...t.state.temporaryDateRange,...e.value}})}function H(e){let{disabled:t,icon:n,title:r,store:a}=e;const s=(0,i().v3)(),l=(0,o.useCallback)((()=>P(a,t)),[a,t]),c=T(s);return(0,_.jsx)(h().A,{disabled:t,focused:!1,icon:n(c.icon),title:r,onClick:l})}function B(e){let{disabled:t,title:n,value:r,dateFormat:a,onChange:c,store:d}=e;const p=(0,l().tz)(),m=(0,i().v3)(),g=(0,o.useCallback)((()=>P(d,t)),[d,t]),h=T(m),f=(0,_.jsxs)("div",{style:h.summary,children:[(0,s().k)(h.iconActiveMobile),u().tX(r,p,a)]});return(0,_.jsx)(S().A,{disabled:t,onClick:g,onClickClear:()=>M(c),label:n,title:f})}function V(e){let{disabled:t,value:n,dateFormat:r,focused:c,onChange:d,store:p}=e;const m=(0,l().tz)(),g=(0,a().DP)(),f=(0,i().v3)(),y=(0,o.useCallback)((()=>P(p,t)),[p,t]),v=T(f),x=k(g),S={...v.menuItem,...x.activeMenuItem},b=u().tX(n,m,r),w=(0,_.jsx)(C().A,{onClick:()=>M(d),disabled:t});return(0,_.jsx)(h().A,{focused:c,disabled:t,icon:(0,s().k)(v.iconActiveDesktop),title:b,right:w,isTokenTitle:!0,alignIconTop:!0,onClick:y,desktopTitleStyle:v.menuItemTitleDesktop,desktopIconStyle:v.iconActiveDesktopWrapper,style:S})}function D(e){let{disabled:t,title:n,icon:r,focused:s,mode:l,store:c}=e;const d=(0,a().DP)(),u=(0,i().v3)(),p=(0,o.useCallback)((()=>P(c,t)),[c,t]),m=T(u),g=k(d),f={...m.menuItem,...g.buttonMenuItem,...l===w().C.Pill?{width:"fit-content",border:"solid 1px",paddingLeft:0,paddingRight:0,borderRadius:20,fontSize:12}:{}};return(0,_.jsx)(h().A,{focused:s,disabled:t,icon:r(m.icon),title:n,onClick:p,style:f})}function E(e){let{disabled:t,value:n,title:i,store:r}=e;const a=(0,o.useCallback)((()=>P(r,t)),[r,t]);return(0,_.jsx)(d().A,{on:Boolean(n.starting||n.ending),icon:(0,s().k)({width:16,marginRight:6,fill:"currentColor"}),title:(0,_.jsx)("span",{children:i}),onClick:a})}function O(e){let{onChange:t,onMenuDismiss:n,showButtons:i,title:a,value:s,store:c}=e;const d=(0,o.useCallback)((e=>L(e,t,c,n,i)),[t,c,n,i]),u=(0,o.useCallback)((e=>R(e,c)),[c]),p=(0,r().K8)((()=>function(e,t){const{temporaryDateRange:n}=t.state;return{...e,...n}}(s,c)),[c,s]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(x().A,{title:a,value:p,onUpdate:u,store:c,onDismiss:d}),i&&(0,_.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"0px 10px"},children:[(0,_.jsx)(g().p,{isGray:!0,style:{marginLeft:"auto",marginRight:8},onClick:d,children:(0,_.jsx)(l().sA,{defaultMessage:"Cancel",id:"searchDateFilter.cancelButton.label"})}),(0,_.jsx)(v().A,{onClick:()=>t(c.state.temporaryDateRange),children:(0,_.jsx)(l().sA,{defaultMessage:"Accept",id:"searchDateFilter.acceptButton.label"})})]})]})}function N(e){let{mode:t,onChange:n,onMenuDismiss:a,showButtons:s,title:l,value:d,disabled:u,dateFormat:m,focused:g,icon:h,store:v}=e;const x=(0,i().v3)(),C=(0,o.useCallback)((e=>L(e,n,v,a,s)),[n,v,a,s]),S=(0,o.useCallback)((()=>(0,_.jsx)(O,{onChange:n,onMenuDismiss:a,showButtons:s,title:l,value:d,store:v})),[n,a,s,l,d,v]),j=T(x),k=t===w().C.Section,M=k?l:void 0,P=t===w().C.Section?(0,_.jsx)(V,{disabled:u,value:d,dateFormat:m,focused:g,onChange:n,store:v}):t===w().C.Button?(0,_.jsx)(D,{disabled:u,title:l,icon:h,focused:g,mode:t,store:v}):t===w().C.Pill?(0,_.jsx)(E,{disabled:u,value:d,title:l,store:v}):void(0,c().HB)(t),R=(0,r().K8)((()=>v.state.isOpen),[v]);return(0,_.jsx)(b().A,{title:M,marginAfter:k,children:(0,_.jsx)(f().A,{debugName:"SearchDateFilter",capture:R,onUp:I,onDown:I,onEnter:I,children:(0,_.jsx)(y().Ay,{popupType:A(x),open:R,origin:P,render:S,onDismiss:C,placementToOrigin:p().W.Bottom,alignmentToOrigin:p().C.Start,keepFocus:!0,style:j.popup})})})}function F(e){let{mode:t,onChange:n,onMenuDismiss:i,showButtons:a,title:s,value:l,disabled:c,dateFormat:d,icon:u,store:p}=e;const g=(0,r().K8)((()=>p.state.isOpen),[p]),h=(0,o.useCallback)((e=>L(e,n,p,i,a)),[n,p,i,a]),f=(0,o.useCallback)((()=>(0,_.jsx)(O,{onChange:n,onMenuDismiss:i,showButtons:a,title:s,value:l,store:p})),[n,i,a,s,l,p]),v=t===w().C.Section?(0,_.jsx)(B,{disabled:c,title:s,value:l,dateFormat:d,onChange:n,store:p}):(0,_.jsx)(H,{disabled:c,icon:u,title:s,store:p});return(0,_.jsx)(y().Ay,{popupType:m().n.SlideUp,open:g,origin:v,render:f,onDismiss:h,preventScaleTransition:!0})}},606982:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(10123),i=()=>n(570551);function r(e,t){(0,i().A)(2,arguments);var n=(0,o().A)(e),r=(0,o().A)(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}},613735:(e,t,n)=>{n.d(t,{b:()=>a});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var o=()=>n(278238),i=()=>n(945778),r=()=>n(267419);function a(e){let{icon:t,theme:n}=e;if(t)return(0,i().A)(t)?r().A.state.emojiByColorProcessed[t]:(0,o().T8)(t)?function(e){var t;let{uri:n,theme:i}=e;const r=null===(t=n.match(/\/icons\/[\w\-]*_(.+)\.svg/))||void 0===t?void 0:t[1];if(!function(e){if(!e)return!1;return s.has(e)}(r))return;return o().l8[i.mode][r]}({uri:t,theme:n}):void 0}const s=new Set((0,n(534177).uv)(o().l8.light))},620090:(e,t,n)=>{n.d(t,{B:()=>o});class o extends(()=>n(757695))().default{getInitialState(){return!1}}},638045:(e,t,n)=>{n.d(t,{t:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M13.977 5.393a.625.625 0 0 1-.883 0l-2.47-2.469v5.662a.625.625 0 1 1-1.25 0V2.924L6.907 5.393a.625.625 0 0 1-.884-.884L9.558.974a.625.625 0 0 1 .884 0l3.535 3.535a.625.625 0 0 1 0 .884m-3.352 6.026a.625.625 0 1 0-1.25 0v5.648l-2.469-2.469a.625.625 0 1 0-.884.884l3.536 3.535c.244.245.64.245.884 0l3.535-3.535a.625.625 0 0 0-.883-.884l-2.47 2.469z"})},i=(0,n(340498).wt)("arrowUpDownStacked",o)},640868:(e,t,n)=>{n.d(t,{U:()=>p});n(16280);var o=()=>n(31503),i=()=>n(454984),r=()=>n(688728),a=()=>n(475140),s=()=>n(789280),l=()=>n(778781),c=()=>n(751156),d=()=>n(204521),u=()=>n(658616);function p(e){let{environment:t,transaction:n,layoutStore:p,position:m,sessionId:g,beforePerformDeleteModule:h}=e;const f=p.getModules();if(!f)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const y=(0,a().EX)(f,(e=>e.id===m.moduleId)),v=(0,o().Cg)({moduleId:null==y?void 0:y.module.id,modulesByArea:p.getModules()}).length;if(!y)return;const{module:x,position:C}=y;if(!(0,s().Fe)(x))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var S;(c().createAndCommitOrAppend({environment:t,transaction:n,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:n,moduleLocation:o,moduleToDelete:a,beforePerformDeleteModule:s}=e;s&&s(t);(0,l().V6)(a)&&(0,u().deleteViewsModuleDependencies)({layoutStore:n,viewsModule:a,transaction:t});if("form_conditional_modules"===o.area){const e=i().N4.removeChildModule({pointer:n.pointer,modulesByArea:n.getModules(),module:a});for(const o of e)c().applyOperation({transaction:t,store:n,operation:o})}else{const e="views_main_tab_modules"===o.area?{area:o.area,viewId:o.viewId}:{area:r().Zm[o.area]};c().applyOperation({transaction:t,store:n,operation:i().N4.deleteModuleInArea({...e,pointer:n.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:p,moduleLocation:C,moduleToDelete:x,beforePerformDeleteModule:h})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),g)&&d().PS({environment:t,module:x,sessionId:g,collectionId:null===(S=p.getCollectionModel())||void 0===S?void 0:S.id,layoutId:p.id,context:(0,r().We)(m.area),area:m.area,depth:v})}},644187:(e,t,n)=>{n.d(t,{K:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M5.612 4.08A1.895 1.895 0 0 0 3.971 5.81l-.005.092.001 9.439-.864.053h-.035a.883.883 0 0 1-.571-.245.921.921 0 0 1-.28-.646V4.137c0-.88.683-1.61 1.562-1.665l10.187-.651a.755.755 0 0 1 .786.551.826.826 0 0 1 .03.175v.943l-9.133.583-.037.007Zm12.172 12.67a.779.779 0 0 1-.617.747c-.006 0-.013.003-.02.003l-11.045.681h-.034a.883.883 0 0 1-.571-.245.921.921 0 0 1-.28-.647l-.001-.03V6.072l.001-.047a.777.777 0 0 1 .67-.709c.01 0 .018-.003.027-.003l11.052-.706a.755.755 0 0 1 .786.551.824.824 0 0 1 .03.175l.002 11.418Zm-1.248-8.726a.388.388 0 0 0-.418-.393l-9.213.563c-.23.012-.439.177-.439.436v7.533c-.01.484.31.61.673.583L16 16.221l.002-.001c.466-.018.534-.374.534-.65V8.024Zm-7.35 2.458c-.429.026-.574.353-.573.856v.089c-.051.012-.094.023-.146.026-.309.02-.531-.232-.532-.682 0-.689.616-1.336 1.79-1.41 1.045-.064 1.714.441 1.715 1.333 0 .67-.556 1.147-1.104 1.296 1.028.05 1.458.624 1.459 1.357.001 1.254-.915 1.964-2.329 2.052l-.034.002c-1.063.066-1.809-.338-1.81-1.035 0-.397.29-.733.728-.76.035-.003.068.004.103.002.087.71.567.97 1.046.941.463-.029.788-.34.788-.782v-.018c0-.688-.575-.723-1.44-.757l-.138-.822c.805-.147 1.207-.41 1.207-.887 0-.512-.284-.83-.73-.801Zm3.864-.339c-.857.248-1.045-.129-.952-.523.514-.12 1.85-.521 2.356-.703l.006 5.289.934.136c0 .344-.197.56-.548.581-.291.018-.968.043-1.294.063-.505.031-1.43.107-1.43.107a.572.572 0 0 1-.035-.201c0-.168.068-.34.29-.416l.677-.219-.004-4.114Z"})},i=(0,n(340498).wt)("calendarDate31",o)},658616:(e,t,n)=>{n.r(t),n.d(t,{deleteViewsModuleDependencies:()=>a});var o=()=>n(220719),i=()=>n(44729),r=()=>n(630116);function a(e){const{layoutStore:t,viewsModule:n,transaction:a}=e,s=(0,o().o9)(r().Bv.createChildStore(t,n.collection_view_block_pointer));i().zz({childStore:s,parentStore:t,transaction:a})}},671089:(e,t,n)=>{n.r(t),n.d(t,{checkmarkCircleIcon:()=>r,iconDefinition:()=>i});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,o.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,n(340498).wt)("checkmarkCircle",i)},674020:(e,t,n)=>{n.d(t,{y:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("export",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.0625 15.8174C2.32422 15.8174 1.76595 15.6305 1.3877 15.2568C1.00944 14.8831 0.820312 14.3294 0.820312 13.5957V6.86914C0.820312 6.13997 1.00944 5.58854 1.3877 5.21484C1.76595 4.83659 2.32422 4.64746 3.0625 4.64746H4.92871V5.99414H3.14453C2.82552 5.99414 2.58171 6.07845 2.41309 6.24707C2.24902 6.41113 2.16699 6.65951 2.16699 6.99219V13.4795C2.16699 13.8122 2.24902 14.0605 2.41309 14.2246C2.58171 14.3932 2.82552 14.4775 3.14453 14.4775H10.8486C11.1631 14.4775 11.4046 14.3932 11.5732 14.2246C11.7464 14.0605 11.833 13.8122 11.833 13.4795V6.99219C11.833 6.65951 11.7464 6.41113 11.5732 6.24707C11.4046 6.07845 11.1631 5.99414 10.8486 5.99414H9.07812V4.64746H10.9375C11.6758 4.64746 12.234 4.83659 12.6123 5.21484C12.9906 5.58854 13.1797 6.13997 13.1797 6.86914V13.5957C13.1797 14.3249 12.9906 14.8763 12.6123 15.25C12.234 15.6283 11.6758 15.8174 10.9375 15.8174H3.0625ZM7 11.3877C6.91797 11.3877 6.83822 11.374 6.76074 11.3467C6.68327 11.3148 6.60124 11.2578 6.51465 11.1758L4.21777 8.96094C4.10384 8.84245 4.04688 8.70801 4.04688 8.55762C4.04688 8.39811 4.09928 8.26823 4.2041 8.16797C4.31348 8.06771 4.44792 8.01758 4.60742 8.01758C4.7806 8.01758 4.92188 8.0791 5.03125 8.20215L5.98828 9.2207L6.43262 9.71973L6.36426 8.70117V1.61914C6.36426 1.45052 6.42578 1.30469 6.54883 1.18164C6.67643 1.05859 6.82682 0.99707 7 0.99707C7.17318 0.99707 7.32129 1.05859 7.44434 1.18164C7.57194 1.30469 7.63574 1.45052 7.63574 1.61914V8.70117L7.56738 9.71973L8.00488 9.2207L8.96191 8.20215C9.07585 8.0791 9.21712 8.01758 9.38574 8.01758C9.54069 8.01758 9.67285 8.06771 9.78223 8.16797C9.89616 8.26823 9.95312 8.39811 9.95312 8.55762C9.95312 8.70801 9.89388 8.84245 9.77539 8.96094L7.47852 11.1758C7.39648 11.2578 7.31673 11.3148 7.23926 11.3467C7.16178 11.374 7.08203 11.3877 7 11.3877Z"})})},677169:(e,t,n)=>{n.d(t,{m:()=>u});n(898992),n(354520),n(672577),n(737550);var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(617871),s=()=>n(351360),l=()=>n(508496),c=()=>n(53137),d=()=>n(523239);function u(){const e=(0,i().v3)(),t=(0,o.useRef)(void 0);return(0,r().K8)((()=>{if(void 0===t.current){if(!l().default.isStatsigReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};t.current=l().default.checkGate({gateName:"calendar_home_tile_caching"})}if(t.current){var n;const{currentSpaceViewStore:t}=s().default.state;if(!t||!t.isReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};const o=t.getSelectedCalendarBotId(),i=!c().A.state.loaded;if(o&&i)return{loading:!1,botId:o,botSpaceId:t.getSpaceId(),botUserId:t.getUserId()};const{spaceId:r,userId:l}=c().A.state.loaded?c().A.state:{spaceId:void 0,userId:void 0},u=c().A.bots.state.filter((e=>e.integration_id===a().io)),p=null===(n=u[0])||void 0===n?void 0:n.id,m=o&&u.some((e=>e.id===o))?o:p;return m&&m!==o?(0,d().rq)({environment:e,botId:m,shouldLog:!1}):!m&&o&&(0,d().k2)({environment:e}),{loading:i,botId:m,botSpaceId:r,botUserId:l}}{var o,i,r;const e=c().A.bots.state.filter((e=>e.integration_id===a().io)),t=null===(o=s().default.state.currentSpaceViewStore)||void 0===o?void 0:o.getSelectedCalendarBotId(),n=!c().A.state.loaded||!(null!==(i=s().default.state.currentSpaceViewStore)&&void 0!==i&&i.isReady()),{spaceId:l,userId:d}=c().A.state.loaded?c().A.state:{spaceId:void 0,userId:void 0},u=null===(r=e[0])||void 0===r?void 0:r.id;if(!t)return{loading:n,botId:u,botSpaceId:l,botUserId:d};const p=e.find((e=>e.id===t));return{loading:n,botId:(null==p?void 0:p.id)??u,botSpaceId:l,botUserId:d}}}),[e])}},698331:(e,t,n)=>{n.d(t,{$X:()=>r,H8:()=>a,x2:()=>i});var o=()=>n(534177);function i(e){return"event"===e||"recurrence"===e}function r(e){const t=e.getTrigger();return(0,o().O9)(t)&&i(t.type)}function a(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,o().HB)(e)}},710857:(e,t,n)=>{n.d(t,{x:()=>i});const o={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1};function i(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...o,...t}}},714300:(e,t,n)=>{n.d(t,{l:()=>l});var o=()=>n(484714),i=()=>n(847249),r=()=>n(176983),a=()=>n(596513),s=()=>n(324561);function l(e){let{spaceId:t}=e;const n=(0,o().v3)(),l=(0,r().J)();return(0,i().K8)((()=>{if(!t||!l)return;const e=a().t.getData(n,{spaceId:t});return(0,s().a9)(e)}),[n,t,l],{useDeepEqual:!0})}},725649:(e,t,n)=>{function o(e){return!(!e||"askUserToPick"in e)}function i(e){if(!e||!("askUserToPick"in e))return e}function r(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}n.d(t,{DK:()=>i,K$:()=>o,j6:()=>r})},732902:(e,t,n)=>{n.r(t),n.d(t,{PersonalHomeContainer:()=>Ai,SetupPendingHomeTile:()=>lt});n(898992),n(803949);var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(2143),l=()=>n(867772),c=()=>n(681810),d=()=>n(807683),u=()=>n(331542),p=()=>n(773382),m=()=>n(360083),g=n(474848);function h(e){const t=(0,i().v3)(),n=(0,i().Y0)().isMobile,[s,h]=(0,o.useState)(),f=(0,r().K8)((()=>e.store.getCover()),[e.store]),y=(0,r().K8)((()=>c().A),[]),v=(0,r().K8)((()=>y.state.loadingMode!==l().pF&&y.state.loadingMode!==l().Wc),[y]),x=(0,r().K8)((()=>"uploading"===y.state.loadingMode&&y.state.uploadProgress||0),[y]),C=(0,r().K8)((()=>t.WindowSizeStore.state.paddingTop),[t.WindowSizeStore]),S=(0,a().IS)((e=>({background:{position:"absolute",width:"100%",height:"100%",marginTop:n?C:void 0,top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundImage:`url(${s}`,backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},loadingContainer:{...d().fd,top:8,right:8,height:28},loadingSpinner:{marginRight:4},percentageIndicator:{minWidth:30,textAlign:"right"}})),[s,n,C]);return f?(0,g.jsx)(m().A,{url:f.cover,isAuthenticated:!0,permissionRecord:f.pointer,render:(e,t)=>(h(t),(0,g.jsx)("div",{role:"img",style:S.background,onLoad:()=>{y.setState({loadingMode:"loaded"})},children:v&&(0,g.jsxs)("div",{style:S.loadingContainer,children:[(0,g.jsx)(u().A,{size:"sm",style:S.loadingSpinner}),x??(0,g.jsx)("div",{style:S.percentageIndicator,children:(0,g.jsx)(p().A,{percentage:x})})]})}))}):null}var f=()=>n(963589),y=()=>n(327300),v=()=>n(817942),x=()=>n(578136),C=()=>n(756279),S=()=>n(351360),b=()=>n(508496),w=()=>n(17090),_=()=>n(694874),j=()=>n(696746),A=()=>n(75993),k=()=>n(244641),I=()=>n(919709),M=()=>n(959013),T=()=>n(534177),P=()=>n(284371),L=()=>n(854094),R=()=>n(493823),H=()=>n(859428),B=()=>n(962730),V=()=>n(319975),D=()=>n(725614),E=()=>n(751156),O=()=>n(757695);class N extends O().default{getInitialState(){return{open:!1}}}const F=new N;function W(e){let{environment:t}=e;F.reset(),D().clear({environment:t})}var z=()=>n(928600),U=()=>n(897119),K=()=>n(125565),Z=()=>n(524702),q=()=>n(792540),G=()=>n(722872),$=()=>n(115512),Y=()=>n(377586);function X(e){let{origin:t}=e;const n=(0,i().v3)(),o=(0,r().K8)((()=>F.state.open),[]),a=(0,r().K8)((()=>S().default.state.currentUserSettingsStore),[]),s=(0,i().WS)();return a?(0,g.jsx)(U().Ay,{popupType:s?Y().n.SlideUp:Y().n.Popup,open:o,origin:t,placementToOrigin:B().W.Bottom,alignmentToOrigin:B().C.Center,originGap:4,onDismiss:()=>W({environment:n}),render:()=>(0,g.jsx)(Q,{userSettingsStore:a})}):null}function Q(e){let{userSettingsStore:t}=e;const[n,s]=(0,o.useState)(!1),l=(0,i().v3)(),c=(0,M().tz)(),d=(0,r().K8)((()=>{var e;return null===(e=S().default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(c)}),[c]),u=(0,i().WS)(),p=(0,o.useCallback)((()=>s(!0)),[]),m=(0,o.useCallback)((()=>s(!1)),[]),h=(0,o.useCallback)((()=>W({environment:l})),[l]),f=(0,o.useCallback)((()=>function(e){let{environment:t}=e;const n=F.state;if(!n.open)return;const o=n.originalNickname;W({environment:t});const{currentUserSettingsStore:i}=S().default.state;if(!i)return;const r=i.getNicknameStore();E().createAndCommit({environment:t,userAction:"nicknameMenuActions.revertToOldNickname",canUndo:!0,perform:e=>{V().R9({environment:t,store:r,value:o,transaction:e})}})}({environment:l})),[l]),y=(0,a().IS)((e=>({menuContainer:{paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14},inputContainer:{display:"flex",alignItems:"center",color:e.text.primary,fontSize:(0,$().ny)(l,"UIRegular")},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",width:"100%",borderRadius:4,boxShadow:n?e.outlineBlueInputBoxShadow:e.inputBoxShadow,background:e.inputBackground,cursor:"text",position:"relative",marginTop:8,paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}})),[l,n]),v=(0,r().K8)((()=>t.getSettingsStore().getKeyStore("nickname")),[t]);let x;return x=u?{menuType:G().gu.ActionSheet}:{menuType:G().gu.Popup,width:300},(0,g.jsx)(z().A,{...x,children:(0,g.jsxs)("div",{style:y.menuContainer,children:[(0,g.jsx)(K().A,{isSecondaryColor:!0,children:(0,g.jsx)(M().sA,{id:"personalHomeRenamePopup.title",defaultMessage:"Edit nickname"})}),(0,g.jsx)("div",{style:y.inputContainer,children:(0,g.jsx)(Z().A,{style:y.input,store:v,disabled:!1,onEsc:f,onFocus:p,onBlur:m,onEnter:h,placeholder:d,pasteBehavior:"inline",disableEmojiCommands:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableSlashCommands:!0,disableComment:!0,disableMentions:!0,disableDrag:!0,disableEmbedMenu:!0,disableEquationInteraction:!0,disableMobileActionBar:!0,disableShiftEnter:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,inPageFind:q().Os.none})})]})})}const J=o.memo(X);function ee(e){var t;let{nickname:s}=e;const l=(0,i().v3)(),c=(0,a().DP)(),d=o.useRef(null),u=o.useRef();u.current=null===(t=d.current)||void 0===t?void 0:t.getBoundingClientRect();const p=(0,r().K8)((()=>F.state.open),[]),m=(0,r().K8)((()=>{var e;return null===(e=S().default.state.currentUserSettingsStore)||void 0===e?void 0:e.getNicknameStore()}),[]),h=(0,r().K8)((()=>{var e;const t=S().default.state.currentUserSettingsStore,o=null===(e=S().default.state.currentSpaceStore)||void 0===e?void 0:e.id;if(t&&o)return(0,n(921855).S5)({environment:l,textValue:s&&o?{value:s,spaceId:o}:void 0,parentStore:t,disableLinks:!0,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disabled:!0,theme:c,emojiType:(0,n(712030).FN)(l),katex:void 0,formulaValueTypes:[],stopLinkPropagation:!0})}),[l,s,c]),f=(0,o.useMemo)((()=>({height:"100%",flexShrink:1,fontSize:"inherit",fontWeight:"inherit",display:"flow",paddingTop:2,paddingBottom:2,marginLeft:-6,marginRight:-6,marginTop:-2,marginBottom:2,paddingLeft:6,paddingRight:6,...P().RC,color:void 0,lineHeight:void 0})),[]),y=(0,a().IS)((()=>({hiddenButton:{...f,width:0,overflow:void 0,pointerEvents:"none",color:"transparent",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},visibleButton:{...f,textShadow:"none"}})),[f]);return m?(0,g.jsx)(J,{origin:(0,g.jsx)(H().A,{originRect:u.current,placement:B().W.Bottom,render:e=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R().p,{hovered:!1,style:y.hiddenButton,children:h}),(0,g.jsx)(R().p,{...e,ref:d,hovered:p,style:y.visibleButton,onClick:()=>function(e){let{originalNicknameStore:t}=e;D().setSelection({store:t,selection:{startIndex:0,endIndex:(0,I().qAZ)(t.getValue()).length}}),F.setState({open:!0,originalNickname:t.getValue()})}({originalNicknameStore:m}),onMouseEnter:t=>{var n;null===(n=e.onMouseEnter)||void 0===n||n.call(e,t),L().A.setState({isHovered:!1})},children:h})]}),renderTooltip:()=>(0,g.jsx)(M().sA,{id:"personalHomeHeader.changeNameTooltip",defaultMessage:"Edit nickname"})})}):null}const te=o.memo(ee);function ne(e){let{marginTop:t,marginHorizontal:n,allPanelsLoaded:s,showWelcomeAnimation:l}=e;const[c,d]=o.useState(!1),u=(0,M().tz)(),p=(0,i().WS)(),{name:m,loaded:h}=(0,r().K8)((()=>function(e){let{currentUserStore:t,currentUserSettingsStore:n,intl:o}=e;if(null==n||!n.isReady())return{name:void 0,loaded:!1};const i=n.getNickname();if(i&&oe(i))return{name:i,loaded:!0};const r=null==t?void 0:t.getDisplayName(o),a=Boolean(null==t?void 0:t.isReady());return{name:r?[[r]]:void 0,loaded:a}}({currentUserStore:S().default.state.currentUserStore,currentUserSettingsStore:S().default.state.currentUserSettingsStore,intl:u})),[u]),f=(0,r().K8)((()=>{var e;return(null===(e=S().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())??!1}),[]);(0,o.useEffect)((()=>{const e=setTimeout((()=>{l&&!c&&d(!0)}),500);return()=>{clearTimeout(e)}}),[c,l]);const y=h&&f,v=function(e){let{timeOfDay:t,name:n}=e;if("morning"===t)return n?(0,g.jsx)(M().sA,{id:"personalHomeHeader.goodMorningUserName",defaultMessage:"<NoShrink>Good morning,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,g.jsx)(g.Fragment,{children:" "}),NoShrink:e=>(0,g.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,g.jsx)(M().sA,{id:"personalHomeHeader.goodMorningNoUserName",defaultMessage:"Good morning"});if("afternoon"===t)return n?(0,g.jsx)(M().sA,{id:"personalHomeHeader.goodAfternoonUserName",defaultMessage:"<NoShrink>Good afternoon,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,g.jsx)(g.Fragment,{children:" "}),NoShrink:e=>(0,g.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,g.jsx)(M().sA,{id:"personalHomeHeader.goodAfternoonNoUserName",defaultMessage:"Good afternoon"});if("evening"===t)return n?(0,g.jsx)(M().sA,{id:"personalHomeHeader.goodEveningUserName",defaultMessage:"<NoShrink>Good evening,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,g.jsx)(g.Fragment,{children:" "}),NoShrink:e=>(0,g.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,g.jsx)(M().sA,{id:"personalHomeHeader.goodEveningNoUserName",defaultMessage:"Good evening"});(0,T().HB)(t)}({timeOfDay:function(){const e=k().c9.now().hour;return e>=19||e<2?"evening":e<12?"morning":"afternoon"}(),name:oe(m)?(0,g.jsx)(te,{nickname:m}):void 0}),x=(0,g.jsx)(M().sA,{id:"personalHomeHeader.initialWelcomeText",defaultMessage:"Welcome home"}),C=(0,a().IS)((e=>{const o={width:"100%",height:"100%",marginTop:t,zIndex:1,paddingLeft:2*n,paddingRight:2*n,pointerEvents:"none",transition:"all 0.5s ease-in-out 2.75s"},i=l&&!s;return{container:{width:"100%",height:"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:c||!l?1:0,transition:"opacity 0.5s ease-in-out"},greetingTextContainer:{...o,opacity:i?0:1,transform:i?"translateY(12px)":"translateY(0px)"},welcomeTextContainer:{...o,opacity:i?1:0,transform:i?"translateY(0px)":"translateY(-12px)",position:"absolute"},headerText:{width:"100%",height:"100%",fontSize:p?24:30,lineHeight:1.2,fontWeight:P().Wy.semibold,color:e.text.primary,display:"flex",alignItems:"center",justifyContent:"center"},greetingTextSpan:{display:"flex",pointerEvents:"all",maxWidth:"100%"},mobileGreetingContainer:{display:"flex",flexDirection:"column"}}}),[t,n,s,l,c,p]),b=(0,g.jsx)("div",{style:C.headerText,children:(0,g.jsx)("span",{style:C.greetingTextSpan,children:v})}),w=(0,g.jsx)("div",{style:C.mobileGreetingContainer,children:(0,g.jsx)("div",{style:C.headerText,children:(0,g.jsx)("span",{style:C.greetingTextSpan,children:v})})}),_=(0,g.jsx)("div",{style:C.greetingTextContainer,children:p?w:b}),j=(0,g.jsx)("div",{style:C.welcomeTextContainer,children:(0,g.jsx)("div",{style:C.headerText,children:x})});return y?(0,g.jsxs)("div",{style:C.container,onMouseEnter:()=>L().A.setState({isHovered:!0}),onMouseLeave:()=>L().A.setState({isHovered:!1}),children:[_,j]}):null}function oe(e){return!!(0,T().O9)(e)&&0!==(0,I().qAZ)(e).length}const ie=o.memo(ne);n(354520),n(581454),n(737550);var re=n.n(n(32485)),ae=()=>n(915086),se=()=>n(38337),le=()=>n(227440),ce=()=>n(764756),de=()=>n(162674),ue=()=>n(296060),pe=()=>n(523713),me=()=>n(199058),ge=()=>n(665579),he=()=>n(277942),fe=()=>n(36951),ye=()=>n(166442),ve=()=>n(710149),xe=()=>n(755170);function Ce(e){const{onLoaded:t}=e,n=(0,i().v3)(),s=ye().Kd,[l,c]=(0,o.useState)(!0),d=(0,r().O$)(S().AppStoreCurrentSpaceStore),u=(0,o.useCallback)((e=>{(0,fe().VK)({environment:n,threadStore:e})}),[n]),p=(0,o.useCallback)((()=>{t(),c(!1)}),[t]),m=(0,a().IS)((()=>({outer:{minHeight:l?156:void 0},inner:{display:l?"none":void 0}})),[l]);return d?(0,g.jsx)(xe().A,{hideWrapStyle:!0,children:(0,g.jsxs)("div",{style:m.outer,children:[(0,g.jsx)("div",{style:m.inner,children:(0,g.jsx)(he().M4,{aiChatFeature:"home_module",threadStore:void 0,onThreadChange:u,parentStore:d,defaultUserMessage:void 0,clientStore:s,onLoaded:p})}),l?(0,g.jsx)(Se,{}):null]})}):null}function Se(){const e=(0,a().IS)((e=>({wrapper:{height:156,padding:"24px 2px 0 2px"},mockAIChatInputWrap:{height:96,boxShadow:`0px 0px 0px 0.5px ${e.stroke.primary}, 0px 4px 12px -2px rgba(0, 0, 0, 0.08)`,backgroundColor:"dark"===e.mode?e.surface.elevated:e.contentBackground,borderRadius:12,position:"relative"},placeholderShimmer:{position:"absolute",left:8,top:8,borderRadius:6,height:22,width:360},modeShimmer:{position:"absolute",left:8,bottom:8,borderRadius:6,width:232,height:26},sourcesShimmer:{position:"absolute",right:8,bottom:8,borderRadius:6,width:200,height:26}})),[]);return(0,g.jsx)("div",{style:e.wrapper,children:(0,g.jsxs)("div",{style:e.mockAIChatInputWrap,children:[(0,g.jsx)(ve().A,{style:e.placeholderShimmer}),(0,g.jsx)(ve().A,{style:e.modeShimmer}),(0,g.jsx)(ve().A,{style:e.sourcesShimmer})]})})}var be=()=>n(693954),we=()=>n(206267),_e=()=>n(496603),je=()=>n(838924),Ae=()=>n(645200),ke=()=>n(320260),Ie=()=>n(689950),Me=()=>n(954933),Te=()=>n(677169),Pe=()=>n(410430),Le=()=>n(370873),Re=()=>n(401826),He=()=>n(972435),Be=()=>n(135428);const Ve=(0,M().YK)({lunch:{id:"CalendarFeaturePreview.eventTitle.lunch",defaultMessage:"Lunch"},firstMeeting:{id:"CalendarFeaturePreview.eventTitle.firstMeeting",defaultMessage:"My first meeting"},groceryShop:{id:"CalendarFeaturePreview.eventTitle.groceryShop",defaultMessage:"Grocery shopping"},birthday:{id:"CalendarFeaturePreview.eventTitle.birthday",defaultMessage:"Birthday celebration"},office:{id:"CalendarFeaturePreview.eventLocation.office",defaultMessage:"Office"},store:{id:"CalendarFeaturePreview.eventLocation.store",defaultMessage:"Store"},park:{id:"CalendarFeaturePreview.eventLocation.park",defaultMessage:"Park"},restaurant:{id:"CalendarFeaturePreview.eventLocation.restaurant",defaultMessage:"Restaurant"}}),De=[{title:Ve.firstMeeting,time:k().c9.fromObject({hour:9}),location:Ve.office,includeJoinButton:!0},{title:Ve.lunch,time:k().c9.fromObject({hour:13}),location:Ve.restaurant,includeJoinButton:!1}],Ee=[{title:Ve.groceryShop,time:k().c9.fromObject({hour:11}),location:Ve.store,includeJoinButton:!1},{title:Ve.birthday,time:k().c9.fromObject({hour:14}),location:Ve.park,includeJoinButton:!1}];function Oe(e){let{date:t,events:n}=e;const r=(0,i().v3)(),s=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",paddingBottom:10},date:{width:"25%",paddingRight:10,display:"flex",flexDirection:"column",fontSize:(0,$().ny)(r,"UISmall"),fontWeight:P().Wy.medium},events:{width:"75%"}})),[r]),l=(0,o.useMemo)((()=>t.day===k().c9.now().day?(0,g.jsx)(M().sA,{id:"notionCalendarEventDate.today",defaultMessage:"Today"}):t.toLocaleString({weekday:"short"})),[t]);return(0,g.jsxs)("div",{style:s.container,children:[(0,g.jsxs)("div",{style:s.date,children:[(0,g.jsx)("div",{children:l}),(0,g.jsx)("div",{children:t.toLocaleString({month:"short",day:"numeric"})})]}),(0,g.jsx)("div",{style:s.events,children:n.map((e=>(0,g.jsx)(Ne,{event:e},e.title.id)))})]})}function Ne(e){let{event:t}=e;const n=(0,M().tz)(),i=(0,a().IS)((e=>({container:{marginBottom:14,display:"flex"},calendarIndicator:{width:4,backgroundColor:e.home.emptyStatePreview.calendarIndicator,borderRadius:4,flexShrink:0},event:{display:"flex",width:"100%",gap:4,overflow:"hidden"},eventDetails:{display:"flex",flexDirection:"column",flex:1,paddingLeft:10,overflow:"hidden"},title:{fontWeight:P().Wy.medium,...P().RC},joinButton:{textAlign:"end",alignSelf:"center",flexShrink:0}})),[]),r=(0,o.useMemo)((()=>(0,Be().ax)({time:t.time,showAmPm:!0,locale:n.locale,timeZone:t.time.zoneName})),[t.time,n.locale]);return(0,g.jsx)("div",{style:i.container,children:(0,g.jsxs)("div",{style:i.event,children:[(0,g.jsx)("div",{style:i.calendarIndicator}),(0,g.jsxs)("div",{style:i.eventDetails,children:[(0,g.jsx)("div",{style:i.title,children:He().A.formatMessage(t.title)}),(0,g.jsx)("div",{children:`${r} ⸱ ${He().A.formatMessage(t.location)}`})]}),t.includeJoinButton&&(0,g.jsx)("div",{style:i.joinButton,children:(0,g.jsx)(Fe,{})})]})})}function Fe(){const e=(0,a().IS)((e=>({container:{width:"fit-content",padding:"2px 8px 2px 8px",display:"flex",flexDirection:"row",backgroundColor:e.home.emptyStatePreview.joinButtonBackground,borderRadius:4},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:4},icon:{width:16,height:16,marginRight:4},joinTitleContainer:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}})),[]);return(0,g.jsxs)("div",{style:e.container,children:[(0,g.jsx)("div",{style:e.iconWrapper,children:(0,Re().U)(e.icon)}),(0,g.jsx)("div",{style:e.joinTitleContainer,children:(0,g.jsx)(M().sA,{id:"notionCalendarEvent.joinButtonWithMeeting",defaultMessage:"Join meeting"})})]})}const We=function(){const e=(0,M().tz)(),t=k().c9.now().setLocale(e.locale);return(0,g.jsxs)("div",{children:[(0,g.jsx)(Oe,{date:t,events:De}),(0,g.jsx)(Oe,{date:t.plus({days:1}),events:Ee})]})};var ze=()=>n(340498);const Ue=(0,ze().wt)("bookClosedFilled",{viewBox:"0 0 17 16",svg:(0,g.jsx)("path",{d:"M14 4.5V14H6.3275C5.735 14 5.3325 13.8325 4.9125 13.415L3.585 12.0875C3.165 11.6675 3 11.265 3 10.6725V2H11.5V11.5H5.12L6.12 12.5H12.5V4.5H14Z"})});var Ke=()=>n(462424);const Ze=(0,ze().wt)("foodAndDrink",{viewBox:"0 0 17 16",svg:(0,g.jsx)("g",{clipPath:"url(#clip0_6853_89883)",children:(0,g.jsx)("path",{d:"M8.5 8.5C8.5 6.65 9.84 5.5 12 5.5C14.16 5.5 15.5 6.65 15.5 8.5H8.5ZM15.5 9.5H8.5C8.1925 9.5 8 9.6925 8 10V10.5C8 10.8075 8.1925 11 8.5 11H15.5C15.8075 11 16 10.8075 16 10.5V10C16 9.6925 15.8075 9.5 15.5 9.5ZM8.5 12.5C8.5 13.1175 8.8825 13.5 9.5 13.5H14.5C15.1175 13.5 15.5 13.1175 15.5 12.5V12H8.5V12.5ZM8.5 5.5V4H6.005L6.245 1.125L4.75 1L4.5 4H0.5V5.5H1.625L2.2925 13.5H6.71L7.3775 5.5H8.5025H8.5Z"})})}),qe=(0,ze().wt)("sun",{viewBox:"0 0 17 16",svg:(0,g.jsx)("path",{d:"M11.5 8C11.5 9.6575 10.1575 11 8.5 11C6.8425 11 5.5 9.6575 5.5 8C5.5 6.3425 6.8425 5 8.5 5C10.1575 5 11.5 6.3425 11.5 8ZM9 1.5H8V4H9V1.5ZM8 14.5H9V12H8V14.5ZM6.025 4.8175L4.2575 3.05L3.55 3.7575L5.3175 5.525L6.025 4.8175ZM10.975 11.1825L12.7425 12.95L13.45 12.2425L11.6825 10.475L10.975 11.1825ZM4.5 7.5H2V8.5H4.5V7.5ZM12.5 7.5V8.5H15V7.5H12.5ZM3.55 12.2425L4.2575 12.95L6.025 11.1825L5.3175 10.475L3.55 12.2425ZM13.45 3.7575L12.7425 3.05L10.975 4.8175L11.6825 5.525L13.45 3.7575Z"})}),Ge=(0,ze().wt)("wheat",{viewBox:"0 0 17 16",svg:(0,g.jsx)("path",{d:"M12.0625 4.9975L10.56 6.5H13.75C13.75 7.425 13.175 8 12.25 8H9.06L7.56 9.5H10.75C10.75 10.425 10.175 11 9.25 11H6.06L3.06 14L2 12.94L3.5 11.44V8.25C3.5 7.325 4.075 6.75 5 6.75V9.94L6.5 8.44V5.25C6.5 4.325 7.075 3.75 8 3.75V6.94L12.06 2.88C12.6875 2.2525 13.2925 2.0025 14.1825 2.0025H15C15 3.8325 13.8775 4.9725 12.0625 5V4.9975Z"})}),$e=["wake","breakfast","work","lunch","exercise"];function Ye(){const e=(0,i().v3)(),t=(0,a().IS)((t=>({databaseHeader:{display:"flex",flexDirection:"row",paddingTop:4,paddingBottom:4,gap:4,fontSize:(0,$().ny)(e,"UISmall")},status:{flex:1,textAlign:"end"}})),[e]);return(0,g.jsxs)("div",{style:t.databaseHeader,children:[(0,g.jsx)("div",{children:(0,g.jsx)(M().sA,{id:"CustomDbFeaturePreview.activity.headerTitle",defaultMessage:"Activity"})}),(0,g.jsx)("div",{style:t.status,children:(0,g.jsx)(M().sA,{defaultMessage:"Status",id:"database.propertyTypeName.status"})})]})}function Xe(e){let{type:t}=e;const n=(0,a().IS)((e=>({databaseRow:{display:"flex",flexDirection:"row",borderTop:`1px solid ${e.stroke.secondary}`,gap:12,paddingTop:4,paddingBottom:4},status:{flex:1,textAlign:"end"},title:{fontWeight:P().Wy.medium},iconContainer:{alignContent:"center"},icon:{width:16,height:16,alignSelf:"center",fill:"light"===e.mode?e.icon.quaternary:e.icon.tertiary}})),[]),i=(0,o.useMemo)((()=>{switch(t){case"wake":return qe;case"breakfast":return Ge;case"work":return Ue;case"lunch":return Ze;case"exercise":return Ke().i;default:(0,T().HB)(t)}}),[t]),r=(0,o.useMemo)((()=>{switch(t){case"wake":return(0,g.jsx)(M().sA,{id:"CustomDbFeaturePreview.rowTitle.wake",defaultMessage:"Wake up and freshen up"});case"breakfast":return(0,g.jsx)(M().sA,{id:"CustomDbFeaturePreview.rowTitle.breakfast",defaultMessage:"Have breakfast"});case"work":return(0,g.jsx)(M().sA,{id:"CustomDbFeaturePreview.rowTitle.work",defaultMessage:"Work or study"});case"lunch":return(0,g.jsx)(M().sA,{id:"CustomDbFeaturePreview.rowTitle.lunch",defaultMessage:"Have lunch"});case"exercise":return(0,g.jsx)(M().sA,{id:"CustomDbFeaturePreview.rowTitle.exercise",defaultMessage:"Exercise"});default:(0,T().HB)(t)}}),[t]),s=(0,o.useMemo)((()=>{switch(t){case"wake":return(0,g.jsx)(M().sA,{id:"database.statusProperty.option.done",defaultMessage:"Done"});case"breakfast":return(0,g.jsx)(M().sA,{id:"database.statusProperty.option.inProgress",defaultMessage:"In progress"});case"work":case"lunch":case"exercise":return(0,g.jsx)(M().sA,{id:"database.statusProperty.option.notStarted",defaultMessage:"Not started"});default:(0,T().HB)(t)}}),[t]);return(0,g.jsxs)("div",{style:n.databaseRow,children:[(0,g.jsx)("div",{style:n.iconContainer,children:i(n.icon)}),(0,g.jsx)("div",{style:n.title,children:r}),(0,g.jsx)("div",{style:n.status,children:s})]})}const Qe=function(){const e=(0,a().IS)((e=>({database:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}})),[]);return(0,g.jsxs)("div",{style:e.database,children:[(0,g.jsx)(Ye,{}),$e.map((e=>(0,g.jsx)(Xe,{type:e},e)))]})};var Je=()=>n(834368),et=()=>n(124085);const tt=[{type:"sync",date:k().c9.now(),area:"work"},{type:"review",date:k().c9.now().plus({days:1}),area:"work"},{type:"create",date:k().c9.now().plus({days:7}),area:"work"},{type:"book",date:k().c9.now(),area:"personal"},{type:"dinner",date:k().c9.now().plus({days:7}),area:"personal"}];function nt(e){let{task:t}=e;const{type:n,date:i,area:r}=t,s=(0,M().tz)(),l=(0,a().IS)((e=>({databaseRow:{display:"flex",flexDirection:"row",gap:12,paddingBottom:10,alignItems:"center"},date:{flex:1,textAlign:"end"},title:{fontWeight:P().Wy.medium},icon:{width:14,height:14,borderRadius:2,alignSelf:"center",fill:"light"===e.mode?e.icon.quaternary:e.icon.tertiary}})),[]),c=(0,o.useMemo)((()=>{switch(n){case"sync":return(0,g.jsx)(M().sA,{id:"MyTasksFeaturePreview.taskTitle.sync",defaultMessage:"Sync with Lisa"});case"review":return(0,g.jsx)(M().sA,{id:"MyTasksFeaturePreview.taskTitle.review",defaultMessage:"Review design docs"});case"create":return(0,g.jsx)(M().sA,{id:"MyTasksFeaturePreview.taskTitle.create",defaultMessage:"Create color palette"});case"book":return(0,g.jsx)(M().sA,{id:"MyTasksFeaturePreview.taskTitle.book",defaultMessage:"Book flights to New York"});case"dinner":return(0,g.jsx)(M().sA,{id:"MyTasksFeaturePreview.taskTitle.dinner",defaultMessage:"Dinner with Alex"});default:(0,T().HB)(n)}}),[n]),d=(0,o.useMemo)((()=>{switch(r){case"work":return(0,g.jsx)(M().sA,{id:"MyTasksFeaturePreview.area.work",defaultMessage:"Work"});case"personal":return(0,g.jsx)(M().sA,{id:"MyTasksFeaturePreview.area.personal",defaultMessage:"Personal"});default:(0,T().HB)(r)}}),[r]);return(0,g.jsxs)("div",{style:l.databaseRow,children:[(0,g.jsx)("div",{children:(0,Je().K)(l.icon)}),(0,g.jsx)("div",{style:l.title,children:c}),(0,g.jsx)("div",{style:l.date,children:i.setLocale(s.locale).toLocaleString({month:"short",day:"numeric",year:"numeric"})}),(0,g.jsx)("div",{children:d})]})}function ot(){const e=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},iconContainer:{marginRight:14},icon:{width:12,height:12}})),[]);return(0,g.jsxs)("div",{style:e.container,children:[(0,g.jsx)("div",{style:e.iconContainer,children:(0,et().P)(e.icon)}),(0,g.jsx)("div",{children:(0,g.jsx)(M().sA,{defaultMessage:"New task",id:"appTemplates.projects.tasksCollectionEmptyButtonTitle"})})]})}const it=function(){const e=(0,a().IS)((e=>({database:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}})),[]);return(0,g.jsxs)("div",{style:e.database,children:[tt.map((e=>(0,g.jsx)(nt,{task:e},e.type))),(0,g.jsx)(ot,{})]})};function rt(e){const{feature:t}=e,n=o.useRef(null),i=(0,a().IS)((e=>({button:{padding:8,width:"fit-content"}})),[]),s=(0,r().K8)((()=>{switch(t){case"custom_db":return(0,g.jsx)(M().sA,{id:"CustomDbHomePanel.setup.button",defaultMessage:"Select database"});case"calendar":return(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.signedOut.buttonText",defaultMessage:"Connect Notion Calendar"});case"calendarDisconnectedAccount":return(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.disconnectedAccount.buttonText",defaultMessage:"Reconnect with Notion Calendar"});case"calendarMissingScopes":return(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.missingScopes.buttonText",defaultMessage:"Access calendar and contacts"});case"tasks":return(0,g.jsx)(M().sA,{defaultMessage:"Don't see your tasks?",id:"tasksEmptyState.noDatabases.title"});default:(0,T().HB)(t)}}),[t]);return(0,g.jsx)("div",{children:(0,g.jsx)(R().p,{isBlue:!0,shouldShrink:!0,onClick:()=>e.onSetup(n),style:i.button,ref:n,children:s})})}function at(e){let{feature:t}=e;const n=(0,a().IS)((e=>{const t={...(0,ge().Xx)(e),fill:"light"===e.mode?e.text.quaternary:e.text.tertiary,color:e.text.quaternary,margin:8};return{icon:t,calendarIcon:{...t,height:34,width:34}}}),[]);return(0,r().K8)((()=>{switch(t){case"custom_db":return(0,Pe().k)(n.icon);case"calendar":case"calendarDisconnectedAccount":case"calendarMissingScopes":return(0,g.jsx)(ke().y,{style:n.calendarIcon});case"tasks":return(0,Le().p)(n.icon);default:(0,T().HB)(t)}}),[t,n.calendarIcon,n.icon])}function st(e){let{feature:t,centerText:n}=e;const o=(0,a().IS)((e=>({featureDescription:{paddingLeft:8,paddingRight:8,marginTop:10,marginBottom:16,textAlign:n?"center":void 0}})),[n]),i=(0,r().K8)((()=>{var e;return null===(e=S().default.state.currentSpaceStore)||void 0===e||null===(e=e.getModel())||void 0===e?void 0:e.getRenderTitle()}),[]),s=(0,r().K8)((()=>{switch(t){case"custom_db":return(0,g.jsx)(M().sA,{id:"CustomDbHomePanel.setup.description",defaultMessage:"Pin a database view to quickly access it from Home."});case"calendar":return(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.signedOut.title",defaultMessage:"See your upcoming events and join meetings from Home."});case"calendarDisconnectedAccount":return(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.calendarAccountDisconnected.title",defaultMessage:"Unable to connect to your account."});case"calendarMissingScopes":return(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.missingScopes.title",defaultMessage:"Missing required permissions to access your calendar and contacts."});case"tasks":return(0,g.jsx)(M().sA,{id:"MyTasksHomePanel.setup.description",defaultMessage:"See all your tasks across {spaceName} in one place.",values:{spaceName:i}});default:(0,T().HB)(t)}}),[t,i]);return(0,g.jsx)("div",{style:o.featureDescription,children:(0,g.jsx)(K().A,{isSecondaryColor:!0,isMultiline:!0,children:s})})}const lt=function(e){let{feature:t,onSetup:o}=e;const s=(0,i().v3)(),l="narrow"===(0,n(30469).q)(),c=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"stretch"},leftContainer:{flexBasis:0,flexGrow:1,paddingTop:36,paddingBottom:36,paddingLeft:24,paddingRight:24,borderRight:l?void 0:`1px solid ${e.home.emptyStatePreview.verticalDivider}`},leftContent:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",alignItems:l?"center":void 0,paddingBottom:["calendar","calendarDisconnectedAccount","calendarMissingScopes"].includes(t)?0:8},right:{flexBasis:0,flexGrow:1,paddingTop:32,paddingLeft:24,paddingRight:24,height:236,fontSize:(0,$().ny)(s,"UIRegular"),color:"light"===e.mode?e.text.quaternary:e.text.tertiary,overflow:"hidden"}})),[s,t,l]),d=(0,r().K8)((()=>{switch(t){case"custom_db":return(0,g.jsx)(Qe,{});case"calendar":case"calendarDisconnectedAccount":case"calendarMissingScopes":return(0,g.jsx)(We,{});case"tasks":return(0,g.jsx)(it,{});default:(0,T().HB)(t)}}),[t]);return(0,g.jsxs)("div",{style:c.container,children:[(0,g.jsx)("div",{style:c.leftContainer,children:(0,g.jsxs)("div",{style:c.leftContent,children:[(0,g.jsx)(at,{feature:t}),(0,g.jsx)(st,{feature:t,centerText:l}),(0,g.jsx)(rt,{feature:t,onSetup:o})]})}),!l&&(0,g.jsx)("div",{style:c.right,children:d})]})};var ct=()=>n(614016);function dt(e){const{type:t}=e,n=(0,i().v3)(),s=(0,o.useContext)(ue().a)??ue().H,l=(0,r().K8)((()=>(0,ct().P8)((0,ct()._I)())),[]),c=(0,o.useCallback)((()=>{const e=we().JW();(0,Ie().V0)({environment:n,calendarPanelContext:(0,Ie().sp)({panelState:s.panelState,view:s.view}),notionAnalyticsSessionId:e}),(0,Ae().i$)({environment:n,from:"homeEmptyStateCreateEvent",notionAnalyticsSessionId:e})}),[n,s.panelState,s.view]),d=(0,a().IS)((e=>({container:{display:"flex",flexGrow:1,width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingLeft:"15%",paddingRight:"15%",gap:16},icon:{width:48,height:48,color:e.lightIconColor},titleText:{fontSize:(0,$().ny)(n,"UIRegular"),color:e.text.tertiary,textAlign:"center"},buttonStyle:{color:e.blueColor}})),[n]);let u,p,m,h=!0;switch(t){case"noEvents":u=(0,g.jsxs)(g.Fragment,{children:[1===l&&(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.noEvents.title.today",defaultMessage:"No upcoming events today"}),2===l&&(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.noEvents.title.todayOrTomorrow",defaultMessage:"No upcoming events today or tomorrow"}),l>=3&&(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.noEvents.title",defaultMessage:"No upcoming events in the next {days} days",values:{days:l}})]}),p=(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.noEvents.buttonText",defaultMessage:"+ New event"}),m=c;break;case"loadError":u=(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.loadError.title",defaultMessage:"Events not loading"}),p=(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.loadError.buttonText",defaultMessage:"Try again"}),m=e.onRetry,h=e.isRetryEnabled;break;default:(0,T().HB)(t)}return(0,g.jsxs)("div",{style:d.container,children:[(0,g.jsx)(ke().y,{style:d.icon}),(0,g.jsx)("div",{style:d.titleText,children:u}),h&&(0,g.jsx)(R().p,{style:d.buttonStyle,onClick:m,children:p})]})}const ut=o.memo(dt);var pt=()=>n(680784),mt=()=>n(921997),gt=()=>n(941541),ht=()=>n(523239),ft=()=>n(812109),yt=()=>n(379560);n(944114);function vt(e){let{}=e;const t=(0,r().K8)((()=>yt().A.getCalendarAndAccountIds()),[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(g.Fragment,{children:[t.map((e=>(0,g.jsx)(xt,{accountId:e.accountId,calendarId:e.calendarId},(0,ft().N)(e)))),(0,g.jsx)(Ct,{})]}),(0,g.jsx)(St,{})]})}function xt(e){let{accountId:t,calendarId:n}=e;const{botId:a}=(0,Te().m)();return function(e){let{accountId:t,botId:n,calendarId:a}=e;const s=(0,i().v3)(),l=(0,r().O$)(S().AppStoreCurrentSpaceViewStore),c=(0,o.useRef)([]),d=(0,o.useCallback)((()=>{if(!n)return;const e=(0,mt().Xq)({accountId:t,botId:n,calendarId:a}),o=gt().Ay.addListener(e,void 0,(0,gt().AY)((()=>(0,ht().tD)({currentSpaceViewStore:l,environment:s,botId:n,timeRange:(0,ct().M)(),calendarAndAccountIds:[{calendarId:a,accountId:t}],forceRefetch:!0,reason:"event_change"}))),void 0,s);o&&c.current.push(o);const i=(0,mt().Bp)({botId:n,accountId:t,calendarId:a}),r=gt().Ay.addListener(i,void 0,(0,gt().AY)((e=>{let{value:o}=e;if("true"!==o&&"false"!==o)return;const i=JSON.parse(o);(0,ht().X8)({environment:s,botId:n,calendarId:a,accountId:t,newIsVisible:i})})),void 0,s);r&&c.current.push(r)}),[n,t,a,s,l]),u=(0,o.useCallback)((()=>{for(const e of c.current)gt().Ay.removeListener(e,s);c.current=[]}),[s]);(0,o.useEffect)((()=>(d(),u)),[d,u])}({accountId:t,botId:a,calendarId:n}),null}function Ct(){const e=(0,i().v3)(),t=(0,r().O$)(S().AppStoreCurrentSpaceViewStore),{botId:n}=(0,Te().m)(),a=(0,o.useRef)(),s=(0,o.useCallback)((()=>{if(!n)return;const o=(0,mt().G8)({botId:n});a.current=gt().Ay.addListener(o,void 0,(0,gt().AY)((()=>(0,ht().tD)({currentSpaceViewStore:t,environment:e,botId:n,timeRange:(0,ct().M)(),forceRefetch:!0,updateMethod:"replace",reason:"calendar_change"}))),void 0,e)}),[n,e,t]),l=(0,o.useCallback)((()=>{a.current&&(gt().Ay.removeListener(a.current,e),a.current=void 0)}),[e]);return(0,o.useEffect)((()=>(s(),l)),[s,l]),null}function St(){const e=(0,i().v3)(),t=(0,r().O$)(S().AppStoreCurrentSpaceViewStore),n=(0,Te().m)(),a=(0,o.useCallback)((()=>k().c9.now().plus({minutes:1}).startOf("minute").plus({seconds:1}).diffNow().as("milliseconds")),[]),s=(0,o.useCallback)((()=>(0,ht().m5)({currentSpaceViewStore:t})),[t]);var l,c;l=a,c=s,(0,o.useEffect)((()=>{let e;const t=()=>{c(),e=setTimeout(t,l())};return e=setTimeout(t,l()),()=>clearTimeout(e)}),[c,l]);const d=(0,je().s5)().toISODate(),u=(0,o.useRef)(d);return(0,o.useEffect)((()=>{n.botId&&d!==u.current&&((0,ht().tD)({environment:e,currentSpaceViewStore:t,botId:n.botId,timeRange:(0,ct().M)(),forceRefetch:!0,reason:"date_change"}),u.current=d)}),[n,t,e,d]),null}const bt=o.memo(vt);var wt=()=>n(406699);class _t extends O().default{getInitialState(){return{open:!1}}close(){this.setState({open:!1})}open(e){this.setState({open:!0,panel:e})}}const jt=_t;var At=()=>n(906380),kt=()=>n(566910);const It=(0,ze().wt)("navigationCrossedOut",{viewBox:"0 0 20 20",svg:(0,g.jsx)("path",{d:"M3.91602 10.6729C3.67904 10.6683 3.47852 10.6136 3.31445 10.5088C3.15495 10.404 3.03418 10.2718 2.95215 10.1123C2.87467 9.94824 2.84277 9.77734 2.85645 9.59961C2.87012 9.41732 2.93164 9.24414 3.04102 9.08008C3.15039 8.91602 3.31445 8.78613 3.5332 8.69043L6.5752 7.27539L7.55957 8.2666L5.22852 9.33301C5.21029 9.34212 5.20117 9.35124 5.20117 9.36035C5.20573 9.36947 5.21484 9.37402 5.22852 9.37402L8.65332 9.35352L10.2529 10.9531L10.2324 14.3779C10.2324 14.3916 10.237 14.4007 10.2461 14.4053C10.2552 14.4053 10.262 14.3984 10.2666 14.3848L11.3467 12.0537L12.3379 13.0449L10.9707 15.998C10.8659 16.2214 10.7314 16.3923 10.5674 16.5107C10.4033 16.6338 10.2279 16.7044 10.041 16.7227C9.85417 16.7409 9.67871 16.7135 9.51465 16.6406C9.35059 16.5677 9.21615 16.4492 9.11133 16.2852C9.00651 16.1257 8.9541 15.9251 8.9541 15.6836L8.94043 10.7754C8.94043 10.7344 8.93587 10.7093 8.92676 10.7002C8.91764 10.6911 8.89486 10.6865 8.8584 10.6865L3.91602 10.6729ZM13.5547 10.3994L12.5566 9.40137L14.5049 5.16992C14.5186 5.13802 14.5186 5.11979 14.5049 5.11523C14.4958 5.10612 14.4798 5.10612 14.457 5.11523L10.2119 7.06348L9.20703 6.07227L14.4639 3.63867C14.7555 3.50195 15.0244 3.44727 15.2705 3.47461C15.5166 3.50195 15.7171 3.59082 15.8721 3.74121C16.0316 3.88704 16.1273 4.08073 16.1592 4.32227C16.1911 4.55924 16.1387 4.82357 16.002 5.11523L13.5547 10.3994ZM15.4141 14.9863L4.72266 4.29492C4.61784 4.19466 4.56543 4.06934 4.56543 3.91895C4.56543 3.764 4.61784 3.63411 4.72266 3.5293C4.82747 3.41992 4.95508 3.36751 5.10547 3.37207C5.26042 3.37207 5.3903 3.42448 5.49512 3.5293L16.1865 14.2139C16.2913 14.3232 16.3415 14.4531 16.3369 14.6035C16.3369 14.7493 16.2868 14.877 16.1865 14.9863C16.0817 15.0911 15.9518 15.1436 15.7969 15.1436C15.6465 15.1436 15.5189 15.0911 15.4141 14.9863Z"})}),Mt={viewBox:"0 0 20 20",svg:(0,g.jsx)("path",{d:"M8 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M5.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M8 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h8.3c.68 0 1.328-.287 1.74-.767.429-.502.591-1.217.23-1.923C13.1 12.945 10.7 11.63 8 11.63m-5.007 3.875c.761-1.488 2.672-2.626 5.007-2.626s4.246 1.138 5.007 2.626c.105.204.07.378-.067.54-.156.182-.448.33-.79.33h-8.3c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54m15.493-8.568a.625.625 0 0 1 0 .884L16.807 9.5l1.68 1.68a.625.625 0 1 1-.884.883l-1.68-1.68-1.68 1.68a.625.625 0 0 1-.883-.884L15.04 9.5l-1.68-1.68a.625.625 0 1 1 .884-.883l1.68 1.68 1.678-1.68a.625.625 0 0 1 .884 0"})},Tt=(0,ze().wt)("personXmark",Mt);var Pt=()=>n(406533),Lt=()=>n(42583),Rt=()=>n(148024),Ht=()=>n(980151),Bt=()=>n(760217),Vt=()=>n(939740),Dt=()=>n(8980),Et=()=>n(89924),Ot=()=>n(574036),Nt=()=>n(836251),Ft=()=>n(185984),Wt=()=>n(583238);function zt(){return(0,r().K8)((()=>(0,Wt().pH)()),[])}var Ut=()=>n(885749),Kt=()=>n(149375),Zt=()=>n(398208),qt=()=>n(285790),Gt=()=>n(377515),$t=(n(672577),()=>n(851979)),Yt=()=>n(207583),Xt=()=>n(569243);function Qt(e){let{botId:t,isMirrored:n}=e;const o=(0,r().K8)((()=>yt().A.getCurrentAccountIds()),[]),i=(0,a().IS)((()=>({container:{width:"100%",display:"flex",flexDirection:"column",height:228,opacity:n?.3:void 0},spacer:{width:"100%",paddingBottom:12}})),[n]);return(0,g.jsxs)("div",{style:i.container,children:[o.map((e=>(0,g.jsx)(Jt,{mirrored:n,botId:t,accountId:e},e))),(0,g.jsx)("div",{style:i.spacer})]})}function Jt(e){let{accountId:t,mirrored:n,botId:s}=e;const l=(0,i().v3)(),c=(0,r().K8)((()=>yt().A.getAccount(t)),[t]),d=(0,r().K8)((()=>yt().A.getCalendarsForAccount(t)),[t]),u=(0,o.useCallback)((()=>{(0,Ae().u$)({environment:l,from:"homeDisconnectedAccountWarning"})}),[l]),p=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch"},title:{...P().RC},titleWrapper:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},disconnectedAccountWarningIcon:{color:e.text.secondary,width:12,height:12},sectionItem:{paddingTop:12,paddingBottom:4,marginTop:0,marginBottom:0},sectionTitle:{paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}})),[]);if(!c||c.authorized&&0===d.length)return null;const m=c.authorized?c.displayName:(0,g.jsx)(H().A,{renderTooltip:()=>(0,g.jsx)(M().sA,{id:"notionCalendarPanel.disconnectedAccountWarningTooltip",defaultMessage:"Calendar account requires reconnecting"}),render:e=>(0,g.jsxs)("span",{role:"button",style:p.titleWrapper,onClick:u,...e,children:[(0,g.jsx)("span",{style:p.title,children:c.displayName}),(0,be().Q)(p.disconnectedAccountWarningIcon)]})});return(0,g.jsxs)("div",{style:p.container,children:[(0,g.jsx)(Et().A,{title:m,style:p.sectionItem,desktopTitleStyle:p.sectionTitle}),d.map((e=>(0,g.jsx)(en,{mirrored:n,botId:s,calendar:e},(0,ft().N)(e))))]})}function en(e){let{mirrored:t,botId:n,calendar:s}=e;const l=(0,i().v3)(),c=(0,o.useContext)(ue().a)??ue().H,d=(0,r().K8)((()=>{if(!s.notionParentId||!s.subtitle)return!1;const e=yt().A.getCalendarsForAccount(s.accountId).find((e=>e.id!==s.id&&e.notionParentId&&e.notionParentId===s.notionParentId));return Boolean(e)}),[s.accountId,s.id,s.notionParentId,s.subtitle]),u=(0,r().K8)((()=>{const{currentSpaceViewStore:e}=S().default.state;return!!s&&(0,Gt().Pj)({spaceViewStore:e,botId:n,calendar:s})}),[n,s]),p=(0,a().IS)((e=>({container:{height:32},calendarColorIndicator:{height:10,width:10,flexShrink:0,flexGrow:0,borderRadius:"100%",backgroundColor:(0,Xt().QL)({theme:e,calendarColor:null==s?void 0:s.color})},calendarVisibilityIndicator:{flexShrink:0,flexGrow:0},eyeIcon:{width:20,height:20,padding:2,fill:e.text.secondary},eyeHiddenIcon:{width:20,height:20,fill:e.mediumIconColor},calendarNameAndSubtitleContainer:{display:"flex",alignItems:"center"},calendarSubtitle:{marginLeft:4,color:e.text.secondary}})),[null==s?void 0:s.color]);if(!s)return null;const m=d?(0,g.jsxs)("div",{style:p.calendarNameAndSubtitleContainer,children:[s.name,(0,g.jsx)("span",{style:p.calendarSubtitle,children:s.subtitle})]}):s.name;return(0,g.jsx)(Bt().A,{onClick:()=>(0,ht().vA)({environment:l,botId:n,calendarId:s.id,accountId:s.accountId,newIsVisible:!u,analyticsContext:c}),disabled:t,focused:!1,style:p.container,left:(0,g.jsx)("div",{style:p.calendarColorIndicator}),title:m,right:(0,g.jsx)("div",{style:p.calendarVisibilityIndicator,children:u?(0,$t().h)(p.eyeIcon):(0,Yt().F)(p.eyeHiddenIcon)})})}const tn=o.memo(Qt);function nn(e){let{popupStore:t}=e;const l=(0,i().v3)(),{botId:c}=(0,Te().m)(),d=(0,o.useContext)(ue().a)??ue().H,u=(0,r().O$)(S().AppStoreCurrentSpaceViewStore),p=(0,r().uB)(void 0,w().A),m=(0,r().K8)((()=>(0,Gt().Xg)({botId:c,spaceViewStore:u})),[c,u]),h=(0,o.useCallback)((()=>{t.close(),(0,Ie().lv)({environment:l,action:"close",calendarPanelContext:(0,Ie().sp)({panelState:d.panelState,view:d.view})})}),[l,d.panelState,d.view,t]),f=(0,o.useCallback)((()=>t.open("main")),[t]),y=(0,o.useCallback)((()=>c&&(0,ht().Kq)({environment:l,botId:c,mirrorWithNotionCalendar:!m,analyticsContext:{panelState:d.panelState,view:d.view}})),[c,l,d.panelState,d.view,m]),v=(0,a().IS)((()=>({accountsListSection:{paddingTop:0,paddingBottom:0}})),[]);if(!c)return null;const x=(0,_e().oE)([{key:"headerSection",render:e=>(0,g.jsx)(Et().A,{...e}),items:[{key:"headerItem",render:e=>(0,g.jsx)(on,{onClose:h,onBackClick:f}),action:()=>{}}]},{key:"mirrorToggle",render:e=>(0,g.jsx)(Et().A,{...e,topBorder:!0}),items:(0,_e().oE)([{key:"mirrorToggleItem",render:e=>(0,g.jsx)(Ot().A,{...e,focused:!1,on:m,title:(0,g.jsx)(M().sA,{id:"calendarSettingsVisibilityPanel.mirrorWithNotionCalendar",defaultMessage:"Mirror calendar app"}),onClick:y}),action:()=>{}}])},{key:"accountsList",render:e=>(0,g.jsx)(Et().A,{...e,style:v.accountsListSection}),items:(0,_e().oE)([{key:"accountsList",render:e=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n(550125).A,{scrollerStore:p}),(0,g.jsx)(s().H,{type:C().A.Y,store:p,children:(0,g.jsx)(tn,{botId:c,isMirrored:m,...e})})]}),action:()=>{}}])}]);return(0,g.jsx)(Vt().Ay,{onAccept:e=>{},type:Vt().Oh.Vertical,sections:x,initialFocus:void 0})}function on(e){let{onClose:t,onBackClick:n}=e;const o=(0,i().v3)(),r=(0,M().tz)(),s=(0,a().IS)((()=>({container:{paddingLeft:8,paddingRight:10,height:28,display:"flex",alignItems:"center",justifyContent:"flex-start",gap:3},arrowLeftIcon:{width:24,height:24,flexShrink:0,flexGrow:0},menuTitle:{flexGrow:1,fontWeight:P().Wy.semibold,fontSize:(0,$().ny)(o,"UIRegular")},closeButton:{flexShrink:0}})),[o]);return(0,g.jsxs)("div",{style:s.container,children:[(0,g.jsx)(qt().A,{style:s.arrowLeftIcon,icon:Kt().v,ariaLabel:r.formatMessage({id:"calendarSettingsVisibilityPanel.back",defaultMessage:"Back"}),onClick:n}),(0,g.jsx)("div",{style:s.menuTitle,children:(0,g.jsx)(M().sA,{id:"calendarSettingsVisibilityPanel.title",defaultMessage:"Calendars"})}),(0,g.jsx)(Zt().A,{onClose:t,style:s.closeButton})]})}const rn=o.memo(nn);var an=()=>n(811979);const sn={one_day:{title:(0,g.jsx)(M().sA,{id:"IncludeEventsPickerMenu.oneDay",defaultMessage:"Today"})},two_days:{title:(0,g.jsx)(M().sA,{id:"IncludeEventsPickerMenu.two_days",defaultMessage:"Today and tomorrow"})},three_days:{title:(0,g.jsx)(M().sA,{id:"IncludeEventsPickerMenu.three_days",defaultMessage:"3 days"})},one_week:{title:(0,g.jsx)(M().sA,{id:"IncludeEventsPickerMenu.one_week",defaultMessage:"1 week"})}};function ln(e){const t=(0,i().v3)(),s=(0,o.useContext)(ue().a)??ue().H,l=(0,r().K8)((()=>(0,ct().iI)().key),[]),c=(0,a().IS)((e=>({lightText:{color:e.text.secondary},currentRangeIndicator:{display:"flex",alignItems:"center"}})),[]);return(0,g.jsx)(an().A,{...e,popupType:U().nl.Popup,placementToOrigin:B().W.Right,alignmentToOrigin:B().C.Start,renderOrigin:t=>(0,g.jsx)(Bt().A,{...t,focused:e.focused,icon:(0,g.jsx)(Dt().I,{icon:n(638045).t}),title:(0,g.jsx)(M().sA,{id:"IncludeEventsPickerMenu.includeEventsTitle",defaultMessage:"Include events"}),right:(0,g.jsxs)("div",{style:c.currentRangeIndicator,children:[(0,g.jsx)("span",{style:c.lightText,children:sn[l].title}),(0,g.jsx)(Dt().I,{icon:At().x,size:"sm",color:"secondary"})]})}),render:e=>(0,g.jsx)(z().A,{menuType:G().gu.Popup,children:(0,g.jsx)(Vt().Ay,{onAccept:e.close,type:Vt().Oh.Vertical,sections:[{key:"all",render:e=>(0,g.jsx)(Et().A,{...e}),items:(0,T().WP)(sn).map((e=>{let[n,{title:o}]=e;return{action:()=>(e=>{(0,ht().w1)({environment:t,timeRange:e,analyticsContext:s})})(n),key:n,render:e=>(0,g.jsx)(Bt().A,{...e,title:o,isChecked:n===l})}}))}],initialFocus:void 0})})})}const cn=o.memo(ln);function dn(e){const t=(0,i().v3)(),s=(0,o.useContext)(ue().a)??ue().H,{botId:l}=(0,Te().m)(),c=zt(),d=(0,r().O$)(n(53137).A.externalAuthentications),u=(0,o.useCallback)((e=>{if(!e)return"";const t=d.find((t=>t.parent_id===e.id));return null==t?void 0:t.account_name}),[d]),p=(0,a().IS)((e=>({lightText:{color:e.text.secondary},accountIndicator:{display:"flex",alignItems:"center"}})),[]);return(0,g.jsx)(an().A,{...e,popupType:U().nl.Popup,placementToOrigin:B().W.Right,alignmentToOrigin:B().C.Start,renderOrigin:t=>(0,g.jsx)(Bt().A,{...t,focused:e.focused,icon:(0,g.jsx)(Dt().I,{icon:n(253673).z}),title:(0,g.jsx)(M().sA,{id:"NotionCalendarAccountPickerMenu.connectedAccountTitle",defaultMessage:"Connected"}),right:(0,g.jsxs)("div",{style:p.accountIndicator,children:[(0,g.jsx)("span",{style:p.lightText,children:u(c.find((e=>e.id===l)))}),(0,g.jsx)(Dt().I,{icon:At().x,size:"sm",color:"secondary"})]})}),render:e=>(0,g.jsx)(z().A,{menuType:G().gu.Popup,children:(0,g.jsx)(Vt().Ay,{onAccept:e.close,type:Vt().Oh.Vertical,sections:[{key:"all",render:e=>(0,g.jsx)(Et().A,{...e}),items:c.map((e=>({action:()=>{(0,ht().rq)({environment:t,botId:e.id,shouldLog:!0,analyticsContext:s})},key:e.id,render:t=>(0,g.jsx)(Bt().A,{...t,title:u(e),isChecked:e.id===l})})))}],initialFocus:void 0})})})}const un=o.memo(dn),pn={all_day_events:{title:(0,g.jsx)(M().sA,{id:"NotionCalendarSettingsContent.allDayEvents",defaultMessage:"All-day events"}),icon:n(216296).s},events_without_participants:{title:(0,g.jsx)(M().sA,{id:"NotionCalendarSettingsContent.eventsWithoutParticipants",defaultMessage:"Events without participants"}),icon:Tt},events_without_location:{title:(0,g.jsx)(M().sA,{id:"NotionCalendarSettingsContent.eventsWithoutLocation",defaultMessage:"Events without conferencing / location"}),icon:It}};function mn(e){let{hasConnectedCalendar:t,popupStore:n}=e;const i=(0,r().K8)((()=>n.state.open?n.state.panel:void 0),[n]),[a,s]=(0,o.useState)(0),l=(0,o.useCallback)((e=>{e&&e.getBoundingClientRect().width>0&&!a&&s(e.getBoundingClientRect().width)}),[a]);if(!i)return null;let c;return"main"===i?c=(0,g.jsx)(gn,{hasConnectedCalendar:t,popupStore:n}):"calendarVisibility"===i?c=(0,g.jsx)(rn,{popupStore:n}):(0,T().ub)(i),(0,g.jsx)(z().A,{menuType:G().gu.Popup,innerRef:l,...a?{width:a}:{},children:c})}function gn(e){let{hasConnectedCalendar:t,popupStore:n}=e;const s=(0,i().v3)(),l=(0,M().tz)(),c=!(0,y().w4)().showAiChatModuleInHome,d=(0,r().O$)(S().AppStoreCurrentSpaceViewStore),u=zt(),p=(0,o.useCallback)((()=>{Rt().FH(s,{from:"home_calendar_settings"})}),[s]),m=(0,o.useCallback)((()=>n.open("calendarVisibility")),[n]),h=(0,o.useCallback)((()=>{d&&Ht().WO({environment:s,currentSpaceViewStore:d,feature:"calendar",from:"calendar_dismiss_button"})}),[d,s]),f=(0,a().IS)((e=>({lightMenuButton:{color:(0,ge().EI)(e).text}})),[]),v={key:"calendars",render:e=>(0,g.jsx)(Bt().A,{...e,icon:(0,g.jsx)(Dt().I,{icon:Lt().D}),title:(0,g.jsx)(M().sA,{id:"NotionCalendarSettingsContent.calendars",defaultMessage:"Calendars"}),right:(0,g.jsx)(Dt().I,{icon:At().x,size:"sm",color:"secondary"})}),action:m},x={key:"includeEvents",render:e=>(0,g.jsx)(cn,{...e}),action:()=>{}},C=(0,T().WP)(pn).map((e=>{let[t,{title:n,icon:o}]=e;return{key:`eventFilter_${t}`,render:e=>(0,g.jsx)(hn,{...e,filter:t,icon:(0,g.jsx)(Dt().I,{icon:o}),title:n}),action:()=>{}}})),b={key:"hideWidget",render:e=>(0,g.jsx)(Bt().A,{...e,icon:(0,g.jsx)(Dt().I,{icon:kt().e}),title:l.formatMessage(Ut().u.hide)}),action:h},w={key:"learnMore",render:e=>(0,g.jsx)(Bt().A,{...e,style:f.lightMenuButton,icon:(0,g.jsx)(Dt().I,{icon:Pt().questionMarkCircleIcon,color:"secondary"}),href:(0,Nt().xS)("guides.homeCalendar"),title:(0,g.jsx)(M().sA,{id:"NotionCalendarSettingsContent.learnMore",defaultMessage:"Learn more"})}),action:p},_={key:"connectedCalendarAccount",render:e=>(0,g.jsx)(un,{...e}),action:()=>{}},j=(0,_e().oE)([t?{key:"calendarSpecificSettings",render:e=>(0,g.jsx)(Et().A,{...e}),items:[v,x,...C]}:void 0,{key:"highLevelSettingsAndLinks",render:e=>(0,g.jsx)(Et().A,{...e,topBorder:t}),items:[...u.length>1?[_]:[],...c?[b]:[],w]}]);return(0,g.jsx)(Vt().Ay,{onAccept:e=>{},type:Vt().Oh.Vertical,sections:j,initialFocus:void 0})}function hn(e){let{filter:t,title:n,icon:s,...l}=e;const c=(0,i().v3)(),d=(0,o.useContext)(ue().a)??ue().H,u=(0,r().K8)((()=>(0,Ft().E)(t)),[t]),p=(0,o.useCallback)((()=>{(0,ht().X6)({environment:c,filter:t,analyticsContext:{panelState:d.panelState,view:d.view}})}),[c,t,d.panelState,d.view]),m=(0,a().IS)((e=>({title:{marginRight:8}})),[]);return(0,g.jsx)(Ot().A,{...l,on:u,icon:s,title:n,titleStyle:m.title,onClick:p})}const fn=o.memo(mn);function yn(e){let{hasConnectedCalendar:t}=e;const a=(0,i().v3)(),s=(0,r().uB)(void 0,jt),l=(0,r().K8)((()=>s.state.open),[s]),c=(0,o.useContext)(ue().a)??ue().H,d=(0,o.useCallback)((()=>{s.close(),(0,Ie().lv)({environment:a,action:"close",calendarPanelContext:(0,Ie().sp)({panelState:c.panelState,view:c.view})})}),[a,c.panelState,c.view,s]),u=(0,o.useCallback)((()=>{s.open("main"),(0,Ie().lv)({environment:a,action:"open",calendarPanelContext:(0,Ie().sp)({panelState:c.panelState,view:c.view})})}),[a,c.panelState,c.view,s]);return(0,g.jsx)(wt().Ay,{renderOrigin:e=>(0,g.jsx)(n(167068).A,{...e,onClick:u}),open:l,popupType:U().nl.Popup,alignmentToOrigin:wt().yP.End,placementToOrigin:wt().sx.Bottom,onClose:d,onClick:u,render:e=>(0,g.jsx)(fn,{hasConnectedCalendar:t,popupStore:s})},"settings")}const vn=o.memo(yn);let xn=!1;function Cn(e){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return!0;default:(0,T().ub)(e)}}function Sn(e){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return!0;default:(0,T().ub)(e)}}function bn(e,t){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return t.length>0;default:(0,T().ub)(e)}}function wn(e){let{disconnectedAccounts:t,style:n,iconStyle:r}=e;const a=(0,i().v3)(),s=(0,o.useCallback)((()=>{(0,Ae().u$)({environment:a,from:"homeDisconnectedAccountWarning"})}),[a]);if(0===t.length)return null;const l=1===t.length?(0,g.jsx)(M().sA,{id:"notionCalendarPanel.disconnectedAccountsWarningTooltip.singleAccount",defaultMessage:"{accountName} requires reconnecting",values:{accountName:t[0].displayName}}):(0,g.jsx)(M().sA,{id:"notionCalendarPanel.disconnectedAccountsWarningTooltip.multiple",defaultMessage:"{numDisconnectedAccounts} accounts require reconnecting",values:{numDisconnectedAccounts:t.length}});return(0,g.jsx)(H().A,{renderTooltip:()=>l,render:e=>(0,g.jsx)(R().p,{icon:be().Q,iconStyle:r,onClick:s,style:n,...e})})}const _n=function(e){let{maxHeight:t,onLoaded:l,onDisplayStateChanged:c}=e;const d=(0,i().v3)(),u=(0,r().O$)(S().AppStoreCurrentSpaceStore),p=(0,Te().m)(),{timeZone:m}=(0,n(767525).mn)(),h=(0,je().s5)();(0,o.useEffect)((()=>{l()}),[l]);const f=(0,o.useMemo)((()=>O().default.createValue({})),[]),{isRetryEventLoadingEnabled:y,retryEventLoading:v,days:x,displayState:b}=(0,n(196459).O)(),{disconnectedAccounts:w}=(0,n(541808).B)();(0,o.useEffect)((()=>{let e=0;const t={};for(const o of x){const i=(0,n(823115).qi)(h.toISODate(),o.date,m);for(const{baseEvent:r}of(0,n(90857).Om)(o)){t[(0,pt().f)({event:r,date:o.date})]={eventIndex:e,numDaysFromToday:i},e++}}f.setState(t)}),[x,f,m,h]),(0,o.useEffect)((()=>c(b)),[b,c]),(0,Me().v)({firstMountToReadyMetricName:"home.calendar.first_mount_to_ready",pageOriginToReadyMetricName:"home.calendar.page_origin_to_ready",isReady:"noEvents"===b||"events"===b,homeType:"personal"});const _=(0,o.useContext)(ue().a)??ue().H;(0,o.useEffect)((()=>{if(!xn){void 0!==(null==_?void 0:_.panelState)&&((0,Ie().qL)({environment:d,calendarPanelContext:(0,Ie().sp)({panelState:_.panelState,view:_.view})}),xn=!0)}}),[_.panelState,_.view,d]);const j=(0,o.useCallback)((()=>{const e=we().JW();(0,Ie().V0)({environment:d,calendarPanelContext:(0,Ie().sp)({panelState:_.panelState,view:_.view}),notionAnalyticsSessionId:e}),(0,Ae().i$)({environment:d,from:"homeCreateEvent",notionAnalyticsSessionId:e})}),[_.panelState,_.view,d]),A=(0,o.useCallback)((()=>{(0,Ae().Op)({environment:d,spaceStore:S().default.state.currentSpaceStore,collectionViewStore:void 0,from:"homeOpenCalendarFromPanel"})}),[d]),k=(0,o.useCallback)((()=>{(0,Ae().Op)({environment:d,spaceStore:u,collectionViewStore:void 0,from:"homeSignupClick"})}),[d,u]),I=(0,o.useCallback)((()=>{(0,Ae().u$)({environment:d,from:"homeReconnectAccountClick"})}),[d]),P=(0,o.useMemo)((()=>function(e){let{displayState:t,isRetryEventLoadingEnabled:n,retryEventLoading:o,onConnectCalendarClick:i,onReconnectAccountClick:r}=e;const a={minHeight:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0};let s;switch(t){case"signedOut":s={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(lt,{feature:"calendar",onSetup:i}),styleOverrides:a};break;case"disconnectedAccount":s={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(lt,{feature:"calendarDisconnectedAccount",onSetup:r}),styleOverrides:a};break;case"missingScopes":s={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(lt,{feature:"calendarMissingScopes",onSetup:r}),styleOverrides:a};break;case"noEvents":s={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(ut,{type:"noEvents"})};break;case"loadError":s={isShowingEmptyState:!0,emptyStateReactNode:(0,g.jsx)(ut,{type:"loadError",onRetry:o,isRetryEnabled:n})};break;case"loading":case"events":s={isShowingEmptyState:!1};break;default:(0,T().HB)(t)}return s}({displayState:b,isRetryEventLoadingEnabled:y,retryEventLoading:v,onConnectCalendarClick:k,onReconnectAccountClick:I})),[b,y,v,k,I]),L=P.isShowingEmptyState,B=(0,a().IS)((e=>{const n=L?ge().VQ:0,o={width:24,height:24,padding:0,display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"none"};return{panel:{minHeight:"events"===b?0:t,maxHeight:t,...L?{paddingBottom:ge().VQ,paddingLeft:ge().VQ,paddingTop:ge().VQ,paddingRight:n}:{paddingRight:n,paddingBottom:0},...null==P?void 0:P.styleOverrides},innerContainer:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0},listShimmerContainer:{paddingTop:12,height:t,overflow:"hidden"},icon:{width:14,height:14,fill:"inherit"},createEventIcon:{marginRight:0},actionButton:o,createEventButton:{...o,marginLeft:4},arrowUpRightIcon:{transform:"rotate(90deg)",marginTop:4,marginLeft:2,width:14,height:14,fill:e.mediumIconColor},disconnectedAccountWarningIcon:{fill:e.mediumIconColor,marginRight:0},scroller:{paddingTop:10}}}),[L,b,t,null==P?void 0:P.styleOverrides]);return(0,g.jsxs)(g.Fragment,{children:["loading"!==b&&(0,g.jsx)(bt,{}),(0,g.jsx)(xe().A,{title:(0,g.jsx)(M().sA,{id:"notionCalendarPanel.panelTitle",defaultMessage:"Upcoming events"}),tooltip:(0,g.jsx)(M().sA,{id:"notionCalendarEmptyState.signedOut.title",defaultMessage:"See your upcoming events and join meetings from Home."}),actions:(0,_e().oE)([bn(b,w)?(0,g.jsx)(wn,{disconnectedAccounts:w,style:B.actionButton,iconStyle:B.disconnectedAccountWarningIcon},"disconnectedAccountWarning"):void 0,Sn(b)?(0,g.jsx)(H().A,{renderTooltip:()=>(0,g.jsx)(M().sA,{id:"notionCalendarPanel.openNotionCalendarTooltip",defaultMessage:"Open Notion Calendar"}),render:e=>(0,g.jsx)(R().p,{icon:n(122555).p,iconStyle:B.arrowUpRightIcon,onClick:A,style:B.actionButton,...e})},"openNotionCalendar"):void 0,(0,g.jsx)(vn,{hasConnectedCalendar:!p.loading&&(0,T().O9)(p.botId)},"settings"),Cn(b)?(0,g.jsx)(H().A,{renderTooltip:()=>(0,g.jsx)(M().sA,{id:"notionCalendarPanel.createEventTooltip",defaultMessage:"Create event"}),render:e=>(0,g.jsx)(n(204063).A,{icon:n(464699).b,iconStyle:B.createEventIcon,onClick:j,style:B.createEventButton,...e})},"createEvent"):void 0]),actionsGap:2,panelStyle:B.panel,icon:(0,g.jsx)(ke().y,{style:B.icon}),children:P.isShowingEmptyState?P.emptyStateReactNode:(0,g.jsx)("div",{style:B.innerContainer,children:"loading"===b?(0,g.jsx)("div",{style:B.listShimmerContainer,children:(0,g.jsx)(n(286993).c,{isFullScreen:!1,hasGroups:!1,hasPartialResults:!1,hasSearchQuery:!1})}):(0,g.jsx)(s().H,{type:C().A.Y,style:B.scroller,children:(0,g.jsx)(pt().A,{days:x,eventToAnalyticsStateStore:f})})})})]})};var jn=()=>n(938090);const An=function(e){const{storeType:t,onLoaded:s,shouldRenderSetup:l,collectionContextStore:c,setCollectionContextStore:d,emptyStateTitle:u,emptyStateTooltip:p,emptyStateIcon:m,pageOriginToReadyMetricName:h,firstMountToReadyMetricName:f,userSelectOverride:v}=e,x=(0,i().v3)(),C=(0,i().Y0)(),b=!(0,y().w4)().showAiChatModuleInHome,w=(0,r().O$)(S().AppStoreCurrentSpaceViewStore),_=(0,r().K8)((()=>{const e=(0,j().XH)(t);if(null!=e&&e.isCollectionView())return e}),[t]),A=(0,r().K8)((()=>{const e=null==c?void 0:c.collectionViewStore();return null==e?void 0:e.getType()}),[c]),k=(0,r().K8)((()=>"chart"===A?ge().Mk:"list"===A?ge().BZ:"feed"===A?ge().EC:!C.isPhone||"board"!==A&&"gallery"!==A?ge().dd:ge().Ed),[C.isPhone,A]),I=(0,r().K8)((()=>(null==c?void 0:c.isLoadedStore.state)||(null==c?void 0:c.remoteErrorStore.state)),[c]);(0,o.useEffect)((()=>{I&&s()}),[I,s]);const M=(0,r().K8)((()=>{const e=Boolean(null==c?void 0:c.collectionStoresStore.state.length);return Boolean(I&&e)}),[c,I]);(0,Me().v)({firstMountToReadyMetricName:f,pageOriginToReadyMetricName:h,isReady:M,homeType:"personal"});const T=(0,a().IS)((e=>({panel:{paddingRight:0,paddingBottom:0,paddingLeft:0,paddingTop:0,height:"100%",minHeight:76,maxHeight:k,..."timeline"===A?{background:e.timelineBackground}:{},...l?{flexDirection:"row"}:{}}})),[A,k,l]),P=(0,o.useMemo)((()=>{const e=_&&(0,g.jsx)(jn().dN,{store:_,disabled:!1,isFullScreen:!1,productUseCase:"editable_home_panel",overrideViewType:A,isFirstItem:!0,isLastItem:!0,maxHeight:k,overridePaddingLeft:"feed"===A?2:0,overridePaddingRight:"feed"===A?2:0,headerActionsBehavior:l?"hidden":void 0,hideViewTabBar:l,setCollectionContextStore:d,headerAllowedActions:"feed"===A?["filter","sort","automations","search","noDate"]:void 0});let n={panelStyle:T.panel,hideWrapStyle:!0,children:e,userSelectOverride:v};if(l){const e=()=>{const e=function(e){switch(e){case"customDb":return{feature:"custom_db",from:"custom_db_more_menu"};case"myTasks":return{feature:"tasks",from:"home_more_menu"};default:return}}(t);w&&t&&e&&Ht().WO({environment:x,currentSpaceViewStore:w,...e})};n={...n,title:u,tooltip:p,icon:m,actions:b?[(0,g.jsx)(Ut().A,{actions:[{type:"hide",hide:e}]},"moreMenu")]:void 0}}return(0,g.jsx)(xe().A,{...n})}),[_,A,k,l,d,T.panel,v,u,p,m,b,t,w,x]);return(0,g.jsx)(n(145214).A,{animate:{maxHeight:k},children:_?(0,g.jsx)(n(13679).A,{store:_,isDefaultContainer:!0,droppable:!0,disableEditNearestBlock:!0,render:e=>{let{selectableEvents:t}=e;return(0,g.jsx)("div",{...t,children:P})}}):P})};const kn=function(e){let{onLoaded:t}=e;const[i,s]=o.useState(void 0),l=(0,a().IS)((e=>({icon:{color:e.mediumIconColor,width:14,height:14}})),[]),c=(0,r().K8)((()=>{const e=(0,j().XH)("customDb");if(null!=e&&e.isCollectionView())return e}),[]),d=(0,r().K8)((()=>Boolean(c&&i&&!i.collectionStore()&&c.getCollectionViewStores().length<=1)),[i,c]);return(0,g.jsx)(An,{storeType:"customDb",onLoaded:t,shouldRenderSetup:d,collectionContextStore:i,setCollectionContextStore:s,emptyStateTitle:(0,g.jsx)(M().sA,{id:"homePageTemplates.customDbTitle.includeHome",defaultMessage:"Home views"}),emptyStateTooltip:(0,g.jsx)(M().sA,{id:"CustomDbHomePanel.setup.description",defaultMessage:"Pin a database view to quickly access it from Home."}),emptyStateIcon:(0,n(29118).K)(l.icon),pageOriginToReadyMetricName:"home.custom_db.page_origin_to_ready",firstMountToReadyMetricName:"home.custom_db.first_mount_to_ready"})};n(814603),n(147566),n(198721);const In={viewBox:"0 0 16 16",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M7.201 5.65a.649.649 0 0 0-.976.561v3.578c0 .5.543.813.976.56l3.067-1.788a.65.65 0 0 0 0-1.122z"}),(0,g.jsx)("path",{fillRule:"evenodd",d:"M8 1.875a6.125 6.125 0 1 1 0 12.25 6.125 6.125 0 0 1 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0",clipRule:"evenodd"})]})},Mn=(0,ze().wt)("arrowTriangleRightCircleSmall",In);var Tn=()=>n(218275);const Pn={viewBox:"0 0 16 16",svg:(0,g.jsx)("path",{d:"M1.73 3.768C3.598 2.34 6.058 2.25 8 3.501c1.942-1.251 4.402-1.162 6.27.267a.63.63 0 0 1 .245.497v8.485a.625.625 0 0 1-1.005.496c-1.543-1.18-3.584-1.18-5.128-.001l-.015.01a.7.7 0 0 1-.19.094.62.62 0 0 1-.56-.105c-1.543-1.18-3.584-1.178-5.127.002a.625.625 0 0 1-1.005-.496V4.265c0-.195.09-.379.245-.497m1.005 7.87a5.37 5.37 0 0 1 4.64 0V4.586a4.14 4.14 0 0 0-4.64 0zm5.89 0a5.37 5.37 0 0 1 4.64 0V4.586a4.14 4.14 0 0 0-4.64 0z"})},Ln=(0,ze().wt)("bookSmall",Pn);var Rn=()=>n(798880),Hn=()=>n(755636),Bn=()=>n(920773),Vn=()=>n(132389);function Dn(e){let{completedType:t,offsetLeftOfCompletedType:n,cardWidth:o,from:i,visibleTips:r}=e;const a=function(e,t,n){if("modal"===t)return!1;const{currentUserSettingsStore:o}=S().default.state,i=null==o?void 0:o.getPersonalHomeTipsSettings().progress_data;if(!i)return!1;let r=!1;for(let s=0;s<e.length;s++){const t=e[s].key;if(t===n)r=!0;else{var a;const e=null===(a=i[t])||void 0===a?void 0:a.completed;if(!r&&!e)return!1;if(r&&e)return!1}}return!0}(r,i,t);return a?n+o:void 0}class En extends O().default{getInitialState(){return{num_checked:0,total_cards_shown:0}}}const On=new En;var Nn=()=>n(533345),Fn=()=>n(560409),Wn=()=>n(763012);function zn(e){let{message:t,icon:n,iconStyle:o}=e;const i=(0,a().IS)((e=>({container:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center",flexDirection:"column",textAlign:"center",gap:12},icon:{...(0,ge().Xx)(e),...o}})),[o]);return(0,g.jsxs)("div",{style:i.container,children:[null==n?void 0:n(i.icon),(0,g.jsx)(K().A,{isSecondaryColor:!0,isMultiline:!0,children:t})]})}const Un=3*ge().VQ;function Kn(){const e=(0,i().v3)(),t=(0,a().IS)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:14,color:e.text.tertiary,flexGrow:1,paddingTop:34,paddingBottom:30}})),[]);return(0,g.jsx)(zn,{message:(0,g.jsxs)("div",{style:t.container,children:[(0,g.jsx)(M().sA,{id:"TipsHomePanel.emptyState.message",defaultMessage:"New tips and guides will appear here."}),(0,g.jsx)(Vn().A,{size:12}),(0,g.jsxs)(Bn().p,{isBlue:!0,onClick:()=>{Hn().f({environment:e,url:"https://www.notion.so/help",targetSelf:!1})},children:[(0,g.jsx)(M().sA,{id:"TipsHomePanel.emptyState.exploreMore",defaultMessage:"Explore more in Help Center"}),(0,g.jsx)(Vn().A,{size:2}),(0,g.jsx)(Dt().I,{icon:Tn().arrowUpRightSquareSmallIcon,size:"sm",color:"uiBluePrimary"})]})]})})}function Zn(e){const{card:t,onCompleted:n}=e,a=(0,i().v3)(),s=(0,r().K8)((()=>{const{isElectron:e,isMobileNative:t}=a.device,n=["local","production"].includes("production");return(!e||n)&&!t}),[a]),l=t.key,c=(0,r().K8)((()=>{const{currentUserSettingsStore:e}=S().default.state;if(!e)return!1;const t=e.getPersonalHomeTipsSettings().progress_data[l];return!!t&&t.completed}),[l]),d=(0,o.useRef)(null),u=(0,o.useCallback)(((e,t)=>{if(e===c)return;(0,_().it)({tipType:l,completed:e,environment:a});const o=On.state,i=o.num_checked+(e?1:-1);On.setState({...o,num_checked:i}),de().kx(a,{tip_key:l,checked:e,from:t,num_checked:i,total_cards_shown:o.total_cards_shown}),e&&d.current&&n(l,t,d.current)}),[l,a,c,n]),p=(0,o.useCallback)((()=>{de().cF(a,{tip_key:l,was_completed:c,in_app_modal_enabled:s}),s?Nn().A.setState({open:!0,tipCardDisplayInfo:t,onClosed:()=>u(!0,"modal")}):u(!0,"clickthrough")}),[a,l,c,s,u,t]),m=(0,o.useMemo)((()=>{const e=(0,Nt().xS)("guides.guides"),n=new URLSearchParams;return n.set("utm_source","tips"),n.set("utm_medium","inapp"),n.set("utm_campaign","2024q1_tipsinhome_m2"),s?void 0:`${e}${t.href}?${n.toString()}`}),[s,t.href]);return(0,g.jsx)(Gn,{ref:d,isChecked:c,href:m,onCheck:u,onClick:p,card:t})}function qn(e,t){let{isChecked:i,href:r,onCheck:s,onClick:l,card:c}=e;const[d,u]=(0,o.useState)(!1),p=(0,a().IS)((e=>{const t={opacity:1,transition:"opacity 0.2s ease, transform 200ms ease-out"},n={display:"inline-flex",alignItems:"center",fontSize:12,gap:4};return{container:{height:216,width:240,display:"flex",flexDirection:"column",alignItems:"stretch"},imageContainer:{height:126,flexShrink:0,flexGrow:0,background:e.home.cards.coverPhoto.base,objectFit:"cover"},detailsAndCheckboxContainer:{flexGrow:1,padding:12,paddingBottom:10,display:"flex",flexDirection:"row",justifyContent:"stretch"},checkboxContainer:{flexShrink:0,flexGrow:0,marginLeft:12},detailsContainer:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"start"},title:{fontSize:14,lineHeight:"18px",fontWeight:P().Wy.medium,whiteSpace:"pre-wrap",...(0,$().pA)(2)},caption:{...n,color:e.text.secondary,fill:e.mediumIconColor},pressedCaption:{...n,color:e.text.tertiary,fill:e.lightIconColor},hiddenCheckbox:{baseCheckboxStyle:t,opacity:0},checkbox:t,hoveredCheckbox:{...t,fill:e.home.cards.coverPhoto.base}}}),[]),m=i?p.checkbox:d?p.hoveredCheckbox:p.hiddenCheckbox,h=i?p.pressedCaption:p.caption;let f;switch(c.contentType){case"video":f=(0,g.jsxs)("div",{style:h,children:[(0,g.jsx)(Dt().I,{icon:Mn,size:"sm"}),(0,g.jsx)(M().sA,{id:"tipsHomePanel.captionDuration2.watch",defaultMessage:"{duration}m watch",values:{duration:c.durationMinutes}})]});break;case"article":f=(0,g.jsxs)("div",{style:h,children:[(0,g.jsx)(Dt().I,{icon:Ln,size:"sm"}),(0,g.jsx)(M().sA,{id:"tipsHomePanel.captionDuration2.read",defaultMessage:"{duration}m read",values:{duration:c.durationMinutes}})]});break;default:(0,T().ub)(c.contentType)}return(0,g.jsxs)(Fn().A,{ref:t,href:r,style:p.container,external:!0,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:l,borderRadiusVariant:"small",children:[(0,g.jsx)("img",{src:c.image,style:p.imageContainer}),(0,g.jsxs)("div",{style:p.detailsAndCheckboxContainer,children:[(0,g.jsxs)("div",{style:p.detailsContainer,children:[(0,g.jsx)("div",{style:p.title,children:c.title}),f]}),(0,g.jsx)("div",{style:p.checkboxContainer,children:(0,g.jsx)(n(625830).A,{checked:i,size:20,onClick:()=>s(!i,"check_button"),round:!0,thinOutline:!0,style:m,tooltipHeader:i?(0,g.jsx)(M().sA,{id:"tipsHomePanel.checkboxRedesign.incompleteTooltip",defaultMessage:"Mark incomplete"}):(0,g.jsx)(M().sA,{id:"tipsHomePanel.checkboxRedesign.completeTooltip",defaultMessage:"Mark complete"})})})]})]})}const Gn=o.forwardRef(qn),$n=function(e){var t;let{onLoaded:s}=e;const{value:l}=(0,n(645873).fJ)(n(117296).KM.personalHomeLearnHelpers),c=(0,i().v3)(),[d,u]=(0,o.useState)(!0),[p,m]=(0,o.useState)([]),[h,f]=(0,o.useState)([]),[y,v]=(0,o.useState)(void 0),x=null===(t=c.currentUser)||void 0===t?void 0:t.id,C=(0,n(646736).HI)(),b=(0,r().K8)((()=>null==C?void 0:C.getSpaceId()),[C]),w=(0,n(714300).l)({spaceId:b}),j=(0,n(753735).uq)(w),A=(0,r().K8)((()=>{if(!l)return[];const e=n(116499).A.state,{currentUserSettingsStore:t}=S().default.state;if(e)return l.getRelevantTipCards(e);if(null==t||!t.isReady())return[];const o=Boolean(null==C?void 0:C.isWorkspaceOwner())||Rn().BF.id===x,i=l.getTipsEligibilityData({isWorkspaceOwner:o,isOnTrial:j});return l.getRelevantTipCards(i)}),[j,l,C,x]),k=(0,r().K8)((()=>{const{currentUserSettingsStore:e}=S().default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),I=(0,o.useCallback)((()=>{const{currentUserSettingsStore:e}=S().default.state;if(null==e||!e.isReady())return;const t=e.getPersonalHomeTipsSettings().progress_data,[n,o]=_e().jB(A,(e=>{const n=e.key,o=t[n];return null==o?void 0:o.completed}));m(n),f(o),u(!1),s(),On.setState({...On.state,num_checked:n.length,total_cards_shown:A.length})}),[A,s]),T=(0,o.useCallback)((()=>{(0,_().Qs)({hide:!k,environment:c});const e=On.state;de().ZX(c,{show_completed_tips:k,num_checked:e.num_checked,total_cards_shown:e.total_cards_shown}),I()}),[c,k,I]);(0,o.useEffect)((()=>{I()}),[I]);const P=(0,o.useCallback)((e=>{e&&v({position:e.offsetLeft-Un,animate:!1})}),[]),L=(0,a().IS)((e=>({divider:{height:void 0,scrollMarginLeft:Un},dividerColor:{color:e.home.cards.verticalDivider}})),[]),R=(0,o.useCallback)((()=>{S().default.state.currentSpaceViewStore&&Ht().WO({environment:c,currentSpaceViewStore:S().default.state.currentSpaceViewStore,feature:"tips",from:"learn_dismiss_button"})}),[c]),H=!d&&k&&0===h.length,B=(0,o.useCallback)(((e,t,n)=>{const o=k?h:p.concat(h),i=Dn({completedType:e,offsetLeftOfCompletedType:n.offsetLeft,cardWidth:240,from:t,visibleTips:o});i&&v({position:i,animate:!0})}),[k,h,p]);return(0,g.jsx)(xe().A,{title:(0,g.jsx)(M().sA,{id:"LearnHomePanel.Title",defaultMessage:"Learn"}),actions:[(0,g.jsx)(Ut().A,{actions:[{type:"custom",closeOnAccept:!0,item:{key:"show-hide-completed",action:T,render:e=>(0,g.jsx)(Bt().A,{...e,title:k?(0,g.jsx)(M().sA,{id:"tipsHomePanel.hideCompletedButton.show",defaultMessage:"Show completed"}):(0,g.jsx)(M().sA,{id:"tipsHomePanel.hideCompletedButton.hide",defaultMessage:"Hide completed"}),icon:(0,g.jsx)(Dt().I,{icon:n(671089).checkmarkCircleIcon})})}},{type:"hide",hide:R}]},"more-menu")],icon:(0,g.jsx)(Dt().I,{icon:Ln,size:"sm",color:"secondary"}),tooltip:(0,g.jsx)(M().sA,{id:"LearnHomePanel.Tooltip",defaultMessage:"Explore resources from our help center"}),hideWrapStyle:!H,children:H?(0,g.jsx)(Kn,{}):(0,g.jsxs)(Wn().A,{cardWidth:240,scrollPosition:y,children:[!k&&p.map((e=>(0,g.jsx)(Zn,{card:e,onCompleted:B},e.key))),!k&&p.length>0&&h.length>0&&(0,g.jsx)(n(802790).A,{ref:P,vertical:!0,size:1,style:L.divider,dividerColor:L.dividerColor.color}),h.map((e=>(0,g.jsx)(Zn,{card:e,onCompleted:B},e.key)))]})})},Yn={viewBox:"0 0 16 16",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M10.172 5.564a.625.625 0 0 0-.858.214L7.36 9.035 6.325 7.827a.625.625 0 1 0-.95.813l1.6 1.867a.625.625 0 0 0 1.01-.085l2.4-4a.625.625 0 0 0-.213-.858"}),(0,g.jsx)("path",{d:"M4.25 2.375c-1.036 0-1.875.84-1.875 1.875v7.5c0 1.036.84 1.875 1.875 1.875h7.5c1.036 0 1.875-.84 1.875-1.875v-7.5c0-1.036-.84-1.875-1.875-1.875zM3.625 4.25c0-.345.28-.625.625-.625h7.5c.345 0 .625.28.625.625v7.5c0 .345-.28.625-.625.625h-7.5a.625.625 0 0 1-.625-.625z"})]})},Xn=(0,ze().wt)("checkmarkSquareSmall",Yn);const Qn=function(e){let{onLoaded:t}=e;const[n,i]=o.useState(void 0),a=(0,r().K8)((()=>{var e,t;const o=(null==n||null===(e=n.collectionStoresStore)||void 0===e?void 0:e.state)??[];return Boolean((null==n||null===(t=n.isLoadedStore)||void 0===t?void 0:t.state)&&0===o.length)}),[n]),s=(0,r().K8)((()=>{var e;return null===(e=S().default.state.currentSpaceStore)||void 0===e||null===(e=e.getModel())||void 0===e?void 0:e.getRenderTitle()}),[]);return(0,g.jsx)(An,{storeType:"myTasks",onLoaded:t,shouldRenderSetup:a,collectionContextStore:n,setCollectionContextStore:i,emptyStateTitle:(0,g.jsx)(M().sA,{id:"MyTasksHomePanel.myTasksFeature",defaultMessage:"My tasks"}),emptyStateTooltip:(0,g.jsx)(M().sA,{id:"MyTasksHomePanel.setup.description",defaultMessage:"See all your tasks across {spaceName} in one place.",values:{spaceName:s}}),emptyStateIcon:(0,g.jsx)(Dt().I,{icon:Xn,size:"sm",color:"secondary"}),pageOriginToReadyMetricName:"home.my_tasks.page_origin_to_ready",firstMountToReadyMetricName:"home.my_tasks.first_mount_to_ready"})},Jn={viewBox:"0 0 16 16",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("path",{d:"M11.104 4.428h-4.2a.575.575 0 1 0 0 1.15h4.2a.575.575 0 0 0 0-1.15m0 1.996h-4.2a.575.575 0 1 0 0 1.15h4.2a.575.575 0 0 0 0-1.15m-4.2 1.998a.575.575 0 0 0-.575.575v2c0 .318.257.575.575.575h4.2a.575.575 0 0 0 .575-.575v-2a.575.575 0 0 0-.575-.575zm.575 2v-.85h3.05v.85z"}),(0,g.jsx)("path",{d:"M5.704 2.425c-.76 0-1.375.616-1.375 1.375v3.631H2.504a.575.575 0 0 0-.575.575v3.737c0 .988.768 1.832 1.775 1.832h8.2c.98 0 1.775-.795 1.775-1.775v-8c0-.76-.616-1.375-1.375-1.375zM5.479 3.8c0-.124.1-.225.225-.225h6.6c.124 0 .225.1.225.225v8c0 .345-.28.625-.625.625h-6.52q.093-.26.095-.557zm-2.4 7.943V8.581h1.25v3.171c-.004.395-.301.67-.62.673h-.007c-.321 0-.623-.28-.623-.682"})]})},eo=(0,ze().wt)("newspaperSmall",Jn);const to=function(e){const{onLoaded:t}=e;(0,n(143650).e)();const[i,r]=o.useState(void 0);return(0,g.jsx)(An,{storeType:"posts",onLoaded:t,shouldRenderSetup:!1,collectionContextStore:i,setCollectionContextStore:r,emptyStateTitle:(0,g.jsx)(M().sA,{id:"postsHomePanel.title",defaultMessage:"Your Feed"}),emptyStateTooltip:(0,g.jsx)(M().sA,{id:"postsHomePanel.tooltip",defaultMessage:"Catch up on updates from your team"}),emptyStateIcon:(0,g.jsx)(Dt().I,{icon:eo,size:"sm",color:"secondary"}),pageOriginToReadyMetricName:"feed.page_origin_to_ready",firstMountToReadyMetricName:"feed.first_mount_to_ready",userSelectOverride:"auto"})};var no=()=>n(825972),oo=()=>n(235022);const io=6;function ro(e){let{showLoadingShimmer:t,width:n,height:o,borderRadiusVariant:i}=e;const r=(0,a().IS)((e=>({item:{width:n,height:o,background:t?"unset":e.home.cards.coverPhoto.base,boxShadow:"unset"},loadingShimmer:{width:"100%",height:"100%"}})),[o,t,n]);return(0,g.jsx)(Fn().A,{style:r.item,disabled:!0,borderRadiusVariant:i,children:t&&(0,g.jsx)(ve().A,{style:r.loadingShimmer})})}const ao=o.memo(ro);var so=()=>n(947993),lo=()=>n(584262);const co=(0,ze().wt)("newPageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289Z",fill:"#252525"}),(0,g.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289ZM13.0347 5.19043C13.0347 4.83496 13.0028 4.50456 12.939 4.19922C12.8797 3.88932 12.7521 3.63867 12.5562 3.44727C12.3693 3.25586 12.1187 3.12826 11.8042 3.06445C11.4943 3.00065 11.1639 2.96875 10.813 2.96875H5.20752C4.84749 2.96875 4.51025 3.00065 4.1958 3.06445C3.88135 3.12826 3.62842 3.25358 3.43701 3.44043C3.25016 3.63639 3.12484 3.88932 3.06104 4.19922C3.00179 4.50911 2.97217 4.84408 2.97217 5.2041V10.8096C2.97217 11.165 3.00179 11.4977 3.06104 11.8076C3.12484 12.113 3.25016 12.3613 3.43701 12.5527C3.62842 12.7396 3.87907 12.8672 4.18896 12.9355C4.50342 12.9993 4.83838 13.0312 5.19385 13.0312H10.813C11.1639 13.0312 11.4943 12.9993 11.8042 12.9355C12.1187 12.8717 12.3693 12.7441 12.5562 12.5527C12.7476 12.3613 12.8752 12.113 12.939 11.8076C13.0028 11.4977 13.0347 11.165 13.0347 10.8096V5.19043ZM4.84521 8C4.84521 7.80859 4.90446 7.65365 5.02295 7.53516C5.14144 7.41211 5.29867 7.35059 5.49463 7.35059H7.36768V5.47754C7.36768 5.29069 7.42692 5.13802 7.54541 5.01953C7.6639 4.89648 7.81429 4.83496 7.99658 4.83496C8.18799 4.83496 8.34294 4.89421 8.46143 5.0127C8.58447 5.13118 8.646 5.28613 8.646 5.47754V7.35059H10.519C10.7104 7.35059 10.8654 7.41211 10.9839 7.53516C11.1024 7.65365 11.1616 7.80859 11.1616 8C11.1616 8.18229 11.1024 8.33268 10.9839 8.45117C10.8654 8.56966 10.7104 8.62891 10.519 8.62891H8.646V10.5088C8.646 10.6956 8.58447 10.8506 8.46143 10.9736C8.34294 11.0921 8.18799 11.1514 7.99658 11.1514C7.81429 11.1514 7.6639 11.0921 7.54541 10.9736C7.42692 10.8506 7.36768 10.6956 7.36768 10.5088V8.62891H5.49463C5.30322 8.62891 5.146 8.56966 5.02295 8.45117C4.90446 8.33268 4.84521 8.18229 4.84521 8Z",fill:"white",fillOpacity:"0.283"})]})}),uo=(0,ze().wt)("newPageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289Z",fill:"white"}),(0,g.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289ZM13.0347 5.19043C13.0347 4.83496 13.0028 4.50456 12.939 4.19922C12.8797 3.88932 12.7521 3.63867 12.5562 3.44727C12.3693 3.25586 12.1187 3.12826 11.8042 3.06445C11.4943 3.00065 11.1639 2.96875 10.813 2.96875H5.20752C4.84749 2.96875 4.51025 3.00065 4.1958 3.06445C3.88135 3.12826 3.62842 3.25358 3.43701 3.44043C3.25016 3.63639 3.12484 3.88932 3.06104 4.19922C3.00179 4.50911 2.97217 4.84408 2.97217 5.2041V10.8096C2.97217 11.165 3.00179 11.4977 3.06104 11.8076C3.12484 12.113 3.25016 12.3613 3.43701 12.5527C3.62842 12.7396 3.87907 12.8672 4.18896 12.9355C4.50342 12.9993 4.83838 13.0312 5.19385 13.0312H10.813C11.1639 13.0312 11.4943 12.9993 11.8042 12.9355C12.1187 12.8717 12.3693 12.7441 12.5562 12.5527C12.7476 12.3613 12.8752 12.113 12.939 11.8076C13.0028 11.4977 13.0347 11.165 13.0347 10.8096V5.19043ZM4.84521 8C4.84521 7.80859 4.90446 7.65365 5.02295 7.53516C5.14144 7.41211 5.29867 7.35059 5.49463 7.35059H7.36768V5.47754C7.36768 5.29069 7.42692 5.13802 7.54541 5.01953C7.6639 4.89648 7.81429 4.83496 7.99658 4.83496C8.18799 4.83496 8.34294 4.89421 8.46143 5.0127C8.58447 5.13118 8.646 5.28613 8.646 5.47754V7.35059H10.519C10.7104 7.35059 10.8654 7.41211 10.9839 7.53516C11.1024 7.65365 11.1616 7.80859 11.1616 8C11.1616 8.18229 11.1024 8.33268 10.9839 8.45117C10.8654 8.56966 10.7104 8.62891 10.519 8.62891H8.646V10.5088C8.646 10.6956 8.58447 10.8506 8.46143 10.9736C8.34294 11.0921 8.18799 11.1514 7.99658 11.1514C7.81429 11.1514 7.6639 11.0921 7.54541 10.9736C7.42692 10.8506 7.36768 10.6956 7.36768 10.5088V8.62891H5.49463C5.30322 8.62891 5.146 8.56966 5.02295 8.45117C4.90446 8.33268 4.84521 8.18229 4.84521 8Z",fill:"#C7C6C4"})]})});function po(){const e=(0,i().v3)(),t=(0,r().K8)((()=>(0,x().D)({isMobileNative:e.device.isMobileNative,disableExposureLogging:!0})),[e]),s=(0,o.useCallback)((()=>{n(869562).quickAddPage({environment:e,from:"home_recents_new_page_button",pageVisitSource:lo().y8.PersonalHomeTileRecentsQuickAdd})}),[e]),l=(0,a().IS)((e=>so().de({theme:e,dominantColorFromIcon:void 0,height:t?so().Uk:so().dn})),[t]);return(0,g.jsxs)(Fn().A,{style:l.container,onClick:s,borderRadiusVariant:"large",children:[(0,g.jsxs)("div",{style:l.coverAndIconContainer,children:[(0,g.jsx)(n(271232).t,{coverHeight:so().Lq,emptyGalleryCoverStyle:l.emptyGalleryCoverStyle}),(0,g.jsx)(mo,{})]}),(0,g.jsx)(go,{})]})}function mo(){const e=(0,a().DP)().mode,t=(0,a().IS)((e=>({recordIcon:{...so().QG,fill:e.lightIconColor}})),[]);switch(e){case"dark":return co(t.recordIcon);case"light":return uo(t.recordIcon);default:(0,T().HB)(e)}}function go(){const e=(0,a().IS)((e=>({titleWrap:so().vY.titleWrap,titleText:{...so().vY.titleText,color:e.text.tertiary}})),[]);return(0,g.jsx)("div",{style:e.titleWrap,children:(0,g.jsx)("div",{style:e.titleText,children:(0,g.jsx)(M().sA,{id:"NewPageRecentsGalleryItem.newPageTitle",defaultMessage:"New page"})})})}const ho=o.memo(po);var fo=()=>n(869190);const yo=(0,ze().wt)("pageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"white",fillOpacity:"0.445"})]})}),vo=(0,ze().wt)("pageIconFilledDarkNoContent",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"white",fillOpacity:"0.445"})]})}),xo=(0,ze().wt)("pageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"#91918E"})]})}),Co=(0,ze().wt)("pageIconFilledLightNoContent",{viewBox:"0 0 16 16",svg:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,g.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"#91918E"})]})});var So=()=>n(310442),bo=()=>n(824862),wo=()=>n(614505),_o=()=>n(16006),jo=()=>n(256863),Ao=()=>n(453697),ko=()=>n(907514);const Io=16;function Mo(e){let{store:t}=e;const o=(0,i().v3)(),s=(0,a().DP)(),l=(0,r().K8)((()=>{var e;return(0,n(613735).b)({icon:null===(e=t.getIconStore())||void 0===e?void 0:e.getValue(),theme:s})}),[t,s]),c=(0,r().K8)((()=>t.isReady()),[t]),d=(0,r().K8)((()=>(0,n(492414).Ay)({store:t,fullyQualified:!1,pageVisitSource:lo().y8.PersonalHomeTileRecents})),[t]),u=(0,r().K8)((()=>(0,x().D)({isMobileNative:o.device.isMobileNative,disableExposureLogging:!0})),[o]),p=u?so().Uk:so().dn,m=(0,a().IS)((e=>so().de({theme:e,dominantColorFromIcon:l,height:p})),[l,p]);return c?(0,g.jsxs)(Fn().A,{style:m.container,href:d,metaHref:d,borderRadiusVariant:"large",children:[(0,g.jsxs)("div",{style:m.coverAndIconContainer,children:[(0,g.jsx)(n(358006).z,{variant:"gallery",store:t,coverFormat:{type:"page_cover"},coverHeight:so().Lq,showEmptyGalleryCover:!0,onLoadProxiedImage:e=>{},emptyGalleryCoverStyle:m.emptyGalleryCoverStyle}),(0,g.jsx)(To,{store:t})]}),(0,g.jsx)(Po,{store:t,hideLastEdited:u})]}):(0,g.jsx)(ao,{width:so()._O,height:p,showLoadingShimmer:!0,borderRadiusVariant:"large"})}function To(e){let{store:t}=e;const n=(0,i().WS)(),o=(0,i().v3)(),s=(0,r().K8)((()=>t.hasError()),[t]),l=(0,r().K8)((()=>t.getIcon()),[t]),c=(0,r().K8)((()=>t.isEmptyPage()),[t]),d=(0,a().DP)().mode,u=(0,a().IS)((e=>({recordIcon:so().QG,warningIcon:{fill:e.accentColors.orange[500],width:n?20:16,marginLeft:n?2:4,marginRight:n?4:6,paddingBottom:6,paddingTop:6,display:"inline-block",verticalAlign:"bottom"},defaultIconStyle:{width:so().lK-2,height:so().lK-2,marginLeft:-3},progressContainer:{top:14,bottom:"unset",right:"unset",fontSize:(0,$().ny)(o,"UISmall")}})),[o,n]);if(s)return(0,be().Q)(u.warningIcon);const p=function(e){let{style:t,mode:n,isEmptyPage:o}=e;switch(n){case"light":return o?Co(t):xo(t);case"dark":return o?vo(t):yo(t);default:(0,T().HB)(n)}}({style:u.defaultIconStyle,mode:d,isEmptyPage:c});return(0,g.jsx)(wo().B,{disabled:!0,bucket:"secure",style:u.recordIcon,progressContainerStyle:u.progressContainer,icon:l,store:t,size:so().lK,isEmptyPage:c,defaultIcon:p})}function Po(e){let{store:t,hideLastEdited:n}=e;const o=(0,M().tz)(),i=(0,r().K8)((()=>t.getLastEditedTime()),[t]),s=(0,r().K8)((()=>(0,ko().nl)(i,{useCompactFormat:!0,useWeeks:!0})),[i]),l=(0,r().K8)((()=>(0,fo().W_)(i,"medium_with_time",o.locale)),[o.locale,i]),c=(0,r().K8)((()=>{const e=t.getLastEditedByPointer();if(e)return t.getRecordStore(t.getKeyStore("last_edited_by_id"),e)}),[t]),d=(0,r().K8)((()=>{if(c)switch(c.table){case Rn().oo:return(0,g.jsx)(Ao().A,{userStore:c,size:Io});case bo().GP:return(0,g.jsx)(jo().A,{botStore:c,size:Io});case So().yj:return(0,g.jsx)(Ao().A,{userStore:void 0,size:Io});default:(0,T().HB)(c)}}),[c]),u=(0,r().K8)((()=>null==c?void 0:c.getDisplayName(o)),[c,o]),p=(0,a().IS)((e=>({...so().vY,editedAtWrap:{display:"flex",justifyContent:"start",alignItems:"center",gap:4},tooltipDateText:{color:e.text.contrastSecondary}})),[]);return(0,g.jsxs)("div",{style:p.titleWrap,children:[(0,g.jsx)(_o().A,{style:p.titleText,store:t}),!n&&(0,g.jsx)(H().A,{disableTooltip:!c,renderTooltip:()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{children:(0,g.jsx)(M().sA,{id:"recentsGalleryItemV2.lastEditedByTooltipHeader",defaultMessage:"Last edited by"})}),u,(0,g.jsx)("br",{}),c&&(0,g.jsx)("span",{style:p.tooltipDateText,children:l})]}),placement:B().W.Bottom,alignment:B().C.Start,render:e=>0===i?null:(0,g.jsxs)("div",{style:p.editedAtWrap,...e,children:[d,(0,g.jsx)(K().A,{isSmall:!0,isSecondaryColor:!0,children:s})]})})]})}const Lo=o.memo(Mo),Ro=20;function Ho(e){let{onLoaded:t}=e;const n=(0,i().v3)(),s=(0,r().K8)((()=>(0,x().D)({isMobileNative:n.device.isMobileNative,disableExposureLogging:!0})?so().Uk:so().dn),[n]),l=(0,a().IS)((e=>({containerStyle:{minHeight:s+5}})),[s]),c=(0,r().K8)((()=>function(e){if(no().NK.state)return{type:"global-recents-store",recentsStores:no().NK.state.filter((e=>e.store.canRead())).filter((e=>!e.store.isPost())).slice(0,e).map((e=>e.store)),isInitialized:!0};if(b().default.checkGate({gateName:"home_recents_caching"})){const t=(0,oo().RK)();if(!t)return{type:"cache-miss",recentsStores:void 0,isInitialized:!1};const n=t.length;let o=t.findIndex((e=>!e.isReady()));return o=-1===o?void 0:o,void 0!==o&&o<io?{type:"cache-hit-blocks-not-ready",firstUnloadedStoreIndex:o,recentsStores:void 0,totalCachedRecents:n,isInitialized:!1}:{type:"cache-hit-blocks-loaded",firstUnloadedStoreIndex:o??oo().zf,recentsStores:t.filter((e=>e.canRead())).slice(0,e),totalCachedRecents:n,isInitialized:!0}}return{type:"caching-not-enabled",recentsStores:void 0,isInitialized:!1}}(Ro)),[]),d=(0,r().K8)((()=>c.isInitialized),[c]);!function(e){let{environment:t,recentPagesResult:n}=e;(0,o.useEffect)((()=>{if(!Vo)switch(n.type){case"global-recents-store":case"cache-miss":case"caching-not-enabled":return;case"cache-hit-blocks-loaded":case"cache-hit-blocks-not-ready":Vo=!0,(0,de().GE)({environment:t,firstUnloadedCachePageIndex:n.firstUnloadedStoreIndex??oo().zf});break;default:(0,T().ub)(n)}}),[t,n])}({environment:n,recentPagesResult:c});const u=(0,r().K8)((()=>"global-recents-store"===c.type&&c.recentsStores.length<7),[c]);return(0,o.useEffect)((()=>{d&&t()}),[d,t]),(0,Me().v)({firstMountToReadyMetricName:"home.recents.first_mount_to_ready",pageOriginToReadyMetricName:"home.recents.page_origin_to_ready",isReady:d,homeType:"personal"}),(0,g.jsxs)(Wn().A,{cardWidth:so()._O,containerStyle:l.containerStyle,preventScroll:!d,children:[!d&&new Array(Bo(c)).fill(0).map(((e,t)=>(0,g.jsx)(ao,{width:so()._O,height:s,showLoadingShimmer:!1,borderRadiusVariant:"large"},t))),(c.recentsStores??[]).map((e=>(0,g.jsx)(Lo,{store:e},e.id))),u&&(0,g.jsx)(ho,{})]})}function Bo(e){switch(e.type){case"cache-hit-blocks-loaded":case"cache-hit-blocks-not-ready":return e.totalCachedRecents;case"global-recents-store":case"cache-miss":case"caching-not-enabled":return 4;default:return(0,T().ub)(e),4}}let Vo=!1;const Do=function(e){let{onLoaded:t}=e;return(0,g.jsx)(xe().A,{title:(0,g.jsx)(M().sA,{id:"recentsHomePanel.multiplayer.title",defaultMessage:"Recently visited"}),tooltip:(0,g.jsx)(M().sA,{id:"recentsHomePanel.tooltip",defaultMessage:"Jump into pages you've seen recently"}),icon:(0,g.jsx)(Dt().I,{icon:n(181088).clockSmallIcon,size:"sm",color:"secondary"}),hideWrapStyle:!0,children:(0,g.jsx)(Ho,{onLoaded:t})})};const Eo=(0,ze().wt)("suggestedLarge",{viewBox:"0 0 48 48",svg:(0,g.jsx)("path",{d:"M10.7126 24.083C7.82146 24.083 5.48723 21.5473 5.48723 18.4192C5.47538 15.3622 7.84516 12.8621 10.7126 12.8621C13.6156 12.8621 15.9498 15.3266 15.9498 18.4074C15.9498 21.5355 13.6156 24.083 10.7126 24.083ZM24.2441 24.083C21.3529 24.083 19.0187 21.5473 19.0069 18.4192C19.0069 15.3622 21.3648 12.8621 24.2441 12.8621C27.1471 12.8621 29.4813 15.3266 29.4813 18.4074C29.4813 21.5355 27.1352 24.083 24.2441 24.083ZM37.7756 24.083C34.8844 24.083 32.5502 21.5473 32.5383 18.4192C32.5383 15.3622 34.8963 12.8621 37.7756 12.8621C40.6785 12.8621 43.0128 15.3266 43.0128 18.4074C43.0128 21.5355 40.6785 24.083 37.7756 24.083ZM10.7245 21.8317C12.3122 21.8317 13.6274 20.3269 13.6274 18.4074C13.6274 16.5352 12.3122 15.1134 10.7245 15.1134C9.14854 15.1134 7.80962 16.5589 7.80962 18.4192C7.80962 20.3506 9.14854 21.8317 10.7245 21.8317ZM24.2441 21.8317C25.8318 21.8317 27.1471 20.3269 27.1471 18.4074C27.1471 16.5352 25.8318 15.1134 24.2441 15.1134C22.6682 15.1134 21.3292 16.5589 21.3411 18.4192C21.3411 20.3506 22.6682 21.8317 24.2441 21.8317ZM37.7874 21.8317C39.3633 21.8317 40.6904 20.3269 40.6904 18.4074C40.6904 16.5352 39.3752 15.1134 37.7874 15.1134C36.1996 15.1134 34.8726 16.5589 34.8726 18.4192C34.8726 20.3506 36.2115 21.8317 37.7874 21.8317ZM3.36627 35.138C1.26901 35.138 0.25 34.4508 0.25 32.9934C0.25 29.652 4.40897 25.3982 10.7126 25.3982C17.0281 25.3982 21.1871 29.652 21.1871 32.9934C21.1871 34.4508 20.1562 35.138 18.0589 35.138H3.36627ZM24.2441 25.3982C30.5477 25.3982 34.7067 29.652 34.7067 32.9934C34.7067 34.4508 33.6877 35.138 31.5904 35.138H22.3127C22.7748 34.4508 22.9051 33.6925 22.8814 32.8867H31.8511C32.0999 32.8867 32.1947 32.8038 32.1947 32.6024C32.1947 30.8843 29.3273 27.6495 24.2441 27.6495C23.0118 27.6495 21.9098 27.851 20.9619 28.1827C20.4761 27.5429 19.8718 26.9623 19.1846 26.4291C20.642 25.7892 22.3364 25.3982 24.2441 25.3982ZM37.7756 25.3982C44.091 25.3982 48.25 29.652 48.25 32.9934C48.25 34.4508 47.2191 35.138 45.1219 35.138H35.8323C36.2944 34.4508 36.4248 33.6925 36.4129 32.8867H45.3826C45.6432 32.8867 45.738 32.8038 45.738 32.6024C45.738 30.8843 42.8587 27.6495 37.7756 27.6495C36.5433 27.6495 35.4413 27.851 34.4934 28.1946C34.0076 27.5429 33.4033 26.9623 32.7042 26.4409C34.1616 25.8011 35.8679 25.3982 37.7756 25.3982ZM3.10559 32.8867H18.3196C18.5803 32.8867 18.6751 32.8038 18.6751 32.6024C18.6751 30.8843 15.7958 27.6495 10.7126 27.6495C5.62941 27.6495 2.76197 30.8843 2.76197 32.6024C2.76197 32.8038 2.85676 32.8867 3.10559 32.8867Z"})});function Oo(e){let{store:t,style:n,scrollContainerStyle:o,collectionContextStore:i,emptyState:l,pageOriginToReadyMetricName:c,firstMountToReadyMetricName:d,...u}=e;const p=(0,a().IS)((()=>({container:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0,...n},innerContainer:{paddingLeft:8,paddingBottom:4},scrollerStyle:{paddingRight:8,paddingTop:12},emptyStateWrapper:{paddingRight:ge().VQ,paddingBottom:ge().VQ,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),[n]),m=(0,r().K8)((()=>null==i?void 0:i.isEmptyStore.state),[i]);return(0,Me().v)({firstMountToReadyMetricName:d,pageOriginToReadyMetricName:c,isReady:Boolean(!m&&i&&t),homeType:"personal"}),m&&l?(0,g.jsx)("div",{style:p.emptyStateWrapper,children:l}):(0,g.jsx)("div",{style:p.container,children:t&&(0,g.jsx)(s().H,{type:C().A.Y,style:p.scrollerStyle,children:(0,g.jsx)("div",{style:p.innerContainer,children:(0,g.jsx)(Fo,{store:t,...u})})})})}function No(e){let{store:t,...n}=e;return(0,g.jsx)(jn().dN,{store:t,disabled:!1,hideViewTabBar:!0,headerActionsBehavior:"hidden",isFullScreen:!1,productUseCase:"personal_home",overrideViewType:"list",...n})}const Fo=o.memo(No),Wo=o.memo(Oo);function zo(e){let{onLoaded:t,panelStyle:i}=e;const a=(0,r().K8)((()=>{const e=(0,j().XH)("similarUsers");if(null!=e&&e.isCollectionView())return e}),[]),[s,l]=o.useState(void 0);return(0,o.useEffect)((()=>{null!=s&&s.shouldShowSpinnerStore&&null!=s&&s.isLoadingStore&&t()}),[s,t]),(0,g.jsx)(xe().A,{title:(0,g.jsx)(M().sA,{id:"personalHomePanelConfig.similarUsersActivityPanelTitle.withWorkspaceName",defaultMessage:"Suggested for you"}),icon:(0,g.jsx)(Dt().I,{icon:n(205557).lightBulbBrightSmallIcon,size:"sm",color:"secondary"}),tooltip:(0,g.jsx)(M().sA,{id:"personalHomePanel.panelTooltip.similarUsers",defaultMessage:"Suggestions based on your recent activity"}),panelStyle:i,children:(0,g.jsx)(Wo,{store:a,collectionContextStore:s,setCollectionContextStore:l,emptyState:(0,g.jsx)(Uo,{}),pageOriginToReadyMetricName:"home.suggested_for_you.page_origin_to_ready",firstMountToReadyMetricName:"home.suggested_for_you.first_mount_to_ready"})})}function Uo(){return(0,g.jsx)(zn,{icon:Eo,message:(0,g.jsx)(M().sA,{id:"SimilarUsersHomePanel.emptyState.message",defaultMessage:"Pages relevant to you will show up here."})})}const Ko=o.memo(zo);var Zo=()=>n(402390),qo=()=>n(388821),Go=()=>n(959577),$o=()=>n(449506),Yo=()=>n(630116);function Xo(e){if("function"===e.type)switch(e.persona){case"student":return"13FpH1AGHci69ERczKupOU";case"educator":return"7ys8LLEWhlmVEwjJjASuE2";case"operations":return"4SPA9JI4ZQtyKtYzZvAVt1";case"knowledge_management":return"5IRBIHYcfXWjy5HamFCwAn";case"it_admin":return"2lxkUWVxPdhbYcvxe7FFty";case"hr":return"17Fklm4NRZaaMdctNNyl8L";case"support":return"2SmrAf6VMtcqx2Rszb5QZn";case"sales_or_success":return"4pVIkK7rg7S6DcqwvyNHs";case"finance":return"jDnY125acofk3O42a2IZ8";case"marketing":return"3TTtGQffJRQ0H3MSUNYs6j";case"product":return"3OAmgIdyPo9wEXGRH6j4dO";case"project_or_program_management":return"1mSX3Ie5sfGGT9ZrBuPXuO";case"product_design":return"W5d1S5UYPjuiY1t2cRG4T";case"eng":return"7vJ3HPIubGvIa4PzHrAG04";case"internal_communication":return"6F1MIc09JzFpGsxknKL0pq";case"creative":return"6H3xYAAg00HPET7xvqwcl4";default:(0,T().HB)(e)}else if("space_intent"===e.type)switch(e.persona){case"life":return"2X7QqO4KLsoTArIKyG7QA";case"school":return"5zeHsLqZ0Vk5kMfTQYiupq";case"work":return"1XoFa69pF2Yf1QzikYDOk6";default:(0,T().HB)(e)}else if("space_type"===e.type)switch(e.persona){case"multiplayer":return"2mk1W9x7ihl3uEpAwIy3zP";case"singleplayer":return"hjxAjQJHiLsYhivckSUZP";default:(0,T().HB)(e)}else(0,T().HB)(e)}var Qo=()=>n(278238);const Jo=150,ei=240;function ti(){return{height:Jo,width:ei}}function ni(e){let{store:t}=e;const s=(0,i().v3)(),l=(0,r().K8)((()=>t.getName()),[t]),c=(0,r().K8)((()=>{const e=t.getTemplateImage();if(null!=e&&e.url)return(0,n(390575).NU)(e.url)}),[t]),d=(0,r().K8)((()=>{const e=t.getTemplateIcon();if(e){if((0,Qo().T8)(e)){const{iconName:t}=(0,Qo().DV)(e)??{};if(!t)return;return`/icons/${t}_lightgray.svg`}return e.endsWith(".svg")?void 0:`/icons/${e}_lightgray.svg`}}),[t]),u=Boolean(d),p=!u,m=(0,o.useCallback)((()=>{const e=s.RouterStore.state.route,{currentSpaceStore:o}=S().default.state,i=(0,n(174723).dY)(t);if(!i||!o||"page"!==e.name||!e.blockId)return;const r=n(148832).B.createChildStore(o,{table:n(179034).ev,id:e.blockId,spaceId:o.id});n(857783).uK({environment:s,store:r,pageVisitSource:lo().y8.PersonalHomeTileTemplates,templateGalleryItem:i})}),[s,t]),{height:h,width:f}=ti(),y=(0,a().IS)((e=>{const t=e.home.cards.templateCardBackground;return{container:{width:f,height:h,display:"flex",flexDirection:"column",justifyContent:"stretch",background:t.base,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.base},containerHovered:{background:t.hovered,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.hovered},containerPressed:{background:t.pressed,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.hovered},headerTitleAndIconContainer:{paddingTop:14,paddingBottom:14,paddingLeft:p?24:16,paddingRight:16,display:"flex",alignItems:"center",gap:12,flexShrink:0,justifyContent:"start"},headerTextContainer:{display:"flex",flexDirection:"column",gap:2,alignItems:"start",flexGrow:1,flexShrink:1},offsetImageContainer:{position:"relative",flexShrink:1,flexGrow:1,minHeight:0},offsetImage:{position:"absolute",width:f,top:0,left:24,borderRadius:6,boxShadow:"0px 6px 16px 0px rgba(0, 0, 0, 0.05), 0px 0px 0px 1px rgba(18, 18, 18, 0.03)"},text:{width:"100%",lineHeight:1.3,...P().RC}}}),[f,h,p]);return(0,g.jsxs)(Fn().A,{style:y.container,hoveredStyle:y.containerHovered,pressedStyle:y.containerPressed,onClick:m,borderRadiusVariant:"small",children:[(0,g.jsxs)("div",{style:y.headerTitleAndIconContainer,children:[u&&(0,g.jsx)(oi,{templateIcon:d,size:32}),(0,g.jsxs)("div",{style:y.headerTextContainer,children:[(0,g.jsx)(K().A,{style:y.text,children:l}),(0,g.jsx)(K().A,{isSmall:!0,isSecondaryColor:!0,children:(0,g.jsx)(M().sA,{id:"templatesGalleryItem.authorByNotion",defaultMessage:"By Notion"})})]})]}),(0,g.jsx)("div",{style:y.offsetImageContainer,children:(0,g.jsx)("img",{style:y.offsetImage,src:c})})]})}function oi(e){let{templateIcon:t,size:n}=e;const o=(0,a().IS)((e=>({headerIcon:{width:n,height:n,opacity:.6}})),[n]);return t?(0,g.jsx)("img",{src:t,crossOrigin:"anonymous",style:o.headerIcon}):null}const ii=o.memo(ni);function ri(e){let{onLoaded:t}=e;const a=(0,i().v3)(),s=(0,M().tz)(),l=(0,r().K8)((()=>{const{currentSpaceStore:e}=S().default.state,t=n(769705).A.state;if(t)return t;const{function:o,useCases:i}=(0,n(640653).p3)();return(0,me().Lt)({spaceSurveyData:null==e?void 0:e.getSpaceSurveyData(),userUseCases:i,userPersonaValue:o})}),[]),[c]=(0,n(187174).Yb)((async()=>{if(l)return await async function(e){let{persona:t,environment:n,intl:o}=e;const{currentSpaceStore:i}=S().default.state;if(!i)return[];const r=await $o().callApi({eventName:"getTemplateContentGroup",environment:n,data:{contentfulId:Xo(t),locale:(0,Zo().Nk)(o),includeRecordMap:!0}});return"success"!==r.type||!1===r.data.success||"template"!==r.data.type?[]:qo().RecordMapWithRole.create(r.data.recordMap).getByTable(Go().XX).map((e=>Yo().$x.createChildStore(i,{table:Go().XX,id:e.pointer.id})))}({persona:l,environment:a,intl:s})}),[a,s,l]),d="pending"===(null==c?void 0:c.status),u=(0,r().K8)((()=>"resolved"===(null==c?void 0:c.status)?c.value??[]:[]),[c]);(0,o.useEffect)((()=>{d||t()}),[d,t]);const p=(0,o.useCallback)((()=>{const{currentSpaceViewStore:e}=S().default.state;e&&Ht().WO({environment:a,currentSpaceViewStore:e,feature:"templates",from:"templates_dismiss_button"})}),[a]),m=(0,o.useCallback)((()=>{(0,n(806638).P)({environment:a})}),[a]),h=(0,o.useMemo)((()=>{const e=[{type:"custom",closeOnAccept:!0,item:{key:"all_templates",render:(e,t)=>(0,g.jsx)(Bt().A,{...e,title:(0,g.jsx)(M().sA,{id:"TemplatesHomePanel.showAllTemplates",defaultMessage:"Explore more templates"}),icon:(0,g.jsx)(Dt().I,{icon:n(300755).templatesFillIcon})}),action:m}},{type:"hide",hide:p}];return[(0,g.jsx)(Ut().A,{actions:e},"more")]}),[p,m]),f=ti();return(0,g.jsx)(xe().A,{title:(0,g.jsx)(M().sA,{id:"TemplatesHomePanel.Title",defaultMessage:"Featured templates"}),tooltip:(0,g.jsx)(M().sA,{id:"TemplatesHomePanel.tooltip",defaultMessage:"Get inspired about how to use Notion"}),icon:(0,g.jsx)(Dt().I,{icon:n(471265).templatesSmallIcon,size:"sm",color:"secondary"}),actions:h,hideWrapStyle:!0,children:(0,g.jsx)(Wn().e,{cardWidth:f.width,children:d||0===u.length?[...Array(3).keys()].map((e=>(0,g.jsx)(ao,{width:f.width,height:f.height,showLoadingShimmer:d,borderRadiusVariant:"small"},e))):u.map((e=>(0,g.jsx)(ii,{store:e},e.id)))})})}const ai=o.memo(ri);var si=()=>n(668725);const li=(0,ze().wt)("trendingArrow",{viewBox:"0 0 20 20",svg:(0,g.jsx)("path",{d:"M3.76208 13.6882L2.71619 12.6491L5.81287 9.49773C5.98604 9.32 6.15466 9.19467 6.31873 9.12175C6.48735 9.04428 6.66052 9.00554 6.83826 9.00554C7.01599 9.00554 7.18917 9.04428 7.35779 9.12175C7.53097 9.19923 7.69958 9.32455 7.86365 9.49773L10.2494 11.986C10.3086 12.0453 10.3679 12.0749 10.4271 12.0749C10.4909 12.0749 10.5524 12.0453 10.6117 11.986L13.2367 9.29949L12.2181 8.28093C12.1088 8.17156 12.0518 8.05307 12.0472 7.92547C12.0472 7.79786 12.0905 7.68393 12.1771 7.58367C12.2683 7.47885 12.3913 7.40593 12.5463 7.36492L16.5726 6.33269C16.7094 6.29623 16.837 6.30763 16.9554 6.36687C17.0785 6.42612 17.1696 6.51498 17.2289 6.63347C17.2881 6.74741 17.2995 6.87501 17.2631 7.01629L16.224 11.0495C16.183 11.2044 16.1101 11.3275 16.0052 11.4186C15.9004 11.5052 15.7842 11.5485 15.6566 11.5485C15.5336 11.544 15.4174 11.487 15.308 11.3776L14.2758 10.3386L11.4525 13.1755C11.1198 13.5081 10.778 13.6745 10.4271 13.6745C10.2494 13.6745 10.0739 13.6358 9.90076 13.5583C9.72758 13.4762 9.56124 13.3486 9.40173 13.1755L7.01599 10.694C6.9613 10.6302 6.90206 10.5983 6.83826 10.5983C6.77901 10.5983 6.71977 10.6302 6.66052 10.694L3.76208 13.6882Z"})});var ci=()=>n(254982),di=()=>n(704152),ui=()=>n(933117),pi=()=>n(299545),mi=()=>n(898808);function gi(e){let{onLoaded:t,panelStyle:n}=e;const[i,s]=o.useState(void 0),l=(0,r().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=S().default.state;if(!e||!t)return;const n=(0,j().XH)("trending");return null!=n&&n.isCollectionView()?n:void 0}),[]),c=(0,a().IS)((e=>({icon:{width:20,height:20,margin:-2,fill:e.mediumIconColor},rightStyle:{overflow:"hidden"}})),[]);return(0,o.useEffect)((()=>{null!=i&&i.shouldShowSpinnerStore&&null!=i&&i.isLoadingStore&&t()}),[i,t]),(0,g.jsx)(xe().A,{title:(0,g.jsx)(M().sA,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.trending",defaultMessage:"Trending"}),right:i&&(0,g.jsx)(hi,{collectionContextStore:i}),rightStyle:c.rightStyle,disableRightFadeIn:!0,icon:li(c.icon),tooltip:(0,g.jsx)(M().sA,{id:"personalHomePanel.panelTooltip.trending",defaultMessage:"Popular pages this week"}),panelStyle:n,children:(0,g.jsx)(Wo,{store:l,collectionContextStore:i,setCollectionContextStore:s,emptyState:(0,g.jsx)(vi,{}),pageOriginToReadyMetricName:"home.trending.page_origin_to_ready",firstMountToReadyMetricName:"home.trending.first_mount_to_ready"})})}function hi(e){let{collectionContextStore:t}=e;const n=(0,i().v3)(),{currentSpaceViewStore:a,currentSpaceStore:s}=(0,r().K8)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=S().default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),l=(0,r().K8)((()=>(null==a?void 0:a.getTeamsStores())??[]),[a]),c=(0,r().K8)((()=>t.collectionViewStore()),[t]),d=(0,r().K8)((()=>{if(!s)return;const e=null==c?void 0:c.getCollectionSource();if("trending"!==(null==e?void 0:e.type))return;const t=e.teamId;return t?l.find((e=>e.id===t)):s}),[l,s,c]),u=(0,o.useCallback)((e=>{Ht().hK({environment:n,currentSpaceViewStore:a,selectedStore:e,collectionContextStore:t})}),[n,t,a]),p=(0,r().K8)((()=>{if(!s)return{};const e={};return e[s.id]=null==s?void 0:s.getName(),l.forEach((t=>{e[t.id]=t.getName()})),e}),[s,l]);return a&&s&&d?(0,g.jsx)(ui().A,{items:[s,...l],getKey:e=>e.id,selectedItem:d,onSelect:u,renderItem:e=>{const t=e.value;return(0,g.jsx)(Bt().A,{...e,title:p[t.id],icon:(0,g.jsx)(mi().x,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,g.jsx)(fi,{...e,selectedStore:d}),width:300}):null}function fi(e){const t=(0,i().v3)(),{device:n}=t,{selectedStore:o,...r}=e,s=(0,a().IS)((e=>({dropdownButton:{width:"100%",padding:"6px 8px",color:e.text.secondary,fontSize:(0,$().ny)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center",borderRadius:ge()._g},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:P().Wy.medium,overflow:"hidden"}})),[t]);return(0,g.jsxs)(di().A,{mobileFeedback:n.isMobile,style:s.dropdownButton,...r,children:[(0,g.jsx)("div",{style:s.dropdownText,children:(0,g.jsx)(yi,{selectedStore:o})}),(0,si().b)(s.dropdownIcon)]})}function yi(e){let{selectedStore:t}=e;const n=(0,r().K8)((()=>null==t?void 0:t.getName()),[t]),o=(0,a().IS)((()=>({icon:{marginLeft:4,marginRight:4},spaceOrTeamName:{...P().RC}})),[]),i=(0,g.jsx)(mi().x,{store:t,size:16,disabled:!0,style:o.icon});return n?(0,g.jsx)(M().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withWorkspaceOrTeamName",defaultMessage:"In {spaceOrTeamIcon} {spaceOrTeamName}",values:{spaceOrTeamIcon:i,spaceOrTeamName:(0,g.jsx)("div",{style:o.spaceOrTeamName,children:n})}}):(0,pi().$R)(t)?(0,g.jsx)(M().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"}):(0,g.jsx)(M().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutWorkspaceName",defaultMessage:"In your workspace"})}function vi(){return(0,g.jsx)(zn,{icon:ci().G,message:(0,g.jsx)(M().sA,{id:"PersonalHomeTrendingPanel.emptyState.message",defaultMessage:"Popular pages will show up here."})})}const xi=o.memo(gi);const Ci=function(){const e=(0,r().K8)((()=>{const{currentSpaceStore:e}=S().default.state;if(e)return e.id}),[]),t=(0,i().v3)(),s=(0,i().WS)(),l=(0,a().DP)(),c=(0,a().IS)((e=>({emptyState:{marginTop:100,cursor:"auto"},tile:{height:400,overflowY:"auto"}})),[]),[d,u]=(0,o.useState)(!1),p=(0,o.useCallback)((e=>{if(d)return;const o=e.target,i=o.scrollTop,r=o.scrollHeight;i+o.clientHeight>=r-150&&(u(!0),(0,n(989423).u4)({environment:t,event:{eventName:"scroll_to_bottom",eventProperties:{source:"homeTile"}}}))}),[d,t]),m=(0,n(395361).Y)(p,250);return e?(0,g.jsx)(xe().A,{title:(0,g.jsx)(M().sA,{id:"recentUpdatesHomePanel.title",defaultMessage:"Recent updates"}),tooltip:(0,g.jsx)(M().sA,{id:"recentUpdatesHomePanel.tooltip",defaultMessage:"Catch up with recent updates from suggested pages"}),icon:(0,g.jsx)(Dt().I,{icon:n(748977).peopleSmallIcon,size:"sm",color:"secondary"}),hideWrapStyle:!0,children:(0,g.jsx)("div",{style:{...(0,ge().V$)({isPhone:s,theme:l}),...c.tile},onScroll:m,children:(0,g.jsx)(n(60499).A,{spaceId:e,source:"home_tile",empty:()=>(0,g.jsx)("div",{style:c.emptyState,children:(0,g.jsx)(n(266945).x,{})})},"suggested_page_updates_home_tile")})}):null},Si=k().c9.fromISO("2024-05-06");function bi(e){let{showWelcomeAnimation:t,onAllPanelsLoaded:s,gap:l}=e;const[c,d]=(0,o.useState)({recents:!1,updates:!1,tips:!1,templates:!1,similarUsersAndTrending:!1,tasks:!1,customDb:!1,calendar:!1,unifiedFeed:!1,aiChatModule:!1}),u=(0,i().v3)(),{isMobile:p,isPhone:m}=(0,i().Y0)(),h=(0,r().K8)((()=>{var e;return(null===(e=S().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getHomeEnabledFeatures())??{}}),[]),C=(0,f().X)("updates_ai"),b=(0,r().K8)((()=>(0,x().D)({isMobileNative:u.device.isMobileNative})),[u]),w=(0,y().w4)(),A=(0,r().K8)((()=>{var e;const t=S().default.state.currentSpaceStore;return le().A.state.online?w.showAiChatModuleInHome?{aiChatModule:!p,recents:!0,updates:C,tasks:!1,customDb:!1,similarUsersAndTrending:!b&&(0,me().Az)()&&!1!==(null==t||null===(n=t.getSettings())||void 0===n?void 0:n.show_home_virtual_views),tips:!1,templates:!1,calendar:(0,pe().x)({isPhone:m,spaceStore:t}),unifiedFeed:b}:{aiChatModule:w.showAiChatModuleInHome&&!p,recents:!0,updates:C,tasks:Boolean(h.tasks),customDb:Boolean(h.custom_db),similarUsersAndTrending:!b&&(0,me().Az)()&&!1!==(null==t||null===(e=t.getSettings())||void 0===e?void 0:e.show_home_virtual_views),tips:Boolean(h.tips),templates:!p&&Boolean(h.templates),calendar:(0,pe().x)({isPhone:m,spaceStore:t})&&Boolean(h.calendar),unifiedFeed:b}:{aiChatModule:!1,recents:!0,updates:!1,tasks:!1,customDb:!1,similarUsersAndTrending:!1,tips:!1,templates:!1,calendar:!1,unifiedFeed:!1};var n}),[w.showAiChatModuleInHome,h,p,m,C,b]),[I,M]=(0,o.useState)(void 0),P=(0,o.useMemo)((()=>({panelState:I,view:"notionHomeTile"})),[I]),L=(0,r().K8)((()=>{if(!le().A.state.online)return!0;if(A.unifiedFeed)return!0;if(!Object.values(A).some(Boolean))return!1;for(const[e,t]of(0,T().WP)(A))if(t&&!c[e])return!1;return!0}),[A,c]),R=(0,r().K8)((()=>{const e=S().default.state.currentSpaceStore;return!!e&&k().c9.fromMillis(e.getCreatedTime())>Si}),[]);(0,n(852507).l)((()=>{b&&n(961581).A.state.initialRenderCompleted?n(168500).u.initMeasurement({homeType:"personal"}):(ae().updateMetricDataWithIsPushTag(u),ae().measurePageRenderMetrics({environment:u,isHomePage:!0,isEditable:!1,isWikiHome:!1,isPageWithCustomLayout:!1}))})),(0,o.useEffect)((()=>{L&&s(!0),t||d({recents:!0,updates:!0,tips:!0,templates:!0,similarUsersAndTrending:!0,tasks:!0,calendar:!0,customDb:!0,unifiedFeed:c.unifiedFeed,aiChatModule:c.aiChatModule})}),[t,L,s,c.unifiedFeed,c.aiChatModule,A.unifiedFeed]);const H=(0,a().IS)((()=>({suggestedTiles:{height:ge().BZ,paddingRight:0,paddingBottom:0,paddingLeft:0},unifiedFeedContainer:c.unifiedFeed?{display:"contents"}:{display:"block",opacity:0}})),[c.unifiedFeed]),B=(0,o.useCallback)((e=>{M((0,n(658082).oM)(e))}),[]),V=(0,o.useCallback)((e=>({"--depth":e})),[]),D=(0,o.useCallback)((e=>{d((t=>({...t,[e]:!0})))}),[]),E=(0,o.useCallback)((()=>{D("aiChatModule")}),[D]),O=(0,o.useCallback)((()=>D("recents")),[D]),N=(0,o.useCallback)((()=>D("tasks")),[D]),F=(0,o.useCallback)((()=>D("similarUsersAndTrending")),[D]),W=(0,o.useCallback)((()=>{D("calendar")}),[D]),z=(0,o.useCallback)((()=>D("templates")),[D]),U=(0,o.useCallback)((()=>D("tips")),[D]),K=(0,o.useCallback)((()=>D("customDb")),[D]),Z=(0,o.useCallback)((()=>D("unifiedFeed")),[D]),q=(0,r().K8)((()=>{if(!1!==t)return L?se().eUs:se().Rag}),[t,L]),G=(0,r().K8)((()=>{if("initial"!==ce().m.state.type)return"visible"===ce().m.state.type?se().q2i:"hidden"===ce().m.state.type?se().Ad9:void 0}),[]),$=(0,o.useCallback)((e=>"aiChatModule"===e?q:re()(q,G)),[q,G]);(0,o.useEffect)((()=>{var e;null===(e=u.mobileNative)||void 0===e||e.markTransitionReady({type:"posts"})}),[u.mobileNative]),(0,o.useEffect)((()=>{if(!L)return;(0,de().Ao)({environment:u,args:{tasks:A.tasks?"show":"hide",custom_db:A.customDb?"show":"hide",tips:A.tips?"show":"hide",templates:p?"always_hide":A.templates?"show":"hide",calendar:(0,pe().x)({isPhone:m,spaceStore:S().default.state.currentSpaceStore})?A.calendar?"show":"hide":"always_hide"}});const e=S().default.state.currentSpaceViewStore;if(e){var t;const n=null===(t=(0,j().x$)(e))||void 0===t?void 0:t.id,o=e.getUserId();o&&n&&(0,_().Oh)({userId:o,enabledFeatures:A,blockId:n})}}),[L]);const Y=function(e){const{showTipsAboveCalendar:t}=e;if(t)return["aiChatModule","recents","updates","tips","calendar","tasks","customDb","similarUsersAndTrending","templates"].filter(T().O9);return["aiChatModule","recents","updates","calendar","tasks","customDb","similarUsersAndTrending","tips","templates"].filter(T().O9)}({showTipsAboveCalendar:R}).map((e=>{if(A[e])switch(e){case"recents":return{key:e,type:"single",content:(0,g.jsx)(Do,{onLoaded:O})};case"updates":return{key:e,type:"single",content:(0,g.jsx)(Ci,{})};case"calendar":return{key:e,type:"single",content:(0,g.jsx)(ue().a.Provider,{value:P,children:(0,g.jsx)(_n,{maxHeight:ge().BZ,onLoaded:W,onDisplayStateChanged:B})})};case"tasks":return{key:e,type:"single",content:(0,g.jsx)(Qn,{onLoaded:N})};case"customDb":return{key:e,type:"single",content:(0,g.jsx)(kn,{onLoaded:K})};case"similarUsersAndTrending":return{key:e,type:"twoColumn",left:(0,g.jsx)(Ko,{panelStyle:H.suggestedTiles,onLoaded:F}),right:(0,g.jsx)(xi,{panelStyle:H.suggestedTiles,onLoaded:F})};case"templates":return{key:e,type:"single",content:(0,g.jsx)(ai,{onLoaded:z})};case"tips":return{key:e,type:"single",content:(0,g.jsx)($n,{onLoaded:U})};case"aiChatModule":return{key:e,type:"single",content:(0,g.jsx)(Ce,{onLoaded:E})};default:(0,T().HB)(e)}})).filter(T().O9),X=(0,g.jsx)(g.Fragment,{children:Y.map(((e,t)=>"single"===e.type?(0,g.jsx)(v().vV,{className:$(e.key),style:V(t),children:e.content},e.key):(0,g.jsx)(v().MR,{minWidth:300,className:$(e.key),style:V(t),left:e.left,right:e.right},e.key)))});if(A.unifiedFeed){const e=[{key:"unifiedFeed",children:(0,g.jsxs)(g.Fragment,{children:[!c.unifiedFeed&&(0,g.jsx)(n(855685).SU,{hasComposer:!1}),(0,g.jsx)("div",{style:H.unifiedFeedContainer,children:(0,g.jsx)(to,{onLoaded:Z})})]})}],t=(0,g.jsx)(g.Fragment,{children:e.map(((e,t)=>(0,g.jsx)(v().vV,{className:$(e.key),style:V(t),children:e.children},e.key)))});return(0,g.jsxs)(g.Fragment,{children:[X,t]})}return X}const wi=o.memo(bi);function _i(e,t){return e?"home-phone":t?"home-redesign-desktop":"home"}function ji(){const[e,t]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1),p=(0,i().WS)(),m=(0,i().v3)();(0,o.useEffect)((()=>A().A.setState(!0)),[]);const k=(0,r().K8)((()=>{const e=S().default.state.currentSpaceViewStore;return e&&(0,j().x$)(e)}),[]),I=(0,r().K8)((()=>{var e;return Boolean(null===(e=S().default.state.currentSpaceViewStore)||void 0===e?void 0:e.isReady())}),[]),M=(0,r().K8)((()=>{var e;return Boolean(null===(e=S().default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getPersonalHomeSettings())||void 0===e?void 0:e.seen_welcome_animation)}),[]),T=(0,f().X)("home_welcome_animation");(0,o.useEffect)((()=>{n(116225).u4({name:"open_home"})}),[]),(0,o.useEffect)((()=>{d||async function(){await b().default.waitUntilStatsigReady(),u(!0)}()}),[d]),(0,o.useEffect)((()=>{I&&d&&!M&&(t(!1),c(!0),_().aX({environment:m,newSeenWelcomeHomeValue:!0}));const e=setTimeout((()=>{t(!0),c(!1)}),3e3);return()=>{clearTimeout(e)}}),[m,I,e]),(0,o.useEffect)((()=>{"rendered"!==S().default.state.renderPhase&&S().default.setState({...S().default.state,renderPhase:"rendered"})}),[]);const P=(0,y().w4)(),L=(0,r().K8)((()=>P.showAiChatModuleInHome||(0,n(710857).x)(S().default.state.currentSpaceViewStore).greeting),[P.showAiChatModuleInHome]),R=(0,n(293633).l)(),H=(0,r().K8)((()=>n(150193).A.state.banners),[]),B=(0,r().K8)((()=>!p||L?H.length>0?124:64:0),[H,p,L]),V=(0,r().uB)(void 0,w().A),D=(0,r().K8)((()=>V.state.elementRef??{current:null}),[V]),E=(0,n(141333).yE)(D);(0,o.useEffect)((()=>{const e=0===E;e!==A().A.state&&A().A.setState(e)}),[E]);const O=T&&(!M||l);let N=!1;H.forEach((e=>{"over_free_block_limit"===e.contentKey&&(N=!0)}));const F=(0,r().K8)((()=>(0,n(807778).Km)(m)),[m]),W=(0,r().K8)((()=>(0,n(175947).ek)(m.device.isElectronMac)),[m.device]),z=F&&N,U=B-(z?W:0),K=(0,a().IS)((e=>({container:{width:"100%",height:"100%",cursor:"default",backgroundColor:e.contentBackground},topPaddingWhenHeaderHidden:{width:"100%",marginTop:U},banner:p?{}:{paddingTop:W}})),[U,p,W]),Z=(0,r().K8)((()=>(0,x().D)({isMobileNative:m.device.isMobileNative})),[m]);return I&&d?(0,g.jsxs)(g.Fragment,{children:[k&&(0,g.jsx)(h,{store:k}),(0,g.jsx)(s().H,{type:C().A.Y,style:K.container,className:"home-content",store:V,children:(0,g.jsx)(n(852302).l,{children:(0,g.jsxs)(v().Mx,{type:_i(p,Z),gap:R,withBottomPadding:!0,children:[(0,g.jsxs)(v().Pb,{children:[z?(0,g.jsx)("div",{style:K.banner,children:(0,g.jsx)(n(811481).i,{})}):null,L?(0,g.jsx)("div",{children:(0,g.jsx)(ie,{marginTop:U,marginHorizontal:R,allPanelsLoaded:e,showWelcomeAnimation:O})}):(0,g.jsx)("div",{style:K.topPaddingWhenHeaderHidden})]}),(0,g.jsx)(wi,{showWelcomeAnimation:O,onAllPanelsLoaded:t,gap:R})]})})})]}):null}const Ai=o.memo(ji)},736316:(e,t,n)=>{n.d(t,{f:()=>i});var o=()=>n(449412);function i(e){const{name:t,startTime:n,endTime:i}=e;try{performance.measure(t,{start:n,end:i})}catch(r){o().Fg(r,{extra:{name:t,startTime:n,endTime:i}})}}},742117:(e,t,n)=>{n.d(t,{V:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronRight",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},747671:(e,t,n)=>{n.d(t,{Q:()=>o,a:()=>i});let o=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class i extends(()=>n(757695))().default{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},748977:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,peopleSmallIcon:()=>i});n(296540);const o={viewBox:"0 0 16 16",svg:(0,n(474848).jsx)("path",{d:"M9.336 2.869c.48-.6 1.192-.96 2.064-.96s1.584.36 2.065.96c.468.583.687 1.352.687 2.144 0 .793-.219 1.561-.687 2.145-.48.599-1.193.96-2.065.96s-1.584-.361-2.064-.96c-.469-.584-.687-1.352-.687-2.145s.218-1.56.687-2.144m.98.786c-.252.313-.411.783-.411 1.358s.16 1.046.41 1.359c.24.298.589.49 1.085.49s.846-.192 1.085-.49c.251-.313.41-.783.41-1.359 0-.575-.159-1.045-.41-1.358-.239-.298-.589-.49-1.085-.49s-.846.192-1.085.49M4.6 2.572c-.803 0-1.462.334-1.907.888-.433.539-.632 1.245-.632 1.97s.2 1.43.632 1.97c.445.553 1.104.887 1.907.887.804 0 1.463-.334 1.907-.888.433-.539.632-1.245.632-1.97S6.94 4 6.507 3.46c-.444-.553-1.103-.887-1.907-.887M3.317 5.43c0-.507.14-.916.356-1.184.203-.253.5-.418.927-.418s.725.165.928.418c.215.268.355.677.355 1.184s-.14.915-.355 1.183c-.203.253-.5.418-.928.418s-.724-.165-.927-.418c-.216-.268-.356-.676-.356-1.183m-.887 7.206h3.344c.076.466.268.896.539 1.256H2.43c-.577 0-1.132-.243-1.49-.656a1.51 1.51 0 0 1-.23-1.675c.68-1.42 2.175-2.389 3.89-2.389.797 0 1.547.21 2.19.576a5.6 5.6 0 0 0-.685 1.056 3.16 3.16 0 0 0-1.505-.376c-1.24 0-2.29.699-2.758 1.676a.26.26 0 0 0-.03.161c.007.04.028.092.076.148a.73.73 0 0 0 .542.223M11.4 8.84c-1.917 0-3.58 1.117-4.279 2.735a1.54 1.54 0 0 0 .268 1.665c.36.41.913.652 1.49.652h5.04c.579 0 1.131-.242 1.492-.652a1.54 1.54 0 0 0 .268-1.665c-.7-1.618-2.362-2.736-4.279-2.736m-3.126 3.233c.496-1.147 1.698-1.978 3.126-1.978s2.63.831 3.126 1.978c.055.128.034.233-.058.338a.74.74 0 0 1-.548.225H8.88a.74.74 0 0 1-.548-.225c-.092-.105-.113-.21-.058-.338"})},i=(0,n(340498).wt)("peopleSmall",o)},755170:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(340498),l=()=>n(284371),c=()=>n(859428),d=()=>n(115512),u=()=>n(962730),p=()=>n(665579),m=()=>n(534177),g=n(474848);const h=function(e){let{additionalStyles:t,transitionMs:o,force:i,children:r}=e;const s=(0,n(827912).j)(),l=(0,a().IS)((()=>{let e;switch(i){case"forceShow":e=1;break;case"forceHide":e=0;break;case void 0:e=s?1:0;break;default:(0,m().HB)(i)}return{hoverStyle:{opacity:e,transition:`opacity ${(0,m().O9)(o)?o:200}ms ease-in`,...t}}}),[t,i,s,o]);return(0,g.jsx)("div",{style:l.hoverStyle,children:r})};function f(e){let{icon:t,title:n,tooltip:o,hasRightElement:r,iconContainerStyle:p}=e;const m=(0,i().v3)(),h=(0,a().IS)((e=>({panelTitleAndIcon:{display:"flex",alignItems:"center",fontSize:(0,d().ny)(m,"UISmall"),fontWeight:l().Wy.medium,color:e.text.secondary,fill:e.mediumIconColor,flexShrink:0,maxWidth:r?200:"100%"},title:{...l().RC},panelIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:s().Ev.sm,height:s().Ev.sm,marginRight:8,marginTop:1,...p}})),[m,p,r]);return n?(0,g.jsx)(c().A,{renderTooltip:()=>o,disableTooltip:!o,placement:u().W.Top,alignment:u().C.Start,render:e=>(0,g.jsxs)("div",{style:h.panelTitleAndIcon,...e,children:[(0,g.jsx)("div",{style:h.panelIconContainer,children:t}),(0,g.jsx)("span",{style:h.title,children:n})]})}):null}const y=function(e){let{children:t,title:s,icon:l,tooltip:c,iconContainerStyle:d,panelStyle:u,headerStyle:m,rightStyle:y,actions:v,right:x,disableRightFadeIn:C,disableActionsFadeIn:S,hideWrapStyle:b,actionsGap:w,userSelectOverride:_}=e;const j=(0,i().WS)(),A=Boolean(s),k=Boolean(x),I=(0,r().uB)(void 0,n(620090).B),M=(0,r().uB)(void 0,n(1248)._),T=(0,o.useMemo)((()=>({isHoveredOnPanelStore:I,sizeStore:M})),[I,M]),P=(0,o.useCallback)((()=>I.setState(!0)),[I]),L=(0,o.useCallback)((()=>I.setState(!1)),[I]),R=(0,o.useCallback)((e=>{e.width<p().Xy?M.setState("narrow"):M.setState("wide")}),[M]),H=(0,a().IS)((e=>({tile:{userSelect:_??"none",WebkitUserSelect:_??"none"},panel:b?{}:{paddingLeft:12,paddingRight:12,...(0,p().V$)({isPhone:j,theme:e}),...u},headerContainer:{flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center",height:n(69447).nh,marginLeft:p().Fq,...m},rightActions:{display:"flex",flexDirection:"row",alignItems:"center"},actions:{display:"flex",alignItems:"center",gap:w??6,paddingLeft:6}})),[j,b,u,m,w,_]),B=(A||k)&&(0,g.jsxs)("div",{style:H.headerContainer,children:[(0,g.jsx)(f,{title:s,icon:l,tooltip:c,hasRightElement:k,iconContainerStyle:d}),(k||v)&&(0,g.jsxs)("div",{style:H.rightActions,children:[k&&(0,g.jsx)(h,{force:C?"forceShow":void 0,additionalStyles:y,children:x}),v&&(0,g.jsx)(h,{force:S?"forceShow":void 0,additionalStyles:H.actions,children:v})]})]});return(0,g.jsx)(n(273923).R.Provider,{value:T,children:(0,g.jsxs)("div",{style:H.tile,onMouseEnter:P,onMouseLeave:L,children:[B,(0,g.jsx)(n(828634).EE,{onSizeChange:R,children:(0,g.jsx)("div",{style:H.panel,children:t})})]})})}},763012:(e,t,n)=>{n.d(t,{A:()=>d,e:()=>c});var o=n(296540),i=()=>n(379610),r=()=>n(665579),a=()=>n(293633),s=()=>n(827912),l=n(474848);function c(e){const t=(0,a().l)(),n=(0,s().j)();return(0,l.jsx)(i().p,{mobileContainerOffset:t,preventScroll:e.preventScroll,innerContainerStyle:e.innerContainerStyle,containerStyle:e.containerStyle,cardWidth:e.cardWidth,isHovered:n,startAndEndPadding:r().VQ,gapSizeOverride:e.gapSizeOverride,children:e.children})}const d=o.memo(c)},764756:(e,t,n)=>{n.d(t,{m:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{type:"initial"}}}const i=new o},789280:(e,t,n)=>{n.d(t,{Fe:()=>r,wm:()=>a});const o={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},i={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1};function r(e){return o[e.type]}function a(e){return i[e.type]}},806638:(e,t,n)=>{n.d(t,{P:()=>r});var o=()=>n(427704),i=()=>n(435009);function r(e){const{environment:t}=e;i().oo({environment:t,url:o().JZ.marketplace,redirect:!1})}},806754:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:i,marginAfter:r,desktopStyle:a,desktopTitleStyle:s,...l}=e,c=(r||a)&&{...r&&t.marginAfter,...a},d=s?{...t.desktopTitleStyle,...s}:t.desktopTitleStyle;return(0,o.jsx)(n(89924).A,{disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:c,desktopTitleStyle:d,shouldShowBottomDivider:!1,title:i,...l})}},811481:(e,t,n)=>{n.d(t,{i:()=>r});var o=()=>n(645873);const i={ScrollableBlockLimitBanner:new(o().O2)("ScrollableBlockLimitBanner",(async()=>Promise.all([n.e(33618),n.e(27942)]).then(n.bind(n,333618))))},r=(0,o()._h)(i.ScrollableBlockLimitBanner,(e=>e.default))},811979:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(847249),r=()=>n(592678),a=n(474848);function s(e,t){const{onClose:s,persistOnClose:l,render:u,stopClickPropagation:p,onClick:m,disablePopup:g,disabled:h,forceInitialInbound:f,renderOrigin:y,originGap:v,borderRadius:x,popupWrapStyle:C}=e,S=(0,i().uB)(e.buttonPopupStore,n(463830).A);(0,o.useEffect)((()=>()=>{S.setState({open:!1})}),[S]);const b=(0,o.useCallback)((()=>c(s,l,S)),[s,l,S]),w=(0,o.useCallback)((()=>(0,a.jsx)(d,{onClose:s,persistOnClose:l,render:u,buttonPopupStore:S})),[s,l,u,S]),_=(0,o.useCallback)((e=>function(e,t,n,o,i){t&&(null==e||e.stopPropagation());if(e&&r().Vt(e))return;n&&n(e);o||i.setState({...i.state,open:!0})}(e,p,m,g,S)),[p,m,g,S]),j=(0,i().K8)((()=>y({...e,onClick:h?n(496603).D_:_})),[h,_,e,y]),A=(0,i().K8)((()=>S.state.open),[S]);return(0,a.jsx)(n(897119).Ay,{ref:t,...e,forceInitialInbound:Boolean(f),render:w,open:A,onDismiss:b,origin:j,originGap:v,borderRadius:x,popupWrapStyle:C,trapFocus:!0})}const l=o.forwardRef(s);function c(e,t,n){e&&e(),t||n.reset()}function d(e){let{onClose:t,persistOnClose:n,render:r,buttonPopupStore:s}=e;const l=(0,o.useCallback)((()=>c(t,n,s)),[t,n,s]),d=(0,i().K8)((()=>r({close:l})),[r,l]);return(0,a.jsx)(a.Fragment,{children:d})}},817942:(e,t,n)=>{n.d(t,{A5:()=>p,MR:()=>v,Mx:()=>l,Pb:()=>h,WL:()=>y,hg:()=>c,kZ:()=>f,pv:()=>d,vV:()=>g});n(581454);var o=n.n(n(32485)),i=n(296540),r=()=>n(11048),a=()=>n(455994),s=n(474848);const l=i.forwardRef((function(e,t){const{children:i,type:l,gap:c,withBottomPadding:d,style:u,onMouseDown:p,onClick:m,onDoubleClick:g,onContextMenu:h}=e,f=(0,n(551619).n$)(l),y=(0,n(847249).K8)((()=>a().A.getPanelState("peek").isOpen&&"static_sidebar"===a().A.getPanelState("peek").displayStyle),[]);return(0,s.jsx)(r().A,{name:"PageLayout",children:(0,s.jsx)("div",{className:o()("layout",{"layout-wide":"wide"===l,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===l,"layout-side-peek":"side-peek"===l,"layout-center-peek":"center-peek"===l&&!y,"layout-center-peek-with-layout-panel":"center-peek"===l&&y,"layout-home":"home"===l,"layout-home-phone":"home-phone"===l,"layout-home-redesign-desktop":"home-redesign-desktop"===l,"layout-form":"form"===l,"layout-form-viewer":"form-viewer"===l,"layout-form-viewer-embed":"form-viewer-embed"===l,"layout-phone":"phone"===l,"layout-tablet":"tablet"===l,"layout-template-preview":"template-preview"===l,"layout-chat":"chat"===l,"layout-layout-editor":"layout-editor"===l,"layout-layout-editor-wide":"layout-editor-wide"===l,"layout-layout-editor-narrow":"layout-editor-narrow"===l,"layout-marketplace":"marketplace"===l,"layout-marketplace-mobile":"marketplace-mobile"===l,"layout-team-home":"team-home"===l,"layout-team-home-mobile":"team-home-mobile"===l,"layout-create-post":"create-post"===l,"layout-fullscreen-ai":"fullscreen-ai"===l,"layout-narrowscreen-ai":"narrowscreen-ai"===l,"layout-presentation-mode":"presentation-mode"===l,"layout-person-profile":"person-profile"===l}),style:{paddingBottom:d?f:void 0,gap:c,...u},ref:t,onMouseDown:p,onClick:m,onDoubleClick:g,onContextMenu:h,children:i})})})),c="layout-content",d="layout-full",u="layout-margin-right",p="hide-scrollbar",m="layout-column",g=i.forwardRef((function(e,t){return(0,s.jsx)(r().A,{name:"PageLayoutContent",children:(0,s.jsx)("div",{className:o()(c,e.className),style:e.style,ref:t,children:e.children})})}));function h(e){return(0,s.jsx)(r().A,{name:"PageLayoutFull",children:(0,s.jsx)("div",{className:d,style:e.style,children:e.children})})}function f(e){return(0,s.jsx)(r().A,{name:"PageLayoutMarginRight",children:(0,s.jsx)("div",{className:u,style:{...e.style,pointerEvents:"none"},children:e.children})})}function y(e){return(0,s.jsx)(r().A,{name:"PageLayoutColumn",children:(0,s.jsx)("div",{className:o()(m,e.className),style:{"--min-column-width":e.minWidth?`${e.minWidth}px`:"100%",...e.style},children:e.children})})}function v(e){return(0,s.jsx)(r().A,{name:"PageLayoutTwoColumn",children:(0,s.jsxs)(y,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})})}},821879:(e,t,n)=>{n.d(t,{C:()=>R,A:()=>H});n(898992),n(354520),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(401497),a=()=>n(959013),s=()=>n(496603),l=()=>n(115512),c=()=>n(962730),d=()=>n(377586),u=()=>n(493823),p=()=>n(760217),m=()=>n(897119),g=()=>n(204063),h=()=>n(89924),f=()=>n(978625),y=()=>n(847249),v=()=>n(857639),x=()=>n(502800),C=()=>n(722872),S=()=>n(970585),b=()=>n(939740),w=()=>n(64e3),_=()=>n(480095),j=()=>n(856952),A=n(474848);const k={menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}};const I=function(e){let{labelText:t,value:r,renderResultMenuItem:a,onConfirm:s,items:l,performRequest:c,onDismiss:d,onChange:u,renderToken:p,onRemove:m,onClear:g,disabled:h}=e;const f=(0,i().v3)(),v=(0,y().uB)(void 0,S().A),x=(0,y().uB)(void 0,n(40851).A),[C,b]=(0,n(857437).$)(),w=(0,o.useCallback)(((e,n,o)=>(0,A.jsx)(L,{error:e,data:n,ready:o,labelText:t,value:r,renderResultMenuItem:a,onConfirm:s,menuListStore:v,comboboxProps:b})),[t,r,a,s,v,b]),_={query:r,current:l};return(0,A.jsx)(n(928600).A,{...P(f,d,t,r,l,u,p,m,g,h,C),children:(0,A.jsx)(n(251126).A,{debounce:100,requestStore:x,request:_,performRequest:c,render:w})})};function M(e){const{device:t}=e;return t.isMobile}function T(e){let{labelText:t,value:n,items:o,disabled:r,onChange:a,renderToken:l,onRemove:c,onClear:d,inputComboboxProps:u}=e;const p=(0,i().v3)(),m=o.map((e=>l(e,{onRemove:()=>c(e)})));return(0,A.jsx)(h().A,{isInput:!0,children:(0,A.jsx)("div",{style:{padding:"4px 8px"},children:(0,A.jsx)(j().Ay,{focus:!M(p)||void 0,focusAfterAnimation:!0,format:j().le.FilterValue,tokens:m,placeholder:t.tokenInputPlaceholder,onRemoveLastToken:()=>function(e,t){const n=s().HV(e);n&&t(n)}(o,c),onClearButtonClick:d,value:n,onChange:a,showClearButton:!0,disabled:Boolean(r),style:k.inputMenu,...u})})})}function P(e,t,n,o,i,r,a,s,l,c,d){if(M(e)){return{menuType:C().gu.Modal,title:n.title,right:(0,A.jsx)(_().DoneMenuText,{}),onClickRight:t,header:(0,A.jsx)(T,{labelText:n,value:o,items:i,disabled:c,onChange:r,renderToken:a,onRemove:s,onClear:l,inputComboboxProps:d})}}return{menuType:C().gu.Popup,onClickOutside:t,header:(0,A.jsx)(T,{labelText:n,value:o,items:i,disabled:c,onChange:r,renderToken:a,onRemove:s,onClear:l,inputComboboxProps:d}),...k.menu}}function L(e){let{error:t,data:n,ready:i,labelText:r,value:s,renderResultMenuItem:l,onConfirm:c,menuListStore:d,comboboxProps:u}=e;const p=(0,y().uB)(d,S().A),m=(0,o.useCallback)((e=>(0,A.jsx)(h().A,{...e,title:r.resultSectionTitle,loading:!i})),[r,i]);if(t)return v().log({level:"error",from:r.componentDebugName,type:"requestFailed",error:(0,x().convertErrorToLog)(t),data:{miscDataToConvertToString:{query:s}}}),(0,A.jsx)(m,{children:(0,A.jsx)(w().A,{title:(0,A.jsx)(a().sA,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!n)return(0,A.jsx)(m,{children:(0,A.jsx)(w().A,{title:(0,A.jsx)(a().sA,{defaultMessage:"Loading…",id:"search.inputMenu.loading.message"})})});if(n&&0===n.length)return(0,A.jsx)(m,{children:(0,A.jsx)(w().A,{title:(0,A.jsx)(a().sA,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const g={key:"results",items:n.map((e=>function(e,t,n){return{key:e,action:()=>n(e),render:n=>t(e,n)}}(e,l,c))),render:m};return(0,A.jsx)(b().Ay,{type:b().Oh.Vertical,store:p,initialFocus:0,sections:[g],comboboxProps:u})}let R=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});function H(e){const{items:t,keepInputOnItemConfirm:n,mode:r,onChange:a,onMenuDismiss:l,onMenuOpen:c}=e,{device:d}=(0,i().v3)(),u=(0,o.useRef)(),p=(0,o.useRef)(null),[m,g]=(0,o.useState)(!1),[h,f]=(0,o.useState)(""),[y,v]=(0,o.useState)(void 0),[x,C]=(0,o.useState)(void 0);function S(e,t){u.current=requestAnimationFrame((e=>{if(p&&p.current&&(C(p.current.getBoundingClientRect()),t)){const{shouldOpenMenu:e,nextIndexToReplace:n}=t;e&&(g(!0),v(n))}}))}(0,o.useEffect)((()=>(window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),u.current&&(cancelAnimationFrame(u.current),u.current=void 0)})),[]);const b=t.length;function w(e){j(),g(!1),v(void 0),null==l||l(e)}function _(e){f(e.target.value)}function j(){f("")}function k(){a([])}const I=(0,o.useCallback)((e=>{const n=t.filter((t=>t!==e));a(n)}),[t,a]),M=(0,o.useCallback)((e=>{if("number"==typeof y&&y<t.length){const n=t.slice(0,y).concat(e,t.slice(y+1));a(n)}else if(t.includes(e)&&R.Pill)I(e);else{const n=t.concat(e);a(s().sb(n))}n||j()}),[I,y,t,n,a]);return(0,o.useEffect)((()=>{S()}),[b,r]),d.isMobile?(0,A.jsx)(z,{inputTemporaryValue:h,isMenuOpen:m,onClearInput:j,onClearItems:k,onItemConfirm:M,onMenuClose:w,onMenuInputChange:_,onMenuOpen:function(){g(!0)},onRemove:I,searchTokenFilterProps:e}):(0,A.jsx)(D,{hasItemsSelected:r===R.Pill&&e.hasItemsSelected,inputTemporaryValue:h,isMenuOpen:m,onClearInput:j,onClearItems:k,onItemConfirm:M,onMenuClose:w,onMenuInputChange:_,onMenuOpen:function(e){null==c||c(),S(0,{shouldOpenMenu:!0,nextIndexToReplace:e})},onRemove:I,popupOriginRect:x,ref:p,searchTokenFilterProps:e})}function B(e){return{buttonMenuItem:{color:e.text.secondary},appendListItemButton:{color:e.text.tertiary}}}function V(e,t){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:l().ny(e,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===t?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}const D=(0,o.forwardRef)((function(e,t){const{hasItemsSelected:r,inputTemporaryValue:a,isMenuOpen:s,onClearInput:l,onClearItems:u,onItemConfirm:p,onMenuClose:g,onMenuInputChange:h,onMenuOpen:f,onRemove:y,popupOriginRect:v,searchTokenFilterProps:x}=e,{addItemLabel:C,disabled:S,focused:b,icon:w,iconStyles:_,items:j,mode:k,renderFilter:I,title:M}=x,T=(0,i().v3)(),P=S||s,L=(0,o.useMemo)((()=>({open:s})),[s]),H=(0,o.useCallback)((()=>{f()}),[f]);return(0,A.jsxs)(n(806754).A,{title:k===R.Section?M:void 0,marginAfter:k===R.Section,style:V(T,k).sectionMenuItem,children:[k!==R.Pill&&(0,A.jsx)(E,{disableFilters:P,items:j,onClick:f,onRemove:y,renderFilter:I}),(0,A.jsx)(n(240260).k.Provider,{value:L,children:k===R.Section?(0,A.jsx)(O,{addItemLabel:C,disabled:S,isMenuOpen:s,mode:k,onClick:H,ref:t}):k===R.Button?(0,A.jsx)(N,{disabled:S,focused:b,icon:w,isMenuOpen:s,mode:k,onClick:H,ref:t,title:M}):k===R.Pill?(0,A.jsx)(F,{disabled:S,hasItemsSelected:r,icon:w,iconStyles:_,onClick:H,ref:t,title:M}):void(0,n(534177).HB)(k)}),(0,A.jsx)(m().Ay,{alignmentToOrigin:c().C.Start,keepFocus:!0,onDismiss:g,open:s,originRect:v,placementToOrigin:c().W.Bottom,popupType:d().n.Popup,preventScaleTransition:!0,render:()=>(0,A.jsx)(U,{searchTokenFilterProps:x,inputTemporaryValue:a,onMenuInputChange:h,onClearInput:l,onClearItems:u,onItemConfirm:p,onMenuClose:g,onRemove:y}),trapFocus:!0})]})}));function E(e){const{disableFilters:t,items:n,onClick:i,onRemove:r,renderFilter:a}=e,s=(0,o.useMemo)((()=>n.map(((e,n)=>(0,A.jsx)("li",{children:a(e,{disabled:t,onClick:()=>i(n),onRemove:()=>r(e)})},`${e}_${n}`)))),[t,n,i,r,a]);return(0,A.jsx)("ul",{style:l().$t,children:s})}const O=(0,o.forwardRef)((function(e,t){const{addItemLabel:o,disabled:a,isMenuOpen:s,mode:l,onClick:c}=e,d=V((0,i().v3)(),l),u=(0,r().IS)(B,[B]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{ref:t,style:d.menuItemWrapper}),(0,A.jsx)(p().A,{disabled:a||s,focused:!1,icon:(0,n(689094).W)(d.iconSmall),onClick:c,style:{...d.appendListItemButton,...u.appendListItemButton},title:o})]})})),N=(0,o.forwardRef)((function(e,t){const{disabled:n,focused:o,icon:a,isMenuOpen:s,mode:l,onClick:c,title:d}=e,u=V((0,i().v3)(),l),m=(0,r().IS)(B,[B]),g={...u.menuItem,...m.buttonMenuItem};return(0,A.jsx)("div",{ref:t,style:u.menuItemWrapper,children:(0,A.jsx)(p().A,{disabled:n||s,focused:o,icon:a(u.icon),onClick:c,style:g,title:d})})})),F=(0,o.forwardRef)((function(e,t){const{disabled:o,hasItemsSelected:r,icon:a,iconStyles:s,onClick:l,title:c}=e,d=V((0,i().v3)(),R.Pill);return(0,A.jsx)("div",{ref:t,style:d.menuItemWrapper,children:(0,A.jsx)(n(56394).A,{on:r,icon:a({...d.icon,...s}),title:(0,A.jsx)("span",{children:c}),onClick:l,wrapStyle:{opacity:o?.4:1}})})}));function W(e){const{disableFilters:t,items:n,mode:o,onClickClear:r,onMenuOpen:a,renderItemForSummary:s,title:c}=e,d=V((0,i().v3)(),o),u={...l().$t,...d.summary},p=n.length-1,m=(0,A.jsx)("ul",{style:u,children:n.map(((e,t)=>(0,A.jsxs)("li",{style:d.summaryItem,children:[s(e),t!==p&&","," "]},e)))});return(0,A.jsx)(f().A,{disabled:t,label:c,onClick:a,onClickClear:r,title:m})}function z(e){const{inputTemporaryValue:t,isMenuOpen:n,onClearInput:o,onClearItems:r,onItemConfirm:a,onMenuClose:s,onMenuInputChange:l,onMenuOpen:c,onRemove:u,searchTokenFilterProps:g}=e,{mode:h,disabled:f,title:y,items:v,renderItemForSummary:x,icon:C}=g,S=V((0,i().v3)(),h),b=f||n,w=h===R.Section?(0,A.jsx)(W,{disableFilters:b,items:v,mode:h,onClickClear:r,onMenuOpen:c,renderItemForSummary:x,title:y}):(0,A.jsx)(p().A,{disabled:b,focused:!1,icon:C({...S.icon}),onClick:c,title:y});return(0,A.jsx)(m().Ay,{keepFocus:!0,onDismiss:s,open:n,origin:w,popupType:d().n.SlideUp,render:()=>(0,A.jsx)(U,{inputTemporaryValue:t,onClearInput:o,onClearItems:r,onItemConfirm:a,onMenuClose:s,onMenuInputChange:l,onRemove:u,searchTokenFilterProps:g})})}function U(e){const{inputTemporaryValue:t,onClearInput:n,onClearItems:o,onItemConfirm:i,onMenuClose:r,onMenuInputChange:s,onRemove:l,searchTokenFilterProps:c}=e,{renderToken:d,renderFooter:p,allowApplyBatchSelection:m}=c;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I,{...c,onChange:s,onClear:()=>{n(),o()},onConfirm:i,onDismiss:r,onRemove:l,renderToken:d,value:t}),p&&(0,A.jsxs)(h().A,{style:{padding:6,justifyContent:"space-between",display:"flex",flexDirection:"row"},topBorder:!0,children:[(0,A.jsx)(u().p,{onClick:o,children:(0,A.jsx)(a().sA,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),m&&(0,A.jsx)(g().A,{onClick:()=>{r("applyButton")},children:(0,A.jsx)(a().sA,{defaultMessage:"Apply",id:"searchTokenFilter.applyButton"})})]})]})}},827912:(e,t,n)=>{n.d(t,{j:()=>a});var o=n(296540),i=()=>n(847249),r=()=>n(273923);function a(){var e;const t=null===(e=(0,o.useContext)(r().R))||void 0===e?void 0:e.isHoveredOnPanelStore;return(0,i().K8)((()=>Boolean(null==t?void 0:t.getState())),[t])}},829548:(e,t,n)=>{n.d(t,{y:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M6.303 3.625c-.71 0-1.374.355-1.768.946L2.232 8.025c-.233.35-.357.76-.357 1.18v5.045c0 1.174.951 2.125 2.125 2.125h12a2.125 2.125 0 0 0 2.125-2.125V9.204c0-.42-.124-.83-.357-1.179l-2.303-3.454a2.13 2.13 0 0 0-1.768-.946zm-.728 1.64a.88.88 0 0 1 .728-.39h7.394c.293 0 .566.146.728.39l2.303 3.454a1 1 0 0 1 .083.156h-4.702a.625.625 0 0 0-.625.625v.476a1.484 1.484 0 0 1-2.968 0V9.5a.625.625 0 0 0-.625-.625H3.189a1 1 0 0 1 .083-.156zm-2.45 4.86H7.27a2.734 2.734 0 0 0 5.46 0h4.145v4.125a.875.875 0 0 1-.875.875H4a.875.875 0 0 1-.875-.875z"})},i=(0,n(340498).wt)("inbox",o)},851775:(e,t,n)=>{n.d(t,{A:()=>a});var o=()=>n(194188),i=()=>n(10123),r=()=>n(570551);function a(e,t){(0,r().A)(2,arguments);var n=(0,i().A)(e),a=(0,o().A)(t),s=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(s,a,15),c.setHours(0,0,0,0);var d=function(e){(0,r().A)(1,arguments);var t=(0,i().A)(e),n=t.getFullYear(),o=t.getMonth(),a=new Date(0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}(c);return n.setMonth(a,Math.min(l,d)),n}},851979:(e,t,n)=>{n.d(t,{h:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("eye",{viewBox:"0 0 32 32",svg:(0,o.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},854094:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{isHovered:!1}}}const i=new o},855685:(e,t,n)=>{n.d(t,{SU:()=>l,ah:()=>c});n(296540);var o=()=>n(484714),i=()=>n(401497),r=()=>n(710149),a=()=>n(665579),s=n(474848);function l(e){const t=(0,o().Y0)(),n=(0,i().IS)((e=>({feedContainer:(0,a().$E)({isPhone:t.isPhone})})),[t.isPhone]);return(0,s.jsxs)("div",{style:n.feedContainer,children:[e.hasComposer&&(0,s.jsx)(d,{}),(0,s.jsx)(u,{}),(0,s.jsx)(p,{})]})}function c(){const e=(0,i().IS)((()=>({teamHomeTitle:{display:"flex",gap:12,alignItems:"center",paddingBottom:24},teamIcon:{width:40,height:40,borderRadius:6},teamName:{width:120,height:28,borderRadius:6}})),[]);return(0,s.jsxs)("div",{style:e.teamHomeTitle,children:[(0,s.jsx)(r().A,{style:e.teamIcon}),(0,s.jsx)(r().A,{style:e.teamName})]})}function d(){const e=m(),t=(0,o().WS)()?300:520;return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(r().A,{style:e.postTitle}),(0,s.jsx)("div",{style:e.postContentContainer,children:(0,s.jsx)(r().A,{style:{width:t,height:20,borderRadius:10}})}),(0,s.jsx)("div",{style:e.postButtonContainer,children:(0,s.jsx)(r().A,{style:e.postButton})})]})}function u(){const e=m(),{shimmer1:t,shimmer2:n,shimmer3:o}=g();return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(r().A,{style:e.postTitle}),(0,s.jsxs)("div",{style:e.postContentContainer,children:[(0,s.jsx)(r().A,{style:t}),(0,s.jsx)(r().A,{style:n}),(0,s.jsx)(r().A,{style:o})]}),(0,s.jsxs)("div",{style:e.postComments,children:[(0,s.jsxs)("div",{style:e.postComment,children:[(0,s.jsx)(r().A,{style:{width:20,height:20,borderRadius:10}}),(0,s.jsx)(r().A,{style:{width:160,height:20,borderRadius:6}})]}),(0,s.jsxs)("div",{style:e.postComment,children:[(0,s.jsx)(r().A,{style:{width:20,height:20,borderRadius:10}}),(0,s.jsx)(r().A,{style:{width:80,height:20,borderRadius:6}})]})]})]})}function p(){const e=m(),{shimmer1:t,shimmer2:n,shimmer3:o}=g();return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(r().A,{style:e.postTitle}),(0,s.jsxs)("div",{style:e.postContentContainer,children:[(0,s.jsx)(r().A,{style:t}),(0,s.jsx)(r().A,{style:n}),(0,s.jsx)(r().A,{style:o})]}),(0,s.jsxs)("div",{style:e.postReactions,children:[(0,s.jsx)(r().A,{style:e.postReaction}),(0,s.jsx)(r().A,{style:e.postReaction}),(0,s.jsx)(r().A,{style:e.postReaction})]})]})}function m(){const e=(0,o().Y0)();return(0,i().IS)((t=>{const n=e.isPhone,{unhoveredBoxShadow:o}=(0,a().UO)({isPhone:n,theme:t});return{container:{display:"flex",flexDirection:"column",alignItems:"center"},postContainer:{display:"flex",flexDirection:"column",gap:36,borderRadius:n?0:12,boxShadow:o,padding:20,backgroundColor:t.surface.page},feedContainer:{display:"flex",flexDirection:"column",gap:24},postTitle:{width:80,height:20,borderRadius:10},postContentContainer:{display:"flex",flexDirection:"column",gap:12},postButtonContainer:{display:"flex",justifyContent:"flex-end"},postButton:{width:80,height:20,borderRadius:10},postComments:{display:"flex",flexDirection:"column",gap:12},postComment:{display:"flex",gap:8},postReactions:{display:"flex",gap:8},postReaction:{width:40,height:20,borderRadius:10}}}),[e.isPhone])}function g(){const e=(0,o().WS)();return(0,i().IS)((()=>{const t=e?0:10;return{shimmer1:{width:e?300:520,height:20,borderRadius:t},shimmer2:{width:e?270:470,height:20,borderRadius:t},shimmer3:{width:e?225:425,height:20,borderRadius:t}}}),[e])}},882262:(e,t,n)=>{n.d(t,{m:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485H8.86a.625.625 0 0 0 0-1.25h-5a.625.625 0 0 0-.625.625v5a.625.625 0 1 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 1 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},i=(0,n(340498).wt)("arrowExpandDiagonal",o)},885749:(e,t,n)=>{n.d(t,{A:()=>d,u:()=>l});n(898992),n(803949),n(581454);var o=n(296540),i=()=>n(959013),r=()=>n(406699),a=()=>n(939740),s=n(474848);const l=(0,i().YK)({hide:{id:"PersonalHomePanel.moreDropdown.hide.title",defaultMessage:"Hide from Home"}});function c(e){let{actions:t}=e;const c=(0,i().tz)(),d=(0,o.useMemo)((()=>{const e={};return t.forEach((t=>{"custom"===t.type&&(e[t.item.key]=t.closeOnAccept)})),e}),[t]),u=[{key:"all",render:e=>(0,s.jsx)(n(89924).A,{...e}),items:t.map((e=>{switch(e.type){case"hide":return{key:"hide",render:e=>(0,s.jsx)(n(760217).A,{...e,icon:(0,s.jsx)(n(8980).I,{icon:n(566910).e}),title:c.formatMessage(l.hide),style:{borderRadius:n(665579)._g}}),action:e.hide};case"custom":return e.item;default:(0,n(534177).HB)(e)}}))}];return(0,s.jsx)(r().Ay,{popupType:r().z7.Popup,alignmentToOrigin:r().yP.Center,originGap:2,renderOrigin:e=>(0,s.jsx)(n(167068).A,{...e}),render:e=>(0,s.jsx)(n(928600).A,{menuType:n(722872).gu.Popup,children:(0,s.jsx)(a().Ay,{onAccept:t=>((e,t)=>{d[e.key]&&t.close()})(t,e),type:a().Oh.Vertical,sections:u,initialFocus:void 0})})})}const d=o.memo(c)},892008:(e,t,n)=>{n.d(t,{Bs:()=>d,L:()=>c,Ob:()=>l});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(803949);var o=n(296540),i=()=>n(852507),r=()=>n(118884),a=()=>n(994310),s=()=>n(347320);const l=new class{constructor(){this.currentPageId=void 0,this._localStorage=void 0}startCachingViewIds(e){this.currentPageId=e;this.entryForPage(e).v=[]}stopCachingViewIds(){const e=this.currentPageId;if(this.currentPageId=void 0,e){0===this.entryForPage(e).v.length&&delete this.localStorage[e]}}registerView(e,t){if(this.currentPageId!==e)return;const n=this.entryForPage(e);n.v=[...new Set([...n.v,t])],n.t=Date.now(),this.writeToLocalStorage()}unregisterView(e,t){const n=this.localStorage[e];n&&(n.v=n.v.filter((e=>e!==t)),0===n.v.length&&delete this.localStorage[e],this.writeToLocalStorage())}lookupViewIds(e){const t=this.localStorage[e];return(null==t?void 0:t.v)??[]}clear(){this.currentPageId=void 0,this._localStorage=void 0}get localStorage(){return this._localStorage??(this._localStorage=a().A.get(s().O)||Object.create(null))}entryForPage(e){let t=this.localStorage[e];return t||(t={v:[],t:0},this.localStorage[e]=t),t}writeToLocalStorage(){this.limitLocalStorageSize(),a().A.set(s().O,this.localStorage)}limitLocalStorageSize(){const e=Object.keys(this.localStorage);if(e.length>=100){const t={timestamp:Number.MAX_SAFE_INTEGER,key:void 0};e.forEach((e=>{e!==this.currentPageId&&this.localStorage[e].t<t.timestamp&&(t.timestamp=this.localStorage[e].t,t.key=e)})),t.key&&delete this.localStorage[t.key]}}};function c(e){let{collectionContextStore:t,isFullScreen:n,wasCreatedThisSessionStore:i,didDelayOffscreenRenderRef:r,environment:a}=e;const s=(0,o.useCallback)((()=>{var e;const n=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,o=a.RouterStore.state.route;if("page"!==o.name)return;const i=o.blockId;i&&n&&(r.current?(l.unregisterView(i,n),t.shouldDelayRenderStore.removeListener(s)):l.registerView(i,n))}),[t,r,a]);(0,o.useEffect)((()=>{var e;if(n||i.state)return;const o=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,r=a.RouterStore.state.route;if("page"!==r.name)return;return r.blockId&&o?(t.shouldDelayRenderStore.addListener(s),s(),()=>{t.shouldDelayRenderStore.removeListener(s)}):void 0}),[t,n,i,a,s])}function d(e){let{pageId:t,isFrameContext:n}=e;(0,i().l)((()=>{n&&l.startCachingViewIds(t)})),(0,r().X)((()=>{n&&l.stopCachingViewIds()}))}},894074:(e,t,n)=>{n.d(t,{A:()=>l});var o=()=>n(10123),i=()=>n(851775),r=()=>n(194188),a=()=>n(570551);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if((0,a().A)(2,arguments),"object"!==s(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,o().A)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,i().A)(n,t.month)),null!=t.date&&n.setDate((0,r().A)(t.date)),null!=t.hours&&n.setHours((0,r().A)(t.hours)),null!=t.minutes&&n.setMinutes((0,r().A)(t.minutes)),null!=t.seconds&&n.setSeconds((0,r().A)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,r().A)(t.milliseconds)),n)}},915086:(e,t,n)=>{n.r(t),n.d(t,{measurePageRenderMetrics:()=>w,setInitialRenderCompleted:()=>S,setSubMetric:()=>v,setSubMetricsAtRenderCallback:()=>y,updateMetricData:()=>x,updateMetricDataWithIsPushTag:()=>b,updateOPFSMetricData:()=>C});n(898992),n(581454),n(737550),n(814603),n(147566),n(198721);var o=()=>n(906510),i=()=>n(410690),r=()=>n(892008),a=()=>n(989423),s=()=>n(571963),l=()=>n(347320),c=()=>n(150749),d=()=>n(836251),u=()=>n(406792),p=()=>n(736316),m=()=>n(508496),g=()=>n(961581),h=()=>n(977390),f=()=>n(606932);function y(e){const{mainStartTime:t,prefetchInitiatedTime:n,statsigBootupBlockingStartTime:o,renderStartTime:r,renderEndTime:a}=e,s=i().getAppStartTime();if(!s)return;const l={app_start_to_main_start:{startTime:s,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:n},prefetch_initiated_to_statsig_bootup_blocking_start:{startTime:n,endTime:o},statsig_bootup_blocking:{startTime:o,endTime:r},render_start_to_render_end:{startTime:r,endTime:a}};for(const[i,c]of Object.entries(l)){const e=null==c?void 0:c.startTime,t=null==c?void 0:c.endTime;e&&t&&(0,p().f)({name:i,startTime:e,endTime:t})}g().A.state.subMetricsStore.update((e=>({...e,...l})))}function v(e){const{name:t,endTime:n}=e,o=e.startTime(g().A.state.subMetricsStore.state);o&&(g().A.state.subMetricsStore.update((e=>({...e,[t]:{startTime:o,endTime:n}}))),(0,p().f)({name:t,startTime:o,endTime:n}))}function x(e){g().A.state.metricDataStore.update((t=>({...t,...e})))}function C(e){g().A.state.OPFSMetricDataStore.update((t=>({...t,...e})))}function S(){g().A.update((e=>({...e,initialRenderCompleted:!0})))}function b(e){const t=e.RouterStore.state;let n;var o;"page"===t.route.name&&(n=t.route.mobileData,x({is_push:null===(o=n)||void 0===o?void 0:o.isPush}))}function w(e){let{environment:t,isEditable:n,isHomePage:r,isWikiHome:l,isPageWithCustomLayout:c,idSchema:p}=e;const{initialRoute:{name:y},route:x}=t.RouterStore.state,{initialRenderCompleted:C,initialRenderAfterLoginCompleted:b}=g().A.state,w=s().isPrewarmedTabInitialRender(t),A=(0,d().w6)(t);C?b||"login"!==y?function(e,t){const n="page"===t.name?t.mobileData:void 0,o=f().A.popTimings();if(o){const{navigationStart:t,requestFirstChunkStart:i,requestFirstChunkEnd:r,requestFirstChunkSource:s,requestFirstChunkLocalSource:l,pageViewBlockRender:c,nativeToWebRenderStart:d,nativeToWebRenderParams:p}=o,m=performance.now();if(u().default.measure({metricName:"navigation_page_render",startTime:t,endTime:m},{environment:e,data:{is_push:(null==n?void 0:n.isPush)??!1,wasm_sqlite_initialized:g().A.state.metricDataStore.state.wasm_sqlite_initialized}}),d){const t=Date.now();u().default.measure({metricName:"native_to_web_render",startTime:d,endTime:t},{environment:e,data:{...p??{}}})}(0,a().LM)({eventName:"navigation_page_render_sub_metric",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((n=>{if(!n)return;const o=t=>({environment:e,data:{type:t,chunk_source:s,local_source:l},sampleDecision:n});i&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:t,endTime:i},o("navigation_start_to_request_first_chunk_start")),i&&r&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:i,endTime:r},o("request_first_chunk_start_to_request_first_chunk_end")),r&&c&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:r,endTime:c},o("request_first_chunk_end_to_pvb_render")),c&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:c,endTime:m},o("pvb_render_to_handle_navigation_render"))}))}h().A.state.isMeasuring&&h().A.update((e=>({...e,isMeasuring:!1})))}(t,x):function(e){u().default.DO_NOT_USE_measureLegacy("initial_page_render_after_login",{environment:e}),g().A.update((e=>({...e,initialRenderAfterLoginCompleted:!0})))}(t):w?function(e){let{environment:t,initialRoute:n,isEditable:o,isHomePage:i,isWikiHome:r,isPageWithCustomLayout:a,isPublicDomain:s,idSchema:l}=e;S();const c=performance.now();v({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:c});const d=g().A.state.prewarmedTabAppStartTimeOverride;d&&u().default.measure({metricName:"initial_page_render",startTime:d,endTime:c},{environment:t,data:_({initialRoute:n,isEditable:o,isHomePage:i,isWikiHome:r,isPageWithCustomLayout:a,isPublicDomain:s,idSchema:l,isPrewarmedTab:!0,prewarmedTabNavigationStart:d}),shouldSendIfStatsigNotInitialized:!0});h().A.state.isMeasuring&&h().A.update((e=>({...e,isMeasuring:!1})))}({environment:t,initialRoute:y,isEditable:n,isHomePage:r,isWikiHome:l,isPageWithCustomLayout:c,isPublicDomain:A,idSchema:p}):function(e){var t;let{environment:n,initialRoute:r,isEditable:s,isHomePage:l,isWikiHome:c,isPageWithCustomLayout:d,isPublicDomain:p,idSchema:h}=e;const{initialLoadCachedPageChunkCalledAt:f}=g().A.state;S();const y=Boolean(null===(t=performance)||void 0===t?void 0:t.mark)?performance.mark("initial_page_render").startTime:performance.now();o().S3.mark("initial_page_render"),v({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:y});const x=i().getAppStartTime(),C=i().getPageOriginTime();x&&C&&C>0&&x>C&&v({name:"page_origin_to_app_start",startTime:()=>C,endTime:x});u().default.measureFromPageOrigin({metricName:"initial_page_render",endTime:y},{environment:n,data:_({initialRoute:r,isEditable:s,isHomePage:l,isWikiHome:c,isPageWithCustomLayout:d,isPublicDomain:p,idSchema:h,prefetchedQueryCollection:j(n),isPrewarmedTab:!1}),shouldSendIfStatsigNotInitialized:!0});g().A.state.subMetricsStore.state;void 0!==f&&u().default.DO_NOT_USE_measureFromPageOriginLegacy({metricName:"load_cached_page_chunk_wait_time",endTime:f},{environment:n,data:{initial_route:r},shouldSendIfStatsigNotInitialized:!0,sendToStatsig:!0});m().default.checkGate({gateName:"beacon_pre_ipr_assets"})&&function(e,t){var n;if(null===(n=performance)||void 0===n||!n.getEntriesByType)return;const o=performance.getEntriesByType("resource"),i={eventName:"pre_ipr_assets",eventProperties:{ipr_end:t,assets:o.map((e=>{let t;try{t=new URL(e.name).pathname}catch{t=e.name}return{url:t,initiator_type:e.initiatorType,time:e.duration,perf_start:e.startTime,perf_end:e.startTime+e.duration,decoded_body_size:e.decodedBodySize,transfer_size:e.transferSize}}))}};(0,a().u4)({environment:e,event:i})}(n,y)}({environment:t,initialRoute:y,isEditable:n,isHomePage:r,isWikiHome:l,isPageWithCustomLayout:c,isPublicDomain:A,idSchema:p})}function _(e){const{initialRoute:t,isEditable:n,isHomePage:o,isWikiHome:r,isPageWithCustomLayout:a,isPublicDomain:l,isPrewarmedTab:d,idSchema:u,prefetchedQueryCollection:p}=e;return{...s().getSubMetricsAndMetricDataForTracking(e.isPrewarmedTab?{isPrewarmedTab:!0,prewarmedTabNavigationStart:e.prewarmedTabNavigationStart}:{isPrewarmedTab:!1}),initial_route:t,is_editable:n,is_home_page:o,is_page_with_custom_layout:a,is_public_domain:l,profiling_tool:(0,c().getProfilingToolForSession)(),is_wiki_home:r,time_origin_to_app_start:i().getAppStartTime(),includes_page_origin_to_app_start:!0,id_schema:u,prefetched_cvb:p,is_prewarmed_tab:d,desktop_load_origin:s().getDesktopLoadOrigin(d)}}function j(e){const t=e.RouterStore.state.route;if("page"!==t.name||!t.blockId)return!1;return r().Ob.lookupViewIds(t.blockId).some((t=>{var n;const o=(0,l().A)(t),i=null===(n=e.prefetchCache)||void 0===n?void 0:n.getPrefetchAnalytic(o);return"hit-match"===(null==i?void 0:i.type)||"attempted"===(null==i?void 0:i.type)||"hit-mismatch"===(null==i?void 0:i.type)}))}},933117:(e,t,n)=>{n.d(t,{A:()=>m});n(944114),n(898992),n(803949),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(496603),a=()=>n(722872),s=()=>n(406699),l=()=>n(928600),c=()=>n(939740),d=()=>n(480095),u=()=>n(89924),p=n(474848);const m=function(e){let{renderOrigin:t,onClick:o,items:r,getKey:a,renderItem:l,selectedItem:c,onSelect:d,dontCloseParentOnSelect:u,mobileActionSheet:m,menuTitle:g,width:f,minWidth:y,disabled:v,originGap:x,buttonPopupStore:C,sameWidthAsOrigin:S}=e;const b=(0,i().v3)(),w=(0,n(847249).uB)(C,n(463830).A),{device:_}=b,j=(0,n(963589).X)("db_ux_mobile");return(0,p.jsx)(s().Ay,{popupType:_.isMobile?j?s().z7.BottomSheet:s().z7.SlideUp:s().z7.Popup,bottomSheetInitialState:"half",renderOrigin:t,buttonPopupStore:w,placementToOrigin:n(700250).UV.Bottom,onClick:o,render:e=>(0,p.jsx)(h,{parent:e,items:r,getKey:a,renderItem:l,selectedItem:c,onSelect:d,dontCloseParentOnSelect:u,mobileActionSheet:m,menuTitle:g,width:f,minWidth:y}),disabled:v,originGap:x,sameWidthAsOrigin:S})};function g(e,t,n,i,r,a,s,l){return{key:0,render:e=>(0,o.createElement)(u().A,{...e,key:t,topBorder:t>0}),items:e.map((e=>({key:i(e),render:t=>r({...t,value:e,key:i(e),selectedItem:a}),action:()=>{!function(e,t,n){t!==e&&n(e)}(e,a,s),l||n.close()}})))}}function h(e){let{parent:t,items:n,getKey:o,renderItem:s,selectedItem:u,onSelect:m,dontCloseParentOnSelect:h,mobileActionSheet:f,menuTitle:y,width:v,minWidth:x}=e;const C=(0,i().v3)(),{device:S}=C,b=[];if(function(e){return e.length>0&&e[0]instanceof Array}(n))n.forEach(((e,n)=>{const i=g(e,n,t,o,s,u,m,h);b.push(i)}));else{const e=g(n,0,t,o,s,u,m,h);b.push(e)}const w=(0,p.jsx)(c().Ay,{type:c().Oh.Vertical,initialFocus:r().SL(r().Bq(n),(e=>r().n4(e,u))),sections:b});let _;return _=S.isMobile?f?{menuType:a().gu.ActionSheet}:{menuType:a().gu.Modal,title:y,right:(0,p.jsx)(d().DoneMenuText,{}),onClickRight:t.close}:{menuType:a().gu.Popup,width:v||160,minWidth:x},(0,p.jsx)(l().A,{..._,children:w})}},947993:(e,t,n)=>{n.d(t,{Lq:()=>a,QG:()=>p,Uk:()=>c,_O:()=>s,de:()=>d,dn:()=>l,lK:()=>r,vY:()=>u});var o=()=>n(751735),i=()=>n(284371);const r=28,a=44,s=144,l=144,c=112;function d(e){let{theme:t,dominantColorFromIcon:n,height:i}=e;return{container:{position:"relative",width:s,height:i,display:"flex",justifyContent:"stretch"},coverAndIconContainer:{position:"relative",width:s,marginBottom:16},emptyGalleryCoverStyle:{border:"unset",background:n?(0,o().X4)(n,.1):t.home.cards.coverPhoto.base}}}const u={titleWrap:{width:"100%",minHeight:72,paddingTop:10,paddingBottom:12,paddingLeft:16,paddingRight:16,position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",gap:10,flexGrow:1},titleText:{fontWeight:i().Wy.medium,fontSize:i().J.UIRegular.desktop,lineHeight:"normal",width:"auto",whiteSpace:"pre-wrap",...(0,n(115512).pA)(2)}},p={position:"absolute",bottom:-r/2,left:16,width:r,height:r,display:"flex",justifyContent:"flex-start"}},954933:(e,t,n)=>{n.d(t,{v:()=>c});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=(n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),()=>n(406792));const s=new Set;const l=new Set;function c(e){let{firstMountToReadyMetricName:t,pageOriginToReadyMetricName:n,isReady:c,homeType:d}=e;const u=(0,i().v3)();function p(e){return{environment:u,...e.startsWith("feed.")?{home_type:d}:{}}}const m=function(e,t){const n=(0,o.useMemo)((()=>a().default.DO_NOT_USE_markLegacy(e)),[e]),i=(0,o.useRef)(t);return(0,o.useEffect)((()=>{i.current=t}),[t]),(0,o.useCallback)((()=>{s.has(e)||(s.add(e),a().default.DO_NOT_USE_measureLegacy(n,i.current))}),[n,e])}(t,p(t)),g=function(e,t){const n=(0,o.useRef)(t);return(0,o.useEffect)((()=>{n.current=t}),[t]),(0,o.useCallback)((()=>{l.has(e)||(l.add(e),a().default.DO_NOT_USE_measureFromPageOriginLegacy(e,n.current))}),[e])}(n,p(n)),h=(0,r().K8)((()=>"personal"===d?function(e){const{route:t,initialRoute:n,historyState:o}=e.RouterStore.state;if("page"!==t.name)return!1;switch(n.name){case"root":return 1===(null==o?void 0:o.index);case"page":return n.blockId===t.blockId&&0===(null==o?void 0:o.index);default:return!1}}(u):function(e){const{route:t,initialRoute:n,historyState:o}=e.RouterStore.state;if("team"!==t.name)return!1;switch(n.name){case"root":return 1===(null==o?void 0:o.index);case"team":return n.teamId===t.teamId&&0===(null==o?void 0:o.index);default:return!1}}(u)),[u,d]);(0,o.useEffect)((()=>{h&&c&&(m(),g())}),[c,m,g,h])}},978625:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var o=()=>n(484714),i=()=>n(284371),r=()=>n(946548),a=()=>n(297401),s=n(474848);const l=function(e){const{disabled:t,label:i,title:r,onClick:a,isToggle:l,isToggleActive:u,onClickClear:p,...m}=e,g=(0,n(401497).DP)(),h=(0,o().v3)(),f=function(e){return{menuItemLabel:{color:e.text.tertiary}}}(g),y=c(h),v=(0,s.jsx)("span",{style:f.menuItemLabel,children:i});return(0,s.jsx)(n(760217).A,{focused:!1,...m,inline:l,disabled:t,icon:v,title:r,right:(0,s.jsx)(d,{disabled:Boolean(t),isToggle:Boolean(l),isToggleActive:Boolean(u),onClick:a,onClickClear:p}),onClick:a,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:y.menuItem,desktopIconStyle:y.menuItemLabel})};function c(e){return{menuItem:{background:void 0,minHeight:void 0,fontSize:e.device.isMobile?i().J.UISmall.mobile:i().J.UIRegular.desktop,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}function d(e){let{disabled:t,isToggle:n,isToggleActive:i,onClick:l,onClickClear:d=(()=>{})}=e;const u=c((0,o().v3)()).rightWrapper;return n?(0,s.jsx)("div",{style:u,children:(0,s.jsx)(r().A,{on:Boolean(i),onClick:l})}):(0,s.jsx)(a().A,{disabled:t,onClick:d})}},980151:(e,t,n)=>{n.d(t,{WO:()=>u,_V:()=>p,hK:()=>m});var o=()=>n(869558),i=()=>n(854150),r=()=>n(751156),a=()=>n(559102),s=()=>n(100875),l=()=>n(162674),c=()=>n(710857),d=()=>n(351360);function u(e){const{environment:t,currentSpaceViewStore:n,...o}=e;if(!n.getModel())return;const i=!(0,c().x)(n)[e.feature];r().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{r().applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:i}},transaction:t})}}),(0,l().f_)({environment:t,show:i,...o})}function p(e){let{environment:t,option:n,from:o,userAction:i}=e;const a=d().default.state.currentSpaceViewStore;if(!a)return!1;const c=a.getOnAppStartStore().getValue();return r().createAndCommit({userAction:i,environment:t,canUndo:!0,perform:e=>{r().applyOperation({store:a,operation:{pointer:a.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,s().cq)({spaceView:a.getModel(),preference:n}),(0,l().lr)({environment:t,oldValue:c,newValue:n,from:o}),!0}function m(e){const{environment:t,selectedStore:n,currentSpaceViewStore:s,collectionContextStore:c}=e,d=c.collectionViewStore(),u=c.collectionStore(),p=c.collectionViewBlockStore();if(!(u&&d&&p&&s))return;const m=s.getTeamsStores(),g=n.table===i().yK?m.indexOf(n)+1:0,h=n.table===i().yK?n.id:void 0;r().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{r().applyOperation({store:d,operation:{pointer:{id:d.id,table:o().Gy},path:["format","collection_view_source","teamId"],command:"set",args:h},transaction:e}),(0,a().d)({environment:t,collectionViewBlockStore:p,collectionViewStore:d,collectionStore:u,collectionContextStore:c,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0})}}),(0,l().AP)({environment:t,teamId:h,index:g})}}}]);