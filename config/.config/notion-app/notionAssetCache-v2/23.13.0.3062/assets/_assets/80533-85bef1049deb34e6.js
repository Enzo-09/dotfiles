"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[80533],{30731:(e,t,i)=>{i.d(t,{BI:()=>c,ES:()=>m,Em:()=>a,Hl:()=>g,Ht:()=>p,Tq:()=>r,jO:()=>h,qC:()=>u,r6:()=>l,y2:()=>d});var n=()=>i(869190),o=()=>i(604995),s=()=>i(416504);function r(e,t){return(0,n().eV)({value:o().C6.notionDateTimeToLuxon(e,t.locale),preset:"short"})}function a(e,t){return(0,n().eV)({value:o().C6.notionDateTimeToLuxon(e,t.locale),preset:"time"})}function l(e,t){return o().C6.notionDateTimeToLuxon(e,t.locale).toFormat(o().k8)}function d(e,t){let i={starting:void 0,ending:void 0};var n,o,r,a;if(t.starting&&t.ending)i={starting:{type:"datetime",start_time:"",start_date:t.starting.start_date,time_zone:""},ending:{type:"datetime",start_time:"",start_date:t.ending.start_date,time_zone:""}},null!==(n=e.starting)&&void 0!==n&&n.start_time&&null!==(o=e.starting)&&void 0!==o&&o.time_zone&&(i.starting={...i.starting,start_time:e.starting.start_time,time_zone:e.starting.time_zone}),null!==(r=e.ending)&&void 0!==r&&r.start_time&&null!==(a=e.ending)&&void 0!==a&&a.time_zone?i.ending={...i.ending,start_time:e.ending.start_time,time_zone:e.ending.time_zone}:i={starting:{...i.starting,start_time:"00:00",time_zone:(0,s().P)()},ending:{...i.ending,start_time:"23:59",time_zone:(0,s().P)()}};else if(t.starting){var l,d;i=null!==(l=e.starting)&&void 0!==l&&l.start_time&&null!==(d=e.starting)&&void 0!==d&&d.time_zone?{starting:{type:"datetime",start_date:t.starting.start_date,start_time:e.starting.start_time,time_zone:e.starting.time_zone},ending:e.ending}:{starting:{type:"datetime",start_date:t.starting.start_date,start_time:"00:00",time_zone:(0,s().P)()},ending:e.ending}}else if(t.ending){var c,u;i=null!==(c=e.ending)&&void 0!==c&&c.start_time&&null!==(u=e.ending)&&void 0!==u&&u.time_zone?{ending:{type:"datetime",start_date:t.ending.start_date,start_time:e.ending.start_time,time_zone:e.ending.time_zone},starting:e.starting}:{ending:{type:"datetime",start_date:t.ending.start_date,start_time:"23:59",time_zone:(0,s().P)()},starting:e.starting}}else i={starting:e.starting,ending:e.ending};return i}function c(e){return e.starting&&e.ending?{starting:{type:"date",start_date:e.starting.start_date},ending:{type:"date",start_date:e.ending.start_date}}:e.starting?{starting:{type:"date",start_date:e.starting.start_date}}:e.ending?{ending:{type:"date",start_date:e.ending.start_date}}:{}}function u(e){if(e)return{type:"date",start_date:e.start_date}}function p(e){return`${e.actorType}:${e.actorId}`}function g(e){const t=e.split(":");if(2===t.length)return"bot"===t[0]?{actorId:t[1],actorType:"bot"}:"notion_user"===t[0]?{actorId:t[1],actorType:"notion_user"}:void 0}function m(e){return{starting:e.starting?{type:"date",start_date:e.starting.start_date}:void 0,ending:e.ending?{type:"date",start_date:e.ending.start_date}:void 0}}function h(e){return void 0===e.starting&&void 0===e.ending}},37625:(e,t,i)=>{i.d(t,{Ay:()=>T});i(898992),i(354520),i(581454);var n=i(296540),o=()=>i(484714),s=()=>i(847249),r=()=>i(401497),a=()=>i(668725),l=()=>i(959013),d=()=>i(972435),c=()=>i(722872),u=()=>i(37433),p=()=>i(632709),g=()=>i(848237),m=()=>i(898808),h=()=>i(452558),x=()=>i(493823),f=()=>i(760217),v=()=>i(406699),y=()=>i(419357),b=()=>i(928600),S=()=>i(89924),w=()=>i(125565),C=i(474848);function M(e){let{teamsForMember:t,shouldHideTeamMemberCount:i}=e;const n=(0,r().IS)((e=>({button:{marginRight:8},noTeams:{marginRight:8,color:e.text.tertiary},chevron:{width:10,marginLeft:4,fill:e.lightIconColor}})),[]),o=t.length;return(0,C.jsx)(v().Ay,{popupType:v().z7.Popup,renderOrigin:e=>(0,C.jsx)(x().p,{disabled:0===o,style:0===o?n.noTeams:n.button,...e,children:0===o?(0,C.jsx)(l().sA,{id:"teamsDropdownForMember.teamsCountNone.label",defaultMessage:"No access"}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l().sA,{id:"teamsDropdownForMember.teamsCount.label",defaultMessage:"{numberOfTeams, plural, one {{numberOfTeams} teamspace} other {{numberOfTeams} teamspaces}}",values:{numberOfTeams:o}}),(0,a().b)(n.chevron)]})}),render:()=>(0,C.jsx)(I,{teamStores:t,shouldHideTeamMemberCount:i})})}const j=(0,l().YK)({filterTeams:{defaultMessage:"Filter teamspacesâ€¦",id:"teamsDropdownForMember.filterForTeams.placeholder"}});function I(e){const{shouldHideTeamMemberCount:t}=e,i=(0,o().v3)(),a=(0,r().IS)((()=>({teamMenuItem:{fontWeight:400,maxWidth:180}})),[]),[x,v]=(0,n.useState)(""),M=(0,n.useCallback)((e=>g().F2({environment:i,teamId:e,tab:p().p.Members,from:"teams_dropdown_for_team_member"})),[i]),I=(0,s().K8)((()=>[{key:"teams for member",render:e=>(0,C.jsx)(S().A,{...e}),actions:e.teamStores.map((e=>{const i={key:e.id,displayName:e.getName(),analyticsName:e.getName()||"team_unknown",searchName:e.getName(),render:i=>{var n;return(0,C.jsx)(f().A,{icon:(0,C.jsx)(m().x,{disabled:!0,store:e}),title:(0,C.jsx)(w().A,{style:a.teamMenuItem,children:e.getName()}),caption:t?void 0:(0,C.jsx)(l().sA,{defaultMessage:"{numMembers} {numMembers, plural, one {member} other {members}}",id:"teamsDropdownForMember.numMembers",values:{numMembers:(null===(n=(0,u().getTeamMemberCountAndSampleUserIds)(e))||void 0===n?void 0:n.memberCountWithGuests)??0}}),inline:!0,...i})},action:()=>{M(e.id)},closeParentMenu:!1};return i}))}]),[e.teamStores,a.teamMenuItem,M,t]),T=x,A=(0,C.jsx)(S().A,{isInput:!0,children:(0,C.jsx)(y().Ay,{value:T,onChange:(0,n.useCallback)((e=>{v(e.target.value)}),[]),focus:!0,focusAfterAnimation:!0,placeholder:d().A.formatMessage(j.filterTeams)})}),k={menuType:c().gu.Popup,maxWidth:350,maxHeight:300,header:e.teamStores.length>5?A:void 0};return(0,C.jsx)(b().A,{...k,children:(0,C.jsx)(h().A,{filter:T,context:{blocks:[],environment:i,publicEditMode:void 0},initialFocus:0,sections:I})})}const T=function(e){const t=(0,u().useTeamsFromCache)(),i=(0,s().K8)((()=>e.teamStores??t),[e.teamStores,t]),n=(0,s().K8)((()=>i.filter((t=>t.isMemberOrGuest(e.memberId,e.userPermissionGroupIds)))),[i,e.memberId,e.userPermissionGroupIds]);return(0,C.jsx)(M,{teamsForMember:n})}},75491:(e,t,i)=>{i.d(t,{ED:()=>f,Kb:()=>y});i(296540);var n=()=>i(847249),o=()=>i(401497),s=()=>i(668725),r=()=>i(722872),a=()=>i(463830),l=()=>i(406699),d=()=>i(928600),c=()=>i(939740),u=()=>i(897119),p=()=>i(89924),g=()=>i(125565),m=()=>i(493823),h=()=>i(566468),x=i(474848);function f(e){let{title:t,items:i,disabled:s,hideDropdownIcon:g,itemMaxWidth:m,itemMinWidth:h,...f}=e;const y=(0,n().uB)(void 0,a().A),b=(0,o().IS)((()=>({container:{minWidth:180}})),[]),S={key:"workspace-users-menu",render:e=>(0,x.jsx)(p().A,{...e}),items:i};return(0,x.jsx)(l().Ay,{popupType:u().nl.Popup,style:b.container,buttonPopupStore:y,disabled:s,renderOrigin:e=>(0,x.jsx)(v,{title:t,hideDropdownIcon:g,disabled:s,styles:f.styles,...e}),render:()=>(0,x.jsx)(d().A,{menuType:r().gu.Popup,maxWidth:m??250,minWidth:h,children:(0,x.jsx)(c().Ay,{type:c().Oh.Vertical,initialFocus:0,sections:[S],onAccept:()=>{y.setState({open:!1})}})})})}function v(e){let{title:t,hideDropdownIcon:i,disabled:n,...r}=e;const a=(0,o().IS)((e=>({container:{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",maxWidth:"100%",...r.styles},chevron:{width:10,height:10,marginLeft:4,color:e.lightIconColor}})),[r.styles]);return(0,x.jsxs)(m().p,{style:a.container,disabled:n,...r,children:[(0,x.jsx)(g().A,{showTooltipWhenTruncated:!0,children:t}),i||n?null:(0,s().b)(a.chevron)]})}function y(){const e=(0,o().IS)((()=>({title:{width:"50%"}})),[]);return(0,x.jsx)(h().mf,{titleStyles:e.title})}},91709:(e,t,i)=>{i.d(t,{Dd:()=>Me,z_:()=>je,_3:()=>Ie,Lw:()=>ze,uU:()=>Pe,UP:()=>ue,QF:()=>Ee,U6:()=>_e,M0:()=>Re,s6:()=>we,AO:()=>Ne,IG:()=>fe,P_:()=>pe,aC:()=>De,X:()=>Be,Sg:()=>ve,id:()=>ke,li:()=>Se,Ss:()=>he});i(898992),i(354520),i(672577),i(430670),i(581454),i(296540);var n=()=>i(700500),o=()=>i(857639),s=()=>i(416504),r=()=>i(416845),a=()=>i(763884),l=()=>i(386164),d=()=>i(179034),c=()=>i(519831),u=()=>i(946064),p=()=>i(96689),g=()=>i(798880),m=()=>i(959013),h=()=>i(496603),x=()=>i(763824),f=()=>i(534177),v=()=>i(583835);const y=(0,v().Dv)("exportAdminContentSearch"),b=(0,v().Dv)("exportAuditLog"),S=(0,v().Dv)("exportBlock"),w=(0,v().Dv)("exportContentAnalytics"),C=(0,v().Dv)("exportDomainClaimableSpaces"),M=(0,v().Dv)("exportDomainClaimableSpacesForOrganization"),j=(0,v().Dv)("exportLegalHoldContentSummary"),I=(0,v().Dv)("exportSpace"),T=(0,v().Dv)("exportUserAnalytics");var A=()=>i(30731),k=()=>i(847249),P=()=>i(250064),_=()=>i(802790),R=i(474848);const L={fontWeight:i(284371).Wy.semibold};const D=function(e){let{exportProgressStore:t,disabledExportTeamNames:n}=e;const{messageStyle:o,spinnerContainerStyle:s}=(0,i(401497).IS)((e=>({messageStyle:{fontSize:14,color:e.text.secondary,textAlign:"center"},spinnerContainerStyle:{marginTop:24,marginBottom:24,display:"flex",justifyContent:"center"}})),[]);return(0,R.jsxs)("div",{style:o,children:[(0,R.jsx)("div",{style:s,children:(0,R.jsx)(i(331542).A,{})}),(0,R.jsx)(B,{exportProgressStore:t}),(0,R.jsx)(z,{exportProgressStore:t}),(0,R.jsx)(E,{disabledExportTeamNames:n})]})};function E(e){let{disabledExportTeamNames:t}=e;return t.length>0?(0,R.jsxs)("span",{children:[(0,R.jsx)(_().A,{size:10}),(0,R.jsx)("p",{children:(0,R.jsx)(m().sA,{id:"exportActions.exportDisabledTeams.message",defaultMessage:"Export is disabled for the following teamspaces: <b>{teamNames}</b>",values:{teamNames:(0,P().l)(t),b:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,R.jsx)("span",{style:L,children:t})}}})})]}):null}function z(e){let{exportProgressStore:t}=e;return(0,k().K8)((()=>t.state.targetEmailAddress),[t])?(0,R.jsx)("p",{children:(0,R.jsx)(m().sA,{id:"exportProgressDialog.emailMessage",defaultMessage:"We'll also send you an email with the download link."})}):null}function B(e){let{exportProgressStore:t}=e;const i=(0,k().K8)((()=>t.state.pagesExported),[t]);return i>0?(0,R.jsx)("p",{children:(0,R.jsx)(m().sA,{id:"exportProgressDialog.exportedPagesMessage",defaultMessage:"{pagesExported, plural, one {{pagesExported} page exported} other {{pagesExported} pages exported}}",values:{pagesExported:i}})}):(0,R.jsx)("p",{children:(0,R.jsx)(m().sA,{id:"exportProgressDialog.exportStartedMessage",defaultMessage:"Exportingâ€¦"})})}var N=()=>i(878377),O=()=>i(638146),U=()=>i(898486),W=()=>i(972435),F=()=>i(71304),H=()=>i(544019),V=()=>i(351360),G=()=>i(605402),K=()=>i(21735),$=()=>i(508496),q=()=>i(436529);class Y extends(()=>i(757695))().default{getInitialState(){return{pagesExported:0}}}const X=Y;var Q=()=>i(630116),Z=()=>i(870092),J=()=>i(134217),ee=()=>i(749240),te=()=>i(701763),ie=()=>i(989423);function ne(e,t){ie().vd(e,"export",t)}function oe(e,t){ie().vd(e,"export_failed",t)}var se=()=>i(449506),re=()=>i(901389),ae=()=>i(235116),le=()=>i(357625),de=()=>i(496414);const ce=(0,m().YK)({exporting:{id:"exportActions.exporting.loadingMessage",defaultMessage:"Exporting"},exportAuditLogEmail:{id:"exportActions.auditLog.exporting.EmailMessage",defaultMessage:"Your CSV export is currently being generated. The generated CSV has a 2-hour delay from the real time audit log. Once it is ready, an email will be sent to you with the download link."},exportCSVEmail:{id:"exportActions.exportingCSV.EmailMessage",defaultMessage:"Your CSV export is currently being generated. Once it is ready, an email will be sent to you with the download link."},exportFailed:{id:"exportActions.exportFailedError.message",defaultMessage:"Export failed."},workspaceOwnerMessage:{defaultMessage:"Workspace owner",id:"export.userPermissionsRole.workspaceOwner.message"},memberMessage:{defaultMessage:"Member",id:"export.userPermissionsRole.member.message"},membershipAdminMessage:{defaultMessage:"Membership admin",id:"export.userPermissionsRole.membershipAdmin.message"},guestMessage:{defaultMessage:"Guest",id:"export.userPermissionsRole.guest.message"},idMessage:{defaultMessage:"ID",id:"export.csvHeader.id"},emailMessage:{defaultMessage:"Email",id:"export.csvHeader.email"},nameMessage:{defaultMessage:"Name",id:"export.csvHeader.name"},roleMessage:{defaultMessage:"Role",id:"export.csvHeader.role"},permissionGroupsMessage:{defaultMessage:"Permission groups",id:"export.csvHeader.permissionGroups"},pagesMessage:{defaultMessage:"Pages",id:"export.csvHeader.pages"},partitionMessage:{defaultMessage:"Export is still in progress due to file size. We will send you an email about its progress.",id:"export.exportPartitioned.message"},privatePageMessage:{defaultMessage:"Private page",id:"export.privatePageTitle.message"},pageTitleAndIdMessage:{defaultMessage:"{pageTitle} ({pageId})",id:"export.pageTitleAndId.message"},pageSeparatorMessage:{defaultMessage:", ",id:"export.pageSeparator.message"}});async function ue(e,t){if(!Ce({environment:e,...t}))return void oe(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});const{currentUserStore:i}=V().default.state;if(!i)return void oe(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});const n=i.getEmail();if(!n)return void oe(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});ne(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive}),"currentView"===t.exportOptions.collectionViewExportType&&(t.exportOptions.preferredViewMap=me(i.id));const o=(0,le().UT)(e,S,t,{spaceId:t.block.spaceId}),s=V().default.state.currentSpaceStore;await ge(e,o,t.recursive,n,null==s?void 0:s.id)}async function pe(e,t,i,n){if(!Ce({environment:e,recursive:!0,exportOptions:t.exportOptions,isOrgConsole:void 0!==i}))return void oe(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});const{currentUserStore:o}=V().default.state;if(!o)return void oe(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});const s=o.getEmail();if(!s)return void oe(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});ne(e,{target:"space",format:t.exportOptions.exportType,recursive:!0}),"currentView"===t.exportOptions.collectionViewExportType&&(t.exportOptions.preferredViewMap=me(o.id));const r=(0,le().UT)(e,I,t);await ge(e,r,!0,s,t.spaceId,n)}async function ge(e,t,i,n,o,s){const{currentSpaceViewStore:r}=V().default.state;if(!r&&!s)return;const a=new X;a.setState({pagesExported:0,targetEmailAddress:n});let l,d=!1;const c=((null==r?void 0:r.getTeamsStores())||s)??[],u=null==c?void 0:c.filter((e=>e.getSetting("disable_export"))).flatMap((e=>e.getName()||[]));if(i){const t=u.length>0?6e3:1250;l=(0,x().wR)(t);const i={exportProgressStore:a,disabledExportTeamNames:u};re().ui({message:(0,R.jsx)(D,{...i}),showCancel:!1,keepFocus:!0,disableBackgroundDismiss:!0,items:[{label:(0,R.jsx)(m().sA,{id:"exportProgressDialog.closeButton.label",defaultMessage:"Close"}),onAccept:()=>{Be({environment:e,spaceId:o}),d=!0}}]})}else l=Promise.resolve(),de().m({message:ce.exporting});for await(const p of t){if(d)return;if(p.error)return de().V(),void re().f1(W().A.formatMessage(ce.exportFailed));{const{value:t}=p;if("complete"===t.type||"partition"===t.type)return await l,de().V(),void("complete"===t.type?(re().zw(),!d&&t.exportURL&&ae().I5(e,t.exportURL)):re().rG({message:W().A.formatMessage(ce.partitionMessage)}));a.setState({...a.state,pagesExported:t.pagesExported})}}}function me(e){const t={};return a().K.scan(((i,n)=>{if(i.includes(O().Ie)&&i.includes(e)){const e=i.split(O().Ie)[1];e&&n&&(t[e]=n)}})),t}function he(e){const{root:t,environment:i,isCollectionViewExportTypeSupported:n}=e,o=i.currentUser.id,r=Ae(o),a=r&&r.exportType||"markdown",l=n?"currentView":void 0,d="pdf"===a?{exportType:"pdf",timeZone:(0,s().P)(),pdfFormat:ke(o),locale:"en",collectionViewExportType:l}:{exportType:a,timeZone:(0,s().P)(),locale:"en",collectionViewExportType:l};je(i,{open:!0,root:t,recursive:"space"===t.table,exportOptions:d,shouldExportComments:!1})}function xe(e,t){switch(t){case"editor":return e.formatMessage(ce.workspaceOwnerMessage);case"membership_admin":return e.formatMessage(ce.membershipAdminMessage);case"read_and_write":return e.formatMessage(ce.memberMessage);case"none":return e.formatMessage(ce.guestMessage);default:return o().log({level:"error",from:"exportActions",type:"roleNotFound",data:{miscDataToConvertToString:{role:t}}}),""}}async function fe(e,t){const{spaceStore:i,subscriptionData:n,intl:o}=t;await se().callApi({eventName:"exportSpaceMembers",environment:e,data:{spaceId:i.getSpaceId()}});const s=n.users.map((e=>e.userId)),r=await se().callApi({eventName:"getSpacePermissionGroupIdsContainingMembers",environment:e,data:{spaceId:i.getSpaceId(),userIds:s},headers:(0,l().WS)({cellId:void 0,spaceId:i.getSpaceId()})}),a={};if("success"===r.type)for(const[l,d]of Object.entries(r.data.userToGroupMap)){const e=(d||[]).map((e=>G().A.state.permissionGroupsAndMemberCounts.find((t=>t.group.group_id===e)))),t=h().oE(e).map((e=>e.group.name)).sort().join(",");a[l]=t}await ve(i,n.users,a,o)}async function ve(e,t,i,n){const o=$().default.checkGate({gateName:"dont_load_users"})?[]:h().oE(await x().lX(t,40,(async t=>{const o=Z().L.createChildStore(e,{table:g().oo,id:t.userId});await o.waitUntil((()=>o.isReady()));const s=o.getEmail(),r=o.getFullName(n);if(s||r)return[s||"",r||"",xe(n,t.role),i[t.userId]||"",o.id]})));ye(be([[ce.emailMessage,ce.nameMessage,ce.roleMessage,ce.permissionGroupsMessage,ce.idMessage].map((e=>n.formatMessage(e))),...o]),"members.csv")}function ye(e,t){const i=document.createElement("a");i.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(e)}`),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function be(e){return e.map((e=>e.map((e=>((e=e.replace(/"/g,'""')).search(/("|,|\n)/g)>=0&&(e=`"${e}"`),e))).join(","))).join("\n")}async function Se(e){let{spaceStore:t,intl:i,environment:n}=e;const o=ee().subscriptionDataStoreInstance.state;if(void 0===o||"subscribed_admin"!==o.type)return;let s=[];if(K().A.state.shouldUseEdgeCache){const e=await se().callApi({eventName:"listUsers",environment:n,data:{cursor:void 0,membershipFilter:"guests",limit:1e4,sort:"name_normalized",sortDirection:"asc",query:"",spaceId:t.id}});if("success"!==e.type)return void re().rG({message:W().A.formatMessage(ce.exportFailed)});const i=e.data.users,o=await se().callApi({eventName:"getGuestPagesForUserIds",environment:n,data:{spaceId:t.id,guestUserIds:i.map((e=>e.id))},headers:(0,l().WS)({cellId:void 0,spaceId:t.id})});if("success"!==o.type)return void re().rG({message:W().A.formatMessage(ce.exportFailed)});s=i.map((e=>({userId:e.id,role:"none",guestPageIds:o.data.guestIdToPages[e.id].pageIds,isPageGuest:!0,isTeamGuest:!1})))}else s=(0,J().oe)(o);we(n,{intl:i,spaceStore:t,guests:s})}async function we(e,t){let{guests:i,intl:o,spaceStore:s}=t;await se().callApi({eventName:"exportSpaceGuests",environment:e,data:{spaceId:s.getSpaceId()}});const r=o.formatMessage(ce.pageSeparatorMessage),a=h().oE(await Promise.all(i.map((async t=>{const i=Z().L.createChildStore(s,{table:g().oo,id:t.userId});async function a(t){const i=Q().Bv.createChildStore(s.getPagesStore(),{table:d().ev,id:t});if(await i.load(),i.isCollectionView()){const e=i.getCollectionPointer();if(e){const t=Q().md.createChildStore(s,{table:c().Vl,id:e.id});t&&await t.load()}}else if(i.getType()===n().xd.alias){const e=i.getAliasTargetStore();e&&await e.load()}return(0,F().Qe)(i,o,e,!1)??o.formatMessage(ce.privatePageMessage)}const[,...l]=await Promise.all([i.load(),...t.guestPageIds.map((e=>async function(e){return o.formatMessage(ce.pageTitleAndIdMessage,{pageId:e,pageTitle:await a(e)})}(e)))]),u=i.getEmail(),p=i.getFullName(o);if(u||p)return[u||"",p||"",l.join(r),i.id]})))),l=[[ce.emailMessage,ce.nameMessage,ce.pagesMessage,ce.idMessage].map((e=>o.formatMessage(e))),...a];ye(be(l),"guests.csv"),te().Is(e,{line_count:l.length})}function Ce(e){const t="pdf"===e.exportOptions.exportType&&e.recursive;return!!e.isOrgConsole||(!t||Me(e.environment))}function Me(e){return(0,J().n)(e,"enterprise")||(0,J().n)(e,"business")||N().hfc()}function je(e,t){const i=q().Ay.state,n=e.currentUser.id;let o=t;if(q().xt(o)&&!Me(e))if("space"===o.root.table){const e=i.open&&!q().xt(i)?i.exportOptions.exportType:"html";o={...o,exportOptions:{...o.exportOptions,exportType:e}}}else o={...o,recursive:!1};if(!Ce({environment:e,...o}))throw new(r().Umn)("Invalid export options",{data:o});q().Ay.setState(o),function(e){const t=q().Ay.state;if(t.open){const i={...Ae(e),exportType:t.exportOptions.exportType};"pdf"===t.exportOptions.exportType&&(i.pdfFormat=t.exportOptions.pdfFormat),a().K.set({userId:e,key:Te,value:i})}}(n)}function Ie(){q().Ay.setState({open:!1,shouldExportComments:!1})}const Te="ExportSettings";function Ae(e){return a().K.get({userId:e,key:Te})}function ke(e){const t=Ae(e);return t&&t.pdfFormat||q().N4()}async function Pe(e,t){const{currentUserStore:i}=V().default.state,{targetPointer:n}=t;if(!i)return o().log({level:"error",from:"exportActions",type:"exportAuditLogCSV-currentUserStoreNotFound",data:{miscDataToConvertToString:{targetPointer:n}}}),re().rG({message:W().A.formatMessage(ce.exportFailed)}),void oe(e,{target:"auditLog",format:"csv",recursive:!1});if(!i.isDefined())return o().log({level:"error",from:"exportActions",type:"exportAuditLogCSV-currentUserValueNotFound",data:{miscDataToConvertToString:{targetPointer:n}}}),re().rG({message:W().A.formatMessage(ce.exportFailed)}),void oe(e,{target:"auditLog",format:"csv",recursive:!1});let s;ne(e,{target:"auditLog",format:"csv",recursive:!1}),n.table===p().NX?s=(0,le().UT)(e,b,{spaceId:n.id,exportOptions:t.exportOptions}):n.table===u().y7?s=(0,le().UT)(e,b,{organizationId:n.id,exportOptions:t.exportOptions}):(0,f().HB)(n),await Le(s,ce.exportAuditLogEmail)}async function _e(e){const{environment:t,data:i}=e;ne(t,{target:"domainClaimableSpaces",format:"csv",recursive:!1});const n=(0,le().UT)(t,C,i);await Le(n,ce.exportCSVEmail)}async function Re(e){const{environment:t,data:i}=e;ne(t,{target:"domainClaimableSpaces",format:"csv",recursive:!1});const n=(0,le().UT)(t,M,i);await Le(n,ce.exportCSVEmail)}async function Le(e,t){const i=await e.next();if(i.value.error){const e=(0,U().A)(W().A.getIntl(),i.value.error);re().f1(e)}else re().rG({message:W().A.formatMessage(t)})}async function De(e,t){ne(e,{target:"userAnalytics",format:"csv",recursive:!1});const i=(0,le().UT)(e,T,t);await Le(i,ce.exportCSVEmail)}async function Ee(e,t){ne(e,{target:"contentAnalytics",format:"csv",recursive:!1});const i=(0,le().UT)(e,w,t);await Le(i,ce.exportCSVEmail)}async function ze(e,t){ne(e,{target:"adminContentSearchAnalytics",format:"csv",recursive:!1});const i=(0,le().UT)(e,y,{spaceId:t.spaceId,organizationId:t.organizationId,sort:{field:"relevance",direction:"desc"},query:t.filters.query,audience:t.filters.audience,lastEditedTime:(0,A().ES)(t.filters.lastEditedTime),createdTime:(0,A().ES)(t.filters.createdTime),createdBy:t.filters.createdBy,sharedWith:t.filters.sharedWith,teamspaceIds:t.filters.teamIds,deletionStatuses:t.filters.pageStatus});await Le(i,ce.exportCSVEmail)}async function Be(e){let{environment:t,spaceId:i}=e;if(!i)return;const n=await se().callApi({eventName:"getActiveExportTasks",environment:t,data:{spaceId:i}});var o;"success"===n.type&&H().A.setState({count:n.data.length,exportedPageCount:null===(o=n.data[0])||void 0===o?void 0:o.exportedPageCount})}async function Ne(e,t){ne(e,{target:"legalHoldContentSummary",format:"csv",recursive:!1});const i=(0,le().UT)(e,j,{spaceId:t.spaceId,legalHoldId:t.legalHoldId,teamIds:t.teamIds,userIds:t.userIds,blockIds:t.blockIds,query:t.query});await Le(i,ce.exportCSVEmail)}},126158:(e,t,i)=>{i.d(t,{m:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,n.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},132813:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().default{getInitialState(){return{disablePublicAccess:!1,disableGuests:!1,disableMoveToSpace:!1,disableExport:!1,disableSpacePageEdits:!1,disablePublicAccessRequests:!1,disableTeamCreation:!1,disableMembershipRequests:!1,disableExternalMembershipRequests:!1,disableGuestMembershipRequests:!1,disableMemberUpgradeRequests:!1,enableGuestInviteRequests:!1,disableTeamGuests:!1,disableGuestsModalOpen:!1,enableAiTraining:!1,zeroRetentionEnabled:!1}}getValueForSpace(e){if(e.isDefined())return{disablePublicAccess:Boolean(e.getDisablePublicAccess()),disableGuests:Boolean(e.getDisableGuests()),disableMoveToSpace:Boolean(e.getDisableMoveToSpace()),disableExport:Boolean(e.getDisableExport()),disableSpacePageEdits:Boolean(e.getDisableSpacePageEdits()),disablePublicAccessRequests:Boolean(e.getDisablePublicAccessRequests()),disableTeamCreation:Boolean(e.getDisableTeamCreation()),disableMembershipRequests:Boolean(e.getSetting("disable_membership_requests")),disableExternalMembershipRequests:Boolean(e.getSetting("disable_external_membership_requests")),disableGuestMembershipRequests:Boolean(e.getSetting("disable_guest_membership_requests")),enableGuestInviteRequests:Boolean(e.getSetting("enable_guest_invite_requests")),disableTeamGuests:Boolean(e.getSetting("disable_team_guests")),enableAiTraining:Boolean(e.getSetting("enable_ai_training")),zeroRetentionEnabled:Boolean(e.getSetting("zero_retention_enabled")),disableMemberUpgradeRequests:Boolean(e.getSetting("disable_member_upgrade_requests"))}}}const o=n},236527:(e,t,i)=>{i.d(t,{_:()=>p,a:()=>g});i(296540);var n=()=>i(847249),o=()=>i(401497),s=()=>i(798880),r=()=>i(959013),a=()=>i(351360),l=()=>i(630116),d=()=>i(566468),c=()=>i(453697),u=i(474848);function p(e){let{userId:t}=e;const i=(0,r().tz)(),p=(0,o().IS)((e=>({iconStyle:{color:e.text.tertiary,fontWeight:500}})),[]),m=(0,n().K8)((()=>{const e=a().default.state.currentSpaceStore;if(!e)return;const n=l().LU.createChildStore(e,{table:s().oo,id:t});return{userStore:n,isReady:n.isReady(),userName:n.getDisplayName(i),userEmail:n.getEmail()}}),[t,i]);return null!=m&&m.isReady?(0,u.jsx)(d().s7,{useThinTitle:!0,title:m.userName,byline:m.userEmail,icon:(0,u.jsx)(c().A,{size:28,userStore:m.userStore,iconStyle:p.iconStyle})}):(0,u.jsx)(g,{})}function g(e){const t=(0,o().IS)((()=>({icon:{borderRadius:"100%",height:e.iconSize??28,width:e.iconSize??28,marginLeft:-4}})),[e.iconSize]);return(0,u.jsx)(d().mf,{includeByline:!0,includeIcon:!0,iconStyles:t.icon})}},288864:(e,t,i)=>{i.d(t,{_:()=>a});i(296540);var n=()=>i(401497),o=()=>i(284371),s=()=>i(719147),r=i(474848);function a(e){let{href:t,external:i,onClick:a,children:l}=e;const d=(0,n().IS)((e=>({link:{color:e.icon.uiBluePrimary,fontWeight:o().Wy.medium}})),[]);return(0,r.jsx)(s().A,{disableUnderline:!0,href:t,external:i,onClick:a,color:d.link.color,hoverColor:"blue",style:d.link,children:l})}},301863:(e,t,i)=>{i.d(t,{$:()=>b});var n=i(296540),o=()=>i(847249),s=()=>i(401497),r=()=>i(584262),a=()=>i(921940),l=()=>i(416504),d=()=>i(663247),c=()=>i(980208),u=()=>i(179034),p=()=>i(959013),g=()=>i(284371),m=()=>i(554283),h=()=>i(351360),x=()=>i(148832),f=()=>i(404141),v=()=>i(719147),y=i(474848);function b(){const e=(0,p().tz)(),{collectionViewPageName:t,collectionViewPageURL:i}=(0,o().K8)((()=>{const t=h().default.state.currentSpaceStore;if(!t)return{collectionViewPageName:void 0,collectionViewPageURL:void 0};const i=t.id,n=(0,c().Pg)({spaceId:i}),o=x().B.createChildStore(t,{table:u().ev,id:n,spaceId:t.id}),s=null==o?void 0:o.getModel();if(!s)return{collectionViewPageName:void 0,collectionViewPageURL:void 0};const d=(0,a().A)({pageId:n,pageVisitSource:r().y8.WorkspaceSettingsPeopleSectionHeader});return{collectionViewPageName:s.getRenderTitle({getRecordModel:o.getRecordModel,userTimeZone:(0,l().P)(),intl:e}),collectionViewPageURL:d}}),[e]),b=(0,n.useCallback)((e=>{e.metaKey||f().A.setState({...f().A.state,open:!1})}),[]),[S,w]=(0,m().B)(),C=(0,s().IS)((e=>({icon:{width:16,height:16,fill:w?e.text.uiBluePrimary:e.text.secondary},textLink:{color:e.text.secondary,fontWeight:g().Wy.medium,fontSize:g().J.UISmall.desktop,display:"flex",alignItems:"center"}})),[w]);return(0,y.jsx)("div",{ref:S,children:(0,y.jsxs)(v().A,{onClick:b,href:i,disableUnderline:!0,style:C.textLink,hoverColor:"blue",children:[(0,y.jsx)("span",{children:(0,y.jsx)(p().sA,{id:"spacePermissionsSettings.people.common.managePeopleDirectoryLink",defaultMessage:"Manage {directoryName}",values:{directoryName:t}})}),(0,y.jsx)("span",{children:(0,d().arrowDiagonalUpRightFillIcon)(C.icon)})]})})}},397103:(e,t,i)=>{i.d(t,{h:()=>r});var n=()=>i(847249),o=()=>i(351360),s=()=>i(577437);function r(){var e;const{currentSpaceId:t,currentUserId:i}=(0,n().K8)((()=>{var e,t;return{currentSpaceId:null===(e=o().default.state.currentSpaceStore)||void 0===e?void 0:e.id,currentUserId:null===(t=o().default.state.currentUserStore)||void 0===t?void 0:t.id}}),[]),r=(0,s()._X)({name:"members",spaceId:t,userId:i,amount:"unknown"}),a=null==r||null===(e=r.limit)||void 0===e?void 0:e.total;return!!a&&("unlimited"===a||a>1)}},418884:(e,t,i)=>{i.d(t,{A:()=>r});i(296540),i(581454);function n(){return(navigator.languages?navigator.languages.map((e=>e.toLowerCase())):navigator.language?[navigator.language.toLowerCase()]:navigator.userLanguage?[navigator.userLanguage.toLowerCase()]:[]).map((e=>e.split("-")[0]))}const o=["ar","az","he","fa","ur"];var s=i(474848);const r=function(e){const{style:t,translations:i}=e,r=n();for(const n of r){const e=i[n];if(e){const i=o.includes(n);return(0,s.jsx)("div",{style:{...i&&{direction:"rtl"},...t},children:e})}}return null}},436529:(e,t,i)=>{i.d(t,{Ay:()=>l,N4:()=>r,xt:()=>s});var n=()=>i(662303);const o=["en","en-us","en-ca"];function s(e){return"pdf"===e.exportOptions.exportType}function r(){return o.includes(n().locale.toLowerCase())?"Letter":"A4"}class a extends(()=>i(757695))().default{getInitialState(){return{open:!1,shouldExportComments:!1}}}const l=new a},492666:(e,t,i)=>{i.d(t,{b:()=>s});var n=()=>i(989423),o=()=>i(508496);function s(e){n().vd(e,"workspace_invite_copy_link"),o().default.logEvent("workspace_invite_copy_link")}},497799:(e,t,i)=>{i.d(t,{H:()=>c});i(898992),i(823215),i(354520),i(581454);var n=()=>i(847249),o=()=>i(798880),s=()=>i(322769),r=()=>i(508496),a=()=>i(630116),l=()=>i(134217),d=()=>i(749240);function c(e){let{spaceStore:t}=e;return(0,n().K8)((()=>{const e=d().subscriptionDataStoreInstance.state;if(!e)return{loading:!0};if(r().default.checkGate({gateName:"dont_load_users"}))return{loading:!1,members:[],guests:[]};const i=l().Be(e);if(!i.every((e=>a().LU.createChildStore(t,{table:o().oo,id:e.userId}).isReady())))return{loading:!0};const n=i.filter(s().c7),c=i.filter(s().QE);return{loading:!1,members:n.map((e=>{let{userId:i}=e;return a().LU.createChildStore(t,{table:o().oo,id:i})})),guests:c.map((e=>{let{userId:i}=e;return a().LU.createChildStore(t,{table:o().oo,id:i})}))}}),[t])}},525884:(e,t,i)=>{i.d(t,{A:()=>s});i(296540);var n=i(474848);const o={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8.65 8.25a.625.625 0 1 0 0 1.25h.725v3.25H8.65a.625.625 0 1 0 0 1.25h2.7a.625.625 0 1 0 0-1.25h-.725V8.875A.625.625 0 0 0 10 8.25zM10.7 6.3a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},s=(0,i(340498).wt)("infoCircle",o)},544019:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().default{getInitialState(){return{count:0,exportedPageCount:0}}}const o=new n},566468:(e,t,i)=>{i.d(t,{Ji:()=>M,bd:()=>A,f0:()=>I,mf:()=>T,s7:()=>j});i(944114),i(296540);var n=()=>i(847249),o=()=>i(401497),s=()=>i(30626),r=()=>i(959013),a=()=>i(496603),l=()=>i(534177),d=()=>i(722872),c=()=>i(962730),u=()=>i(463830),p=()=>i(760217),g=()=>i(406699),m=()=>i(285790),h=()=>i(710149),x=()=>i(928600),f=()=>i(939740),v=()=>i(897119),y=()=>i(89924),b=()=>i(859428),S=()=>i(125565),w=i(474848);const C=20,M=12;function j(e){let{title:t,byline:i,icon:n,iconSize:o,iconMargin:s,useThinTitle:r,useSecondaryColorTitle:a,containerStyles:l,summaryStyles:d,rightContent:c,badge:u}=e;const p=I({icon:n,iconSize:o,iconMargin:s,useThinTitle:r,containerStyles:l,summaryStyles:d});return(0,w.jsxs)("div",{style:p.container,children:[n?(0,w.jsx)("div",{style:p.iconContainer,children:n}):null,(0,w.jsxs)("div",{style:p.summaryContainer,children:[(0,w.jsxs)("div",{style:p.nameContainer,children:[(0,w.jsx)(S().A,{style:p.name,isSecondaryColor:a,showTooltipWhenTruncated:!0,children:t}),u?(0,w.jsx)("div",{style:p.badge,children:u}):null]}),i?(0,w.jsx)(S().A,{style:p.byline,children:i}):null]}),c]})}function I(e){const{icon:t,iconSize:i,iconMargin:n,useThinTitle:s,containerStyles:r,summaryStyles:a}=e,l=n??M,d=t?i??C:0;return(0,o().IS)((e=>({container:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",...r},summaryContainer:{width:`calc(100% - ${d}px)`,...a},iconContainer:{height:d,width:d,flexGrow:0,flexShrink:0,flexBasis:d,marginRight:l,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},badge:{marginRight:8},nameContainer:{display:"flex",alignItems:"center",gap:6},name:{fontSize:14,fontWeight:s?400:500},byline:{fontSize:12,lineHeight:1.3,opacity:.5}})),[d,l,s,r,a])}function T(e){let{titleStyles:t,includeByline:i,bylineStyles:n,includeIcon:s,iconStyles:r,containerStyles:a}=e;const l=(0,o().IS)((()=>({container:{height:53,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",gap:8,...a},icon:{borderRadius:4,height:24,width:24,marginLeft:-2,...r},textContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",width:"calc(100% - 32px)",gap:4},title:{borderRadius:4,height:14,width:"80%",...t},byline:{borderRadius:4,height:12,width:"60%",...n}})),[a,t,n,r]);return(0,w.jsxs)("div",{style:l.container,children:[s?(0,w.jsx)(h().A,{style:l.icon}):null,(0,w.jsxs)("div",{style:l.textContainer,children:[(0,w.jsx)(h().A,{style:l.title}),i?(0,w.jsx)(h().A,{style:l.byline}):null]})]})}function A(e){const t=(0,r().tz)(),i=(0,n().uB)(void 0,u().A),h=(0,o().IS)((()=>({popupMenu:{width:312}})),[]);let S=[];const C=[];for(const n of e.items)if("divider"===n.type){const t=C.length>0,i={key:`actions-${C.length}`,render:i=>(0,w.jsx)(y().A,{title:e.title,topBorder:t,...i}),items:S};C.push(i),S=[]}else if("action"===n.type){const e={key:n.key,render:e=>(0,w.jsx)(b().A,{textWrap:!0,render:t=>(0,w.jsx)(p().A,{...e,...t,isRedOnHover:n.isDestructive,shouldWrapCaption:!0,icon:n.icon,title:n.title,caption:n.caption,disabled:n.disabled,disabledFeedback:n.disabled}),renderTooltip:()=>n.tooltipTitle,disableTooltip:n.tooltipDisabled??!0,placement:c().W.Right}),action:()=>{n.action(),i.setState({...i.state,open:!1})}};S.push(e)}else(0,l().HB)(n);const M={key:`actions-${C.length}`,render:t=>(0,w.jsx)(y().A,{title:e.title,topBorder:C.length>0,...t}),items:S};return C.push(M),(0,w.jsx)(g().Ay,{stopClickPropagation:!0,popupType:v().nl.Popup,alignmentToOrigin:c().C.Start,placementToOrigin:c().W.Bottom,style:h.popupMenu,render:()=>(0,w.jsx)(x().A,{menuType:d().gu.Popup,width:312,children:(0,w.jsx)(f().Ay,{type:f().Oh.Vertical,initialFocus:void 0,sections:C})}),onClose:a().lQ,buttonPopupStore:i,renderOrigin:e=>(0,w.jsx)(m().A,{ariaLabel:t.formatMessage({id:"iconCellActionMenu.iconButton.ariaLabel",defaultMessage:"More actions"}),icon:s()._,...e})})}},569892:(e,t,i)=>{i.d(t,{K:()=>N,gz:()=>E,jo:()=>B});var n=i(296540),o=()=>i(484714),s=()=>i(847249),r=()=>i(401497),a=()=>i(133033),l=()=>i(959013),d=()=>i(284371),c=()=>i(278768),u=()=>i(492666),p=()=>i(449506),g=()=>i(884107),m=()=>i(901389),h=()=>i(755636),x=()=>i(426116),f=()=>i(751156),v=()=>i(47373),y=()=>i(836251),b=()=>i(640653),S=()=>i(224701),w=()=>i(84817),C=()=>i(843189),M=()=>i(802790),j=()=>i(364280),I=()=>i(285790),T=()=>i(946548),A=()=>i(125565),k=()=>i(719147),P=()=>i(8178),_=()=>i(288864),R=()=>i(792223),L=()=>i(301863),D=i(474848);function E(){const e=O(),t=(0,o().v3)(),i=(0,n.useCallback)((()=>{h().f({environment:t,url:(0,y().xS)("guides.invitePerson")})}),[t]),r=(0,l().tz)(),d=(0,s().K8)((()=>(0,v().F0)()),[]);return(0,D.jsxs)(P().A,{divider:"none",large:!0,style:e.headingStyle,children:[(0,D.jsxs)("div",{children:[(0,D.jsx)(l().sA,{id:"spacePermissionsSettings.people.common.title",defaultMessage:"People"}),(0,D.jsx)(I().A,{onClick:i,icon:a().$,ariaLabel:r.formatMessage({id:"spacePermissionsSettings.people.common.iconButton.ariaLabel",defaultMessage:"Learn more about inviting people"})})]}),d&&(0,D.jsx)(L().$,{})]})}function z(e){let{spaceStore:t,inviteLink:i,spacePermissionsSettingsStore:n}=e;const r=(0,o().v3)(),a=O(),d=(0,s().K8)((()=>Boolean(t.getInviteLinkEnabled())),[t]);return(0,D.jsxs)("div",{style:a.inviteLinkSection,children:[(0,D.jsxs)("div",{style:{marginRight:8,flexGrow:1},children:[(0,D.jsx)(P().A,{smallMarginBottom:!0,children:(0,D.jsx)(l().sA,{id:"spacePermissionsSettings.spaceMembers.inviteLink.description",defaultMessage:"Invite link to add members"})}),(0,D.jsx)(A().A,{isSmall:!0,isMultiline:!0,style:{marginTop:0,width:"85%"},children:n&&d&&i?(0,D.jsx)(B,{spaceStore:t}):(0,D.jsx)(l().sA,{id:"spacePermissionSettings.spaceMembers.inviteLink.caption.v2",defaultMessage:"Only people with permission to invite members can see this."})})]}),(0,D.jsx)("div",{style:{minWidth:130},children:(0,D.jsxs)(w().Y1,{gap:16,align:"center-right",direction:"horizontal",children:[n&&d&&i&&(0,D.jsx)(C().E,{color:"uiBlue",onClick:()=>{!async function(e){let{environment:t,inviteLinkUrl:i}=e;const n=await g().R.clipboardActions.load();n.copyString({environment:t,stringValue:i,copiedMessage:n.clipboardMessages.copiedLinkToClipboard}),(0,u().b)(t)}({environment:r,inviteLinkUrl:i})},children:(0,D.jsx)(l().sA,{id:"spacePermissionsSettings.spaceMembers.inviteLink.copyButton",defaultMessage:"Copy link"})}),(0,D.jsx)(T().A,{on:d,onClick:()=>{!function(e){let{environment:t,spaceStore:i,inviteLinkEnabled:n}=e;const o=!n;c().OE(t,{enabled:o}),f().createAndCommit({userAction:"SpacePermissionsSettings.handleInviteLinkClick",environment:t,canUndo:!0,perform:e=>{x().Xk({transaction:e,spaceStore:i,inviteLinkEnabled:Boolean(o)})}})}({environment:r,spaceStore:t,inviteLinkEnabled:d})}})]})})]})}function B(e){let{spaceStore:t,organizationId:i,showBlueLink:s}=e;const r=(0,o().v3)(),a=(0,n.useCallback)((()=>{m().ui({message:(0,D.jsx)(l().sA,{id:"spacePermissionsSettings.inviteLinkRefreshModal.description",defaultMessage:"Are you sure you want to reset the invite link for all space members? Your old one will no longer be able to be used."}),showCancel:!0,keepFocus:!1,handleCancel:m().zw,items:[{label:(0,D.jsx)(l().sA,{id:"spacePermissionsSettings.inviteLinkRefreshModal.accept",defaultMessage:"Reset"}),color:"red",onAccept:async()=>{await p().callApi({eventName:"refreshInviteLink",environment:r,data:{spaceId:t.id,organizationId:i}}),S().Ow(r)}}]})}),[r,t.id,i]);return(0,D.jsx)(l().sA,{id:"spacePermissionSettings.spaceMembers.inviteLink.resetLink.v2",defaultMessage:"Only people with permission to invite members can see this. You can also <resetlink>generate a new link</resetlink>",values:{resetlink:e=>s?(0,D.jsx)(_()._,{onClick:a,children:e}):(0,D.jsx)(k().A,{onClick:a,children:e})}})}function N(e){let{spaceStore:t,inviteLinkCode:i,spacePermissionsSettingsStore:n}=e;const a=(0,o().v3)(),l=(0,s().K8)((()=>(0,b().e3)({spaceStore:t,environment:a,inviteLinkCode:i})),[t,i,a]),d=(0,R().Gg)({spaceStore:t})&&l,c=(0,r().IS)((e=>({divider:{color:e.stroke.secondary}})),[]);return(0,D.jsx)(j().VP,{marginTop:16,children:d?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(z,{spaceStore:t,inviteLink:l,spacePermissionsSettingsStore:n}),(0,D.jsx)(M().A,{size:40,dividerColor:c.divider.color})]}):null})}function O(){return(0,r().IS)((()=>({inviteLinkSection:{display:"flex",alignItems:"center"},headingStyle:{marginBottom:0,paddingBottom:0,fontSize:16,fontWeight:d().Wy.medium,display:"flex",justifyContent:"space-between",alignItems:"center"}})),[])}},625383:(e,t,i)=>{i.d(t,{d:()=>l,h:()=>d});i(296540);var n=()=>i(401497),o=()=>i(907514),s=()=>i(859428),r=()=>i(566468),a=i(474848);function l(e){let{dateTs:t,useSecondaryColorTitle:i,includeTime:n,tooltip:l,omitTooltip:d}=e;const c=(0,a.jsx)(r().s7,{useThinTitle:!0,useSecondaryColorTitle:i,title:n?(0,o().x$)(t,!0):(0,o().DG)(t)});return d?c:(0,a.jsx)(s().A,{render:e=>(0,a.jsx)("div",{...e,children:c}),renderTooltip:()=>l??(0,o().x$)(t)})}function d(){const e=(0,n().IS)((()=>({title:{width:"50%"}})),[]);return(0,a.jsx)(r().mf,{titleStyles:e.title})}},641300:(e,t,i)=>{i.d(t,{Gr:()=>I,WE:()=>k,rC:()=>A});i(898992),i(581454),i(908872);var n=i(296540),o=()=>i(401497),s=()=>i(158359),r=()=>i(126158),a=()=>i(380048),l=()=>i(742117),d=()=>i(525884),c=()=>i(959013),u=()=>i(534177),p=()=>i(284371),g=()=>i(753199),m=()=>i(553965),h=()=>i(115512),x=()=>i(962730),f=()=>i(704152),v=()=>i(493823),y=()=>i(625830),b=()=>i(958846),S=()=>i(554509),w=()=>i(859428),C=i(474848);const M=14,j=16,I=M+j,T=24;function A(e){let{columnRenderInfo:t,theme:i,containerMarginTop:n}=e;return{container:{marginTop:n??17,tableLayout:"fixed",borderCollapse:"collapse",width:"100%",minWidth:t.reduce(((e,t)=>e+E(t.widthData)+T),0)},tableHeaderRow:{},paddingRowCell:{height:8}}}function k(e){let{columnRenderInfo:t,sortState:i,onSortStateChanged:s,showRowBorders:r,hideHeaderRow:a,hideHeaderRowPadding:l,renderRowChild:d,rows:c,onRowClick:u,renderNoRowsComponent:p,styles:g,getStyleForRow:m,extendToFullScreen:h,multiselect:x,allowHorizontalScroll:f,setStickyHeaderColumn:v,maxHeight:y,setStickyHeaderRow:S,loadMoreMethod:w}=e;const M=f?v??!0:void 0,j=(0,o().IS)((e=>({horizontalScrollContainer:{position:"relative",width:null!=h&&h.extendTableToFullWidthOffsetPx?`calc(100% + ${null==h?void 0:h.extendTableToFullWidthOffsetPx}px)`:"100%",display:"grid",overflow:"auto"},scrollableContainer:{maxHeight:y,position:"relative",display:"grid",overflowX:"auto",width:"100%"},table:M?{...g.container,minWidth:"100%",width:void 0}:g.container})),[g.container,M,y,null==h?void 0:h.extendTableToFullWidthOffsetPx]),I=(0,o().IS)((e=>({thead:{position:"sticky",zIndex:1}})),[]),T=(0,n.useCallback)((e=>{var t;const n=e.id===(null==i||null===(t=i.column)||void 0===t?void 0:t.id)&&!(null!=i&&i.sortAscending);s&&s({sortAscending:n,column:e})}),[i,s]),A=(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("table",{style:j.table,children:[!a&&(0,C.jsx)("thead",{style:S?I.thead:void 0,children:(0,C.jsxs)("tr",{children:[t.map(((e,t)=>(0,C.jsx)(P,{index:t,column:e,sortState:i,handleSortableColumnClick:T,shouldShowSortIcon:0!==c.length,multiselect:x,setStickyHeaderColumn:M,setStickyHeaderRow:S,style:e.headerStyle},`header_${e.id}`))),null!=h&&h.rightPaddingPx?(0,C.jsx)(U,{width:null==h?void 0:h.rightPaddingPx,style:t[t.length-1].rowStyle}):null]})}),!l&&(0,C.jsx)("tbody",{children:(0,C.jsxs)("tr",{children:[t.map((e=>(0,C.jsx)("td",{style:g.paddingRowCell},`padding_row_${e.id}`))),null!=h&&h.rightPaddingPx?(0,C.jsx)("td",{style:g.paddingRowCell}):null]})}),(0,C.jsx)("tbody",{children:c.map((e=>(0,C.jsx)(_,{columns:t,onRowClick:u,rowChild:null==d?void 0:d(e),showRowBorders:r,row:e,getStyleForRow:m,multiselect:x,setStickyHeaderColumn:M,rightPaddingPx:null==h?void 0:h.rightPaddingPx},`${e.id}_row`)))}),c.length>0&&w&&(!f||"scroll"!==(null==w?void 0:w.type))?(0,C.jsx)("tfoot",{children:(0,C.jsx)(O,{columnLength:t.length,loadMoreMethod:w,showRowBorders:r,rightPaddingPx:null==h?void 0:h.rightPaddingPx,style:t[t.length-1].rowStyle})}):null]}),0===c.length&&p()]});return f?(0,C.jsxs)("div",{style:j.horizontalScrollContainer,children:[(0,C.jsxs)("div",{style:j.scrollableContainer,children:[A,y&&"scroll"===(null==w?void 0:w.type)&&(0,C.jsx)(b().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:w.onLoadMore})]}),!y&&"scroll"===(null==w?void 0:w.type)&&(0,C.jsx)(b().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:w.onLoadMore})]}):(0,C.jsx)("div",{style:{maxHeight:y,overflowY:S&&y?"auto":void 0,overflowX:S&&y?"hidden":void 0},children:A})}function P(e){let{column:t,index:i,sortState:s,handleSortableColumnClick:a,shouldShowSortIcon:l,multiselect:u,setStickyHeaderColumn:g,setStickyHeaderRow:h,style:f}=e;const[b,S]=(0,n.useState)(!1),I=0===i,T=t.id===(null==s?void 0:s.column.id),A=(0,o().IS)((e=>({th:{boxShadow:`\n\t\t\t\t\tinset 0 1px 0 ${e.tableDividerColor},\n\t\t\t\t\tinset 0 -1px 0 ${e.tableDividerColor}\n\t\t\t\t`,...h&&{position:"sticky",top:0,zIndex:3,background:e.modalBackground},...z(t),...g&&I&&{position:"sticky",zIndex:4,left:0,background:e.modalBackground,boxShadow:`\n\t\t\t\t\t\t\tinset -1px 0px 0px ${e.tableDividerColor},\n\t\t\t\t\t\t\tinset 0 1px 0 ${e.tableDividerColor},\n\t\t\t\t\t\t\tinset 0 -1px 0 ${e.tableDividerColor}\n\t\t\t\t\t\t`},height:32,...f},innerDiv:{display:"flex",alignItems:"center",height:"100%",minWidth:E(t.widthData),maxWidth:t.widthData.maxWidth},text:{fontSize:p().J.UISmall.desktop,fontWeight:p().Wy.regular,color:e.text.secondary,...p().RC},sortButton:{padding:5,margin:-5},sortIcon:{color:e.text.secondary,width:12,height:12,marginLeft:4,fill:"currentColor"},multiselectCheckbox:{color:e.selectLightGray[300],marginRight:j,opacity:null!=u&&u.header.isDisabled?.5:1},tooltipContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},tooltipIcon:{marginLeft:4,color:b?e.mediumIconColor:e.lightIconColor,height:16,width:16},tooltip:{width:380}})),[t,u,g,h,f,I,b]),k=()=>{if(s&&l&&T)return(0,r().m)({...A.sortIcon,...s.sortAscending&&{transform:"rotate(180deg)"}})},P={onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1)},_=t.headerInfoTooltip?(0,C.jsxs)("div",{style:A.tooltipContainer,children:[(0,C.jsx)("div",{style:A.text,children:t.headerTitle}),(0,C.jsx)(w().A,{textWrap:!0,style:A.tooltip,delayThreshold:0,render:e=>(0,C.jsx)("div",{...(0,m().A)(e,P),children:(0,d().A)(A.tooltipIcon)}),renderTooltip:()=>t.headerInfoTooltip})]}):(0,C.jsx)("div",{style:A.text,children:t.headerTitle}),R=t.sortable?(0,C.jsx)(w().A,{placement:x().W.Bottom,disableTooltip:!t.shouldShowSortTooltip,renderTooltip:()=>T?(0,C.jsx)(c().sA,{id:"baseTable.hoverSortedHeaderCell",defaultMessage:"Reverse sort order"}):(0,C.jsx)(c().sA,{id:"baseTable.hoverSortableHeaderCell",defaultMessage:"Sort by this column"}),render:e=>(0,C.jsxs)(v().p,{size:"xs",style:A.sortButton,onClick:()=>a(t),...e,children:[_,k()]})}):_,L=void 0!==u&&0===i?(0,C.jsx)(y().A,{style:A.multiselectCheckbox,disabled:u.header.isDisabled,onClick:()=>u.header.onClick(),checked:u.header.isSelected,size:M,tapArea:{size:30}}):null;return(0,C.jsx)("th",{style:A.th,children:(0,C.jsxs)("div",{style:A.innerDiv,children:[L,R]})})}function _(e){let{row:t,columns:i,onRowClick:s,rowChild:r,showRowBorders:a,getStyleForRow:l,setStickyHeaderColumn:d,multiselect:c,rightPaddingPx:u}=e;const[p,g]=(0,n.useState)(!1),m=t.isClickable,h=(0,n.useCallback)((()=>g(!0)),[]),x=(0,n.useCallback)((()=>g(!1)),[]),f=(0,n.useCallback)((e=>{m&&void 0!==s&&L(e,(()=>s(t)))}),[m,s,t]),v=(0,o().IS)((e=>({row:{height:1,...m&&{cursor:"pointer"},...a&&{borderBottom:`1px solid ${e.tableDividerColor}`},...l&&l(t)}})),[m,a,l,t]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("tr",{onMouseLeave:x,onMouseEnter:h,style:v.row,onClick:f,children:[i.map(((e,n)=>(0,C.jsx)(R,{isRowHovered:p,isRowClickable:m,columnIndex:n,numColumns:i.length,data:t,column:e,multiselect:c,setStickyHeaderColumn:d,cellStyle:e.rowStyle},`cell_${t.id}_${e.id}`))),u?(0,C.jsx)(W,{style:i[i.length-1].rowStyle}):null]}),r&&(0,C.jsx)("tr",{style:v.row,children:(0,C.jsx)("td",{colSpan:i.length,children:r})})]})}function R(e){let{data:t,column:i,columnIndex:n,numColumns:s,isRowHovered:r,isRowClickable:a,multiselect:l,setStickyHeaderColumn:d,cellStyle:c}=e;const u=0===n,g=n===s-1,m=(0,o().IS)((e=>({td:{...z(i),height:"inherit",...u&&{borderRadius:(0,h().Nb)({topLeft:4,bottomLeft:4})},...g&&{borderRadius:(0,h().Nb)({topRight:4,bottomRight:4})},...d&&u&&{position:"sticky",zIndex:2,left:0,background:e.modalBackground,boxShadow:`inset -1px 0px 0px ${e.tableDividerColor}`},...c,...r&&a&&{background:"light"===e.mode?"#f8f8f7":e.accentColors.gray[30]}},innerDiv:{minWidth:E(i.widthData),maxWidth:i.widthData.maxWidth,fontSize:p().J.UIRegular.desktop,color:e.text.primary,minHeight:42,maxHeight:52,display:"flex",alignItems:"center",height:"100%"},multiselectCheckbox:{color:e.selectLightGray[300],marginRight:16,opacity:null!=l&&l.row.getDisabledState(t)?.5:1}})),[i,u,g,r,a,l,t,d,c]),x=Boolean(i.hasClickableContents)||!!i.computeClickableContents&&i.computeClickableContents(t),f=l&&u?(0,C.jsx)(y().A,{style:m.multiselectCheckbox,checked:l.row.getSelectedState(t),onClick:e=>{e.stopPropagation(),l.row.onClick(t)},disabled:l.row.getDisabledState(t),size:14,tapArea:{size:30}}):null;return(0,C.jsx)("td",{style:m.td,children:(0,C.jsxs)("div",{style:m.innerDiv,onClick:x?L:void 0,children:[f,i.renderCell({...t,isRowHovered:r})]})})}function L(e,t){(0,g().SQ)({event:e,context:g().y$.BaseTableRowClick,callback:t})}const D={paddingLeft:T/2,paddingRight:T/2};function E(e){return"minWidth"in e?e.minWidth:e.width}function z(e){let t;return t="width"in e.widthData?{width:e.widthData.width}:{width:`${e.widthData.widthPercent}%`,minWidth:e.widthData.minWidth},{...D,...t}}function B(e){let{columnLength:t,onLoadMore:i,showRowBorders:n,hasNextPage:r}=e;const a=(0,o().IS)((e=>({row:{...n&&{borderBottom:`1px solid ${e.tableDividerColor}`}},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},sticky:{position:"sticky",left:0,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},button:{display:"flex",alignItems:"center",height:30,borderRadius:n?0:6,whiteSpace:"break-spaces",fontSize:14,paddingRight:8},icon:{width:14,height:14,marginLeft:4,marginRight:6,fill:e.lightIconColor},text:{color:e.text.tertiary}})),[n]);return!1===r?null:(0,C.jsx)("tr",{style:a.row,children:(0,C.jsx)("td",{colSpan:t,children:(0,C.jsx)("div",{style:a.container,children:(0,C.jsx)("div",{style:a.sticky,children:(0,C.jsxs)(f().A,{style:a.button,onClick:i,children:[(0,s().P)(a.icon),(0,C.jsx)("div",{style:a.text,children:(0,C.jsx)(c().sA,{id:"baseTable.loadMoreButton",defaultMessage:"Load more"})})]})})})})})}function N(e){let{columnLength:t,onLoadNext:i,onLoadPrevious:n,currentPage:s,finalPage:r,hasNextPage:d,hasPrevPage:u,showRowBorders:p,rightPaddingPx:g,style:m}=e;const h=(0,o().IS)((e=>({row:{...p&&{borderBottom:`1px solid ${e.tableDividerColor}`}},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},sticky:{position:"sticky",left:0,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},button:{display:"flex",justifyContent:"center",alignItems:"center",height:30,width:30,borderRadius:p?0:6,whiteSpace:"break-spaces",fontSize:14},icon:{width:14,height:14,marginLeft:4,marginRight:6,fill:e.icon.secondary}})),[p]);return(0,C.jsxs)("tr",{style:h.row,children:[(0,C.jsx)("td",{colSpan:Boolean(g)?t:t-1,children:(0,C.jsx)("div",{style:h.container,children:(0,C.jsxs)("div",{style:h.sticky,children:[(0,C.jsx)(f().A,{ariaLabel:u?"Previous page":"No previous pages",style:h.button,onClick:n,disabled:!u,disabledFeedback:!u,children:(0,a().I)(h.icon)}),(0,C.jsx)(f().A,{ariaLabel:d?"Next page":"No more pages",style:h.button,onClick:i,disabled:!d,disabledFeedback:!d,children:(0,l().V)(h.icon)}),(0,C.jsx)(S().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:r?(0,C.jsx)(c().sA,{id:"baseTable.pages.currentPageWithFinalPageCount",defaultMessage:"Page {currentPage} of {finalPage}",values:{currentPage:s,finalPage:r}}):(0,C.jsx)(c().sA,{id:"baseTable.pages.currentPage",defaultMessage:"Page {currentPage}",values:{currentPage:s}})})]})})}),g?(0,C.jsx)(W,{style:m}):null]})}function O(e){let{columnLength:t,loadMoreMethod:i,showRowBorders:n,rightPaddingPx:o,style:s}=e;switch(i.type){case"scroll":return(0,C.jsx)(b().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:i.onLoadMore});case"button":return(0,C.jsx)(B,{columnLength:t,onLoadMore:i.onLoadMore,showRowBorders:n,hasNextPage:i.hasNextPage});case"pages":return(0,C.jsx)(N,{columnLength:t,showRowBorders:n,onLoadNext:i.onLoadNext,onLoadPrevious:i.onLoadPrevious,currentPage:i.currentPage,finalPage:i.finalPage,hasNextPage:i.hasNextPage,hasPrevPage:i.hasPrevPage,rightPaddingPx:o,style:s});default:return(0,u().HB)(i)}}function U(e){const t=(0,o().IS)((t=>({container:{position:"relative"},extender:{width:e.width,height:1},inner:{background:t.modalBackground,position:"absolute",top:0,left:0,right:0,bottom:-1,...e.style}})),[e.width,e.style]);return(0,C.jsxs)("th",{style:t.container,children:[(0,C.jsx)("div",{style:t.extender}),(0,C.jsx)("div",{style:t.inner})]})}function W(e){const t=(0,o().IS)((t=>({container:{position:"relative"},inner:{background:t.modalBackground,position:"absolute",top:0,left:0,right:0,bottom:-1,...e.style}})),[e.style]);return(0,C.jsx)("td",{style:t.container,children:(0,C.jsx)("div",{style:t.inner})})}},657328:(e,t,i)=>{i.d(t,{C:()=>s});i(296540);var n=()=>i(959013),o=i(474848);function s(){return(0,o.jsx)(n().sA,{id:"organization.workspaceSettings.locked.tooltip",defaultMessage:"This setting is being managed by your organization."})}},663247:(e,t,i)=>{i.r(t),i.d(t,{arrowDiagonalUpRightFillIcon:()=>o,iconDefinition:()=>n});i(296540);const n={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M15.825 5.05a.875.875 0 0 0-.875-.875H7.313a.875.875 0 1 0 0 1.75h5.524L4.393 14.37c-.32.32-.303.857.039 1.198.341.342.878.36 1.198.039l8.445-8.444v5.524a.875.875 0 1 0 1.75 0z"})},o=(0,i(340498).wt)("arrowDiagonalUpRightFill",n)},736501:(e,t,i)=>{i.d(t,{f:()=>n});const n=28*i(720665).nD},744766:(e,t,i)=>{i.d(t,{oc:()=>h,q7:()=>x,tL:()=>f});i(898992),i(354520),i(581454),i(296540);var n=()=>i(847249),o=()=>i(401497),s=()=>i(416504),r=()=>i(959013),a=()=>i(972435),l=()=>i(108944),d=()=>i(351360),c=()=>i(630116),u=()=>i(614505),p=()=>i(125565),g=i(474848);const m=(0,r().YK)({privateTeamspace:{id:"baseTable.pageCell.privateTeamspace",defaultMessage:"Private teamspace"},untitledPath:{id:"baseTable.pageCell.untitledPath",defaultMessage:"Untitled"}});function h(e){let{blockStore:t,parentSpaceStore:i,rightIcon:s,inlineTitleContent:a,useThinTitle:l,skipUntitledStyling:c}=e;const m=(0,r().tz)(),h=(0,n().K8)((()=>i||d().default.state.currentSpaceStore),[i]),v=(0,n().K8)((()=>{const e=null==t?void 0:t.getModel();if(e&&t)return e.getRenderIcon({getRecordModel:t.getRecordModel})}),[t]),{displayTitle:y,pageTitle:b}=(0,n().K8)((()=>f(t)),[t]),S=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",position:"relative",overflow:"hidden"},summaryContainer:{flex:1,overflow:"hidden"},iconContainer:{height:20,width:20,flexGrow:0,flexShrink:0,flexBasis:20,marginRight:12,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},byline:{lineHeight:1.3,fontSize:12,opacity:.5},titleContainer:{alignItems:"center",flexDirection:"row",display:"flex"},title:{fontSize:14,fontWeight:l?400:500,...b||c?{}:{opacity:.25}}})),[l,b,c]),w=(0,n().K8)((()=>x({blockStore:t,spaceStore:h,intl:m})),[t,h,m]);return(0,g.jsxs)("div",{style:S.container,children:[(0,g.jsx)("div",{style:S.iconContainer,children:(0,g.jsx)(u().B,{icon:v,size:20,isEmptyPage:!1,disabled:!0})}),(0,g.jsxs)("div",{style:S.summaryContainer,children:[(0,g.jsxs)("div",{style:S.titleContainer,children:[(0,g.jsx)(p().A,{showTooltipWhenTruncated:!0,style:S.title,children:y}),a]}),(0,g.jsx)(p().A,{showTooltipWhenTruncated:!0,style:S.byline,children:w})]}),s]})}function x(e){const{intl:t,blockStore:i,spaceStore:n}=e;const o=i?(0,l().fU)(i).filter((e=>e.id!==i.id)).map((e=>{if(e instanceof c().h4)return e.getName()||t.formatMessage(m.privateTeamspace);const i=e.getModel();return(null==i?void 0:i.getRenderTitleWithPlaceholder({getRecordModel:e.getRecordModel,userTimeZone:(0,s().P)(),intl:a().A.getIntl()}))||t.formatMessage(m.untitledPath)})).reverse():[];return o.length>0?o.join("/"):null==n?void 0:n.getName()}function f(e){const t=null==e?void 0:e.getModel();if(!t||!e)return{pageTitle:void 0,displayTitle:void 0};const i=e.getRecordModel,n=(0,s().P)(),o=a().A.getIntl(),r=t.getRenderTitle({getRecordModel:i,userTimeZone:n,intl:o}),l=t.getEmptyTitlePlaceholder({getRecordModel:i,userTimeZone:n,intl:o});return{pageTitle:r,displayTitle:r||l}}},762286:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().default{getInitialState(){return{recentRecoverableUsers:[],searchQuery:void 0}}}const o=new n},792223:(e,t,i)=>{i.d(t,{BV:()=>g,Gg:()=>y,PK:()=>b,k4:()=>f,r1:()=>x,rl:()=>m,t1:()=>h,zh:()=>v});var n=()=>i(484714),o=()=>i(847249),s=()=>i(187174),r=()=>i(979340),a=()=>i(449506),l=()=>i(901389),d=()=>i(47373),c=()=>i(397103),u=()=>i(134217),p=()=>i(762286);function g(e){let{spaceStore:t,members:i}=e;const o=x({spaceStore:t}),r=(0,n().v3)(),d=t.id,[c]=(0,s().Yb)((async()=>{if(!o)return;const e=await a().callApi({eventName:"getRecentlyRemovedUsers",environment:r,data:{spaceId:d}});if("failed"===e.type)throw l().Qg(e),e;return e.data.recentlyRemovedMembers}),[d,r,o,i]);return c.value}function m(e){let{spaceStore:t,subscriptionData:i}=e;const o=h({spaceStore:t,subscriptionData:i}),r=(0,n().v3)();(0,s().Yb)((async()=>{if(!o)return;const e=await a().callApi({eventName:"getRecoverableSpaceUserContent",environment:r,data:{spaceId:t.id}});if("failed"===e.type)throw e;const i=e.data.recentSpaceRecoverPages;return p().A.setState({...p().A.state,recentRecoverableUsers:i}),i}),[t,r,o])}function h(e){let{spaceStore:t,subscriptionData:i}=e;return(0,o().K8)((()=>t.canAdmin()&&r().OX(i.subscriptionTier)),[i,t])}function x(e){let{spaceStore:t}=e;return(0,o().K8)((()=>t.canAdmin()),[t])}function f(e){let{spaceStore:t}=e;return(0,o().K8)((()=>!!t&&t.canEditMembership()),[t])}function v(){const e=(0,n().v3)();return(0,o().K8)((()=>u().vl(e)),[e])}function y(e){let{spaceStore:t}=e;const i=(0,c().h)();return(0,o().K8)((()=>(null==t?void 0:t.canEditMembership())&&i),[t,i])}function b(e){let{spaceStore:t}=e;const i=(0,o().K8)((()=>(0,d().qm)()),[]),n=(0,c().h)();return(0,o().K8)((()=>null==t?void 0:t.canAdmin()),[t])&&n&&i}},958846:(e,t,i)=>{i.d(t,{A:()=>o});i(296540);var n=i(474848);const o=function(e){let{loading:t,onLoadMore:o,loadMoreOffsetThreshold:s,resultSize:r,fetchSize:a}=e;return(0,n.jsx)(i(228927).A,{onChange:e=>function(e,t,i,n,o,s){if(t)return;const r=n||200;if(e>r)return;const a=void 0===o||void 0===s||o>=s;a&&i()}(e,t,o,s,r,a)})}}}]);