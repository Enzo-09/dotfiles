"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[82926],{230510:(e,t,n)=>{n.d(t,{P:()=>a});const a=(0,n(340498).xh)("openAi",{default:{loader:()=>n.e(77375).then(n.bind(n,89116))},darkMode:{loader:()=>n.e(77375).then(n.bind(n,457784))}})},264154:(e,t,n)=>{n.d(t,{l:()=>a});const a=(0,n(340498).xh)("arrowChevronSingleDown",{default:{loader:()=>n.e(95737).then(n.bind(n,803960))},small:{loader:()=>n.e(95737).then(n.bind(n,324254))},fill:{loader:()=>n.e(95737).then(n.bind(n,626466))},fillSmall:{loader:()=>n.e(95737).then(n.bind(n,854705))}},["chevron","down","arrow","direction","downward"])},343601:(e,t,n)=>{n.d(t,{G:()=>a});const a=(0,n(340498).xh)("aiFace",{default:{loader:()=>n.e(89256).then(n.bind(n,529099))},small:{loader:()=>n.e(89256).then(n.bind(n,412237))},fill:{loader:()=>n.e(89256).then(n.bind(n,769607))},fillSmall:{loader:()=>n.e(89256).then(n.bind(n,9918))}},["ai","artificial","intelligence","sparkle","technology","nosy"])},370657:(e,t,n)=>{n.d(t,{Ke:()=>f,RD:()=>h,Sw:()=>u,Vf:()=>l,_z:()=>c,cZ:()=>T,d7:()=>k,dL:()=>p,hx:()=>o,iC:()=>g,lA:()=>m,qG:()=>d,s8:()=>y,vW:()=>r});var a=()=>n(496603);const o=[{type:"search",scopeForNextSearch:{type:"everything"},searchSessionId:void 0},{type:"researcher",searchScope:{type:"everything"},useWebSearch:!0},{type:"setup-generator"},{type:"workflow"},{type:"markdown-chat"},{type:"fast-researcher"}],r={maxIterations:8,runInQueue:!0,multiturnIterations:1,filterArtifacts:!1,skipSummarize:!1,thinkingTokens:1024,filterToSpaceSharedResults:!1},s=["search","researcher","setup-generator"],i=["workflow","setup-generator","fast-researcher","tool-markdown-chat","fast-agent"],c=["markdown-chat","search","researcher","workflow","setup-generator"];function d(e){const{agentEnabled:t}=e,n=a().oE([...s,t?"workflow":void 0]);return o.filter((e=>n.includes(e.type)))}const l=[{type:"route-inference-transcript",configs:o.filter((e=>c.includes(e.type)))},...o.filter((e=>i.includes(e.type)))],u=["slack","google-drive","github","gmail","helpdocs","helpdoc-section","webpage","jira","microsoftTeams","notion","sharepoint","linear"],p="searchAgent",h="unifiedFindAgent",m="readingAgent",f="taskAgent",g="databaseAgent",T="databaseBulkReadContentAgent",y={originalOutput:[],feedback:"",inputSummary:"",promptFeedback:"",testInstructions:"",originalOutputPassesTest:!1,originalOutputTestResults:[],correctedOutputs:[],verified:!1},k=["Eval","Prompt"];"\n'Chat with AI':\n\nRouting Instructions:\n- If this mode is selected, the user will receive an AI response without a search being conducted.\n- Route to this mode when the user asks for general knowledge, chatting, or writing content that does not require additional information not already in the context.\n- Do NOT route to this mode when the query requires current statistics, facts, or up-to-date information.\n- Do NOT route to this mode when the query requires searching the user's workspace.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: Tell me a bedtime story about a robot who learns to dream.\nOUTPUT: 0\n</example>\n<example>\nINPUT: What are some key ideas behind design thinking?\nOUTPUT: 0\n</example>\n<example>\nINPUT: largest mammal\nOUTPUT: 0\n</example>\n<example>\nINPUT: write a haiku about the first snowfall\nOUTPUT: 0\n</example>\n<example>\nINPUT: Who was Joan of Arc?\nOUTPUT: 0\n</example>\n<example>\nINPUT: create a plan for an 80th birthday party\nOUTPUT: 0\n</example>\n".trim(),"\n'Quick search':\n\nRouting Instructions:\n- If this mode is selected, a single search will be conducted and an AI response will be provided that takes the search results into consideration.\n- Route to this mode if you need to find information across the Notion workspace, Slack, Google Drive, Github, or Jira to handle the user's request.\n- Route to this mode when the query seeks a single, specific fact, definition, or data point, or when the user needs current or time-sensitive information.\n- Route to this mode if the user seems to be searching for a specific document in their workspace.\n- Route to this mode if the user needs support: e.g. if they are mentioning getting support, requesting help, asking for customer service, reporting a problem with the product, or requesting a feature - we may be able to find some relevant content in the Notion Help Center\n- Do NOT route to this mode when the request requires synthesizing multiple pieces of information or generating a detailed research report.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: automated checkout PRD\nOUTPUT: 1\n</example>\n<example>\nINPUT: Who leads the podiatry dept?\nOUTPUT: 1\n</example>\n<example>\nINPUT: overnight parking policy\nOUTPUT: 1\n</example>\n<example>\nINPUT: When are we going to release our documentary about polar bears in the Arctic?\nOUTPUT: 1\n</example>\n<example>\nINPUT: Find my PR that enables dynamic builds.\nOUTPUT: 1\n</example>\n".trim(),"\n'Research Mode':\n\nRouting Instructions:\n- Route to this mode when the query explicitly requests research, analysis, or in-depth exploration.\n- Route to this mode when the query requires conducting multiple searches or synthesizing information from multiple sources or on multiple topics.\n- Do NOT route to this mode when the query can be answered with a single search.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: Whose work is most UX focused between Amy, Paula, and Xochitl?\nOUTPUT: 2\n</example>\n<example>\nINPUT: Write profiles for 10 of our biggest north African customers.\nOUTPUT: 2\n</example>\n<example>\nINPUT: Can you put together some recommendations for how to move forward with the Lumi deal? Check our recent Slack discussions for context. Write your recommendations in a similar style to how I have written them in the past.\nOUTPUT: 2\n</example>\n<example>\nINPUT: detailed comparison of the healthcare systems of Canada, the UK, Germany, and Singapore in terms of efficiency and accessibility\nOUTPUT: 2\n</example>\n<example>\nINPUT: What are the trends and geopolitical implications of the global semiconductor supply chain?\nOUTPUT: 2\n</example>\n\n".trim(),"\n'App builder':\n\nRouting Instructions:\n- Route to this mode when the query explicitly asks to build an app or system, or when the request involves automating processes within Notion or external tools.\n- Do NOT route to this mode when the user is seeking information rather than building a system or when the request is for creative content or general conversation.\n\nExamples:\n<example>\nINPUT: Create a task management app with deadlines and team assignments.\nOUTPUT: 3\n</example>\n<example>\nINPUT: Develop a CRM that tracks client interactions and schedules follow-ups.\nOUTPUT: 3\n</example>\n<example>\nINPUT: design an invoice system that sends payment reminders\nOUTPUT: 3\n</example>\n<example>\nINPUT: could you build a knowledge base that categorizes notes by topic automatically?\nOUTPUT: 3\n</example>\n<example>\nINPUT: Set up a content calendar for social media posts\nOUTPUT: 3\n</example>\n<example>\nINPUT: Create a recruitment pipeline for interview stages.\nOUTPUT: 3\n</example>\n<example>\nINPUT: I want a dashboard for visualizing Notion database metrics\nOUTPUT: 3\n</example>\n<example>\nINPUT: a way to process and categorize customer feedback automatically\nOUTPUT: 3\n</example>\n".trim(),"\n<example>\nINPUT: Create a database to track my job applications\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need a way to organize my project tasks and deadlines\nOUTPUT: 3\n</example>\n<example>\nINPUT: Help me keep track of my fitness progress over time\nOUTPUT: 3\n</example>\n<example>\nINPUT: I want to build a system for managing my inventory\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need something to organize all my recipes and ingredients\nOUTPUT: 3\n</example>\n<example>\nINPUT: Can you help me set up a customer relationship management system?\nOUTPUT: 3\n</example>\n<example>\nINPUT: [pasted CSV or similar structured data]\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need to organize my collection of books\nOUTPUT: 3\n</example>\n".trim()},546716:(e,t,n)=>{n.r(t),n.d(t,{AIModePicker:()=>O,askDropdownConfigs:()=>D});n(898992),n(354520),n(581454);var a=n(296540),o=()=>n(908006),r=()=>n(484714),s=()=>n(847249),i=()=>n(401497),c=()=>n(343601),d=()=>n(264154),l=()=>n(684462),u=()=>n(230510),p=()=>n(959013),h=()=>n(534177),m=()=>n(2220),f=()=>n(145214),g=()=>n(493823),T=()=>n(760217),y=()=>n(406699),k=()=>n(419357),x=()=>n(928600),w=()=>n(939740),b=()=>n(460292),P=()=>n(89924),U=()=>n(859428),I=()=>n(722872),S=()=>n(553965),v=()=>n(962730),M=()=>n(351360),A=()=>n(577437),N=()=>n(717375),C=n(474848);function O(e){const{clientStore:t,configs:n,spaceId:o,userId:c}=e,d=(0,r().v3)(),l=(0,s().K8)((()=>t.state.showDebug),[t]),u=(0,s().K8)((()=>t.state.configForNewTranscripts),[t]),p=null==u?void 0:u.type,h=(0,A().P9)({name:"ai_usage",spaceId:o,userId:c,amount:"unknown"}),f=(0,a.useCallback)((e=>{t.setState({...t.state,userSelectedConfig:!0,configForNewTranscripts:e}),(0,m().u)({environment:d,event:{eventName:"clicked_ai_chat_mode",eventProperties:{mode:e.type}}})}),[t,d]),g=(0,i().IS)((e=>({buttonWrapper:{display:"flex",alignItems:"center",borderRadius:8,padding:2,background:e.accentColors.translucentGray[50],userSelect:"none"}})),[]);return(0,C.jsxs)("div",{style:g.buttonWrapper,children:[n.map((e=>{let t=!1;t="markdown-chat"===p&&"search"===e.type||e.type===p;const n="researcher"===e.type&&!h;return(0,C.jsx)(a.Fragment,{children:"search"===e.type?(0,C.jsx)(R,{isSelected:t,config:e,selectConfig:f,currentConfig:u}):(0,C.jsx)(q,{isSelected:t,config:e,selectConfig:f,disabled:n})},e.type)})),l&&(0,C.jsx)(F,{clientStore:t})]})}function B(){return(0,i().IS)((e=>({button:{borderRadius:6,background:e.aiChatButton.unselected},selectedButtonBackground:{background:e.aiChatButton.selected},unselectedHoverButtonBackground:{background:e.aiChatButton.unselectedHover},selectedHoverButtonBackground:{background:e.aiChatButton.selectedHover},pressedButtonBackground:{background:e.aiChatButton.pressed},disabledButton:{color:e.text.lightGraySecondary}})),[])}const j=1;function R(e){const{isSelected:t,selectConfig:n,config:s,currentConfig:c}=e,l=(0,r().v3)(),u=(0,p().tz)(),h=B(),T=(0,a.useRef)(null),[k,x]=(0,a.useState)("auto");(0,a.useEffect)((()=>{o().default.afterNextFlush((()=>{T.current&&x(T.current.offsetWidth)}))}),[T]);const w=(0,a.useRef)(null),[P,I]=(0,a.useState)("auto");(0,a.useEffect)((()=>{o().default.afterNextFlush((()=>{w.current&&I(w.current.offsetWidth)}))}),[w]);const M="auto"===k||"auto"===P?"auto":k+j+P,A=(0,i().IS)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden",gap:j},askButton:{borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:6,borderBottomLeftRadius:6},dropdownButton:{borderTopRightRadius:6,borderBottomRightRadius:6,borderTopLeftRadius:0,borderBottomLeftRadius:0,gap:2}})),[]),N="markdown-chat"===c.type?c.model:"search"===c.type?"search":void 0,O=(0,a.useCallback)((()=>{N||n(s)}),[n,s,N]);return(0,C.jsx)(f().A,{style:A.container,initial:{width:k},animate:{opacity:t?1:.5,width:t?M:k},exit:{width:k},children:(0,C.jsx)(U().A,{placement:v().W.Bottom,alignment:v().C.Start,textWrap:!0,style:{minWidth:250},renderTooltip:()=>u.formatMessage(H({type:s.type})),render:e=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g().p,{...e,ref:T,onClick:O,size:"sm",style:{...h.button,...t&&h.selectedButtonBackground,...A.askButton,fontSize:12},hoveredStyle:t?h.selectedHoverButtonBackground:h.unselectedHoverButtonBackground,pressedStyle:h.pressedButtonBackground,children:(0,C.jsx)(Q,{type:s.type})}),(0,C.jsx)(y().Ay,{popupType:y().z7.Popup,placementToOrigin:y().sx.Bottom,alignmentToOrigin:y().yP.Start,originGap:4,renderOrigin:n=>{const a=(0,S().A)((0,S().A)(n,{onClick:function(){(0,m().u)({environment:l,event:{eventName:"clicked_ai_chat_ask_mode_dropdown",eventProperties:{}}})}}),e);return(0,C.jsxs)(g().p,{...a,size:"sm",ref:w,style:{...h.button,...t&&h.selectedButtonBackground,...A.dropdownButton,fontSize:12},children:[(0,C.jsx)(G,{mode:N}),(0,C.jsx)(b().Q,{iconGroup:d().l,variantName:"fillSmall",colorName:"lightGrayPrimary",style:{transform:"scale(0.85)"}})]})},render:e=>(0,C.jsx)(_,{askMode:N,onSelect:t=>{n(t),e.close()}})})]})})})}const z=14;function G(e){const{mode:t}=e,n="dark"===(0,i().eP)();return"openai-gpt-4.1"===t?(0,C.jsx)(b().Q,{iconGroup:u().P,variantName:n?"darkMode":"default",overrideSize:()=>z}):"anthropic-sonnet-3.7"===t?(0,C.jsx)(b().Q,{iconGroup:l().j,variantName:"default",overrideSize:()=>z}):(0,C.jsx)(b().Q,{iconGroup:c().G,variantName:"small",overrideSize:()=>z})}function q(e){const{isSelected:t,selectConfig:n,config:a,disabled:o}=e,r=(0,p().tz)(),s=B();return(0,C.jsx)(f().A,{animate:{opacity:t?1:.5},children:(0,C.jsx)(U().A,{textWrap:!0,style:{minWidth:250},placement:v().W.Bottom,alignment:v().C.Start,renderTooltip:()=>r.formatMessage(H({type:a.type,disabled:o})),render:e=>(0,C.jsx)(g().p,{...(0,S().A)(e),size:"sm",onClick:()=>{n(a)},style:{...s.button,...t&&s.selectedButtonBackground,...o&&s.disabledButton,fontSize:12},hoveredStyle:t?s.selectedHoverButtonBackground:s.unselectedHoverButtonBackground,pressedStyle:s.pressedButtonBackground,disabled:o,children:(0,C.jsx)(Q,{type:a.type})})})})}function F(e){const{clientStore:t}=e,n=B();return(0,C.jsx)(y().Ay,{popupType:y().z7.Popup,placementToOrigin:y().sx.Bottom,alignmentToOrigin:y().yP.Start,originGap:4,renderOrigin:e=>(0,C.jsx)(g().p,{...e,size:"sm",style:{...n.button,opacity:.5,fontSize:12},children:(0,C.jsx)(p().sA,{id:"AIModePicker.debug",defaultMessage:"Debug"})}),render:e=>(0,C.jsx)(E,{buttonPopupParent:e,clientStore:t})})}const W=(0,p().YK)({search:{id:"AIModePicker.askMode.search",defaultMessage:"Notion AI"},searchCaption:{id:"AIModePicker.askMode.searchCaption",defaultMessage:"Knowledge from your workspace"},"chatGpt4.1Title":{id:"AIModePicker.askMode.chatGpt4.1Title",defaultMessage:"OpenAI GPT-4.1"},"chatGpt4.1Caption":{id:"AIModePicker.askMode.chatGpt4.1Caption",defaultMessage:"Fast responses without workspace data"},claudeSonnet37Title:{id:"AIModePicker.askMode.claudeSonnet37Title",defaultMessage:"Anthropic Claude 3.7"},claudeSonnet37Caption:{id:"AIModePicker.askMode.claudeSonnet37Caption",defaultMessage:"Fast responses without workspace data"}}),D=[{askMode:"search",title:W.search,caption:W.searchCaption,config:{type:"search",scopeForNextSearch:{type:"everything"}}},{askMode:"openai-gpt-4.1",title:W["chatGpt4.1Title"],caption:W["chatGpt4.1Caption"],config:{type:"markdown-chat",model:"openai-gpt-4.1"}},{askMode:"anthropic-sonnet-3.7",title:W.claudeSonnet37Title,caption:W.claudeSonnet37Caption,config:{type:"markdown-chat",model:"anthropic-sonnet-3.7"}}];function _(e){const{onSelect:t,askMode:n}=e,a=(0,p().tz)();return(0,C.jsx)(x().A,{menuType:I().gu.Popup,children:(0,C.jsx)(w().Ay,{type:w().Oh.Vertical,initialFocus:void 0,sections:[{key:"ask-ai",render:e=>(0,C.jsx)(P().A,{...e}),items:D.map((e=>({key:e.askMode,render:t=>(0,C.jsx)(T().A,{...t,icon:(0,C.jsx)(G,{mode:e.askMode}),title:a.formatMessage(e.title),caption:a.formatMessage(e.caption),isChecked:n===e.askMode}),action:()=>{t(e.config)}})))}]})})}function E(e){const{buttonPopupParent:t,clientStore:n}=e,o=(0,s().K8)((()=>{var e;return null===(e=n.state.configForNewTranscripts)||void 0===e?void 0:e.type}),[n]),[r,i]=(0,a.useState)(""),c=(0,s().O$)(M().AppStoreCurrentSpaceStore),d=(0,s().K8)((()=>(0,N().bl)({spaceStore:c})),[c]).filter((e=>L(e.type).toLowerCase().includes(r.toLowerCase()))),l={key:"debug-input",render:e=>(0,C.jsx)(k().Ay,{...e,placeholder:"Searchâ€¦",value:r,onChange:e=>i(e.target.value)}),action:()=>{}};return(0,C.jsx)(x().A,{menuType:I().gu.Popup,children:(0,C.jsx)(w().Ay,{type:w().Oh.Vertical,initialFocus:void 0,sections:[{key:"debug-modes",render:e=>(0,C.jsx)(P().A,{...e}),items:[l,...d.map((e=>({key:e.type,render:t=>(0,C.jsx)(T().A,{...t,title:L(e.type),isChecked:e.type===o}),action:()=>{n.setState({...n.state,userSelectedConfig:!0,configForNewTranscripts:e}),t.close()}})))]}]})})}function H(e){const{type:t,disabled:n}=e;return n?K["paid-ai-feature"]:(0,h().O)(K,t)?K[t]:K.search}const K=(0,p().YK)({search:{id:"AIModePicker.askMode.tooltip",defaultMessage:"Straightforward responses and summaries using chat"},researcher:{id:"AIModePicker.askMode.researcher",defaultMessage:"Detailed research reports using workspace and web sources"},workflow:{id:"AIModePicker.askMode.workflow",defaultMessage:"Custom databases with automated properties, tailored to your use case"},"setup-generator":{id:"AIModePicker.askMode.setupGenerator",defaultMessage:"Custom databases tailored to your use case"},"paid-ai-feature":{id:"AIModePicker.askMode.paidAiFeature",defaultMessage:"[Beta] Available soon for business and enterprise plans"}});function L(e){var t;return(null===(t=V[e])||void 0===t?void 0:t.defaultMessage)||e}function Q(e){let{type:t}=e;return(0,C.jsx)(p().sA,{...V[t]})}const V=(0,p().YK)({talkTo:{id:"aiInferenceTranscript.configType.talkTo",defaultMessage:"Talk to..."},"markdown-chat":{id:"aiInferenceTranscript.configType.markdownChat",defaultMessage:"Chat"},search:{id:"aiInferenceTranscript.configType.search",defaultMessage:"Ask"},"fast-researcher":{id:"aiInferenceTranscript.configType.fastResearcher",defaultMessage:"Fast Researcher"},workflow:{id:"aiInferenceTranscript.configType.workflow",defaultMessage:"Agent"},"setup-generator":{id:"aiInferenceTranscript.configType.setupGenerator",defaultMessage:"Build"},researcher:{id:"aiInferenceTranscript.configType.researcher",defaultMessage:"Research"},"tool-markdown-chat":{id:"aiInferenceTranscript.configType.toolMarkdownChat",defaultMessage:"Tool Markdown Chat"},autocorrect:{id:"aiInferenceTranscript.configType.autocorrect",defaultMessage:"Autocorrect"},"debug-inference":{id:"aiInferenceTranscript.configType.debugInference",defaultMessage:"Debug Inference"},"memory-agent":{id:"aiInferenceTranscript.configType.memoryAgent",defaultMessage:"Memory Agent"},"summarize-transcript":{id:"aiInferenceTranscript.configType.summarizeTranscript",defaultMessage:"Summarize Transcript"},"route-inference-transcript":{id:"aiInferenceTranscript.configType.routeInferenceTranscript",defaultMessage:"Route Inference Transcript"},"fast-agent":{id:"aiInferenceTranscript.configType.fastAgent",defaultMessage:"Fast Agent"},agent:{id:"aiInferenceTranscript.configType.agent",defaultMessage:"Agent"}})},684462:(e,t,n)=>{n.d(t,{j:()=>a});const a=(0,n(340498).xh)("claude",{default:{loader:()=>n.e(3791).then(n.bind(n,802140))},darkMode:{loader:()=>n.e(3791).then(n.bind(n,80696))}})},717375:(e,t,n)=>{n.d(t,{Ol:()=>c,ak:()=>l,bl:()=>p,xm:()=>u});n(898992),n(354520),n(581454);var a=()=>n(370657),o=()=>n(534177),r=()=>n(640653),s=()=>n(508496),i=()=>n(46986);function c(e){const{spaceStore:t,config:n}=e;if("researcher"===n.type){const e=s().default.checkGate({gateName:"ai_research_mode_web_search"});return{...n,useWebSearch:e&&!(0,r().Ar)(t)}}return n}function d(e){const{spaceStore:t,configs:n}=e;return n.map((e=>c({spaceStore:t,config:e}))).filter(o().O9)}function l(e){const{spaceStore:t}=e;return d({spaceStore:t,configs:(0,a().qG)({agentEnabled:(0,i().aj)()})})}function u(e){const{spaceStore:t}=e;return d({spaceStore:t,configs:a().hx})}function p(e){return a().Vf}}}]);