"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[93888],{30469:(e,t,n)=>{n.d(t,{q:()=>a});var i=n(296540),o=()=>n(847249),r=()=>n(273923);function a(){var e;const t=null===(e=(0,i.useContext)(r().R))||void 0===e?void 0:e.sizeStore;return(0,o().K8)((()=>null==t?void 0:t.getState()),[t])}},135428:(e,t,n)=>{n.d(t,{Vj:()=>a,ax:()=>l});n(898992),n(354520),n(581454),n(737550);var i=()=>n(244641);const o="–",r=" ";function a(e){let{start:t,end:n,locale:a,timeZone:s}=e;const d=i().c9.fromISO(t),c=i().c9.fromISO(n),u=function(e){let{start:t,end:n}=e;const i=n.diff(t);if(i.as("hours")>12)return!0;const o=t.hour<12,r=n.hour<12;return o!==r}({start:d,end:c}),m=l({time:d,showAmPm:u,locale:a,timeZone:s}),h=l({time:c,showAmPm:!0,locale:a,timeZone:s});return`${m}${r}${o}${r}${h}`}function l(e){let{time:t,showAmPm:n,locale:o,timeZone:a}=e;const l=function(e){return i().c9.fromObject({hour:13}).setLocale(e).toLocaleParts(i().c9.TIME_SIMPLE).some((e=>"dayPeriod"===e.type))}(o),s=0!==t.minute||!l,d={...i().c9.TIME_SIMPLE,hour:"numeric",minute:s?"2-digit":void 0,timeZone:a};return l&&!n?t.setLocale(o).toLocaleParts(d).filter((e=>"dayPeriod"!==e.type)).map((e=>e.value.trim())).join(""):t.toLocaleString({...d,hour12:l},{locale:o}).replace(" ",r)}},286993:(e,t,n)=>{n.d(t,{c:()=>d});n(581454),n(296540);var i=()=>n(847249),o=()=>n(496603),r=()=>n(812119),a=()=>n(175116),l=()=>n(62856),s=n(474848);function d(e){const{isFullScreen:t,hasGroups:n,hasPartialResults:d,hasSearchQuery:c,overrideNumShimmerRows:u}=e,m=(0,a().Ks)(),h=(0,i().K8)((()=>null==m?void 0:m.isInHomeWidgetStore.state),[m]);if(!(0,l().A)(!0,0,100))return null;let g=1;void 0!==u?g=u:n||d||c||(g=t?10:3);const p=g>1?["50%","30%","40%","40%","30%","30%","40%","40%","30%","30%"]:["35%"],v=o().Hn(g).map((e=>(0,s.jsx)(r().J,{isInHomeWidget:h,widthPercentage:e<p.length?p[e]:void 0},e)));return(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch",marginLeft:h?8:3},children:v})}},338931:(e,t,n)=>{n.d(t,{Gj:()=>o,RN:()=>l,vZ:()=>r});n(944114),n(898992),n(823215),n(354520),n(672577);var i=()=>n(244641);function o(e){const t=i().c9.fromMillis(e.startUnixTimestampMS),n=e.endUnixTimestampMS?i().c9.fromMillis(e.endUnixTimestampMS):void 0,o=i().c9.fromMillis(e.startOfWeekUnixTimestampMS),r=i().c9.fromMillis(e.endOfWeekUnixTimestampMS),a=t.startOf("day"),l=i().c9.max(o,a),s=Math.ceil(l.diff(o,"days").get("days"));let d=1;if(n){const e=n.endOf("day"),t=i().c9.min(r,e);d=Math.ceil(t.diff(l,"days").get("days"))}return{start:t,end:n,startOfWeek:o,endOfWeek:r,startColumn:s,columnCount:d}}function r(e){const t=(e.attendees||[]).filter((e=>!e.self&&!e.resource));return e.hasParticipants&&t.length>0&&t.every((e=>"declined"===e.responseStatus))}const a={upcomingMinsThreshold:10,startingMinsThreshold:5,startedMinsThreshold:15};function l(e){const t=e.filter((e=>{var t;if(!e.conferencing)return!1;return!function(e){if("declined"===e)return!0;return!1}((null===(t=e.attendees)||void 0===t?void 0:t.find((e=>e.self)))?e.responseStatus??"accepted":"accepted")&&!e.isAllDay}));if(0===t.length)return;const{upcomingMinsThreshold:n,startingMinsThreshold:o,startedMinsThreshold:r}=a,l=[],d=[],c=[],u=[],m=[];for(const a of t){if(a.isAllDay)continue;const e=s(a),t=i().c9.now(),h=e.start.diff(t,"minutes").minutes;h>=0&&h<=n?l.push(a):-h>=o?c.push(a):-h>=r?u.push(a):e.contains(t)?d.push(a):m.push(a)}return[...l,...c,...u,...d,...m][0]}function s(e){const t=i().c9.fromISO(e.start.dateTime,{zone:e.start.timeZone}),n=i().c9.fromISO(e.end.dateTime,{zone:e.end.timeZone});return i().IX.fromDateTimes(t,n)}},401826:(e,t,n)=>{n.d(t,{U:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("zoomLogo",{viewBox:"0 0 13 9",svg:(0,i.jsx)("path",{d:"M1.94727 8.49316C1.42318 8.49316 1.01628 8.35645 0.726562 8.08301C0.440104 7.81283 0.296875 7.41895 0.296875 6.90137V2.07227C0.296875 1.55794 0.444987 1.16081 0.741211 0.880859C1.04069 0.597656 1.44271 0.456055 1.94727 0.456055H7.13281C7.6569 0.456055 8.05566 0.597656 8.3291 0.880859C8.60579 1.16081 8.74414 1.55794 8.74414 2.07227V6.87695C8.74414 7.39128 8.59928 7.78841 8.30957 8.06836C8.02311 8.35156 7.61784 8.49316 7.09375 8.49316H1.94727ZM9.45703 6.03223V2.93164L11.1367 1.49121C11.2376 1.40332 11.3385 1.33496 11.4395 1.28613C11.5436 1.23405 11.6462 1.20801 11.7471 1.20801C11.9456 1.20801 12.1068 1.27311 12.2305 1.40332C12.3542 1.53027 12.416 1.70117 12.416 1.91602V7.05273C12.416 7.26758 12.3542 7.4401 12.2305 7.57031C12.1068 7.70052 11.9456 7.76562 11.7471 7.76562C11.6462 7.76562 11.5436 7.73958 11.4395 7.6875C11.3353 7.63542 11.2344 7.56706 11.1367 7.48242L9.45703 6.03223Z"})})},631818:(e,t,n)=>{n.d(t,{A:()=>B,x:()=>U});n(581454);var i=n(296540),o=()=>n(484714),r=()=>n(847249),a=()=>n(401497),l=()=>n(584262),s=()=>n(657222),d=()=>n(861017),c=()=>n(179034),u=()=>n(959013),m=()=>n(284371),h=()=>n(755636),g=()=>n(281948),p=()=>n(768407),v=()=>n(493823),f=()=>n(406699),y=()=>n(928600),x=()=>n(939740),C=()=>n(614505),S=()=>n(16006),j=()=>n(89924),b=()=>n(780054),A=()=>n(458366),k=()=>n(722872),I=()=>n(962730),T=()=>n(351360),w=()=>n(630116),M=n(474848);const D=4,E=4,L={height:20,paddingTop:2,paddingBottom:2,marginTop:-2,marginBottom:-2,paddingLeft:4,paddingRight:4,marginLeft:-D,marginRight:-E};function W(e){let{event:t,onClick:n}=e;const i=(0,o().v3)(),r=(0,a().IS)((()=>({container:{display:"flex",flexDirection:"row",justifyItems:"center",width:"fit-content",maxWidth:"100%",gap:6}})),[]),{attachments:l}=t,[s,...c]=function(e){let{environment:t,attachments:n}=e;if(!n)return[];const i=n.findIndex((e=>"page"===(0,d().parseRoute)({url:e.fileUrl,isMobile:t.device.isMobile,baseUrl:b().A.domainBaseUrl,publicDomainName:b().A.publicDomainName,protocol:b().A.protocol,currentUrl:window.location.href}).name));if(-1===i)return n;return[n[i],...n.slice(0,i),...n.slice(i+1)]}({environment:i,attachments:l});return l&&s?(0,M.jsxs)("div",{style:r.container,children:[(0,M.jsx)(P,{attachment:s,attachmentIndex:0,onClick:n}),(0,M.jsx)(R,{attachments:c,onClickAttachment:n})]}):null}function P(e){let{attachment:t,attachmentIndex:n,menuListItemProps:d,onClick:c}=e;const{fileUrl:u,iconLink:f}=t,y=0===n,x=(0,a().IS)((e=>({button:{gap:4,flexShrink:1,...y?{maxWidth:`calc(100% + ${D+E}px)`}:{width:"100%"},...y&&L},title:{...y?{...(0,A().w_)(e),fontWeight:m().Wy.medium}:{maxWidth:200},...m().RC},icon:{height:16},linkIcon:{height:16,width:16,fill:e.mediumIconColor}})),[y]),j=(0,o().v3)(),b=(0,r().K8)((()=>{const{currentSpaceStore:e}=T().default.state;return U({environment:j,fileUrl:u,currentSpaceStore:e})}),[j,u]),k=(0,r().K8)((()=>{const e=null==b?void 0:b.getIcon();return b&&e?(0,M.jsx)(C().B,{icon:e,isEmptyPage:b.isEmptyPage(),size:16,disabled:!0}):f?(0,M.jsx)("img",{style:x.icon,src:f,alt:`Icon image for the Notion calendar event attachment entitled "${t.title}"`}):(0,s().w)(x.linkIcon)}),[t.title,b,f,x.icon,x.linkIcon]),I=b?(0,M.jsx)(S().A,{store:b,underline:y}):(0,M.jsx)("div",{style:x.title,children:t.title?t.title:(0,M.jsx)(p().lj,{textValue:[[t.fileUrl]]})}),w=(0,i.useCallback)((e=>{if(e.preventDefault(),!u)return;c({index:n,attachmentType:b?"notion":"other",attachmentBlockId:null==b?void 0:b.id});const t=e.metaKey||e.ctrlKey;b?g().VU({environment:j,openInNew:t?"tab":void 0,store:b,pageVisitSource:l().y8.PersonalHomeCalendarAttachment,peekMode:"center_peek",resultsStore:void 0,collectionContextStore:void 0}):h().f({environment:j,url:u})}),[n,b,j,u,c]);return(0,M.jsxs)(v().p,{style:x.button,href:u,metaHref:u,...d,onClick:w,children:[k,I]})}function R(e){let{attachments:t,onClickAttachment:n}=e;const i=(0,o().WS)(),r=(0,a().IS)((e=>({button:{color:e.text.secondary,...L,marginRight:0},sectionMenuItem:{display:"flex",flexDirection:"column",padding:4,width:"100%"}})),[]);return t&&0!==t.length?(0,M.jsx)(f().Ay,{alignmentToOrigin:I().C.Start,placementToOrigin:I().W.Bottom,renderOrigin:e=>(0,M.jsx)(v().p,{style:r.button,...e,children:(0,M.jsx)(u().sA,{id:"EventCalendarAttachments.plusMoreAttachments",defaultMessage:"+{numRemainingAttachments}",values:{numRemainingAttachments:t.length}})}),popupType:i?f().z7.SlideUp:f().z7.Popup,render:e=>(0,M.jsx)(y().A,{menuType:k().gu.Popup,maxWidth:300,children:(0,M.jsx)(x().Ay,{onAccept:e.close,type:x().Oh.Vertical,sections:[{key:"all",render:e=>(0,M.jsx)(j().A,{...e,style:r.sectionMenuItem}),items:t.map(((e,t)=>({key:e.fileUrl,render:i=>(0,M.jsx)(P,{menuListItemProps:i,attachment:e,attachmentIndex:t+1,onClick:n},e.fileUrl),action:()=>{}})))}],initialFocus:0})})}):(0,M.jsx)(M.Fragment,{})}function U(e){const{environment:t,currentSpaceStore:n}=e;let i=e.fileUrl;if(!n)return;b().A.isLocalhost&&(i=i.replace("dev.notion.so","localhost:3000").replace("https","http"));const o=(0,d().parseRoute)({url:i,isMobile:t.device.isMobile,baseUrl:b().A.domainBaseUrl,publicDomainName:b().A.publicDomainName,protocol:b().A.protocol,currentUrl:window.location.href}),r="page"===o.name?o.blockId:void 0;if(!r)return;const a=w().Bv.createChildStore(n,{table:c().ev,id:r});return a.load(),a.isReady()?a:void 0}const B=i.memo(W)},680784:(e,t,n)=>{n.d(t,{A:()=>ne,f:()=>te});n(898992),n(430670),n(581454);var i=n(296540),o=()=>n(401497),r=()=>n(338931),a=()=>n(838924),l=()=>n(812109),s=()=>n(823115),d=()=>n(665579),c=()=>n(484714),u=()=>n(847249),m=n(474848);const h=(0,n(340498).wt)("boxedCross",{viewBox:"0 0 10 11",svg:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("g",{clipPath:"url(#a)",children:(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-6Zm7.354.646a.5.5 0 0 1 0 .708L5.707 5.5l1.647 1.646a.5.5 0 1 1-.708.708L5 6.207 3.354 7.854a.5.5 0 1 1-.708-.708L4.293 5.5 2.646 3.854a.5.5 0 1 1 .708-.708L5 4.793l1.646-1.647a.5.5 0 0 1 .708 0Z"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"a",children:(0,m.jsx)("path",{transform:"translate(0 .5)",d:"M0 0h10v10H0z"})})})]})});var g=()=>n(693954),p=()=>n(959013),v=()=>n(751735),f=()=>n(100622),y=()=>n(284371),x=()=>n(125565),C=()=>n(767525),S=()=>n(115512),j=()=>n(645200),b=()=>n(296060),A=()=>n(689950),k=(n(354520),()=>n(972435)),I=()=>n(135428);const T=(0,p().YK)({code:{id:"notionCalendarEvent.conferencingCode",defaultMessage:"Code"},room:{id:"notionCalendarEvent.conferencingRoom",defaultMessage:"Room"},number:{id:"notionCalendarEvent.conferencingNumber",defaultMessage:"Number"},id:{id:"notionCalendarEvent.conferencingId",defaultMessage:"ID"}}),w=", ",M=" ⸱ ";function D(e){var t;let{event:n,intl:i,timeZone:o,isOnSameLineAsTitle:r}=e;const a=[n.isAllDay?void 0:(0,I().Vj)({start:n.start.dateTime,end:n.end.dateTime,locale:i.locale,timeZone:o}),[function(e){let{location:t,conferencingURL:n}=e;if(!n||!t)return t;return t.split(w).filter((e=>e!==n)).join(w)}({location:n.location,conferencingURL:null===(t=n.conferencing)||void 0===t?void 0:t.url}),E(n)].filter(Boolean).join(w)||void 0].filter(Boolean).join(M);return r&&a?`${M}${a}`:a}function E(e){const t=e.conferencing;if(t&&t.id)return[t.providerDisplayName,k().A.formatMessage(T[t.idType]),t.id].filter(Boolean).join(" ")}var L=()=>n(30469),W=()=>n(631818),P=()=>n(534177);const R=4,U=10;function B(e){let{event:t,squashedEventIndex:i,titleStartY:a,titleEndY:l}=e;const s=(0,u().K8)((()=>{if("emptyTodayEventPlaceholder"===t)return;const e=n(379560).A.getCalendar(t);return null==e?void 0:e.color}),[t]),d=(0,o().IS)((e=>{const o={background:e.calendarHomeWidget.base.gray},d="emptyTodayEventPlaceholder"===t?o:function(e){let{event:t,eventIndex:n,color:i,titleStartY:o,titleEndY:a}=e;const l=function(e){let{event:t,color:n}=e;const i=(0,v().X4)(n,t.isAllDay?.2:.1),o=`\n\t\trepeating-linear-gradient(\n\t\t\t-45deg,\n\t\t\t${n},\n\t\t\t${n} 2px,\n\t\t\t${i} 2px,\n\t\t\t${i} ${t.isAllDay?3.5:4}px\n\t\t)`;if("outOfOffice"===t.eventType)return{background:i};switch(t.responseStatus){case"accepted":return{background:(0,r().vZ)(t)?o:n};case"tentative":return{background:o};case"needsAction":return{border:`1px dashed ${n}`,background:i};case"declined":return{background:i};case void 0:return{background:t.hasParticipants?i:n};default:(0,P().HB)(t.responseStatus)}}({event:t,color:i});if(!t.isAllDay)return l;const s=`radial-gradient(\n\t\tcircle ${U}px at ${-(K-1.5)}px ${U/2}px,\n\t\ttransparent ${(U+1)/2}px,\n\t\tpurple 0\n\t)`;return{borderRadius:"50%",marginTop:(a-o-U)/2,alignSelf:"flex-Start",marginLeft:(R-U)/2,marginRight:(R-U)/2,width:U,height:U,background:i,...0!==n&&{WebkitMaskImage:s,maskImage:s},...l}}({event:t,eventIndex:i,color:(0,n(569243).Sk)({theme:e,calendarColor:s,eventColor:t.color}),titleStartY:a,titleEndY:l});return{container:{width:R,borderRadius:3,...d}}}),[s,t,i,l,a]);return s||"emptyTodayEventPlaceholder"===t?(0,m.jsx)("div",{style:d.container}):null}const $=i.memo(B);var O=()=>n(401826),N=()=>n(962730);function Z(e){var t,r,a;let{event:l,onJoinConferenceClick:s,onCopyConferenceUrlClick:d}=e;const u=(0,c().v3)(),[h,g]=(0,i.useState)(!1),p="wide"===(0,L().q)(),v=(0,o().IS)((e=>{const t="light"===e.mode?f().Ay.blueWithAlpha(.1):f().Ay.blueWithAlpha(.2);return{button:{fontSize:(0,S().ny)(u,"UIRegular"),fontWeight:y().Wy.medium,color:e.blueColor,background:t,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:4,lineHeight:1.2,height:28,padding:8,marginLeft:12},hoveredStyle:{background:"light"===e.mode?f().Ay.blueWithAlpha(.2):f().Ay.blueWithAlpha(.3)},tooltipContainer:{padding:0},tooltip:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:6,height:26,background:e.buttonHoveredBackground,fontWeight:y().Wy.regular,cursor:"pointer"},url:{margin:4,marginLeft:8,marginRight:2},copyIconContainer:{margin:4,marginRight:8,marginLeft:2},copyIcon:{height:13,width:11},zoomLogoIcon:{fill:e.blueColor,width:16,height:16,marginRight:4},divider:{height:"100%",borderWidth:1,borderColor:f().Ay.whiteWithAlpha(.5)}}}),[u]),x=(0,i.useCallback)((async()=>{var e;null!==(e=l.conferencing)&&void 0!==e&&e.url&&(s(),"zoom"===l.conferencing.providerName&&await j().cs({environment:u,url:l.conferencing.url})||n(755636).f({environment:u,url:l.conferencing.url}))}),[u,null===(t=l.conferencing)||void 0===t?void 0:t.providerName,null===(r=l.conferencing)||void 0===r?void 0:r.url,s]),C=(0,i.useCallback)((async()=>{var e;if(null===(e=l.conferencing)||void 0===e||!e.url)return;const t=await n(884107).R.clipboardActions.load();t.copyString({environment:u,stringValue:l.conferencing.url,copiedMessage:t.clipboardMessages.copiedLinkToClipboard}),g(!1),d()}),[u,null===(a=l.conferencing)||void 0===a?void 0:a.url,d]);if(!(0,P().O9)(l.conferencing))return(0,m.jsx)(m.Fragment,{});const{providerName:b,url:A,providerDisplayName:k}=l.conferencing,{domain:I,restOfUrl:T=""}=(0,n(458366).Kc)([[A]]),w=T.length>10?`${I}${T.slice(0,5)}…${T.slice(-6)}`:`${I}${T}`;return(0,m.jsx)(n(859428).A,{allowHover:!0,delayThreshold:500,closeDelay:200,originGap:6,placement:N().W.Top,alignment:N().C.End,style:v.tooltipContainer,forceVisibleState:!!h||void 0,renderTooltip:()=>(0,m.jsxs)("div",{style:v.tooltip,onClick:C,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,m.jsx)("div",{style:v.url,children:w}),(0,m.jsx)(n(802790).A,{size:1,vertical:!0,innerStyle:v.divider}),(0,m.jsx)("div",{style:v.copyIconContainer,children:(0,n(925907).n)(v.copyIcon)})]}),render:e=>(0,m.jsxs)(n(197190).A,{style:v.button,hoveredStyle:v.hoveredStyle,onClick:x,...e,children:[H(b)(v.zoomLogoIcon),z({providerDisplayName:k,isWideTile:p})]})})}function z(e){let{providerDisplayName:t,isWideTile:n}=e;return n?t?(0,m.jsx)(p().sA,{id:"notionCalendarEvent.joinButtonWithProviderWithMeeting",defaultMessage:"Join {providerDisplayName} meeting",values:{providerDisplayName:t}}):(0,m.jsx)(p().sA,{id:"notionCalendarEvent.joinButtonWithMeeting",defaultMessage:"Join meeting"}):t?(0,m.jsx)(p().sA,{id:"notionCalendarEvent.joinButtonWithProvider",defaultMessage:"Join {providerDisplayName}",values:{providerDisplayName:t}}):(0,m.jsx)(p().sA,{id:"notionCalendarEvent.joinButton",defaultMessage:"Join"})}function H(e){switch(e){case"zoom":case"googleMeet":case"around":case"blueJeans":case"customConferencing":case"doxyMe":case"googleDuo":case"microsoftTeams":case"skype":case"vowel":case"webex":case"whereby":case void 0:return O().U;default:return(0,P().ub)(e),O().U}}const F=i.memo(Z),K=2,V=4,Y=20;function q(e){var t;let{event:n,onAttachmentClick:i}=e;const r="narrow"===(0,L().q)(),a=n.isAllDay&&!r,l=(0,p().tz)(),{timeZone:s}=(0,C().mn)(),d=(null===(t=n.attachments)||void 0===t?void 0:t.length)??!1,c=D({event:n,intl:l,timeZone:s,isOnSameLineAsTitle:a}),u=!d&&n.isAllDay,h=(0,o().IS)((()=>({singleLineNameAndTimeContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",maxWidth:"100%",gap:4},nameTimeAndAttachmentsContainer:{display:"flex",flexDirection:"column",justifyContent:"start",maxWidth:"100%",minWidth:0,flexShrink:1,gap:u?0:2,marginTop:V,marginBottom:V,overflow:"hidden"}})),[u]),g=(0,m.jsx)(J,{event:n}),v=c?(0,m.jsx)(_,{height:u?void 0:Y,timeString:c,isSmall:!a}):(0,m.jsx)(m.Fragment,{}),f=(0,m.jsx)(W().A,{event:n,onClick:i});return(0,m.jsx)("div",{style:h.nameTimeAndAttachmentsContainer,children:a?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{style:h.singleLineNameAndTimeContainer,children:[g,v]}),f]}):(0,m.jsxs)(m.Fragment,{children:[g,f,v]})})}function J(e){let{event:t}=e,n=t.summary;n||"private"!==t.visibility||(n=(0,m.jsx)(p().sA,{id:"notionCalendarEvent.privateEvent.title",defaultMessage:"Busy"}));const i=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"row",maxWidth:"100%",alignItems:"center",height:Y,gap:6},title:{fontWeight:y().Wy.medium,...y().RC},warningIcon:{fill:e.grayButtonBackground,width:12,marginTop:1},boxedCrossIcon:{fill:e.grayButtonBackground,width:10.5,marginTop:.5}})),[]),a=(0,r().vZ)(t),l="outOfOffice"===t.eventType;return n?(0,m.jsxs)("div",{style:i.container,children:[a&&(0,g().Q)(i.warningIcon),l&&h(i.boxedCrossIcon),(0,m.jsx)(x().A,{style:i.title,children:n})]}):null}function _(e){let{timeString:t,height:n,isSmall:i}=e;const r=(0,o().IS)((()=>({textContainer:{height:n,display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"},timeAndLocationText:y().RC})),[n]);return(0,m.jsx)("div",{style:r.textContainer,children:(0,m.jsx)(x().A,{style:r.timeAndLocationText,isSmall:i,isSecondaryColor:!i,children:t})})}const G=function(e){var t;let{event:r,date:a,allSquashedEvents:s=[],isFirstEvent:h=!0,isLastEvent:g=!0,isUpcomingEvent:x=!1,eventToAnalyticsStateStore:C}=e;const k=(0,c().v3)(),[I,T]=(0,i.useState)(!1),w="emptyTodayEventPlaceholder"!==r&&Boolean(null===(t=r.conferencing)||void 0===t?void 0:t.url),M=(0,i.useContext)(b().a)??b().H,D="emptyTodayEventPlaceholder"!==r&&r.isAllDay,E=(0,i.useCallback)((()=>{T(!0)}),[T]),L=(0,i.useCallback)((()=>{T(!1)}),[T]),W=x||w&&I,P=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"row",alignContent:"stretch",overflow:"hidden",paddingLeft:4,paddingRight:d().YS,...D&&{paddingLeft:8}},wrapperDivStyle:{...D?{marginLeft:-4,width:"calc(100% + 4px)"}:{paddingTop:h?0:3,paddingBottom:g?0:3,width:"100%"},height:"unset"},colorLabelContainer:{display:"flex",height:"100%",justifyContent:"flex-end",gap:D?K:2,paddingTop:4,paddingBottom:4},eventDetailsContainer:{display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginLeft:12,minWidth:0,minHeight:28},emptyPlaceholderContainer:{display:"flex",flexDirection:"column",justifyContent:"center",height:40,color:e.text.tertiary,fontSize:(0,S().ny)(k,"UIRegular"),fontWeight:y().Wy.regular,...y().RC},hoveredContainer:{background:"light"===e.mode?(0,v().X4)(f().CM.light.darkgray,.05):f().XA.dark.gray[300]},joinButtonContainer:{display:"flex",alignItems:"center"}})),[k,D,h,g]),R=(0,u().O$)(n(351360).AppStoreCurrentSpaceStore),[U]=(0,n(187174).Yb)((async()=>"emptyTodayEventPlaceholder"===r?void 0:await(0,j().lq)({environment:k,baseUrl:r.url,spaceId:null==R?void 0:R.id,from:"homeEventClick"})),[R,k,r]),B=function(e){let{date:t,event:n,eventToAnalyticsStateStore:o,analyticsContext:r}=e;return(0,i.useCallback)((()=>{if("emptyTodayEventPlaceholder"===n)return;if(!t)return;const{eventIndex:e,numDaysFromToday:i}=(null==o?void 0:o.state[te({event:n,date:t})])??{};return{eventContext:(0,A().IU)({event:n,eventIndex:e??-1,numDaysInFuture:i??-1}),calendarPanelContext:(0,A().sp)({panelState:r.panelState,view:r.view})}}),[t,n,o,r.panelState,r.view])}({date:a,event:r,eventToAnalyticsStateStore:C,analyticsContext:M}),O=(0,i.useCallback)((e=>{const t=null==U?void 0:U.value;if("emptyTodayEventPlaceholder"===r||!t)return;const n=B();n&&(0,A().np)({environment:k,target:"body",...n}),(0,j().J7)({environment:k,url:t,from:"homeEventClick"})}),[k,r,B,null==U?void 0:U.value]),N=(0,i.useCallback)((e=>{const t=B();t&&(0,A().G7)({...t,environment:k,attachmentIndex:e.index,notionBlockId:e.attachmentBlockId,attachmentType:e.attachmentType})}),[k,B]),Z=(0,i.useCallback)((()=>{const e=B();e&&(0,A().np)({environment:k,target:"conferencing",...e})}),[k,B]),z=(0,i.useCallback)((()=>{const e=B();e&&(0,A().np)({environment:k,target:"copy_conferencing_link",...e})}),[k,B]);return(0,m.jsxs)(n(493823).p,{style:P.container,onClick:O,onMouseEnter:E,onMouseLeave:L,disabled:"emptyTodayEventPlaceholder"===r||!(null!=U&&U.value),wrapperDivStyle:P.wrapperDivStyle,hoveredStyle:P.hoveredContainer,children:[(0,m.jsx)("div",{style:P.colorLabelContainer,children:(0===s.length?[r]:s).map(((e,t)=>(0,m.jsx)($,{event:e,squashedEventIndex:t,titleStartY:V,titleEndY:V+Y},"emptyTodayEventPlaceholder"===e?e:(0,l().z)(e))))}),(0,m.jsx)("div",{style:P.eventDetailsContainer,children:"emptyTodayEventPlaceholder"===r?(0,m.jsx)("div",{style:P.emptyPlaceholderContainer,children:(0,m.jsx)(p().sA,{id:"notionCalendarEvent.emptyTodayPlaceholder",defaultMessage:"No more events"})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(q,{event:r,onAttachmentClick:N}),W&&(0,m.jsx)("div",{style:P.joinButtonContainer,children:(0,m.jsx)(F,{event:r,onJoinConferenceClick:Z,onCopyConferenceUrlClick:z})})]})})]})};function X(e){let{date:t}=e;const n=(0,p().tz)(),i="wide"===(0,L().q)(),r=(0,a().s5)(),l=(0,s().cK)(t,r),d=new Date(t).toLocaleDateString(n.locale,{weekday:i?"long":"short",timeZone:"UTC"}),c=new Date(t).toLocaleDateString(n.locale,{month:i?"long":"short",day:"numeric",timeZone:"UTC"}),u=(0,o().IS)((e=>{const t={color:l?e.text.uiRedPrimary:e.text.tertiary,fontWeight:y().Wy.medium,maxWidth:"100%",...y().RC};return{dateContainer:{display:"flex",alignItems:"start",overflow:"hidden",...i?{flexDirection:"row",minWidth:148,maxWidth:200,paddingRight:16,gap:4,flexWrap:"wrap"}:{flexDirection:"column",maxWidth:94,paddingRight:16,gap:0},paddingLeft:8},dayOfWeekString:{...t,flexShrink:0},dateString:t}}),[l,i]),h=l?(0,m.jsx)(p().sA,{id:"notionCalendarEventDate.today",defaultMessage:"Today"}):d;return(0,m.jsxs)("div",{style:u.dateContainer,children:[(0,m.jsx)(x().A,{isSmall:!0,showTooltipWhenTruncated:!0,style:u.dayOfWeekString,children:h}),(0,m.jsx)(x().A,{isSmall:!0,showTooltipWhenTruncated:!0,style:u.dateString,children:c})]})}const Q=i.memo(X);function ee(e){let{days:t,eventToAnalyticsStateStore:i}=e;const l=(0,a().s5)(),c=(0,o().IS)((e=>({container:{display:"grid",gridTemplateColumns:"[days] min-content [events] auto",rowGap:16,paddingBottom:12,paddingTop:3,alignItems:"start"},dateFullHeightContainer:{height:"100%"},dateStickyContainer:{position:"sticky",top:3,paddingTop:5},eventListContainer:{display:"flex",flexDirection:"column",height:"100%",alignItems:"start",paddingRight:d().YS,overflow:"hidden",marginLeft:-4,paddingLeft:4}})),[]);return(0,m.jsx)("div",{style:c.container,children:null==t?void 0:t.flatMap((e=>{const t=(0,n(90857).Om)(e),o=(0,s().cK)(e.date,l),a=o?(0,r().RN)(e.timedEvents.map((e=>e.baseEvent))):void 0;return[(0,m.jsx)("div",{style:c.dateFullHeightContainer,children:(0,m.jsx)("div",{style:c.dateStickyContainer,children:(0,m.jsx)(Q,{date:e.date})})},`date_${e.date}`),(0,m.jsxs)("div",{style:c.eventListContainer,children:[0===t.length&&o&&(0,m.jsx)(G,{event:"emptyTodayEventPlaceholder"}),t.map(((n,o)=>{let{baseEvent:r,allSquashedEvents:l}=n;return(0,m.jsx)(G,{date:e.date,eventToAnalyticsStateStore:i,isFirstEvent:0===o,isLastEvent:o===t.length-1,isUpcomingEvent:(null==a?void 0:a.id)===r.id,event:r,allSquashedEvents:l},te({event:r,date:e.date}))}))]},`events_${e.date}`)]}))})}function te(e){let{event:t,date:n}=e;return`${t.isAllDay}-${(0,l().z)(t)}-${n}`}const ne=i.memo(ee)},812119:(e,t,n)=>{n.d(t,{J:()=>a});n(296540);var i=()=>n(401497),o=()=>n(710149),r=n(474848);function a(e){const{widthPercentage:t,isInHomeWidget:n}=e,a=(0,i().IS)((e=>({rowContainer:{display:"flex",height:30,alignItems:"center",gap:1,alignSelf:"stretch"},circleShimmer:{width:n?12:16,height:n?12:16,flexShrink:0,borderRadius:12,backgroundColor:e.lightDividerColor},rowShimmer:{width:t||"35%",height:10,flexShrink:0,borderRadius:12,marginLeft:2,backgroundColor:e.lightDividerColor},column:{display:"flex",height:34,padding:"7px 0px",alignItems:"center",gap:6,flex:"1 0 0"}})),[t,n]);return(0,r.jsx)("div",{style:a.rowContainer,children:(0,r.jsxs)("div",{style:a.column,children:[(0,r.jsx)(o().A,{style:a.circleShimmer}),(0,r.jsx)(o().A,{style:a.rowShimmer})]})})}}}]);