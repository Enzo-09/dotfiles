"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[5023],{213962:(e,t,o)=>{o.d(t,{s:()=>s});o(296540);var n=o(474848);const s=(0,o(340498).wt)("circleCross",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M15 28.354c7.305 0 13.354-6.049 13.354-13.354 0-7.292-6.062-13.354-13.367-13.354C7.695 1.646 1.646 7.708 1.646 15c0 7.305 6.062 13.354 13.354 13.354zm0-2.226A11.075 11.075 0 013.885 15c0-6.166 4.922-11.128 11.102-11.128 6.18 0 11.128 4.962 11.141 11.128A11.078 11.078 0 0115 26.128zm-4.477-5.577a.99.99 0 00.746-.327l3.718-3.731 3.731 3.73c.197.197.445.328.747.328.576 0 1.047-.484 1.047-1.06a.979.979 0 00-.314-.747l-3.718-3.718 3.73-3.744c.223-.223.315-.445.315-.733 0-.59-.471-1.048-1.047-1.048-.275 0-.498.092-.72.315l-3.771 3.744-3.744-3.731c-.184-.21-.432-.301-.72-.301-.577 0-1.048.445-1.048 1.034a.97.97 0 00.314.733l3.719 3.731-3.719 3.732a.951.951 0 00-.314.733c0 .576.471 1.06 1.048 1.06z"})})},394783:(e,t,o)=>{o.d(t,{A:()=>c});o(296540);var n=()=>o(284371),s=()=>o(722872),r=()=>o(406699),i=o(474848);const c=function(e){let{emailAddress:t,disabled:c,accountActions:a,prefix:l}=e;const d=(0,o(484714).v3)(),{device:u}=d,p=(0,o(847249).uB)(void 0,o(463830).A);let m;m=u.isMobile?{menuType:s().gu.ActionSheet}:{menuType:s().gu.Popup};const h=(0,o(401497).IS)((e=>({container:{height:u.isMobile?24:20,marginTop:l?1:u.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:e.text.secondary,transition:"opacity 150ms ease"},text:{fontSize:(0,o(115512).ny)(d,"UISmall"),lineHeight:n().K_.UISmall.desktop,fontWeight:n().Wy.medium,marginRight:6},button:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:u.isMobile?24:20,height:u.isMobile?24:20,borderRadius:4},buttonIcon:{width:u.isMobile?18:12,height:u.isMobile?18:12},prefix:{textAlign:"right",height:u.isMobile?16:18,marginTop:u.isMobile?8:4,marginLeft:12,marginRight:18,color:e.text.secondary,transition:"opacity 150ms ease"}})),[u.isMobile,d,l]);return(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)("div",{style:h.prefix,children:l}),(0,i.jsxs)("div",{style:h.container,children:[(0,i.jsx)(o(265665).j,{style:h.text,children:t}),(0,i.jsx)(r().Ay,{popupType:u.isMobile?r().z7.SlideUp:r().z7.Popup,buttonPopupStore:p,renderOrigin:e=>{if(!c)return(0,i.jsx)(o(704152).A,{...e,style:h.button,children:(0,o(30626)._)(h.buttonIcon)})},render:()=>(0,i.jsx)(o(928600).A,{...m,children:(0,i.jsx)(o(452558).A,{sections:[{key:"option section",render:e=>(0,i.jsx)(o(89924).A,{...e}),actions:a}],context:{environment:d,blocks:[],publicEditMode:void 0}})})})]})]})}},563253:(e,t,o)=>{o.d(t,{Vd:()=>y,np:()=>m,z_:()=>w});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520);var n=o(296540),s=()=>o(588165),r=()=>o(484714),i=()=>o(401497),c=()=>o(959013),a=()=>o(496603),l=()=>o(623580),d=o(474848);const u=["control+t","control+shift+n","control+shift+t","control+w","control+shift+w","control+r","control+shift+r","control+shift+i","control+\\","control+=","control+-","control+0","control+[","control+]","control+shift+tab","control+tab","control+1","control+2","control+3","control+4","control+5","control+6","control+7","control+8","control+9"],p=["command+,","command+t","command+shift+n","command+shift+t","command+w","command+shift+w","command+r","command+shift+r","alt+command+i","command+\\","command+=","command+-","command+0","command+[","command+]","control+shift+tab","control+tab","command+option+left","command+option+right","command+shift+[","command+shift+]","command+1","command+2","command+3","command+4","command+5","command+6","command+7","command+8","command+9"];function m(e){function t(){return e.shortcut?w(e.shortcut,e.isMac):void 0}const{isMac:o,isWindows:m}=(0,r().Y0)(),x=(0,r().v3)(),[v,k]=(0,n.useState)(t()),[A,I]=(0,n.useState)(new Set([])),[j,M]=(0,n.useState)(),[C,L]=(0,n.useState)(!1),R=(0,n.useRef)(!1),V=(0,n.useRef)(!1),W=(0,n.useRef)(!1),_=(0,i().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:10,alignItems:"flex-end"},takenShortcutError:{color:e.accentColors.red[500],fontSize:12}})),[]);function T(){if(v&&W.current)if(v.key)if(o?v.control||v.option||v.command:v.control||v.option)if(function(e,t,o){for(const r of Object.values((0,s().a)(e.device)))for(const e of r)if(a().n4(w(e,o),t))return!0;const n=o?p:u;for(const s of n)if(a().n4(w(s,o),t))return!0;return!1}(x,v,o)||function(e,t,o){for(const n of t)if(a().n4(w(n,o),e))return!0;return!1}(v,e.conflictingShortcuts||[],o)){k(t());const e=y(v,o);M((0,d.jsx)(c().sA,{id:"desktopQuickSearch.error.shortcutAlreadyUsed",defaultMessage:"{reservedShortcut} is already used",values:{reservedShortcut:e}}))}else{const t=function(e,t){const o=[];e.shift&&o.push("shift");e.control&&(t?o.push("control"):o.push("ctrl"));e.option&&(t?o.push("option"):o.push("alt"));e.command&&(t?o.push("command"):o.push("meta"));e.key&&o.push(e.key.toLowerCase());return o.join("+")}(v,o);e.onChange(t)}else k(t()),M(o?(0,d.jsx)(c().sA,{id:"desktopQuickSearch.error.macModifierRequired",defaultMessage:"Use one of Option, Control, or Command for global keyboard shortcuts"}):(0,d.jsx)(c().sA,{id:"desktopQuickSearch.error.windowsModifierRequired",defaultMessage:"Use one of Control or Alt for global keyboard shortcuts"}));else k(void 0);else W.current||k(t());R.current=!0,L(!1),W.current=!1}function U(e){if(m&&e.startsWith("Meta"))return;const t=new Set([...A,e]),o=function(e){const t={};for(const n of e)n.startsWith(g)?t.command=!0:n.startsWith(b)?t.option=!0:n.startsWith(f)?t.shift=!0:n.startsWith(S)?t.control=!0:n.startsWith("Key")?t.key=n.substring(3).toLowerCase():n.startsWith("Digit")?t.key=n.substring(5):h[n]&&(t.key=h[n]);const o=0===Object.values(t).filter((e=>!a().b0(e))).length;return o?void 0:t}(t);I(t),k(o),M(void 0),W.current=!0}return(0,d.jsxs)("div",{style:_.container,children:[(0,d.jsx)(l().A,{onKeyDown:function(e){V.current=!0,"Escape"===e.key?e.currentTarget.blur():"Tab"!==e.key&&(e.preventDefault(),e.stopPropagation(),U(e.code))},onKeyUp:function(e){V.current&&function(e){const t=new Set([...A]);if(t.delete(e),e.startsWith("Meta"))for(const o of t)o.startsWith(f)||o.startsWith(b)||o.startsWith(S)||t.delete(o);I(t),0===t.size&&T()}(e.code)},onFocus:function(e){k(void 0),L(!0)},onBlur:function(e){R.current||T(),R.current=!1,V.current=!1,I(new Set),L(!1)},focus:C,readOnly:!0,inputStyle:{textAlign:"center",caretColor:"transparent"},value:v&&y(v,o)}),j&&(0,d.jsx)("div",{style:_.takenShortcutError,children:j})]})}const h={ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",Backquote:"`",Backslash:"\\",Backspace:"backspace",BracketLeft:"[",BracketRight:"]",Comma:",",Delete:"delete",Enter:"return",Equal:"=",Minus:"-",Period:".",Quote:"'",Semicolon:";",Slash:"/",Space:"space"},g="Meta",f="Shift",b="Alt",S="Control";function w(e,t){const o={};for(let n of e.split("+"))n=n.toLowerCase(),"command"===n||"meta"===n?o.command=!0:"option"===n||"alt"===n?o.option=!0:"shift"===n?o.shift=!0:"control"===n||"ctrl"===n?o.control=!0:"cmdorctrl"===n||"commandorcontrol"===n?t?o.command=!0:o.control=!0:o.key=n;return o}function y(e,t){const o=[];if(e.shift&&(t?o.push("shift"):o.push("Shift")),e.control&&(t?o.push("control"):o.push("Ctrl")),e.option&&(t?o.push("option"):o.push("Alt")),e.command&&(t?o.push("âŒ˜"):o.push("Win")),e.key){const t=1===e.key.length?e.key.toUpperCase():e.key;o.push(t)}return o.join("+")}},786667:(e,t,o)=>{o.d(t,{ti:()=>de,rY:()=>be,rK:()=>fe});o(944114),o(898992),o(354520),o(672577),o(581454);var n=o(296540),s=()=>o(484714),r=()=>o(847249),i=()=>o(401497),c=()=>o(452540),a=()=>o(617668),l=()=>o(696706),d=()=>o(84520),u=()=>o(294712),p=()=>o(762433),m=()=>o(468006),h=()=>o(959013),g=()=>o(496603),f=()=>o(213962),b=o(474848);const S=(0,o(340498).wt)("squarePlus",{viewBox:"0 0 30 30",svg:(0,b.jsx)("path",{d:"M7.059 27.052H22.94c2.75 0 4.11-1.361 4.11-4.059V7.007c0-2.697-1.36-4.059-4.11-4.059H7.059c-2.736 0-4.111 1.349-4.111 4.059v15.986c0 2.71 1.375 4.06 4.11 4.06zm.026-2.108c-1.31 0-2.03-.694-2.03-2.055V7.112c0-1.362.72-2.056 2.03-2.056h15.83c1.296 0 2.029.694 2.029 2.056v15.777c0 1.361-.733 2.055-2.03 2.055H7.085zm7.895-3.758c.707 0 1.113-.484 1.113-1.243V16.08h4.111c.733 0 1.231-.392 1.231-1.086 0-.707-.471-1.113-1.23-1.113h-4.112V9.769c0-.759-.406-1.243-1.113-1.243-.694 0-1.073.51-1.073 1.243v4.112H9.822c-.773 0-1.257.405-1.257 1.112 0 .694.523 1.087 1.257 1.087h4.085v3.863c0 .733.38 1.243 1.073 1.243z"})});var w=()=>o(243020),y=()=>o(899963),x=()=>o(840153),v=()=>o(719431),k=()=>o(1130),A=()=>o(320460),I=()=>o(227440),j=()=>o(416726);const M=(0,h().YK)({joinOrCreateWorkspace:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"},logOut:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.logOut.label",defaultMessage:"Log out"}});function C(e){return(0,j().Ls)({key:"join or create a workspace",displayName:M.joinOrCreateWorkspace,analyticsName:M.joinOrCreateWorkspace.defaultMessage,svg:S,validators:[],closeParentMenu:!0,action:t=>{let{environment:o}=t;A().A.reset(),o.currentUser.id!==e?x().T({environment:o,newCurrentUserId:e}).then((e=>{k().Ig(e,"space_switcher")})):k().Ig(o,"space_switcher")}})}function L(e){return(0,j().Ls)({key:"log out of a single account",displayName:M.logOut,analyticsName:M.logOut.defaultMessage,svg:f().s,validators:[],closeParentMenu:!0,action:t=>{let{environment:o}=t;const{online:n}=I().A.state;n&&(v().logoutSingleAccount({environment:o,userId:e,logoutOrigin:w().d.SpaceSwitcher}),y().Pz(o))}})}var R=()=>o(452939),V=()=>o(989423),W=()=>o(508496);var _=()=>o(901389),T=()=>o(426116),U=()=>o(72234),B=()=>o(751156),O=()=>o(704152),D=()=>o(439264),z=()=>o(919172),K=()=>o(939740),P=()=>o(89924),G=()=>o(125565),N=()=>o(394783),E=()=>o(972435),H=()=>o(640653),q=()=>o(477293),Q=()=>o(351360),Y=()=>o(968172),F=()=>o(151059),$=()=>o(630116),J=()=>o(596513),Z=()=>o(634157),X=()=>o(644914),ee=()=>o(179534),te=()=>o(214006),oe=()=>o(645873);const ne=(0,oe().jQ)(new(oe().O2)("SidebarSwitcherExternalPagesButton",(async()=>await o.e(22903).then(o.bind(o,95052)))),(e=>e.SidebarSwitcherExternalPagesButton));o(908872);var se=()=>o(614505),re=()=>o(171347),ie=()=>o(159588);const ce=function(e){let{id:t,focused:r,title:c,memberCount:a,subscriptionTierLabel:l,disabled:d,isCheck:u,isRightArrow:p,icon:m,spaceName:g,unreadMentions:f,menuListItemProps:S,hideDragHandle:w}=e;const y=(0,s().v3)(),[x,v]=(0,n.useState)(!1),{device:k}=y,A=(0,n.useCallback)((()=>v(!0)),[]),I=(0,n.useCallback)((()=>v(!1)),[]),{isMenuListFocusVisible:j}=(0,n.useContext)(K().VU),M=(0,i().IS)((e=>({button:{display:"flex",flexDirection:"row",width:"100%",height:32,alignItems:"center",padding:"4px 8px",gap:8,transition:"background 150ms ease",...!d&&r&&j&&{boxShadow:e.outlineBlueInputBoxShadow},borderRadius:6},iconContainer:{display:"grid",justifyContent:"center",alignItems:"center"},dragHandle:{width:20,gridColumn:1,gridRow:1,opacity:x?1:0,transition:`opacity ${ie().bM}`},spaceIcon:{gridColumn:1,gridRow:1,opacity:x&&!w?0:1,transition:`opacity ${ie().bM}`},checkIcon:{width:14,height:14,marginLeft:"auto"},chevronRightIcon:{width:12,height:12,marginLeft:"auto",marginRight:6},tooltip:{display:"flex",flexDirection:"column"},tooltipCaption:{color:e.text.contrastSecondary}})),[d,r,j,x,w]),C=(0,b.jsxs)("div",{style:M.tooltip,children:[l,(0,b.jsx)("div",{style:M.tooltipCaption,children:(0,b.jsx)(h().sA,{id:"sidebarSwitcherMenuItem.spaceSubscriptionTier.tooltipMessage",defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",values:{memberCount:a}})})]});return(0,b.jsx)(o(859428).A,{renderTooltip:()=>C,disableTooltip:!l||!a,placement:o(962730).W.Right,render:e=>(0,b.jsxs)(O().A,{...[S??{},e,{onMouseMove:A,onMouseLeave:I}].reduce(o(553965).A),hovered:r||x,disabled:d,style:M.button,children:[(0,b.jsxs)("div",{style:M.iconContainer,children:[!w&&(0,b.jsx)(o(57232).A,{iconSize:10,style:M.dragHandle}),(0,b.jsx)("div",{style:M.spaceIcon,children:(0,b.jsx)(ae,{id:t,icon:m,size:20,spaceName:g,unreadMentions:f})})]}),(0,b.jsx)(G().A,{className:"notranslate",isMobile:k.isMobile,children:c}),u&&(0,o(413267).b)(M.checkIcon),p&&(0,o(742117).V)(M.chevronRightIcon)]})},`sidebarswitchermenuitem-tooltip-${t}`)};function ae(e){let{id:t,icon:o,size:n,spaceName:s,unreadMentions:r}=e;return(0,b.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,b.jsxs)("div",{style:{position:"relative"},children:[t&&(0,b.jsx)(se().B,{disabled:!0,icon:o,isEmptyPage:!1,title:s,size:n,isLarge:!0}),r?(0,b.jsx)(le,{}):(0,b.jsx)(re().A,{color:re().g.Red,count:r,style:{position:"absolute",top:-5,right:-5}})]})})}function le(){const e=(0,i().IS)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:-3,right:-4,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,b.jsx)("div",{style:e.unreadBadge})}function de(e){const{userId:t,isLastUser:o,shouldShowNewWorkspaceButtonInUserSpaceView:n,onSpaceClick:a,close:l,disableAccountActions:d,disableDrag:u}=e,p=(0,s().v3)(),m=(0,s().Y0)(),f=(0,i().IS)((()=>({menuList:m.isMobile?{paddingTop:10}:{},bottomGap:{paddingBottom:8}})),[m.isMobile]),S=(0,q().r)("sharing_collaboration_sidebar_guest_aggregation"),[w,y]=(0,r().K8)((()=>{const e=te().A.getSpaceViewStores(p,t);return"external_pages_sidebar"===S?g().jB(e,(e=>!(0,H().IL)(e.getSpaceStore()))):[e]}),[p,t,S]),x=(0,r().K8)((()=>[...w.map((e=>e.pointer)).map((e=>({id:e.id,spaceId:e.spaceId||""}))).map(c().sZ),"create-workspace-row",..."external_pages_sidebar"===S?["external-pages"]:[]]),[w,S]),{currentUserRootStore:v,currentSpaceStore:k}=(0,r().K8)((()=>{const{currentUserRootStore:e,currentSpaceStore:t}=Q().default.state;return{currentUserRootStore:e,currentSpaceStore:t}}),[]),A=(0,h().tz)(),I=(0,r().K8)((()=>{if(!v)return[];const e=[];for(const[o,n]of w.entries()){const o=n.getSpaceStore();if(!o)continue;const s=t===v.id&&o.id===(null==k?void 0:k.id),{results:r}=ee().A.state,i=r.find((e=>e.spaceId===o.id)),c=(0,H().GK)(p,o),d=fe(p,o),{memberCount:m,subscriptionTierLabel:h}=be(p,A,o);e.push({key:n.id,render:e=>{const{focused:n}=e;return(0,b.jsx)(ce,{id:o.id,menuListItemProps:e,focused:n,icon:(0,H().c2)(p,o),spaceName:c,title:d,memberCount:m,subscriptionTierLabel:h,isCheck:s,unreadMentions:t===p.currentUser.id&&i&&i.spaceId!==(null==k?void 0:k.id)&&i.unread.mentions>0?i.unread.mentions:void 0,disabled:Se(p,t),hideDragHandle:u})},action:async e=>{let{event:o}=e;l();const r=ge({userId:t,spaceViewStore:n});(0,te().t)(n)&&r.isLoaded&&!r.isTeamGuestInSpace?he({environment:p,spaceViewStore:n}):s||await a({event:o,spaceViewStore:n})}})}if("external_pages_sidebar"===S&&y&&y.length>0){const o=y.filter((e=>!(0,te().t)(e)||ge({userId:t,spaceViewStore:e})));o&&o.length>0&&e.push({key:"external-pages",render:e=>(0,b.jsx)(ne,{...e,userId:t}),action:async e=>{let{event:n}=e;l();const s=g().Ul(o,(e=>{const t=Y().A.get(e.getSpaceId());return null!=t&&t.length?-t[0].visitedAt:0}))[0],r=s.getSpaceStore();t===v.id&&(null==r?void 0:r.id)===(null==k?void 0:k.id)||await a({event:n,spaceViewStore:s})}})}return n&&e.push({key:"new-workspace",render:e=>(0,b.jsx)(pe,{}),action:()=>{}}),e}),[v,S,y,n,w,t,null==k?void 0:k.id,p,A,u,l,a]),j=0===I.length?[]:[{key:"spaces",render:e=>(0,b.jsx)(P().A,{...e,disableMobilePadding:!0,topBorder:m.isMobile,children:m.isMobile?e.children:(0,b.jsx)(D().Ay,{direction:"vertical",keys:x,renderKey:t=>e.children[x.indexOf(t)],onDrop:we({userId:t,environment:p,appendSpaceViewStores:y}),style:{marginBottom:1},disabled:u})}),items:I}],M=0===I.length;return(0,b.jsxs)("div",{style:M&&o?f.bottomGap:{},children:[(0,b.jsx)(ue,{userId:t,disableAccountActions:d}),j.length>0?(0,b.jsx)("div",{style:f.menuList,children:(0,b.jsx)(K().Ay,{type:K().Oh.Vertical,sections:j,initialFocus:void 0,captureKeyboardOnlyWhenFocused:!0})}):null]},t)}function ue(e){const{userId:t,disableAccountActions:o=!1}=e,n=(0,r().O$)(I().e),i=(0,s().v3)(),c=(0,r().K8)((()=>te().A.getUserEmailAddress(i,t)),[i,t]);if(!c)return null;const a=o?[]:[C(t),L(t)];return(0,b.jsx)(N().A,{emailAddress:c,userId:t,disabled:!n||o,accountActions:a})}function pe(){const e=(0,s().v3)(),t=(0,i().IS)((e=>({button:{display:"flex",flexDirection:"row",height:32,alignItems:"center",padding:"4px 8px",gap:8,transition:"background 150ms ease",borderRadius:6},plusIconContainer:{display:"grid",justifyContent:"center",alignItems:"center",width:20,height:20},plusIcon:{fill:e.icon.secondary,width:14,height:14},label:{color:e.text.secondary}})),[]);return(0,b.jsxs)(O().A,{style:t.button,onClick:()=>{A().A.reset(),k().Ig(e,"sidebar_switcher"),function(e){V().vd(e,"quick_workspace_creation_click"),W().default.logEvent("quick_workspace_creation_click")}(e)},children:[(0,b.jsx)("div",{style:t.plusIconContainer,children:(0,a().plusIcon)(t.plusIcon)}),(0,b.jsx)(G().A,{style:t.label,children:(0,b.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.userSpaceViewList.newWorkspace.label",defaultMessage:"New workspace"})})]})}const me=(0,h().YK)({noAccessAsGuest:{defaultMessage:"You no longer have access to this workspace.",id:"UserSpaceViewList.noAccessAsGuest.label"}});function he(e){let{environment:t,spaceViewStore:o}=e;_().rG({message:E().A.formatMessage(me.noAccessAsGuest),onAccept:()=>{U().kg({environment:t,spaceViewStore:o})}})}function ge(e){let{userId:t,spaceViewStore:o}=e;if(!Z().A.getUserJoinedTeamsState({userId:t,spaceId:o.getSpaceId()}))return{isLoaded:!1};const n=[];for(const s of o.getTeamsStores()){const e=s.getModel();if(!e)return{isLoaded:!1};n.push(e)}return{isLoaded:!0,isTeamGuestInSpace:n.some((e=>(0,m().CG)({team:e,userId:t})))}}function fe(e,t){const o=(0,H().GK)(e,t),n=F().A.getData(e,{spaceId:t.id,userId:t.userId});return n&&"none"===n.role?(0,b.jsxs)("div",{style:{display:"flex"},children:[(0,b.jsx)("span",{style:{flexShrink:1,textOverflow:"ellipsis",overflow:"hidden"},children:o}),(0,b.jsx)("div",{style:{marginLeft:"8px",alignSelf:"center"},children:(0,b.jsx)(z().Q,{})})]}):o}function be(e,t,o){const n=F().A.getData(e,{spaceId:o.id});if(!n||"none"===n.role)return{subtitle:void 0,subscriptionTier:void 0,memberCount:void 0};const s=J().t.getData(e,{spaceId:o.id}),r=(0,p().AI)(s),i=(0,X().VG)(r),c=t.formatNumber(n.memberCount),a=t.formatMessage(i);return{subtitle:t.formatMessage(X().EN.workspaceSubtitleWithMembers,{numberOfWorkspaceMembers:c,planType:a}),subscriptionTierLabel:a,memberCount:c}}function Se(e,t){const{online:o}=I().A.state;return!o&&e.currentUser.id!==t}function we(e){const{userId:t,environment:o,prependSpaceViewStores:n,appendSpaceViewStores:s}=e;return function(e){const r=[...n?n.map((e=>e.pointer)):[],...e.filter((e=>"create-workspace-row"!==e&&"guest-workspaces"!==e)).map(c().gK).map((e=>l().L3.fromSpaceShardRecordId(e,d().mu))),...s?s.map((e=>e.pointer)):[]],i=new($().dZ)(o,{table:u().GD,id:t},{userId:t});B().createAndCommit({userAction:"SidebarSwitcherMultiAccount.handleDraggableListDrop",environment:o,canUndo:!0,perform:e=>{T().M1({userRootStore:i,transaction:e,spaceViewIds:r.map((e=>e.id)),spaceViewPointers:r})},userId:t}),R().p(o,{workspace_count:e.length})}}}}]);