"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[9647,77970],{8178:(e,t,i)=>{i.d(t,{A:()=>o});i(296540);var n=i(474848);const o=function(e){const{divider:t,large:o,block:a,children:r,hasMarginTop:s,small:l,style:d,smallMarginBottom:c,isCritical:u,fontSize:p,fontWeight:g}=e,m=(0,i(401497).DP)(),h="full"===t;return(0,i(722872).Tf)()?(0,n.jsx)(i(554509).D,{styleName:"iOS/Title-3/Semibold",colorName:e.isCritical?"uiRedPrimary":"primary",style:{marginTop:s?16:0,paddingBottom:h?12:0},children:r}):(0,n.jsx)("div",{style:{borderBottom:h?`1px solid ${m.regularDividerColor}`:0,marginBottom:h?16:c?2:8,marginTop:s?16:0,paddingBottom:h?12:0,fontSize:p??h?16:o?14:l?12:14,fontWeight:g??h?i(284371).Wy.medium:400,width:a?"100%":"auto",color:u?i(100622).Ay.red:m.text.primary,...d},children:r})}},47273:(e,t,i)=>{i.d(t,{DS:()=>o,Fe:()=>d,GB:()=>r,Gf:()=>u,V_:()=>c,j1:()=>l,j8:()=>a,yp:()=>p,yw:()=>s});var n=()=>i(762433);function o(e){return(0,n().Fq)({subscription:e})}function a(e){return(0,n().Ry)({subscription:e,trial:void 0})}function r(e){let{subscriptionState:t,logFunction:i,spaceId:o}=e;const a=g(t);return(0,n().yB)({billingData:{subscription:a,trial:void 0},logFunction:i,spaceId:o})}function s(e){return(0,n().q8)({subscription:e})}function l(e){return(0,n().V9)({subscription:g(e),trial:void 0})}function d(e){return(0,n().d$)({subscription:g(e),trial:void 0})}function c(e){return(0,n().ji)({subscription:g(e),trial:void 0})}function u(e){return(0,n().AI)({subscription:g(e),trial:void 0})}function p(e,t){return(0,n().KH)({subscription:g(e),trial:void 0},t)}function g(e){return e?{...e,trialEnd:void 0}:void 0}},66460:(e,t,i)=>{i.d(t,{V_:()=>B,WR:()=>T,eu:()=>M,xE:()=>P,xX:()=>N});i(16280);var n=()=>i(244641),o=(i(296540),()=>i(857639)),a=()=>i(762433),r=()=>i(323063),s=()=>i(959013),l=()=>i(502800),d=()=>i(498212),c=()=>i(252105),u=()=>i(449506),p=()=>i(901389),g=()=>i(496414),m=()=>i(989423),h=()=>i(351360),f=()=>i(57605),y=()=>i(508496),v=()=>i(613240),b=()=>i(128265),x=()=>i(224701),A=()=>i(749356),S=()=>i(779795),w=()=>i(807778),C=()=>i(134217),j=()=>i(981046),k=()=>i(151168),I=i(474848);const _=(0,s().YK)({applyingBusinessTrial:{id:"trialUpsellActions.applyingBusinessTrial",defaultMessage:"Setting up your Business trial…"}});async function M(e){var t,i;const{environment:l,stripe:d,elements:u,trialData:g,trialDays:m,sessionId:y,customerName:v,businessName:b}=e;if(!u||!d)return void o().log({level:"error",from:"trialUpsellActions",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});const{error:A}=await u.submit();if(A)return void c().$X(l,{error:"could not submit form",error_type:"payment_method"});const _=await d.createPaymentMethod({elements:u});if(_.error)return void c().$X(l,{error:_.error.message,error_type:"payment_method"});if(!_.paymentMethod)return void c().$X(l,{error:"could not create token",error_type:"payment_method"});const M={type:"paymentMethodId",value:_.paymentMethod.id},T=h().default.state.currentSpaceStore;if(!T)return;const B=T.id,N=await S().p_({environment:l,spaceId:B}),P=await f().A.awaitData(l,{spaceId:B});if(!P)throw new Error("Billing data not loaded");const z=(0,a().lQ)(P),L=j().A.state.selectedCurrencyCode??"USD",R=(0,k().Zr)(),W=(0,r().vk)(N,{interval:"month",product:R,currency:L}),D=(0,w().Le)(),V=(0,r().vH)(z,{price:W,quantity:1},{isMay13PackagingChangesEnabled:D}),O=n().c9.now().plus({days:m});return await async function(e){const{environment:t,spaceStore:i,paymentData:n,desiredState:o,stripe:a,trialData:r,customerName:l,businessName:d,addressZip:u,addressCountry:g,sessionId:m}=e,h=await f().A.awaitData(t,{spaceId:i.id});try{const e=await x().nV({environment:t,sessionId:m,spaceStore:i,desiredState:o,paymentData:n,from:"onboarding",trialData:r,billingEmail:(0,C().cs)(h),customerName:l,businessName:d,addressZip:u,addressCountry:g}),c=e.paymentIntentClientSecret,f=e.paymentIntentStatus;if(c&&"requires_action"===f){const{error:e}=await a.handleNextAction({clientSecret:c});e&&(await x().M2({environment:t,spaceStore:i,from:"subscription_upgrade_onboarding_failed_payment"}),p().f1((0,I.jsx)(s().sA,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."})))}return"success"}catch{return void c().AF(t)}}({environment:l,spaceStore:T,desiredState:{...V,trialEnd:O},paymentData:M,stripe:d,trialData:g,customerName:v,businessName:b,addressZip:(null===(t=_.paymentMethod.billing_details.address)||void 0===t?void 0:t.postal_code)||"",addressCountry:(null===(i=_.paymentMethod.billing_details.address)||void 0===i?void 0:i.country)||"",sessionId:y})}const T=(0,i(496603).sg)(M,1e3,{leading:!0,trailing:!1});async function B(e){let{spaceId:t,environment:i}=e;if(await(0,A().L6)({environment:i,spaceId:t,offerCampaign:"reverse"})&&(0,w().s)(i)){await P(t,i,"going_multiplayer")&&await v().A.resetData(i,{spaceId:t})}}async function N(e,t,i){try{g().m({message:_.applyingBusinessTrial});const n=await u().callApi({eventName:"applyReverseTrial",environment:t,data:{spaceId:e,trialData:{id:"business_reverse",from:i}}});return"success"===n.type?((0,m().u4)({environment:t,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:"business_reverse",success:"success"===n.data.status}}}),await x().Ow(t),g().V(),"success"===n.data.status):(z("business_reverse",t,n.error),g().V(),!1)}catch(n){return z("business_reverse",t,n),g().V(),!1}}async function P(e,t,i){let n="reverse";try{const o=await(0,b().G)(t),a=Boolean(y().default.checkGate({gateName:"apply_reverse_trial_key"}));o&&(n="reverse_mm_ent");const r=`${e}_timed_trial`,s=a?(0,d().gB)(r):void 0,l=await u().callApi({eventName:"applyReverseTrial",environment:t,data:{spaceId:e,trialData:{id:n,from:i},idempotencyKey:s}});return"success"===l.type?((0,m().u4)({environment:t,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:n,success:"success"===l.data.status}}}),await x().Ow(t),"success"===l.data.status):(z(n,t,l.error),!1)}catch(o){return z(n,t,o),!1}}function z(e,t,i){(0,m().u4)({environment:t,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:e,success:!1}}}),o().log({level:"error",from:"trialUpsellActions",type:"applyReverseTrialError",error:(0,l().convertErrorToLog)(i)})}},113507:(e,t,i)=>{i.d(t,{A:()=>n});const n=new(i(463830).A)},118849:(e,t,i)=>{i.d(t,{A:()=>u});i(296540);var n=()=>i(847249),o=()=>i(979340),a=()=>i(959013),r=()=>i(100622),s=()=>i(284371),l=()=>i(824160),d=()=>i(991249),c=i(474848);const u=function(e){let{subscriptionTier:t,mobileStyle:u,desktopStyle:p,analyticsName:g,onClick:m,disableTooltip:h,tooltipContent:f}=e;const y=(0,i(401497).DP)(),v=(0,i(484714).v3)(),{device:b}=v,x=(0,n().K8)((()=>{const{currentSpaceStore:e}=i(351360).default.state;return null==e?void 0:e.canAdmin()}),[]),A=(0,n().K8)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?r().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:s().Wy.medium};default:return{}}}(t,y)),[t,y]);if(b.isMobileNative)return null;let S;return"personal"===t?S=(0,c.jsx)(a().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,o().$P)(t)?S=(0,c.jsx)(a().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,o().tL)(t)?S=(0,c.jsx)(a().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,o().OX)(t)?S=(0,c.jsx)(a().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,i(534177).HB)(t),b.isMobile||!x?(0,c.jsx)(l().A,{mobileStyle:u,children:S}):(0,c.jsx)(i(859428).A,{delayThreshold:120,disableTooltip:h,placement:i(962730).W.Bottom,renderTooltip:()=>(0,c.jsx)("div",{style:{maxWidth:500},children:f?(0,c.jsx)(a().sA,{defaultMessage:"{tooltipText}",id:"upgradeButton.upgrade.custom.tooltip",values:{tooltipText:f}}):(0,c.jsx)(a().sA,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,c.jsx)(l().A,{desktopStyle:p,innerStyle:A,onClick:e=>function(e,t,i,n,o){d().K(n,{from:t,upsell:{type:"product",product:i,limit:{type:"none"},trialability:"none"}}),o&&o(e)}(e,g,t,v,m),...e,children:S})})}},141966:(e,t,i)=>{i.d(t,{H:()=>r,l:()=>s});var n=()=>i(842599),o=()=>i(351360),a=()=>i(508496);function r(e,t){return t?48:e?32:18}function s(){var e;if(a().default.checkGate({gateName:"ks_dev_settings"}))return!1;const t=null===(e=o().default.state.currentUserStore)||void 0===e?void 0:e.getEmail();return"makenotion.com"===(0,n().zN)(t??"")}},147294:(e,t,i)=>{i.d(t,{E:()=>m});i(296540);var n=()=>i(847249),o=()=>i(401497),a=()=>i(959013),r=()=>i(963589),s=()=>i(351360),l=()=>i(464708),d=i(474848);const c={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},http_request_automation_action:{launchDateMs:173324302e4,expiryDateMs:1738368e6},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},show_integration_webhooks_callout:{launchDateMs:17428608e5,expiryDateMs:17506368e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5}};function u(e){let{style:t}=e;const i=(0,o().IS)((e=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...t}})),[t]);return(0,d.jsx)(l().A,{color:"blue",style:i.badge,content:(0,d.jsx)(a().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function p(e){let{style:t,newBadgeKey:i}=e;const{launchDateMs:o,expiryDateMs:a}=c[i];return(0,n().K8)((()=>{const{currentUserSettingsStore:e}=s().default.state;if(e&&e.isReady()){var t;const i=null===(t=e.getSettings())||void 0===t?void 0:t.signup_time;if(i&&i>o)return!1}return Date.now()<=a}),[a,o])?(0,d.jsx)(u,{style:t}):null}function g(e){let{style:t,newBadgeKey:i}=e;return(0,r().X)(i)?(0,d.jsx)(u,{style:t}):null}function m(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,d.jsx)(g,{...e}):(0,d.jsx)(p,{...e})}},163580:(e,t,i)=>{i.d(t,{VT:()=>s,b0:()=>l,gz:()=>d});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(354520),i(581454);var n=()=>i(799288),o=()=>i(332393),a=()=>i(351360),r=()=>i(630116);function s(e,t){const i=t.getAlive(),o=(0,n().hu)(t),a=!l(t),r=l(t),s=Boolean(e.currentUser.id===t.getParentId());return i&&o&&(r&&s||a)}function l(e){if(!e.getAlive||!(0,n().hu)(e))return!1;const{currentUserRootStore:t}=a().default.state,i=e.getIntegrationId();if(!t||!i)return!1;const s=(0,r().Oo)(t,{id:i,table:o().Li}).getKeyStore("type").getValue();return!e.isInternalBot(s?{type:s}:void 0)}function d(e){const{externalIntegrationStoreState:t,integrationId:i}=e;if(!t.loaded)return;const o=t.externalAuthentications.map((e=>{let{parent_id:t}=e;return t})),a=new Set(o),r=t.bots.filter((e=>e.alive&&a.has(e.id)&&(0,n().Sd)(e)&&e.integration_id===i));return r.length?r[0]:void 0}},188799:(e,t,i)=>{i.d(t,{b:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("taskList",{viewBox:"0 0 18 17",svg:(0,n.jsx)("path",{d:"M3.48438 7.29688C5.35938 7.29688 6.92188 5.73438 6.92188 3.85938C6.92188 1.96875 5.35938 0.40625 3.48438 0.40625C1.59375 0.40625 0.0390625 1.96875 0.0390625 3.85938C0.0390625 5.73438 1.60156 7.29688 3.48438 7.29688ZM3.07031 5.70312C2.89844 5.70312 2.77344 5.61719 2.65625 5.47656L1.78125 4.42969C1.69531 4.32812 1.66406 4.23438 1.66406 4.10156C1.66406 3.85938 1.85156 3.67188 2.08594 3.67188C2.24219 3.67188 2.35156 3.73438 2.45312 3.875L3.05469 4.625L4.44531 2.39062C4.54688 2.23438 4.67969 2.15625 4.83594 2.15625C5.07031 2.15625 5.26562 2.33594 5.26562 2.55469C5.26562 2.66406 5.24219 2.76562 5.16406 2.88281L3.5 5.46875C3.39844 5.61719 3.25 5.70312 3.07031 5.70312ZM9.39844 4.54688H17.2578C17.6406 4.54688 17.9531 4.24219 17.9531 3.85938C17.9531 3.47656 17.6406 3.17188 17.2578 3.17188H9.39844C9.01562 3.17188 8.71875 3.47656 8.71875 3.85938C8.71875 4.24219 9.01562 4.54688 9.39844 4.54688ZM3.48438 16.3281C5.35938 16.3281 6.92188 14.7656 6.92188 12.8828C6.92188 10.9922 5.35938 9.4375 3.48438 9.4375C1.59375 9.4375 0.0390625 11 0.0390625 12.8828C0.0390625 14.7656 1.60156 16.3281 3.48438 16.3281ZM3.48438 15C2.32812 15 1.36719 14.0312 1.36719 12.8828C1.36719 11.7344 2.33594 10.7578 3.48438 10.7578C4.625 10.7578 5.60156 11.7344 5.60156 12.8828C5.60156 14.0312 4.625 15 3.48438 15ZM9.39844 13.5859H17.2578C17.6406 13.5859 17.9531 13.2812 17.9531 12.8984C17.9531 12.5156 17.6406 12.2109 17.2578 12.2109H9.39844C9.01562 12.2109 8.71875 12.5156 8.71875 12.8984C8.71875 13.2812 9.01562 13.5859 9.39844 13.5859Z"})})},192591:(e,t,i)=>{i.d(t,{P:()=>y,_:()=>v});var n=()=>i(861017),o=()=>i(939768),a=()=>i(559926),r=()=>i(901389),s=()=>i(780054),l=()=>i(725951),d=()=>i(313961),c=()=>i(404141),u=()=>i(250933),p=()=>i(449506),g=()=>i(705540),m=()=>i(496414),h=()=>i(957416);const f=(0,i(959013).YK)({authenticatingWithTrello:{id:"trelloActions.authenticatingWithTrello.loadingMessage",defaultMessage:"Authenticating with Trello…"},titleMessage:{defaultMessage:"Trello login",id:"trelloActions.loginPopupModal.title"}});async function y(e){const{environment:t,requestStore:i}=e,u=(0,l().LX)(t);let y=(0,n().bQ)(s().A.domainBaseUrl,{authType:u,userId:t.currentUser.id,isElectronDevice:t.device.isElectron});if(y=u.redirectToAuth?y:await(0,l().YN)(t,y),t.device.isElectron)return void g().openExternalUrl(y);const b=await h().P(t,{width:580,height:700,url:y,titleMessage:f.titleMessage});if(!b)return;const x=o().qg(b),A=x.query.oauth_token,S=x.query.oauth_verifier;if(!A||!S)return;m().m({message:f.authenticatingWithTrello});const w=await p().callApi({eventName:"authWithTrello",environment:t,data:{requestToken:A,verifier:S}});"failed"===w.type?(a()._$(t,{import_source:"trello",data:{import_type:"api",status:"failure",error:w.error,userId:t.currentUser.id}}),console.error(w.error),r().Qg(w),m().V()):(a()._$(t,{import_source:"trello",data:{import_type:"api",status:"success",userId:t.currentUser.id}}),a().mu(t,{integration_name:"trello"}),await i.refresh(),d().A.setState({open:!0}),c().A.setState({...c().A.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await v(t,i),m().V())}async function v(e,t){u().A.setState({...u().A.state,isFetchingBoards:!0,showLoader:!0});const i=await p().callApi({eventName:"getTrelloBoards",environment:e,data:{}});return await t.refresh(),"success"===i.type?(u().A.setState({...u().A.state,boardsResponse:i.data,isFetchingBoards:!1,showLoader:!1}),i.data):(console.error(i.error),{boards:[]})}},197534:(e,t,i)=>{i.d(t,{Q:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("settingsMembersFilled",{viewBox:"0 0 20 13",svg:(0,n.jsx)("path",{d:"M13.582 6.00293C15.0723 6.00293 16.3369 4.67676 16.3369 2.96094C16.3369 1.28613 15.0654 0.0078125 13.582 0.0078125C12.0986 0.0078125 10.8203 1.30664 10.8271 2.97461C10.8271 4.67676 12.0918 6.00293 13.582 6.00293ZM5.67969 6.16016C6.97852 6.16016 8.0791 4.99805 8.0791 3.50781C8.0791 2.04492 6.97168 0.9375 5.67969 0.9375C4.3877 0.9375 3.27344 2.06543 3.28027 3.52148C3.28027 4.99805 4.38086 6.16016 5.67969 6.16016ZM1.91309 12.3604H7.0332C6.30859 11.3145 7.1084 9.25 8.64648 8.04688C7.89453 7.55469 6.91016 7.19922 5.67969 7.19922C2.62402 7.19922 0.648438 9.44824 0.648438 11.3076C0.648438 11.9775 0.990234 12.3604 1.91309 12.3604ZM9.31641 12.3604H17.8408C18.9619 12.3604 19.3516 12.0186 19.3516 11.3965C19.3516 9.63281 17.123 7.21289 13.5752 7.21289C10.0342 7.21289 7.80566 9.63281 7.80566 11.3965C7.80566 12.0186 8.19531 12.3604 9.31641 12.3604Z"})})},250933:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().default{getInitialState(){return{boardsResponse:{boards:[]},isFetchingBoards:!0,showLoader:!1}}}const o=new n},313961:(e,t,i)=>{i.d(t,{A:()=>n});const n=new(i(463830).A)},320865:(e,t,i)=>{i.d(t,{A:()=>o});i(296540);var n=i(474848);const o=function(){return(0,n.jsx)(i(678553).Ay,{title:(0,n.jsx)(i(331542).A,{})})}},323063:(e,t,i)=>{i.d(t,{HO:()=>g,V5:()=>l,Vr:()=>d,ef:()=>p,gL:()=>c,ng:()=>f,vH:()=>u,vk:()=>h,z2:()=>m});i(16280),i(269479),i(898992),i(354520),i(672577),i(581454),i(737550);var n=()=>i(720665),o=()=>i(762433),a=()=>i(47273),r=()=>i(622963),s=()=>i(979340);function l(e,t){return g(e.items,t.items).some((e=>{let[t,i]=e;return function(e,t){if(!e)return!1;if(!t)return!0;const i=o().xp(e),n=o().xp(t);if(!i||!n)return!1;return s().o3[i]>s().o3[n]}(t,i)}))}function d(e,t,i){let{trialEnd:n,items:o}=t;return{trialEnd:n,items:o.map((t=>{const n=t.price.product,o=t.price.unitAmount.currencyCode,a=h(e,{interval:i,product:n,currency:o});return{...t,price:a}}))}}function c(e,t){const i=e.items.filter((e=>o().IE(e)!==t));return{...e,items:i}}function u(e,t,i){const{isMay13PackagingChangesEnabled:n}=i,a=o().IE(t),r=t.price.product,s=e.items.filter((e=>{const t=e.price.product,i=o().IE(e);return!(a===i)&&!(n&&"ai"===t&&("business"===r||"enterprise"===r))}));return{...e,items:s.concat([t])}}function p(e){const{state:t,prices:i,quantities:n,params:{interval:a,currency:r},products:s,flags:{isMay13PackagingChangesEnabled:l}}=e,d=s.map((e=>function(e){if("personal_free"===e||"team_free"===e)return"free";return e}(e))),c=d.map((e=>o().Mr(e))),u=t.items.filter((e=>{const t=e.price.product,i=o().IE(e),n=c.includes(i),a=l&&"ai"===t&&(d.includes("business")||d.includes("enterprise"));return!n&&!a})),p=d.map((e=>f(h(i,{interval:a,currency:r,product:e}),n)));return{...t,items:u.concat(p)}}function g(e,t){return(0,n().Z4)(e,(e=>o().IE(e)),t,(e=>o().IE(e)))}function m(e){const{prices:t,billingData:i,product:n}=e,r=o().Ry(i),s=o().lQ(i),l=a().yw(s),d=o().q8(i),c=l??d;return t.find((e=>e.product===n&&e.billingInterval===c&&e.unitAmount.currencyCode===r))}function h(e,t){let{interval:i,product:n,currency:o}=t;return function(e,t){if(null==e)throw new Error(t);return e}(e.find((e=>e.product===n&&e.billingInterval===i&&e.unitAmount.currencyCode===o)),`Unable to find price with interval: ${i}, product: ${n}, currency: ${o}`)}function f(e,t){const{numSeats:i,numCustomHostnames:n}=t;return"public_domain_custom_hostnames"===(0,r().vK)(e.product)?{price:e,quantity:n}:{price:e,quantity:i}}},324009:(e,t,i)=>{i.d(t,{J:()=>v,p:()=>b});var n=()=>i(861017),o=()=>i(939768),a=()=>i(559926),r=()=>i(901389),s=()=>i(780054),l=()=>i(725951),d=()=>i(372555),c=()=>i(113507),u=()=>i(522094),p=()=>i(404141),g=()=>i(449506),m=()=>i(705540),h=()=>i(496414),f=()=>i(957416);const y=(0,i(959013).YK)({authenticatingWithEvernote:{id:"evernoteActions.authenticatingWithEvernote.loadingMessage",defaultMessage:"Authenticating with Evernote…"},titleMessage:{defaultMessage:"Evernote login",id:"evernoteActions.loginPopupModal.title"}});async function v(e){const{environment:t,requestStore:i}=e,v=(0,l().LX)(t);let x=(0,n().TD)(s().A.domainBaseUrl,{authType:v,userId:t.currentUser.id,isElectronDevice:t.device.isElectron});if(x=v.redirectToAuth?x:await(0,l().YN)(t,x),t.device.isElectron)return h().m({message:y.authenticatingWithEvernote}),d().A.setState({...d().A.state,linkingAccount:!0,showLoader:!0}),void m().openExternalUrl(x);const A=await f().P(t,{width:580,height:700,url:x,titleMessage:y.titleMessage});if(!A)return;const S=o().qg(A),w=S.query.oauth_token,C=S.query.oauth_verifier;if(!w||!C)return;h().m({message:y.authenticatingWithEvernote});const j=await g().callApi({eventName:"authWithEvernote",environment:t,data:{requestToken:w,verifier:C}}),k=u().A.getOrCreateFlowId();if("failed"===j.type)return a()._$(t,{import_source:"evernote",data:{import_type:"api",status:"failure",error:j.error,userId:t.currentUser.id},flowId:k}),console.error(j.error),r().Qg(j),void h().V();a()._$(t,{import_source:"evernote",data:{import_type:"api",status:"success",userId:t.currentUser.id},flowId:k}),a().mu(t,{integration_name:"evernote"}),await i.refresh(),c().A.setState({open:!0}),p().A.setState({...p().A.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await b({environment:t,requestStore:i}),h().V()}async function b(e){const{environment:t,requestStore:i}=e;try{d().A.setState({...d().A.state,isFetchingNotebooks:!0,showLoader:!0});const e=await g().callApi({eventName:"getEvernoteNotebooks",environment:t,data:{}});if(await i.refresh(),"success"===e.type){d().A.setState({...d().A.state,notebooksResponse:e.data,isFetchingNotebooks:!1,showLoader:!1});const{userInfo:t,notebooks:i}=e.data;return{userInfo:t,notebooks:i}}return console.error(e.error),{notebooks:[],userInfo:void 0}}catch(n){return console.error(n),{notebooks:[],userInfo:void 0}}}},372555:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().default{getInitialState(){return{notebooksResponse:{notebooks:[]},isFetchingNotebooks:!0,showLoader:!1,linkingAccount:!1}}}const o=new n},374693:(e,t,i)=>{i.d(t,{_:()=>n});const n=(0,i(340498).xh)("notion",{default:{loader:()=>i.e(60858).then(i.bind(i,558687))},darkMode:{loader:()=>i.e(60858).then(i.bind(i,633137))}})},376203:(e,t,i)=>{i.d(t,{B:()=>o});var n=i(296540);function o(e){const t=(0,n.useId)();return e??t}},522094:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().default{getInitialState(){return{flowId:void 0}}getOrCreateFlowId(){const e=this.state.flowId||i(206267).JW();return this.state.flowId&&this.setState({flowId:e}),e}}const o=new n},566254:(e,t,i)=>{i.d(t,{HC:()=>d,Pz:()=>u,_s:()=>s,ml:()=>p,rA:()=>c,x_:()=>l});var n=()=>i(559926),o=()=>i(666803),a=()=>i(449506),r=()=>i(908928);async function s(e,t){const i=await a().callApi({eventName:"getConnectedAppsStatus",environment:e,data:{spaceId:t}});if("failed"===i.type){const e=i.error;return console.error(e),{drive:[],evernote:void 0,trello:void 0,asana:void 0,confluence:void 0}}return i.data}async function l(e,t){await a().callApi({eventName:"disconnectTrello",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"trello"})}async function d(e,t){await a().callApi({eventName:"disconnectAsana",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"asana"})}async function c(e,t){await a().callApi({eventName:"disconnectEvernote",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"evernote"})}async function u(e,t,i){await a().callApi({eventName:"disconnectConfluence",environment:e,data:{spaceId:i}}),await t.refresh(),n().kO(e,{integration_name:"confluence"})}async function p(e){const{environment:t,requestStore:i,botId:a}=e;await r().KA({environment:t,botId:a,onSuccess:()=>{!async function(e){const{environment:t,requestStore:i}=e;await i.refresh();const a=o().Ay.getInitialState();o().Ay.setState(a),n().kO(t,{integration_name:"jira"})}({environment:t,requestStore:i})}})}},566468:(e,t,i)=>{i.d(t,{Ji:()=>C,bd:()=>_,f0:()=>k,mf:()=>I,s7:()=>j});i(944114),i(296540);var n=()=>i(847249),o=()=>i(401497),a=()=>i(30626),r=()=>i(959013),s=()=>i(496603),l=()=>i(534177),d=()=>i(722872),c=()=>i(962730),u=()=>i(463830),p=()=>i(760217),g=()=>i(406699),m=()=>i(285790),h=()=>i(710149),f=()=>i(928600),y=()=>i(939740),v=()=>i(897119),b=()=>i(89924),x=()=>i(859428),A=()=>i(125565),S=i(474848);const w=20,C=12;function j(e){let{title:t,byline:i,icon:n,iconSize:o,iconMargin:a,useThinTitle:r,useSecondaryColorTitle:s,containerStyles:l,summaryStyles:d,rightContent:c,badge:u}=e;const p=k({icon:n,iconSize:o,iconMargin:a,useThinTitle:r,containerStyles:l,summaryStyles:d});return(0,S.jsxs)("div",{style:p.container,children:[n?(0,S.jsx)("div",{style:p.iconContainer,children:n}):null,(0,S.jsxs)("div",{style:p.summaryContainer,children:[(0,S.jsxs)("div",{style:p.nameContainer,children:[(0,S.jsx)(A().A,{style:p.name,isSecondaryColor:s,showTooltipWhenTruncated:!0,children:t}),u?(0,S.jsx)("div",{style:p.badge,children:u}):null]}),i?(0,S.jsx)(A().A,{style:p.byline,children:i}):null]}),c]})}function k(e){const{icon:t,iconSize:i,iconMargin:n,useThinTitle:a,containerStyles:r,summaryStyles:s}=e,l=n??C,d=t?i??w:0;return(0,o().IS)((e=>({container:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",...r},summaryContainer:{width:`calc(100% - ${d}px)`,...s},iconContainer:{height:d,width:d,flexGrow:0,flexShrink:0,flexBasis:d,marginRight:l,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},badge:{marginRight:8},nameContainer:{display:"flex",alignItems:"center",gap:6},name:{fontSize:14,fontWeight:a?400:500},byline:{fontSize:12,lineHeight:1.3,opacity:.5}})),[d,l,a,r,s])}function I(e){let{titleStyles:t,includeByline:i,bylineStyles:n,includeIcon:a,iconStyles:r,containerStyles:s}=e;const l=(0,o().IS)((()=>({container:{height:53,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",gap:8,...s},icon:{borderRadius:4,height:24,width:24,marginLeft:-2,...r},textContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",width:"calc(100% - 32px)",gap:4},title:{borderRadius:4,height:14,width:"80%",...t},byline:{borderRadius:4,height:12,width:"60%",...n}})),[s,t,n,r]);return(0,S.jsxs)("div",{style:l.container,children:[a?(0,S.jsx)(h().A,{style:l.icon}):null,(0,S.jsxs)("div",{style:l.textContainer,children:[(0,S.jsx)(h().A,{style:l.title}),i?(0,S.jsx)(h().A,{style:l.byline}):null]})]})}function _(e){const t=(0,r().tz)(),i=(0,n().uB)(void 0,u().A),h=(0,o().IS)((()=>({popupMenu:{width:312}})),[]);let A=[];const w=[];for(const n of e.items)if("divider"===n.type){const t=w.length>0,i={key:`actions-${w.length}`,render:i=>(0,S.jsx)(b().A,{title:e.title,topBorder:t,...i}),items:A};w.push(i),A=[]}else if("action"===n.type){const e={key:n.key,render:e=>(0,S.jsx)(x().A,{textWrap:!0,render:t=>(0,S.jsx)(p().A,{...e,...t,isRedOnHover:n.isDestructive,shouldWrapCaption:!0,icon:n.icon,title:n.title,caption:n.caption,disabled:n.disabled,disabledFeedback:n.disabled}),renderTooltip:()=>n.tooltipTitle,disableTooltip:n.tooltipDisabled??!0,placement:c().W.Right}),action:()=>{n.action(),i.setState({...i.state,open:!1})}};A.push(e)}else(0,l().HB)(n);const C={key:`actions-${w.length}`,render:t=>(0,S.jsx)(b().A,{title:e.title,topBorder:w.length>0,...t}),items:A};return w.push(C),(0,S.jsx)(g().Ay,{stopClickPropagation:!0,popupType:v().nl.Popup,alignmentToOrigin:c().C.Start,placementToOrigin:c().W.Bottom,style:h.popupMenu,render:()=>(0,S.jsx)(f().A,{menuType:d().gu.Popup,width:312,children:(0,S.jsx)(y().Ay,{type:y().Oh.Vertical,initialFocus:void 0,sections:w})}),onClose:s().lQ,buttonPopupStore:i,renderOrigin:e=>(0,S.jsx)(m().A,{ariaLabel:t.formatMessage({id:"iconCellActionMenu.iconButton.ariaLabel",defaultMessage:"More actions"}),icon:a()._,...e})})}},655765:(e,t,i)=>{i.r(t),i.d(t,{applyMultiplayerReverseTrialIfEligible:()=>d().V_,applyReverseBusinessTrial:()=>d().xX,applyReversePlusTrial:()=>d().xE,handleTrialUpgradeFromOnboarding:()=>d().WR,handleTrialUpgradeFromOnboardingImpl:()=>d().eu,isEligibleForBlockLimitTimedTrial:()=>l});var n=()=>i(130382),o=()=>i(762433),a=()=>i(57605),r=()=>i(128265),s=()=>i(749356);async function l(e,t){const i=await a().A.awaitData(e,{spaceId:null==t?void 0:t.id});if("free"!==(0,o().AI)(i))return!1;const l=null==t?void 0:t.getSetting("reach_block_limit_time");if(!l||(0,n().Mn)(l)<3)return!1;if(await(0,r().G)(e))return!1;const d=t.getSpaceId();return!!(await(0,s().L6)({environment:e,spaceId:d,offerCampaign:"default"}))}var d=()=>i(66460)},657328:(e,t,i)=>{i.d(t,{C:()=>a});i(296540);var n=()=>i(959013),o=i(474848);function a(){return(0,o.jsx)(n().sA,{id:"organization.workspaceSettings.locked.tooltip",defaultMessage:"This setting is being managed by your organization."})}},663929:(e,t,i)=>{i.d(t,{hC:()=>c,vd:()=>u});i(581454);var n=i(296540),o=()=>i(401497),a=()=>i(534177),r=()=>i(987267),s=()=>i(460292),l=i(474848);const d={notion:i(374693)._,slack:r().GK.slack,google_drive:r().GK.google_drive,github:r().GK.github,gmail:r().GK.gmail,jira:r().GK.jira,microsoftTeams:r().GK.microsoftTeams,sharepoint:r().GK.sharepoint,linear:r().GK.linear};function c(e){const{connectors:t,maxBubbles:i,iconSize:a,bubbleStyles:r}=e,c=(0,n.useMemo)((()=>[...t.slice(0,i)].reverse()),[t,i]),u=Math.max(0,t.length-i),p=(0,o().IS)((e=>({bubbleWrapper:{display:"flex",alignItems:"center",flexDirection:"row-reverse",justifyContent:"flex-end"},bubble:{boxShadow:e.shadow2XS,borderRadius:"100%",width:20,height:20,backgroundColor:e.whiteButtonBackground,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:-2,fontSize:9,color:e.text.tertiary,...r}})),[r]),g="dark"===(0,o().eP)();return 0===t.length?null:(0,l.jsxs)("div",{style:p.bubbleWrapper,children:[u>0&&(0,l.jsx)("div",{style:p.bubble,children:(0,l.jsx)("div",{children:`+${u}`})}),c.map(((e,t)=>(0,l.jsx)("div",{style:p.bubble,children:(0,l.jsx)(s().Q,{iconGroup:d[e],overrideSize:()=>a,variantName:g?"darkMode":"default"})},`${e}-${t}`)))]})}function u(e){return"notion"===e.type?"notion":"slack"===e.type?"slack":"google-drive"===e.type?"google_drive":"github"===e.type?"github":"gmail"===e.type?"gmail":"jira"===e.type?"jira":"sharepoint"===e.type?"sharepoint":"microsoftTeams"===e.type?"microsoftTeams":"linear"===e.type?"linear":"everything"===e.type||"universal-workspace"===e.type||"workspace"===e.type||"page"===e.type||"collection"===e.type||"teamspace"===e.type||"site"===e.type||"notion-none"===e.type||"ai-knowledge"===e.type||"helpdocs"===e.type||"web"===e.type||"universal-none"===e.type||"slackbot"===e.type||"labeler"===e.type?void 0:(0,a().HB)(e)}},702723:(e,t,i)=>{i.d(t,{A:()=>z,m:()=>D});i(944114),i(898992),i(672577),i(581454);var n=i(296540),o=()=>i(484714),a=()=>i(847249),r=()=>i(401497),s=()=>i(668725),l=()=>i(449552),d=()=>i(959013),c=()=>i(534177),u=()=>i(620689),p=()=>i(789550),g=()=>i(722872),m=()=>i(141966),h=()=>i(376203),f=()=>i(962730),y=()=>i(991249),v=()=>i(118849),b=()=>i(493823),x=()=>i(760217),A=()=>i(406699),S=()=>i(928600),w=()=>i(678553),C=()=>i(939740),j=()=>i(554509),k=()=>i(864943),I=()=>i(89924),_=()=>i(946548),M=()=>i(574036),T=()=>i(859428),B=()=>i(843878),N=()=>i(304422),P=i(474848);function z(e){const{isMobile:t,title:i,isCritical:s,disableTitle:l,caption:d,captionStyle:c,upsellOptions:b,type:x,shouldHighlight:A}=e,S=(0,o().v3)(),w=(0,g().Tf)(),{paddingLeftCSS:C,paddingRightCSS:k}=(0,a().K8)((()=>{const{paddingLeftCSS:e,paddingRightCSS:t}=S.WindowSizeStore.state;return{paddingLeftCSS:e,paddingRightCSS:t}}),[S]),[I,_]=(0,n.useState)(!1),M=(0,n.useCallback)((()=>_(!0)),[_]),N=(0,n.useCallback)((()=>_(!1)),[_]),z=(0,n.useContext)(p().R),R=(0,n.useRef)(null);(0,n.useEffect)((()=>{A&&R.current&&u().hT({element:R.current,environment:S,scrollerContext:z,vertical:{reveal:"closest"},horizontal:void 0,animate:!0})}),[S,A,R,z]);const W="toggleToButton"===e.type?e.isOn:void 0,D="custom"===e.type?e.useFlexboxStyle:void 0,V=(0,n.useMemo)((()=>{if(t){if("dropdown"===x)return{display:"flex",flexDirection:"column"};if(W||D)return{}}return{display:"flex",alignItems:"center",justifyContent:"space-between"}}),[t,x,W,D]),O=(0,r().IS)((i=>({container:{...V,paddingLeft:t?C:void 0,paddingRight:t?k:void 0,cursor:I&&!e.disabled?"pointer":e.disabled?"not-allowed":"default",...A?{backgroundColor:i.buttonHoveredBackground,marginLeft:-1*(0,B().AL)(t),marginRight:-1*(0,B().AL)(t),paddingLeft:(0,B().AL)(t),paddingRight:(0,B().AL)(t),marginTop:-1*(0,m().H)(t,w)/2,marginBottom:-1*(0,m().H)(t,w)/2,paddingTop:(0,m().H)(t,w)/2,paddingBottom:(0,m().H)(t,w)/2}:{}},description:{display:"flex",flexDirection:"column",marginRight:"5%",width:"75%",gap:6},captionStyle:{...c},title:{display:"flex",flexDirection:"row"}})),[t,w,C,k,A,I,c,e.disabled,V]),E="toggle"===e.type||"toggleToButton"===e.type||"custom"===e.type&&!e.disableSettingsItemClick,U=(0,h().B)(),H=(0,h().B)(),$=s?"uiRedPrimary":l?"secondary":"primary",K=(0,P.jsxs)("div",{ref:R,style:O.container,onClick:()=>{if(!(e.disabled||"custom"===e.type&&e.disableSettingsItemClick))return b&&b.shouldUpsell?y().K(S,{from:b.analyticsName,upsell:{type:"product",product:b.subscriptionTier,limit:{type:"none"},trialability:"none"}}):void("toggle"===e.type?e.onToggle():"toggleToButton"===e.type?e.onClick():"custom"===e.type&&e.customButton&&n.isValidElement(e.customButton)&&e.customButton.props.onClick&&"function"==typeof e.customButton.props.onClick&&e.customButton.props.onClick())},onMouseEnter:E?M:void 0,onMouseLeave:E?N:void 0,children:[(0,P.jsxs)("div",{style:O.description,children:[(0,P.jsx)(j().D,{styleName:w?"iOS/Subhead-15px/Regular":"UIRegular-14px/Regular",colorName:$,children:(0,P.jsxs)("div",{id:U,style:O.title,children:[i,e.badge,b&&b.shouldUpsell&&(0,P.jsx)(v().A,{subscriptionTier:b.subscriptionTier,analyticsName:b.analyticsName,onClick:()=>y().K(S,{from:b.analyticsName,upsell:{type:"product",product:b.subscriptionTier,limit:{type:"none"},trialability:"none"}}),desktopStyle:{display:"flex",marginLeft:8}})]})}),(0,P.jsx)(j().D,{id:H,styleName:w?"iOS/Footnote-13px/Regular":"UIMedium-13px/Regular",colorName:"secondary",customStyles:O.captionStyle,children:d})]}),(0,P.jsx)(L,{titleId:U,captionId:H,...e})]});return e.tooltipLabel?(0,P.jsx)(T().A,{placement:f().W.Bottom,alignment:f().C.Center,disableTooltip:e.disableTooltip,renderTooltip:()=>e.tooltipLabel,render:e=>(0,P.jsx)("div",{...e,children:K})}):K}function L(e){const{titleId:t,captionId:i}=e;if("toggle"===e.type)return(0,P.jsx)(_().A,{"aria-labelledby":t,"aria-describedby":i,on:e.isOn,disabled:e.disabled,isLocked:e.isLocked,lockedTooltip:e.lockedTooltip});if("dropdown"===e.type)return(0,P.jsx)(D,{...e});if("custom"===e.type)return(0,P.jsx)(P.Fragment,{children:e.customButton});if("toggleToButton"===e.type)return e.isOn?(0,P.jsx)("div",{style:{marginTop:12},children:(0,P.jsx)(k().A,{size:"lg",onClick:e.onClick,style:e.buttonStyle,disabled:e.disabled,children:e.buttonLabel})}):(0,P.jsx)(_().A,{"aria-labelledby":t,"aria-describedby":i,on:!1,onClick:e.onClick,disabled:e.disabled});if("timezonePicker"===e.type){const{currentTimeZone:t,...i}=e;return(0,P.jsx)(N().G,{...i,currentValue:t,enableRecents:!1})}(0,c().HB)(e)}const R=12,W=4;function D(e){var t;const{title:i,isMobile:n,upsellOptions:o,currentOption:a,options:c,info:u,switcherButtons:p,onSelectOption:m,menuStyle:h,buttonStyle:y,buttonHoverStyle:v,isLocked:j,lockedTooltip:k,placementToOrigin:_,alignmentToOrigin:B}=e,N=null===(t=c.find((e=>{let{key:t}=e;return t===a})))||void 0===t?void 0:t.label,z=(0,r().IS)((e=>({button:{marginTop:R,marginBottom:W,marginRight:n?"auto":void 0,paddingLeft:n?12:8,paddingRight:n?12:8,height:n?44:28,border:n?`1px solid ${e.outlineButtonBorder}`:void 0,...y},icon:{width:10,marginLeft:4,fill:e.lightIconColor},lockedContainer:{display:"flex",alignItems:"center",justifyContent:"center"},lockedIcon:{marginTop:R,marginBottom:W,height:16,width:16,color:e.grayButtonBackground}})),[n,y]),L=Boolean(o&&o.shouldUpsell)||e.disabled||j,D=(0,P.jsx)(A().Ay,{popupType:n?A().z7.SlideUp:A().z7.Popup,placementToOrigin:_??A().sx.Bottom,alignmentToOrigin:B,originGap:8,renderOrigin:e=>(0,P.jsxs)(b().p,{...e,size:"lg",style:{opacity:L?.4:1,...z.button},hoveredStyle:v,disabled:L,children:[N,(0,s().b)(z.icon)]}),render:e=>{let t;t=n?{menuType:g().gu.Modal,title:i,right:(0,P.jsx)(d().sA,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:e.close}:{menuType:g().gu.Popup,width:250,maxHeight:400,...h};const o=[],a=c.map((t=>{let{key:i,label:n,caption:o}=t;return{key:i,action:()=>{m(i),e.close()},render:e=>(0,P.jsx)(x().A,{...e,title:n,caption:o,shouldWrapCaption:!0,isChecked:N===n})}}));if(o.push({key:"settings-item-section",render:e=>(0,P.jsx)(I().A,{...e}),items:a}),u){const e=u.map((e=>{let{key:t,label:i}=e;return{key:t,action:()=>{},render:e=>(0,P.jsx)(w().Ay,{...e,shouldWrapCaption:!0,caption:i})}}));o.push({key:"info-item-section",render:e=>(0,P.jsx)(I().A,{...e,topBorder:!0}),items:e})}if(p&&p.length){const e=p.map((e=>{let{key:t,props:i}=e;return{key:t,action:()=>{},render:()=>(0,P.jsx)(M().A,{...i})}}));o.push({key:"switcher-item-section",render:e=>(0,P.jsx)(I().A,{...e,topBorder:!0}),items:e})}return(0,P.jsx)(S().A,{...t,children:(0,P.jsx)(C().Ay,{type:C().Oh.Vertical,sections:o,initialFocus:void 0})})}});return j?(0,P.jsx)(T().A,{placement:f().W.Left,alignment:f().C.Start,disableTooltip:!k,renderTooltip:()=>k,render:e=>(0,P.jsxs)("div",{style:z.lockedContainer,...e,children:[(0,l().g)(z.lockedIcon),D]})}):D}},716583:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(296540),o=()=>i(100622),a=()=>i(284371),r=()=>i(135552),s=i(474848);const l=function(e){const{children:t,isMobile:l,textSize:d,shouldUseDivider:c,style:u,styleKey:p}=e,{WindowSizeStore:g}=(0,i(484714).v3)(),[m,h,f]=(0,i(847249).K8)((()=>[g.getSafePaddingLeftCSS(10),g.getSafePaddingLeftCSS(14),g.getSafePaddingRightCSS(14)]),[g]),y=(0,n.useMemo)((()=>l?"small"!==d?a().J.UIRegular.mobile:a().J.UISmall.mobile:"small"!==d?a().J.UIRegular.desktop:a().J.UISmall.desktop),[l,d]),v=(0,n.useMemo)((()=>void 0===d?1.2:l?"small"!==d?a().K_.UIRegular.mobile:a().K_.UISmall.mobile:"small"!==d?a().K_.UIRegular.desktop:a().K_.UISmall.desktop),[l,d]),b=(0,i(401497).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!l&&{padding:"0px 12px"},...l&&{paddingLeft:h,paddingRight:f},fontSize:y,lineHeight:v,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${o().Ay.halfWhite}`}:{minHeight:44}},[`colorStyle__${r().q.Red}`]:{color:o().Ay.white,background:o().Ay.red,...l&&{justifyContent:"flex-start"}},[`colorStyle__${r().q.Blue}`]:{color:o().Ay.white,fill:o().Ay.white,background:o().Ay.blue,...l&&{paddingLeft:m,paddingRight:14}},[`colorStyle__${r().q.Beige}`]:{background:e.beigeBannerBackground,paddingLeft:l?12:18,paddingRight:l?14:16},[`colorStyle__${r().q.White}`]:{background:e.contentBackground,color:e.text.tertiary,fill:e.lightIconColor,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${r().q.Purple}`]:{background:"#CA59FF",color:o().Ay.white,fill:o().Ay.white},[`colorStyle__${r().q.LightRed}`]:{background:e.accentColors.red[100],color:e.accentColors.red[500]},[`colorStyle__${r().q.Yellow}`]:{background:e.accentColors.yellow[100],color:e.accentColors.yellow[600]},[`colorStyle__${r().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${r().q.ImportNotification}`]:{color:e.accentColors.uiBlue[600],fill:e.lightIconColor,background:e.accentColors.blue[30],height:48},[`colorStyle__${r().q.LightBlue}`]:{color:o().Ay.blue,fill:o().Ay.blue,background:e.lightBlueBannerBackground},[`colorStyle__${r().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.contrastPrimary,background:e.tooltipBackground}})),[l,m,h,f,c,y,v]),x=p?`colorStyle__${p}`:"colorStyle__default";return(0,s.jsx)("div",{style:{...b.bannerStyle,...b[x],...u},children:t})}},749356:(e,t,i)=>{i.d(t,{VY:()=>p,Qm:()=>g,z6:()=>u,OC:()=>f,L6:()=>m,Zc:()=>y,x3:()=>h});var n=()=>i(857639),o=()=>i(386164);const a={plans_page:["lic_25","lic_50","resurrection_offer","ai_fifty_percent_upgrade"],sidebar_upsell:["lic_25","lic_50"]};var r=()=>i(502800),s=()=>i(449506),l=()=>i(901389),d=()=>i(989423),c=()=>i(351360);async function u(e,t){var i;const{spaceId:n,offerCampaign:o}=t;if(!n||!o||null===(i=c().default.state.currentSpaceStore)||void 0===i||!i.canAdmin())return;const a=await s().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:n,offerCampaign:o}});return"failed"!==a.type&&"offer"in a.data&&a.data.offer?a.data.offer:void 0}async function p(e){const{environment:t,spaceId:i,offerCampaign:n,entrypoint:o}=e,a=await s().callApi({eventName:"applyCustomerOffer",environment:t,data:{spaceId:i,offerCampaign:n,entrypoint:o??"unknown"}});if("failed"!==a.type)return a;l().Qg(a)}async function g(e,t){const i=await s().callApi({eventName:"applyCustomerOffer",environment:e,data:{...t}});if("failed"!==i.type)return i;l().Qg(i)}async function m(e){const{environment:t,spaceId:i,offerCampaign:n}=e;return void 0!==await u(t,{spaceId:i,offerCampaign:n})}async function h(e){var t;const{environment:i,hasReceived:a,offerType:l,newPlan:d,coupon:u}=e,p=null===(t=c().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId();if(!p)return;const g=await s().callApi({eventName:"updateCustomerOffer",environment:i,data:{spaceId:p,hasReceived:a,offerType:l,newPlan:d,coupon:u},headers:(0,o().WS)({cellId:void 0,spaceId:p})});"failed"===g.type&&n().log({level:"error",from:"offerActions",type:"updateLegacyCustomerOfferFailed",error:(0,r().convertErrorToLog)(g.error)})}async function f(e,t,i){const n=function(e){if(a.hasOwnProperty(e))return a[e]}(i);if(n)for(const o of n){const i=await u(e,{spaceId:t,offerCampaign:o});if((null==i?void 0:i.campaign)===o)return i}}function y(e){let{environment:t,spaceName:i,offerCampaign:n}=e;if(i)switch(n){case"lic_25":case"lic_50":(0,d().WU)(t,"lic_offer_eligible","lic_offer_eligible",3600,{workspace_name:i,lic_25:"lic_25"===n,lic_50:"lic_50"===n});break;case"resurrection_offer":(0,d().WU)(t,"resurrection_offer_eligible","resurrection_offer_eligible",3600,{workspace_name:i});break;default:return}}},773721:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ze});i(898992),i(354520),i(803949),i(581454);var n=i(296540),o=()=>i(484714),a=()=>i(847249),r=()=>i(401497),s=()=>i(725252),l=()=>i(757695),d=()=>i(799288),c=()=>i(187174),u=()=>i(59326),p=()=>i(824862),g=()=>i(332393),m=()=>i(798880),h=()=>i(322769),f=()=>i(20498),y=()=>i(100622),v=()=>i(498212),b=()=>i(534177),x=()=>i(284371),A=()=>i(939768),S=()=>i(908928),w=()=>i(755636),C=()=>i(426116),j=()=>i(725951),k=()=>i(640653),I=()=>i(320460),_=()=>i(351360),M=()=>i(630116),T=()=>i(555267),B=()=>i(750559),N=()=>i(406018),P=()=>i(959013),z=()=>i(816074),L=()=>i(864943),R=()=>i(204063),W=()=>i(719147),D=i(474848);function V(e){const{integrationValue:t,oauthParams:i}=e,n=(0,o().v3)(),{oauthErrorType:a,title:s,body:l,primaryAction:d}=function(e){const t=(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.genericError.title",defaultMessage:"Something went wrong"});if("invalidClientId"===e.type)return{oauthErrorType:N().l.invalid_request,title:t,body:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.invalidClientId.body",defaultMessage:"Missing or incomplete Client ID. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,D.jsx)(W().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("clientNotFound"===e.type)return{oauthErrorType:N().l.invalid_request,title:t,body:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.clientNotFound.body",defaultMessage:"Missing or incomplete Client ID. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,D.jsx)(W().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("invalidResponseType"===e.type)return{oauthErrorType:N().l.invalid_request,title:t,body:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.invalidResponseType",defaultMessage:"Missing or invalid response_type. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,D.jsx)(W().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("integrationAlreadyInstalled"===e.type)return{oauthErrorType:N().l.access_denied,title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.title",defaultMessage:"This integration has already been added to {workspaceName}",values:{workspaceName:e.spaceName}}),body:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.body",defaultMessage:"You can review and remove added integrations in Settings."}),primaryAction:{onClick:e.primaryAction,title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.openWorkspaceSettingsButton.label",defaultMessage:"Open Settings"})}};if("notAnAdmin"===e.type)return{oauthErrorType:N().l.access_denied,title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.title",defaultMessage:"As a guest, you can't install this integration to {workspaceName}.",values:{workspaceName:e.spaceName}}),body:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.body",defaultMessage:"You can ask a workspace owner to install the integration, or ask to be upgraded as a member."}),primaryAction:{onClick:e.primaryAction,title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.switchWorkspaceButton.label",defaultMessage:"Switch workspace"})}};if("integrationNotApproved"===e.type)return{oauthErrorType:N().l.access_denied,title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.integrationNotApproved.title",defaultMessage:"As a member, you can't install this integration to {workspaceName}",values:{workspaceName:e.spaceName}}),body:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.integrationNotApproved.body",defaultMessage:"You can ask a workspace owner to install the integration for you."}),primaryAction:{onClick:e.primaryAction,title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.switchWorkspaceButton.label",defaultMessage:"Switch workspace"})}};if("invalidRedirectUri"===e.type)return{oauthErrorType:N().l.invalid_request,title:t,body:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.invalidRedirectUri.body",defaultMessage:"Missing or invalid redirect_uri. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,D.jsx)(W().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};(0,b().HB)(e.type)}(e),c=function(){const{isMobile:e}=(0,o().Y0)(),t=e?25:48,i=e?18:20;return(0,r().IS)((()=>({container:{textAlign:"center",flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},icon:{fill:y().Ay.red,width:t,height:t,marginBottom:20,display:"inline-block"},title:{fontSize:i,margin:"0 50px 32px",textAlign:"center",fontWeight:x().Wy.medium,marginBottom:12},body:{marginTop:0,marginBottom:24,width:"80%"}})),[t,i])}();return(0,D.jsxs)("section",{style:c.container,children:[(0,B().f)(c.icon),(0,D.jsx)("header",{style:c.title,children:s}),(0,D.jsx)("p",{style:c.body,children:l}),d&&(0,D.jsx)("div",{style:c.body,children:(0,D.jsx)(R().A,{size:"lg",onClick:d.onClick,children:d.title})}),(0,D.jsx)(L().A,{size:"lg",onClick:()=>{z().D({environment:n,integration:t,errorType:a,params:i})},children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.cancelButton.label",defaultMessage:"Cancel"})})]})}var O=()=>i(584262),E=()=>i(792071),U=()=>i(433847),H=()=>i(763824),$=()=>i(559926),K=()=>i(901389),F=()=>i(510683),q=()=>i(496414),G=()=>i(857783),Z=()=>i(435009),Y=()=>i(163580),Q=()=>i(972435),J=()=>i(53137),X=()=>i(614505),ee=()=>i(340498);const te=(0,ee().wt)("pageAdd",{viewBox:"0 0 16 17",svg:(0,D.jsx)("path",{d:"M4.135 8.707c2.46 0 4.491 2.023 4.491 4.484 0 .828-.232 1.607-.636 2.277h5.647c1.463 0 2.221-.773 2.221-2.242V7.107h-5.113c-.854 0-1.265-.417-1.265-1.271V.668H6.356c-1.462 0-2.221.772-2.221 2.242v5.797zm6.733-2.598h4.915c-.04-.307-.266-.601-.615-.963l-3.74-3.794c-.334-.342-.642-.575-.956-.616V5.72c0 .26.136.39.396.39zM4.135 16.712c1.914 0 3.52-1.593 3.52-3.52 0-1.928-1.593-3.514-3.52-3.514-1.928 0-3.52 1.592-3.52 3.513a3.537 3.537 0 003.52 3.52zm0-1.285a.441.441 0 01-.465-.465v-1.299h-1.3a.441.441 0 01-.465-.465c0-.287.192-.471.465-.471h1.3v-1.292c0-.274.184-.465.465-.465.28 0 .465.184.465.465v1.292h1.298c.28 0 .465.184.465.471 0 .28-.184.465-.465.465H4.6v1.299a.441.441 0 01-.465.465z"})});var ie=()=>i(188799),ne=()=>i(731320),oe=()=>i(885475);function ae(e){const{integrationValue:t,validIntegrationTemplateId:i,botAccessOption:o,setBotAccessOption:a}=e,[{value:s}]=(0,c().Yb)((async()=>!!i&&await(0,ne().zQ)(i)),[i]);n.useEffect((()=>{a(s?"duplicate_template":"pick_pages")}),[s,a]);const l=(0,r().IS)((()=>({container:{display:"grid",gridTemplateRows:"1fr 1fr",gap:8,marginTop:8},icon:{fill:y().Ay.red,width:20,height:20,marginRight:12},errorContainer:{display:"flex",alignItems:"center"}})),[]);return(0,D.jsxs)("div",{style:l.container,children:[(0,D.jsx)(re,{disabled:!s,title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.botAccessOption.useTemplate.title",defaultMessage:"Use a template provided by the developer"}),subtitle:s?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.botAccessOption.useTemplate.subtitle",defaultMessage:"{integrationName} will duplicate this template into the Private pages of your workspace. The integration will then be able to {capabilities} content in this new page.",values:{capabilities:(0,D.jsx)(P().dT,{value:(0,oe().s)(t.capabilities),type:"conjunction"}),integrationName:t.name}}):(0,D.jsx)("div",{style:l.errorContainer,children:(0,D.jsx)("div",{children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.error.invalidTemplate.body",defaultMessage:"The page template is no longer public. <inlinetextlink>Contact the developer</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,D.jsx)(W().A,{href:`mailto:${t.info.email}`,children:e})}})})}),icon:te,isSelected:"duplicate_template"===o,selectOption:()=>a("duplicate_template")}),(0,D.jsx)(re,{title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.botAccessOption.pickPages.title",defaultMessage:"Select pages to share with {integrationName}",values:{integrationName:t.name}}),subtitle:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.botAccessOption.pickPages.subtitle",defaultMessage:"Select one or multiple pages to share with {integrationName}",values:{integrationName:t.name}}),icon:ie().b,isSelected:"pick_pages"===o,selectOption:()=>a("pick_pages")})]})}function re(e){const{title:t,subtitle:i,icon:n,isSelected:o,selectOption:a,disabled:s}=e,l=(0,r().IS)((e=>({button:{height:"none",padding:12,width:"100%",borderWidth:1,borderColor:e.outlineButtonBorder,borderRadius:4,cursor:s?"not-allowed":void 0},buttonSelected:{background:"white",borderWidth:2,borderColor:y().Ay.blue,padding:11,boxShadow:"0px 4px 8px rgba(66, 129, 219, 0.09), 0px 0px 2px rgba(0, 0, 0, 0.06), 0px 0px 1px rgba(0, 0, 0, 0.04)"},option:{width:"100%",whiteSpace:"normal",display:"grid",gridTemplateColumns:"min-content auto min-content",padding:6},text:{overflowWrap:"normal"},title:{fontSize:14,fontWeight:x().Wy.medium,color:y().Ay.frontTextMedium,marginBottom:6},subtitle:{fontSize:12,lineHeight:"140%",color:e.text.secondary},icon:{width:14,height:14,color:y().Ay.regularIconColor,marginRight:12}})),[s]);return(0,D.jsx)(L().A,{size:"lg",onClick:a,style:l.button,hovered:o,hoveredStyle:l.buttonSelected,pressedStyle:l.buttonSelected,disabled:s,children:(0,D.jsxs)("div",{style:l.option,children:[n(l.icon),(0,D.jsxs)("div",{style:l.text,children:[(0,D.jsx)("div",{style:l.title,children:t}),(0,D.jsx)("div",{style:l.subtitle,children:i})]})]})})}var se=()=>i(388693),le=()=>i(97199);function de(e){const{integrationValue:t,selectedBlockIdsStore:i}=e,n=(0,se().v_)(t),o=(0,r().IS)((e=>({subtitle:{fontSize:14,textAlign:"center",fontWeight:x().Wy.medium,marginBottom:16},linkPreviewSubtitle:{fontSize:14,textAlign:"left",marginBottom:16,color:e.text.tertiary}})),[]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{style:o.subtitle,children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.selectPagesStep.title",defaultMessage:'Allow "{integrationName}" to access these pages',values:{integrationName:t.name}})}),(0,D.jsx)("div",{style:o.linkPreviewSubtitle,children:n&&(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.selectPagesStep.linkPreviewSubtitle",defaultMessage:"Your selections here will not impact this integration's ability to unfurl links across your workspace"})}),(0,D.jsx)(le().A,{selectedBlockIdsStore:i})]})}i(16280);var ce=()=>i(546806),ue=()=>i(851979);const pe=(0,ee().wt)("notificationUnread",{viewBox:"0 0 20 20",svg:(0,D.jsx)("path",{d:"M3.622 12.683v-5.25c0-.62.05-1.172.15-1.655.105-.483.333-.9.684-1.25.351-.352.768-.58 1.251-.684a7.906 7.906 0 0 1 1.654-.157h4.69a2.893 2.893 0 0 0-.185 1.086 1.325 1.325 0 0 0-.007.13l.014.13H7.204c-.36 0-.697.032-1.012.096-.314.064-.567.189-.758.376a1.514 1.514 0 0 0-.376.759c-.06.31-.09.645-.09 1.005v5.605c0 .355.03.688.09.998.063.305.189.554.376.745.191.187.442.315.752.383.314.064.649.096 1.004.096h5.62c.35 0 .68-.032.99-.096.315-.064.566-.191.753-.383.191-.191.319-.44.382-.745.064-.31.096-.643.096-.998V8.191l.123.014c.046 0 .091-.002.137-.007.191.01.378-.002.56-.034.183-.036.356-.087.52-.15v4.669c0 .629-.052 1.184-.157 1.668-.1.483-.324.9-.67 1.25-.356.351-.777.58-1.265.684a7.944 7.944 0 0 1-1.66.157H7.374c-.624 0-1.18-.052-1.668-.157a2.478 2.478 0 0 1-1.25-.683 2.411 2.411 0 0 1-.685-1.251c-.1-.484-.15-1.04-.15-1.668Zm11.56-5.408a2.26 2.26 0 0 1-1.19-.32 2.455 2.455 0 0 1-.854-.862 2.27 2.27 0 0 1-.322-1.183c0-.433.107-.827.322-1.182.214-.36.499-.648.854-.862a2.26 2.26 0 0 1 1.19-.321c.423 0 .813.107 1.169.321.36.214.647.502.86.862.215.355.322.75.322 1.182 0 .429-.107.823-.321 1.183-.214.36-.501.647-.861.861a2.223 2.223 0 0 1-1.17.321Z"})}),ge=(0,ee().wt)("scribble",{viewBox:"0 0 16 15",svg:(0,D.jsx)("path",{d:"M1.048 9.972c.424.41 1.237.505 1.866-.069.226-.198.67-.67 1.367-1.374 3.418-3.459 5.524-5.64 5.9-5.298.3.274-.862 1.921-2.024 3.535-2.126 2.946-3.917 5.1-2.57 6.446 1.053 1.053 2.652.096 5.216-2.153 1.374-1.21 2.33-2.106 2.57-1.873.15.15-.212.745-.677 1.544-.656 1.135-1.531 2.42-.676 3.275.594.595 1.729.335 3.048-.97.274-.267.335-.589.103-.814-.212-.212-.513-.178-.738.027-.855.82-1.49 1.176-1.593 1.06-.13-.123.232-.773.861-1.894.868-1.552 1.401-2.59.602-3.37-1.074-1.04-2.331.061-4.512 1.982-1.853 1.627-2.611 2.051-2.782 1.867-.246-.26.437-1.183 2.46-4.013 2.188-3.049 3.487-5.031 2.257-6.234-1.607-1.566-3.767-.41-9.12 4.887-.779.766-1.264 1.23-1.503 1.518-.623.718-.486 1.51-.055 1.92z"})});var me=()=>i(197534),he=()=>i(319567);const fe=(0,ee().wt)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,D.jsx)("path",{d:"M6.27344 19.0703C5.96094 19.0703 5.71615 18.9688 5.53906 18.7656C5.36719 18.5625 5.28125 18.2865 5.28125 17.9375V16.0156H4.85938C4.10417 16.0156 3.45573 15.8698 2.91406 15.5781C2.3776 15.2865 1.96354 14.8698 1.67188 14.3281C1.38542 13.7812 1.24219 13.1198 1.24219 12.3438V6.28125C1.24219 5.50521 1.38542 4.84635 1.67188 4.30469C1.95833 3.75781 2.3724 3.33854 2.91406 3.04688C3.46094 2.75521 4.1276 2.60938 4.91406 2.60938H15.0781C15.8594 2.60938 16.5234 2.75521 17.0703 3.04688C17.6172 3.33854 18.0339 3.75781 18.3203 4.30469C18.6068 4.84635 18.75 5.50521 18.75 6.28125V12.3438C18.75 13.1198 18.6068 13.7812 18.3203 14.3281C18.0339 14.8698 17.6172 15.2865 17.0703 15.5781C16.5234 15.8698 15.8594 16.0156 15.0781 16.0156H10.25L7.57812 18.3828C7.3125 18.6172 7.08333 18.7891 6.89062 18.8984C6.69792 19.013 6.49219 19.0703 6.27344 19.0703ZM6.65625 17.3438L9.13281 14.8906C9.29948 14.724 9.45312 14.6146 9.59375 14.5625C9.73958 14.5052 9.93229 14.4766 10.1719 14.4766H15.0312C15.7708 14.4766 16.3177 14.2943 16.6719 13.9297C17.0312 13.5599 17.2109 13.013 17.2109 12.2891V6.32812C17.2109 5.60938 17.0312 5.06771 16.6719 4.70312C16.3177 4.33333 15.7708 4.14844 15.0312 4.14844H4.95312C4.21875 4.14844 3.67188 4.33333 3.3125 4.70312C2.95833 5.06771 2.78125 5.60938 2.78125 6.32812V12.2891C2.78125 13.013 2.95833 13.5599 3.3125 13.9297C3.67188 14.2943 4.21875 14.4766 4.95312 14.4766H6.02344C6.24219 14.4766 6.40104 14.526 6.5 14.625C6.60417 14.7188 6.65625 14.8828 6.65625 15.1172V17.3438ZM6.02344 7.25781C5.88802 7.25781 5.77344 7.21094 5.67969 7.11719C5.58594 7.01823 5.53906 6.90104 5.53906 6.76562C5.53906 6.63542 5.58333 6.52344 5.67188 6.42969C5.76562 6.33594 5.88281 6.28906 6.02344 6.28906H13.8828C14.0234 6.28906 14.1406 6.33594 14.2344 6.42969C14.3281 6.52344 14.375 6.63542 14.375 6.76562C14.375 6.90104 14.3281 7.01823 14.2344 7.11719C14.1406 7.21094 14.0234 7.25781 13.8828 7.25781H6.02344ZM6.02344 9.74219C5.88802 9.74219 5.77344 9.69531 5.67969 9.60156C5.58594 9.50781 5.53906 9.39062 5.53906 9.25C5.53906 9.125 5.58333 9.01302 5.67188 8.91406C5.76562 8.8151 5.88281 8.76562 6.02344 8.76562H13.8828C14.0234 8.76562 14.1406 8.8151 14.2344 8.91406C14.3281 9.01302 14.375 9.125 14.375 9.25C14.375 9.39062 14.3281 9.50781 14.2344 9.60156C14.1406 9.69531 14.0234 9.74219 13.8828 9.74219H6.02344ZM6.02344 12.2344C5.88802 12.2344 5.77344 12.1875 5.67969 12.0938C5.58594 12 5.53906 11.8854 5.53906 11.75C5.53906 11.6146 5.58333 11.5 5.67188 11.4062C5.76562 11.3073 5.88281 11.2578 6.02344 11.2578H11.1406C11.276 11.2578 11.3906 11.3073 11.4844 11.4062C11.5833 11.5 11.6328 11.6146 11.6328 11.75C11.6328 11.8854 11.5833 12 11.4844 12.0938C11.3906 12.1875 11.276 12.2344 11.1406 12.2344H6.02344Z"})});function ye(e){const{integrationValue:t,spaceName:i,existingBot:n}=e;if((0,g().SF)(t))throw new Error("Internal integrations should not be part of the Oauth authorization flow");const o=t.info.website_url,a=(0,U()._L)(t.capabilities),s=(0,f().IM)(t.id),l=e=>o?(0,D.jsx)(W().A,{href:o,style:c.inlineTextLink,children:e}):e,d=t.capabilities,c=(0,r().IS)((()=>({inlineTextLink:{color:"black",textDecoration:"none"}})),[]);if(n){const e={};return Object.keys(t.capabilities).forEach((i=>{const o=i;t.capabilities[o]&&!n.capabilities[o]&&(e[o]=!0)})),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.existingCapabilties",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> already has the following permissions",values:{integrationName:t.name,inlinetextlink:l}})}),(0,D.jsx)(ve,{spaceName:i,capabilities:n.capabilities,integrationName:t.name,integrationInheritsCreatorAccess:a,integrationHasAdminAccess:s}),Object.keys(e).length>0&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{style:{marginTop:24},children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.newCapabilties",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> will have the following additional permissions",values:{integrationName:t.name,inlinetextlink:l}})}),(0,D.jsx)(ve,{spaceName:i,capabilities:e,integrationName:t.name,integrationInheritsCreatorAccess:a,integrationHasAdminAccess:s})]})]})}return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.intro",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> will have permission to",values:{integrationName:t.name,inlinetextlink:l}})}),(0,D.jsx)(ve,{spaceName:i,capabilities:d,integrationName:t.name,integrationInheritsCreatorAccess:a,integrationHasAdminAccess:s})]})}function ve(e){const{spaceName:t,capabilities:i,integrationName:n,integrationInheritsCreatorAccess:o,integrationHasAdminAccess:a}=e;return(0,D.jsxs)(D.Fragment,{children:[(null==i?void 0:i.read_content)&&(0,D.jsx)(be,{icon:ue().h,title:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithInheritedAccess",defaultMessage:"View pages you have access to"}):a?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithAdminAccess",defaultMessage:"View all pages"}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContent",defaultMessage:"View pages you select"}),children:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to view pages you can view.",values:{integrationName:n}}):a?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to view all pages in your workspace",values:{integrationName:n}}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContent.description",defaultMessage:"{integrationName} will be able to view pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.update_content)&&(0,D.jsx)(be,{icon:ge,title:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithInheritedAccess",defaultMessage:"Edit pages you have access to"}):a?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithAdminAccess",defaultMessage:"Edit all pages"}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContent",defaultMessage:"Edit pages you select"}),children:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to edit pages you can edit",values:{integrationName:n}}):a?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to edit all pages",values:{integrationName:n}}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContent.description",defaultMessage:"{integrationName} will be able to edit pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.insert_content)&&(0,D.jsx)(be,{icon:te,title:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContentWithInheritedAccess",defaultMessage:"Create new content within pages you have access to"}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContent",defaultMessage:"Create new content within pages you select"}),children:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to add new content or sub-pages wherever you have permission to add new content or sub-pages",values:{integrationName:n,workspaceName:t}}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContent.description",defaultMessage:"{integrationName} will be able to add new content or sub-pages to pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n,workspaceName:t}})}),(null==i?void 0:i.read_comment)&&(0,D.jsx)(be,{icon:he().N,title:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithInheritedAccess",defaultMessage:"View comments within pages you have access to"}):a?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithAdminAccess",defaultMessage:"View all comments"}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readComment",defaultMessage:"View comments within pages you select"}),children:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to view comments within pages you can access",values:{integrationName:n}}):a?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to view comments within all pages",values:{integrationName:n}}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readComment.description",defaultMessage:"{integrationName} will be able to view comments within pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.insert_comment)&&(0,D.jsx)(be,{icon:fe,title:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertCommentWithInheritedAccess",defaultMessage:"Create comments within pages you have access to"}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertComment",defaultMessage:"Create comments within pages you select"}),children:o?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertCommentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to create comments within pages you can access",values:{integrationName:n}}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertComment.description",defaultMessage:"{integrationName} will be able to create comments within pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),((null==i?void 0:i.read_user_without_email)||(null==i?void 0:i.read_user_with_email))&&(0,D.jsx)(be,{icon:me().Q,title:null!=i&&i.read_user_with_email?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsersAndEmail",defaultMessage:"View workspace users and their emails"}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsers",defaultMessage:"View workspace users"}),children:null!=i&&i.read_user_with_email?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsersAndEmail.detail",defaultMessage:"{integrationName} will be able to see basic information about all workspace members and guest data, including their names, profile images, and email addresses",values:{integrationName:n}}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsers.detail",defaultMessage:"{integrationName} will be able to see basic information about all workspace members and guests, like their names and profile images, but not their email addresses",values:{integrationName:n}})}),(null==i?void 0:i.webhooks)&&(0,D.jsx)(be,{icon:pe,title:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.sendWebhooks",defaultMessage:"Receive updates on workspace activity"}),children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.sendWebhooks.description",defaultMessage:"Changes to pages, permissions, or workspace settings will be shared with {integrationName}",values:{integrationName:n}})})]})}function be(e){const[t,i]=n.useState(!1),o=(0,r().IS)((e=>({permissionItem:{border:`1px ${y().XA.dark.gray[850]} solid`,borderRadius:4,marginTop:8},permissionItemTitle:{display:"flex",justifyContent:"space-between",padding:"6px 12px",cursor:"pointer",userSelect:"none"},permissionItemHeading:{display:"flex",alignItems:"center"},permissionItemDetails:{paddingLeft:38,paddingRight:24,transition:"all 0.2s ease",color:e.text.secondary},sharedIconStyle:{width:24,height:16,textAlign:"center"}})),[]);return(0,D.jsxs)("div",{style:o.permissionItem,children:[(0,D.jsxs)("div",{style:o.permissionItemTitle,onClick:()=>i(!t),children:[(0,D.jsxs)("div",{style:o.permissionItemHeading,children:[(0,D.jsx)("div",{style:o.sharedIconStyle,children:e.icon({width:16,height:16,color:y().Ay.regularIconColor})}),(0,D.jsx)("div",{children:e.title})]}),e.children&&(0,D.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,ce().e)({width:12,height:12,color:y().Ay.lightIconColor,transform:t?"rotate(180deg)":void 0,transition:"transform 0.2s ease"})})]}),(0,D.jsx)("div",{style:{...o.permissionItemDetails,opacity:t?1:0,flex:t?1:0,paddingBottom:t?8:0,transform:t?"translate3d(0,-4px,0)":"translate3d(0,-8px,0)"},children:t&&e.children})]})}const xe={permissions:{header:!0,warning:!0,footer:!0},bot_access_option:{header:!0,warning:!1,footer:!0},page_picker:{header:!1,warning:!1,footer:!1}},Ae=(0,P().YK)({loadingMessage:{id:"oauthAuthorization.loadingMessage",defaultMessage:"Authorizing…"},redirectToIntegrationTimeout:{id:"oauthAuthorization.redirectToIntegrationTimeout",defaultMessage:"Integration appears to have timed out. Please refresh and try again."}});function Se(e){const{showApprovalWarning:t}=e,[i,o]=n.useState("permissions"),[a,r]=n.useState("duplicate_template"),[s,l]=n.useState(void 0),d=xe[i].header,c=t&&xe[i].warning,u=xe[i].footer;return(0,D.jsxs)(D.Fragment,{children:[d&&(0,D.jsx)(ke,{...e}),(0,D.jsx)(Ie,{...e,currentStep:i,botAccessOption:a,setBotAccessOption:r}),(0,D.jsx)(_e,{...e,currentStep:i,setCurrentStep:o,acceptedIntegrationCapabilities:s,setAcceptedIntegrationCapabilities:l,botAccessOption:a}),c&&(0,D.jsx)("div",{style:{display:"flex",alignItems:"center",marginTop:20},children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.integrationApprovalNotice",defaultMessage:"Authorizing this integration will add it to your workspace's approval list. Other workspace members will be able to install this integration."})}),u&&(0,D.jsx)(Te,{...e})]})}function we(){const{isMobile:e}=(0,o().Y0)();return(0,r().IS)((t=>({title:{fontSize:e?18:20,margin:"0 50px 32px",textAlign:"center",fontWeight:x().Wy.medium},inlineTextLink:{color:"black",textDecoration:"none"},buttonGroup:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:24},footer:{fontSize:x().J.UISmall.desktop,color:t.text.secondary,paddingTop:32,paddingBottom:16},innerFooterContainer:{color:t.text.primary,fontWeight:x().Wy.semibold,marginBottom:4}})),[e])}const Ce={cancel:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.cancelButton.label",defaultMessage:"Cancel"}),back:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.selectPagesStep.backButton.label",defaultMessage:"Back"})},je={bot_access_option:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.nextButton.label",defaultMessage:"Next"}),page_picker:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.continueButton.label",defaultMessage:"Select pages"}),authorize:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.selectPagesStep.finishButton.label",defaultMessage:"Allow access"})};function ke(e){const{integrationValue:t,spaceName:i}=e,n=t.info,o=n.website_url,a=n.icon?{pointer:{table:g().Li,id:t.id},icon:n.icon}:void 0,r=we();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{style:{padding:15},children:(0,D.jsx)(X().B,{icon:a,disabled:!0,title:t.name,size:54,isEmptyPage:!1,style:{margin:"auto"}})}),(0,D.jsx)("div",{style:r.title,children:(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.title",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> is requesting access to {workspaceName}",values:{integrationName:t.name,workspaceName:i,inlinetextlink:e=>o?(0,D.jsx)(W().A,{style:r.inlineTextLink,href:o,children:e}):e}})})]})}function Ie(e){const{currentStep:t,integrationValue:i,spaceName:n,existingBot:o}=e;return"permissions"===t?(0,D.jsx)(ye,{integrationValue:i,spaceName:n,existingBot:o}):"bot_access_option"===t?(0,D.jsx)(ae,{...e,integrationValue:i}):"page_picker"===t?(0,D.jsx)(de,{...e,integrationValue:i}):void(0,b().HB)(t)}function _e(e){const{currentStep:t,setCurrentStep:i,acceptedIntegrationCapabilities:r,setAcceptedIntegrationCapabilities:s,integrationValue:l,validIntegrationTemplateId:d,oauthParams:c,botAccessOption:u,spaceId:p,selectedBlockIdsStore:m}=e,h=(0,o().v3)(),[y,v]=n.useState(!1),x=(0,a().O$)(m),A=(0,a().K8)((()=>{const e=J().A.state;return(0,Y().gz)({integrationId:l.id,externalIntegrationStoreState:e})}),[l]),w=function(e){const{integrationValue:t,validIntegrationTemplateId:i,botAccessOption:n}=e;if((0,U()._L)(t.capabilities))return["permissions"];if(i){if("duplicate_template"===n)return["permissions","bot_access_option"];if("pick_pages"===n)return["permissions","bot_access_option","page_picker"];if("admin"===n)return["permissions"];(0,b().HB)(n)}return["permissions","page_picker"]}({integrationValue:l,validIntegrationTemplateId:d,botAccessOption:u}),C=w.indexOf(t),j=(0,f().NV)(l.id),k=w[C-1],I=j?void 0:w[C+1],M=k?Ce.back:Ce.cancel,T=k?()=>{i(k)}:()=>{!function(e){const{environment:t,oauthParams:i,integrationValue:n,createdBotValue:o}=e;o?Z().Vl(t):z().D({environment:t,params:i,integration:n,errorType:N().l.access_denied})}({environment:h,oauthParams:c,integrationValue:l,createdBotValue:A})},B=I?je[I]:je.authorize,P=I?()=>{"permissions"===t&&s(l.capabilities),i(I)}:async()=>{j?(await F().NB({environment:h,spaceId:p,from:"workspace_connections_redirect",integration:E().Bj6.fromValue(g().Li,l)}),window.close()):async function(e){const{environment:t,botAccessOption:i,integrationValue:n,acceptedIntegrationCapabilities:o,setIsLoading:a,oauthParams:r,spaceId:s,selectedBlockIds:l,createdBotValue:d}=e;let c;"duplicate_template"===i&&(c=n.info.template_page_id),a(!0),q().m({message:Ae.loadingMessage});const u=c?[]:Object.keys(l).filter((e=>l[e])),{currentSpaceStore:p,currentSpaceViewStore:g}=_().default.state;if(d){const e=await S().L2({environment:t,templatePageId:c,botValue:d,spaceStore:p,spaceViewStore:g,pages:u});e?G().uK({environment:t,store:e,pageVisitSource:O().y8.Duplicate}):Z().Vl(t),q().V(),a(!1)}else await z().D({environment:t,params:r,integration:n,acceptedIntegrationCapabilities:o,spaceId:s,blockIdsForBot:u,templatePageId:c}),$().ry(t,{selection:i}),await(0,H().wR)(3e4),q().V(),a(!1),K().f1(Q().A.formatMessage(Ae.redirectToIntegrationTimeout))}({environment:h,botAccessOption:u,integrationValue:l,setIsLoading:v,oauthParams:c,spaceId:p,selectedBlockIds:x,createdBotValue:A,acceptedIntegrationCapabilities:r})},W=we();return(0,D.jsxs)("div",{style:W.buttonGroup,children:[(0,D.jsx)(L().A,{size:"lg",onClick:T,children:M}),(0,D.jsx)(R().A,{size:"lg",onClick:P,disabled:y,children:B})]})}const Me="https://notion.notion.site/Integration-Gallery-Terms-of-Service-b74cada95062442d98c2abb1fe3efd9b";function Te(e){const{integrationValue:t,oauthParams:i}=e,n=we();if((0,g().SF)(t))return null;const o=t.info.terms_of_use_url,a=t.info.privacy_policy_url,r=(i.redirectUri||t.redirect_uris[0]||"").replace("http://","").replace("https://","").split(/[/?#]/)[0],s=(0,f().NV)(t.id)?(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.warning.body.partnerIntegration",defaultMessage:"The third-party products or services to which this integration connects are non-Notion Applications. By enabling this integration, you agree to Notion's <notiontermslink>Integration Gallery Terms</notiontermslink>.",values:{notiontermslink:e=>(0,D.jsx)(W().A,{href:Me,children:e})}}):(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.warning.body",defaultMessage:'If you continue, you may be sharing sensitive information. Notion does not review third party integrations such as "{integrationName}". Learn how "{integrationName}" handles your data by reviewing their <privacypolicylink>Privacy Policy</privacypolicylink> and <termsofservicelink>Terms of Service</termsofservicelink>.',values:{integrationName:t.name,privacypolicylink:e=>a?(0,D.jsx)(W().A,{href:a,children:e}):e,termsofservicelink:e=>o?(0,D.jsx)(W().A,{href:o,children:e}):e}});return(0,D.jsxs)("footer",{style:n.footer,children:[(0,D.jsxs)("div",{style:n.innerFooterContainer,children:[" ",(0,D.jsx)(P().sA,{id:"oauthAuthorizationPage.permissionStep.warning.title",defaultMessage:"Make sure you trust {integrationName} ({redirectUriDomain})",values:{integrationName:t.name,redirectUriDomain:r}})]}),(0,D.jsx)("div",{children:s})]})}var Be=()=>i(863513);const Ne={"929cdebb-09e8-4c5c-bfe5-e8c3c3902987":"development","5dbd3ed0-1160-4532-b10a-1a6749748fc4":"staging"},Pe=["makenotion.com","qasource.com"];function ze(e){const t=e.userId,i=e.spaceId,n=(0,o().v3)(),s=(0,a().K8)((()=>_().default.state.currentUserRootStore),[]),l=(0,a().O$)(_().AppStoreCurrentSpaceStore),d=(0,a().O$)(_().AppStoreCurrentSpaceViewStore),c=(0,a().K8)((()=>{var e;return null===(e=_().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),u=(0,a().K8)((()=>!!(t&&i&&d)&&(d.getSpaceId()===i&&d.getUserRootParentId()===t)),[t,i,d]),p=function(e){const{WindowSizeStore:t}=e.environment,i=(0,a().K8)((()=>t.state.width>500),[t]),n=(0,a().K8)((()=>t.state.height<900),[t]);return(0,r().IS)((e=>({layoutContainer:{height:"100%",overflow:"auto",backgroundColor:i?y().Ay.frontCreamBackground:y().Ay.white},pageContainer:{display:"flex",justifyContent:"center"},contentBox:{width:"500px",minHeight:"600px",borderRadius:5,backgroundColor:y().Ay.white,boxShadow:i?e.shadowSM:"none",display:"flex",flexDirection:"column",fontSize:x().J.UIRegular.desktop,marginTop:n?16:i?"calc((100vh - 900px) / 2)":0,marginBottom:40,transition:"all 0.2s ease"},contentBody:{paddingLeft:40,paddingRight:40,paddingTop:25,paddingBottom:25,flex:1,display:"flex",flexDirection:"column"}})),[i,n])}({environment:n});return(0,D.jsx)("div",{style:p.layoutContainer,children:(0,D.jsx)("div",{style:p.pageContainer,children:(0,D.jsxs)("div",{style:p.contentBox,children:[(0,D.jsx)(Be().A,{disableAccountSwitcher:u,singleSpaceToSelect:i,onSpaceSwitch:async t=>{await C().yV({environment:n,spaceViewStore:t});const i=t.getSpaceId(),o=Pe.find((e=>null==c?void 0:c.endsWith(e)));if(i&&o&&Ne[i]&&e.integrationId&&e.redirectUri){const t=(0,A().P0)({baseUrl:(0,j().sZ)(Ne[i]),clientId:e.integrationId,redirectUri:e.redirectUri,state:e.state});w().f({environment:n,url:t,targetSelf:!0})}}}),(0,D.jsx)("div",{style:p.contentBody,children:(0,D.jsx)(Le,{oauthParams:e,spaceStore:l,userRootStore:s})})]})})})}function Le(e){const{oauthParams:t,spaceStore:i,userRootStore:n}=e;return i&&n?(0,D.jsx)(Re,{oauthParams:t,spaceStore:i,userRootStore:n}):(0,D.jsx)(T().A,{})}function Re(e){const{oauthParams:t,spaceStore:i,userRootStore:r}=e,{integrationId:y,responseType:x}=t,A=(0,o().v3)(),w=(0,a().K8)((()=>k().GK(A,i)),[A,i]),[C,j]=n.useState(),_=(0,a().K8)((()=>{if(y){const e=(0,M().Oo)(r,{id:y,table:g().Li}).getValue();return e&&"internal"!==e.type?e:void 0}}),[y,r]),B=(0,s().L)({value:_,waitTimeInMs:1e3}),[{value:N}]=(0,c().Yb)((async()=>{if(!_)return;return(await S().Ju({environment:A,table:m().oo,id:r.id,type:_.type})).botIds}),[A,r,_]),P=(0,a().K8)((()=>{if(N&&N.length>0){return N.map((e=>{const t=(0,M().Oo)(r,{table:p().GP,id:e}).getValue();if(t&&t.alive&&(0,d().hu)(t)&&t.created_by_id===r.id&&t.created_by_table===m().oo&&t.integration_id===y)return{botValue:t}})).filter(b().O9)[0]}}),[r,y,N]),z=(0,s().L)({value:N,waitTimeInMs:1e3}),[{value:L}]=(0,c().Yb)((async()=>{if(P)return await S().GO({environment:A,currentSpaceStore:i,botIds:[null==P?void 0:P.botValue.id]})}),[A,P,i]),R=(0,a().K8)((()=>{const e=null==P?void 0:P.botValue.id,t={};if(!e||!L||!L.bots[e])return l().default.createValue(t);return(L.bots[e].pageIds??[]).forEach((e=>{t[e]=!0})),l().default.createValue(t)}),[L,P]),W=(0,a().K8)((()=>{if(!y)return!1;const e=i.getBotSettingsStore().getValue();if(!e)return!0;if((0,h().az)(e)){const t=e.integration_approval_statuses;return!(!t||!t[y])&&Boolean("approved"===t[y].status)}return!0}),[y,i]),O=(0,a().K8)((()=>{const e=B.value;if(e&&!(0,g().SF)(e))return e.info.template_page_id}),[B]),E=(0,a().K8)((()=>Boolean(y&&("datadog"===(0,f().Q2)(y)||(0,f().IM)(y)))),[y]),U=(0,a().K8)((()=>k().IL(i)),[i]),H=(0,a().K8)((()=>i.canAdmin()),[i]);n.useEffect((()=>{B.value&&!C&&j(_)}),[C,j,_,B]);const $=B.value??C;return"pending"===B.status||"pending"===z.status?(0,D.jsx)(T().A,{}):y&&(0,v().uj)(y)||E?$?"code"===x||E?U?(0,D.jsx)(V,{oauthParams:t,spaceName:w,type:"notAnAdmin",integrationValue:$,primaryAction:()=>{I().A.setState({...I().A.state,open:!0})}}):H||W?u().H($,t.redirectUri)||E?(0,D.jsx)(Se,{integrationValue:$,existingBot:null==P?void 0:P.botValue,validIntegrationTemplateId:O,spaceName:w,spaceId:i.id,oauthParams:t,showApprovalWarning:H&&!W&&!E,selectedBlockIdsStore:R}):(0,D.jsx)(V,{oauthParams:t,spaceName:w,type:"invalidRedirectUri",integrationValue:$}):(0,D.jsx)(V,{oauthParams:t,spaceName:w,type:"integrationNotApproved",integrationValue:$,primaryAction:()=>{I().A.setState({...I().A.state,open:!0})}}):(0,D.jsx)(V,{type:"invalidResponseType",oauthParams:t,spaceName:w,integrationValue:$}):(0,D.jsx)(V,{type:"clientNotFound",oauthParams:t,spaceName:w}):(0,D.jsx)(V,{type:"invalidClientId",oauthParams:t,spaceName:w})}},824160:(e,t,i)=>{i.d(t,{A:()=>s});i(296540);var n=()=>i(484714),o=()=>i(401497),a=()=>i(704152),r=i(474848);function s(e){const t=(0,n().Y0)(),i=(0,o().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,r.jsx)(a().A,{style:{...i.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,r.jsx)("div",{style:{...i.innerStyle,...e.innerStyle},children:e.children})}):(0,r.jsx)(a().A,{style:{...i.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,r.jsx)("div",{style:{...i.innerStyle,...e.innerStyle},children:e.children})})}},843878:(e,t,i)=>{i.d(t,{AL:()=>a,Ay:()=>s,J_:()=>r});i(296540);var n=()=>i(802790),o=i(474848);function a(e){return e?18:60}function r(){return(0,o.jsx)(n().A,{size:37})}const s=function(e){let{children:t,controlRow:n,bannerText:r,controlRowPaddingTopBottom:s,removeBoxShadow:l,contentPaddingLeftRight:d,controlRowPaddingLeftRight:c,getPaddingTopBottom:u,disableScroller:p,maxWidth:g,centerContent:m}=e;const h=(0,i(484714).v3)(),{device:f}=h,y=u?u():f.isMobile?18:36,v=(0,i(401497).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:g??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:d??a(f.isMobile),paddingRight:d??a(f.isMobile),paddingTop:r?15:y,paddingBottom:r?22:y,...m?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??a(f.isMobile),paddingRight:c??a(f.isMobile),paddingTop:s,paddingBottom:s,boxShadow:l?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:a(f.isMobile),paddingRight:a(f.isMobile)},childrenWithoutScroller:{paddingTop:y,paddingBottom:y},controlRowWithoutScroller:{paddingTop:s,paddingBottom:s,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[g,d,f.isMobile,r,y,c,s,l,m]);return p?(0,o.jsxs)("div",{style:v.containerWithoutScroller,children:[(0,o.jsx)("div",{style:v.childrenWithoutScroller,children:t}),n&&(0,o.jsx)("div",{style:v.controlRowWithoutScroller,children:n})]}):(0,o.jsxs)("div",{style:v.containerWithScroller,children:[r&&(0,o.jsx)(i(716583).A,{styleKey:i(135552).q.Blue,isMobile:!1,children:r}),(0,o.jsx)(i(2143).H,{type:i(756279).A.All,style:v.scroller,children:t}),n&&(0,o.jsx)("div",{style:v.controlRowWithScroller,children:n})]})}},851979:(e,t,i)=>{i.d(t,{h:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("eye",{viewBox:"0 0 32 32",svg:(0,n.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},987017:(e,t,i)=>{i.d(t,{Ay:()=>d,Jy:()=>l,vU:()=>s});i(581454);var n=i(296540),o=()=>i(722872),a=i(474848);function r(e){let{tabs:t,selectedIndex:r,onChange:d,separatorIndexes:c,right:u,style:p,rightStyle:g,tabStyle:m,tabTitleStyle:h,selectedTabTitleStyle:f,tabBorderStyle:y,selectedTabStyle:v,readOnly:b,hideTabBorder:x,idPrefix:A,hideTabIndexes:S}=e;const w=(0,n.useContext)(o().xu),{device:C,WindowSizeStore:j}=(0,i(484714).v3)(),{safePaddingLeft:k,safePaddingRight:I}=(0,i(847249).K8)((()=>({safePaddingLeft:j.getSafePaddingLeftCSS(16),safePaddingRight:j.getSafePaddingRightCSS(16)})),[j]),_=(0,i(401497).IS)((e=>{const t={paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.text.secondary,...m},i=`inset 0 -1px 0 ${e.regularDividerColor}`,n=w.menuType===o().gu.Popup,a={fontSize:16,paddingTop:2,paddingLeft:n?16:k,paddingRight:n?16:I,zIndex:2,height:44,background:e.popoverBackground};return{container:{overflowY:"visible",overflowX:"auto",display:"flex",width:"100%",position:"relative",boxShadow:x?void 0:i,...C.isMobile?a:{fontSize:14,paddingLeft:8,paddingRight:8,zIndex:1},...p},separator:{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.regularDividerColor},tab:t,selectedTab:{...t,position:"relative",color:e.text.primary,...v},border:{borderBottom:`2px solid ${e.text.primary}`,position:"absolute",bottom:0,left:8,right:8,...y},rightContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:e.text.secondary,...g}}}),[w.menuType,C.isMobile,g,k,I,v,p,y,m,x]);return(0,a.jsxs)("div",{className:"hide-scrollbar",style:_.container,role:"tablist",children:[t.map(((e,t)=>{if(null!=S&&S.includes(t))return null;const o=t===r;return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsxs)("div",{style:o?_.selectedTab:_.tab,children:[(0,a.jsx)(i(493823).p,{style:{...h,...o?f:{}},onClick:()=>d(t),disabled:b,mobileFeedback:C.isMobile,isLightGray:!Boolean(o),role:"tab","aria-selected":o,id:s(A,t),"aria-controls":l(A,t),children:e}),o&&(0,a.jsx)("div",{style:_.border})]},`tabButton-${t}`),c&&c.includes(t)&&(0,a.jsx)("div",{style:_.separator,className:"notranslate",children:"|"},`${t}-separator`)]},t)})),u&&(0,a.jsx)("div",{style:_.rightContainer,children:u})]})}function s(e,t){if(e)return`${e}-tab-${t}`}function l(e,t){if(e)return`${e}-tabpanel-${t}`}const d=n.memo(r)}}]);