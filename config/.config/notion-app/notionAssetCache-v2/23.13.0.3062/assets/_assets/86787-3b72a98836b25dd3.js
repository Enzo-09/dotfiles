"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[86787],{89244:(e,t,n)=>{n.d(t,{A:()=>y,i:()=>v});n(296540);var o=()=>n(847249),a=()=>n(994310),i=()=>n(959013),s=()=>n(278768),r=()=>n(449506),l=()=>n(901389),d=()=>n(705540),u=()=>n(589994),c=()=>n(404141),g=()=>n(554509),p=()=>n(843878),m=n(474848);async function v(e){let{locale:t,environment:n,origin:o}=e;s().wG(n,{locale:t,origin:o});const i=await r().callApi({eventName:"setlocale",environment:n,data:{locale:t}});"success"===i.type?(a().A.set("preferredLocale",t),await u().transactionQueue.drain(),n.device.isElectron?d().refreshAll({includeFocusedWindow:!0}):window.location.reload(!0)):l().Qg(i)}const y=function(e){const t=(0,n(484714).v3)(),a=(0,n(722872).Tf)(),{device:s,WindowSizeStore:r}=t,l=(0,o().K8)((()=>r.state.paddingLeftCSS),[r]),d=(0,o().K8)((()=>r.state.paddingRightCSS),[r]),u=(0,o().K8)((()=>c().A.state.highlightedSetting===c().r.LanguageSetting),[]),y=(0,n(141966).H)(s.isMobile,a),b=(0,n(401497).IS)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"auto",height:"auto",paddingLeft:s.isMobile?l:0,paddingRight:s.isMobile?d:0,...u?{backgroundColor:e.buttonHoveredBackground,marginLeft:-1*(0,p().AL)(s.isMobile),marginRight:-1*(0,p().AL)(s.isMobile),paddingLeft:(0,p().AL)(s.isMobile),paddingRight:(0,p().AL)(s.isMobile),marginTop:-1*y,marginBottom:y+5,paddingTop:y/2,paddingBottom:y/2}:{}}})),[s.isMobile,y,l,d,u]);return(0,m.jsx)("div",{style:b.container,children:(0,m.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",width:"100%"},children:[(0,m.jsxs)(n(84817).Y1,{direction:"vertical",gap:6,children:[(0,m.jsx)(g().D,{id:"languageRegionSettings.language.label",styleName:"UIRegular-14px/Regular",colorName:"primary",children:(0,m.jsx)(i().sA,{id:"languageRegionSettings.language.label",defaultMessage:"Language"})}),(0,m.jsx)(g().D,{id:"languageSettings.languageSwitcher.subtitle",styleName:"UIMedium-13px/Regular",colorName:"secondary",children:(0,m.jsx)(i().sA,{id:"languageSettings.languageSwitcher.subtitle",defaultMessage:"Change the language used in the user interface."})})]}),(0,m.jsx)(n(850369).A,{confirm:!0,onChange:e=>v({locale:e,environment:t,origin:"languageSettings"}),currentLocale:e.locale,origin:"languageSettings"})]})})}},108405:(e,t,n)=>{n.d(t,{JM:()=>H,Oi:()=>K,yN:()=>q});var o=n(296540),a=()=>n(662303),i=()=>n(484714),s=()=>n(847249),r=()=>n(401497),l=()=>n(380048),d=()=>n(742117),u=()=>n(480388),c=()=>n(427704),g=()=>n(677338),p=()=>n(959013),m=()=>n(763824),v=()=>n(284371),y=()=>n(435009),b=()=>n(278589),f=()=>n(899086),h=()=>n(555267),x=()=>n(145214),S=()=>n(493823),j=()=>n(527606),A=()=>n(204063),C=()=>n(2143),w=()=>n(903659),k=()=>n(850369),I=()=>n(89244),T=()=>n(682497),M=()=>n(38337),_=()=>n(47373),B=()=>n(575301),P=()=>n(962730),N=()=>n(756279),R=()=>n(351360),z=()=>n(508496),D=()=>n(480599),O=()=>n(186787),W=()=>n(59424),E=()=>n(235921),L=n(474848);const q=[],F={profile:M().PvQ,mobile_profile:M().PvQ,team_onboarding_persona_survey:M().oCP,mobile_team_onboarding_persona_survey:M().oCP,onboarding_workspace_choose:M().yuM,mobile_onboarding_workspace_choose:M().yuM,onboarding_plan_type_choose:M().fM9,mobile_onboarding_plan_type_choose:M().fM9,team_onboarding_workspace_create:M().bry,mobile_team_onboarding_workspace_create:M().bry,team_onboarding_invite:M().kXO,mobile_team_onboarding_invite:M().kXO,team_onboarding_timed_trial_offer:M().myD,team_onboarding_timed_trial_checkout:M().myD,onboarding_collaborative_intent_choose:M().DJ9,mobile_onboarding_collaborative_intent_choose:M().DJ9};function H(){var e,t,n;const u=(0,i().v3)();(0,o.useEffect)((()=>{const{currentUserStore:e}=R().default.state,t=g().Td();g().Ti();const n=null==e?void 0:e.getOnboardingCompleted(),o=null==e?void 0:e.getMobileOnboardingCompleted();t&&(!u.device.isMobile&&n||u.device.isMobile&&o)?y().oo({environment:u,url:c().JZ.root,redirect:!0}):u.device.isMobileNative&&z().default.checkGate({gateName:"mobile_skip_onboarding_timeout"})||(0,m().wR)(3e3).then((()=>{"undefined"===E().A.getState().flowName&&y().oo({environment:u,url:c().JZ.root,redirect:!0})}))}),[u]),(0,o.useEffect)((()=>{var e;null===(e=u.mobileNative)||void 0===e||e.markTransitionReady({type:"onboarding"})}),[u.mobileNative]);const x=(0,s().K8)((()=>E().A.state),[]),j=(0,s().K8)((()=>(0,W().getStageName)({flowName:x.flowName,stageIndex:x.currentStageIndex,environment:u})),[x,u]),A=O().contextualizedOnboardingStageByStageName[j],C=(0,s().K8)((()=>null==A?void 0:A.renderStage(x)),[A,x]),M=(0,s().K8)((()=>{var e;return null==A||null===(e=A.renderRightContent)||void 0===e?void 0:e.call(A,x)}),[A,x]),_=q.includes(x.flowName),B=(0,s().K8)((()=>0===x.currentStageIndex||!(null!=A&&A.isBackEnabled(x,u))),[x,u,A]),N=(0,s().K8)((()=>{var e;return(null==A||null===(e=A.shouldHideDesktopBottomContent)||void 0===e?void 0:e.call(A,x))??!1}),[A,x]),H=function(e,t,n,o,a,i){return(0,r().IS)((s=>({errorPage:{width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:s.contentBackground},container:{background:s.surface.wash,height:"100%",width:"100%",overflowX:"scroll"},topBar:{top:a?36:18,left:a?0:18,display:"flex",alignItems:"center",position:"absolute",zIndex:2,justifyContent:"space-between",width:"100%"},topBarLeft:{display:"flex",alignItems:"center",gap:12},previousStageButton:{height:36,width:36,display:"flex",alignItems:"center",verticalAlign:"middle",color:n?s.icon.tertiary:s.icon.secondary,borderRadius:"50%",cursor:n?"not-allowed":"pointer"},stageContainer:{display:"flex",flexDirection:"row",height:"100%",minHeight:"800px",alignItems:"center",justifyContent:"center",paddingBottom:32},leftContentContainer:{width:t?"50%":"100%",display:"flex",alignItems:"center",justifyContent:"center"},leftContent:{paddingLeft:t?64:0,display:"flex",flexDirection:"column",alignItems:o===P().C.Center?"center":o===P().C.Start?"flex-start":"flex-end"},assistantFace:{borderRadius:"100%",width:(0,b().N)("medium"),boxShadow:s.shadowSM,marginBottom:14},header:{display:"flex",flexDirection:"column",fontWeight:v().Wy.regular,marginLeft:void 0,marginRight:void 0,textAlign:"left",width:406,...o===P().C.Center&&!t&&{width:void 0,textAlign:"center"}},subtitle:{color:s.text.tertiary,fontWeight:v().Wy.medium,fontSize:22,...e&&{fontSize:14,color:s.text.secondary,fontWeight:v().Wy.regular,letterSpacing:-.15,marginTop:6}},contentAboveContinue:{alignSelf:"center"},contentUnderContinue:{alignSelf:"center"},skipButton:{marginTop:12,display:"flex",alignItems:"center",justifyContent:"center"},rightContentContainer:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center"},footer:{position:"absolute",left:"50%",bottom:48,transform:"translateX(-50%)",textAlign:"center",width:"auto"},bottomContent:{display:"flex",flexDirection:"column",transition:"opacity 0.5s",opacity:i?0:1,width:"100%",alignItems:"center",...i&&{pointerEvents:"none"}}})),[e,t,n,o,a,i])}(_,Boolean(M),B,(null==A?void 0:A.alignment)??P().C.Start,u.device.isElectron,N),K=(0,s().K8)((()=>{var e;return null==A||null===(e=A.shouldShowSkipButton)||void 0===e?void 0:e.call(A,x,u)}),[A,x,u]),$=(0,s().K8)((()=>(null==A?void 0:A.shouldShowDesktopSkipButtonInTopBar)??!1),[A]),Y=(0,s().K8)((()=>(0,W().getStages)({flowName:x.flowName,environment:u})),[x,u]),Z=x.currentStageIndex===Y.length-1,X=(0,s().K8)((()=>null==A?void 0:A.getTitle(x,u)),[A,x,u]),Q=(0,s().K8)((()=>{var e;return null==A||null===(e=A.getSubTitle)||void 0===e?void 0:e.call(A,x,u)}),[A,u,x]),ee=(0,s().K8)((()=>{var e;return null==A||null===(e=A.renderContentAboveContinueButton)||void 0===e?void 0:e.call(A,x,u)}),[A,x,u]);if("undefined"===x.flowName)return(0,L.jsx)(h().A,{loadingMessage:(0,L.jsx)(p().sA,{defaultMessage:"Getting set up...",id:"onboarding.loadingMessage"})});if(x.isInvalidRedirect){const{onboardingData:e}=x;return(0,L.jsx)(w().A,{style:H.errorPage,children:(0,L.jsx)(T().o,{route:{name:"onboarding"},publicPageData:{pageId:null==e?void 0:e.redirectPageId,spaceId:null==e?void 0:e.redirectSpaceId,spaceName:null==e?void 0:e.redirectSpaceName,publicAccessRole:"none",canRequestAccess:null==e?void 0:e.canRequestAccessToRedirectPage}})})}if(!A)return null;if(u.device.isMobile)return(0,L.jsx)(G,{onboardingState:x,isBackDisabled:B,title:X,subtitle:Q,currentStage:A,onLastStage:Z});const te=!u.device.isMobile&&"education_flow"!==x.flowName&&x.isFirstTimeOnboarding,ne="performance_marketing_term_onboarding"===x.flowName,oe=F[j];return(0,L.jsxs)("div",{style:H.container,className:oe,children:[(0,L.jsx)(J,{}),(0,L.jsxs)("div",{style:H.topBar,children:[(0,L.jsxs)("div",{style:H.topBarLeft,children:[(0,L.jsx)(S().p,{disabled:B,style:H.previousStageButton,onClick:()=>{var e,t;null!==(e=A.shouldDisableDefaultOnBack)&&void 0!==e&&e.call(A,u,x)?null===(t=A.onBack)||void 0===t||t.call(A,u,x):(0,D().handleDesktopBackButtonClick)({environment:u,currentStage:A,onboardingState:x})},children:(0,l().I)({height:16})}),te&&(0,L.jsx)(k().A,{confirm:!0,onChange:e=>(0,I().i)({locale:e,environment:u,origin:j}),origin:j,currentLocale:a().locale})]}),K&&$&&(0,L.jsxs)(S().p,{style:{...H.skipButton,marginTop:0,marginRight:36},isGray:!0,onClick:async()=>await(0,D().skipStage)({environment:u,currentStage:A,onboardingState:x}),children:[(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"}),(0,d().V)({height:12,width:12,marginLeft:4})]})]}),(0,L.jsxs)("div",{style:{...H.stageContainer,...A.stageStyles},children:[(0,L.jsx)("div",{style:H.leftContentContainer,children:(0,L.jsxs)("div",{style:H.leftContent,children:[_&&(0,L.jsx)("div",{style:H.assistantFace,children:(0,L.jsx)(f().w,{sizeVariant:"medium"})}),(0,L.jsx)(V,{title:X,subtitle:Q,headerStyles:{...H.header,...A.headerStyles,paddingBottom:ne?0:32},subtitleStyles:H.subtitle}),C,(0,L.jsxs)("div",{style:H.bottomContent,children:[(0,L.jsx)("div",{style:H.contentAboveContinue,children:ee}),(null===(e=A.getDesktopContinueButtonOverride)||void 0===e?void 0:e.call(A))??(0,L.jsx)(U,{currentStage:A,onLastStage:Z}),(0,L.jsx)("div",{style:H.contentUnderContinue,children:null===(t=A.renderContentUnderContinueButton)||void 0===t?void 0:t.call(A,x,u)}),K&&(0,L.jsx)(S().p,{style:{...H.skipButton,...A.skipButtonStyles},isGray:!0,onClick:async()=>await(0,D().skipStage)({environment:u,currentStage:A,onboardingState:x}),children:(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"})})]},A.stageName)]})}),M&&(0,L.jsx)("div",{style:H.rightContentContainer,children:M})]}),(0,L.jsx)("div",{style:{...H.footer,...A.footerStyles},children:null===(n=A.renderFooter)||void 0===n?void 0:n.call(A,x,u)})]})}function V(e){let{title:t,subtitle:n,headerStyles:o,subtitleStyles:i}=e;const s=(0,r().IS)((e=>({header:{position:"relative",textAlign:"center",paddingTop:0,paddingBottom:32,marginLeft:"auto",marginRight:"auto",maxWidth:520},title:{fontWeight:v().Wy.semibold,fontFamily:v().xf({locale:a().locale}),lineHeight:1.3,color:e.text.primary,fontSize:22,letterSpacing:-.26},subtitle:{fontSize:18,lineHeight:1.3,paddingTop:2,color:e.text.secondary,fontWeight:v().Wy.regular}})),[]);return(0,L.jsx)("div",{style:{...s.header,...o},children:(0,L.jsxs)("div",{children:[(0,L.jsx)("div",{style:s.title,children:t}),n&&(0,L.jsx)("div",{style:{...s.subtitle,...i},children:n})]})})}function U(e){let{currentStage:t,onLastStage:n}=e;const o=(0,i().v3)(),a=(0,s().K8)((()=>E().A.state),[]),l=(0,r().DP)(),d=(0,s().K8)((()=>{var e;return null===(e=t.getContinueButtonStyles)||void 0===e?void 0:e.call(t,l)}),[t,l]),u=(0,r().IS)((e=>({continueButton:{marginTop:128,width:406,height:36,borderRadius:6,fontSize:14,fontWeight:v().Wy.semibold,color:e.text.contrastPrimary,...d}})),[d]),c=(0,s().K8)((()=>{var e;return null==t||null===(e=t.getContinueButtonLabel)||void 0===e?void 0:e.call(t,a)}),[t,a]),g=(0,s().K8)((()=>t.isContinueEnabled(a,o)),[t,a,o]);return(0,L.jsx)(A().A,{style:{...u.continueButton},size:"lg",disabled:!g,onClick:async()=>await(0,D().goToNextStage)({environment:o,onboardingState:a}),children:c??(n?(0,L.jsx)(p().sA,{defaultMessage:"Finish",id:"contextualizedOnboarding.finishButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"}))})}function K(){return(0,r().IS)((e=>({title:{fontSize:22,fontFamily:v().xf({locale:a().locale}),textAlign:"left",marginBottom:24,lineHeight:1.28,fontWeight:590},subtitle:{fontWeight:"normal",fontSize:16,color:e.text.secondary,paddingRight:16,wordBreak:"break-word",textAlign:"left",marginBottom:12,lineHeight:1.28,paddingLeft:0},title2:{fontFamily:v().xf({locale:a().locale}),color:e.text.primary,fontSize:22,fontWeight:590,textAlign:"left",lineHeight:1.28},subtitle2:{color:e.text.primary,fontSize:17,fontWeight:"normal",textAlign:"left",lineHeight:1.28,marginTop:8,wordBreak:"break-word"},mobileWrapStyle:{maxWidth:360,fontSize:16,marginLeft:"auto",marginRight:"auto",paddingBottom:32},continueButton:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:v().Wy.semibold,color:e.text.contrastPrimary}})),[])}function G(e){var t,n;let{onboardingState:a,isBackDisabled:d,title:c,subtitle:g,currentStage:m,onLastStage:v}=e;const y=(0,r().DP)(),b=(0,i().v3)(),{device:f,WindowSizeStore:h}=b,x=(0,s().K8)((()=>h.state.height),[h]),w=(0,s().K8)((()=>"control"!==(0,_().DV)({environment:b})),[b]),k=K(),I=(0,s().K8)((()=>window.innerHeight<u().M&&f.isMobile),[f.isMobile]),T=(0,B().o_)(),M=(0,o.useRef)(null),P=(0,o.useCallback)((()=>{const e=M.current;if(e){const t=e.getNode();t&&t.scrollTo({top:T})}}),[T]);(0,o.useEffect)((()=>{P()}),[P]);const R=(0,s().K8)((()=>function(e,t,n,o){const{WindowSizeStore:a}=e;return{width:"100%",height:o,paddingTop:n?a.getSafePaddingTopCSS(0):a.getSafePaddingTopCSS(24),paddingLeft:a.getSafePaddingLeftCSS(16),paddingRight:a.getSafePaddingRightCSS(16),paddingBottom:a.getSafePaddingBottomCSS(64),background:t.surface.wash}}(b,y,w,x-(T>100?T:0))),[b,y,x,T,w]),z=(0,s().K8)((()=>function(e,t){return{display:"inline-block",textAlign:"center",width:`calc(100vw - ${t.getSafePaddingLeftCSS(16)} - ${t.getSafePaddingRightCSS(16)})`,maxWidth:360,margin:"0 auto",background:e.surface.wash}}(y,h)),[y,h]),O=(0,s().K8)((()=>m.renderStage(a)),[m,a]),W=(0,s().K8)((()=>{var e;return null===(e=m.renderContentAboveContinueButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),E=(0,s().K8)((()=>{var e;return null===(e=m.renderContentUnderContinueButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),q=(0,s().K8)((()=>{var e;return null===(e=m.shouldHideMobileBottomContent)||void 0===e?void 0:e.call(m,a)}),[m,a]),F=(0,s().K8)((()=>m.isContinueEnabled(a,b)),[m,a,b]),H=(0,s().K8)((()=>{var e;return null===(e=m.shouldShowSkipButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),V=(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,L.jsx)(S().p,{disabled:"mobile_team_onboarding_invite"===m.stageName,style:{borderRadius:"100%",height:36,width:36,background:y.tint.regular,display:"flex",alignItems:"center",verticalAlign:"middle",marginBottom:16},onClick:async()=>await(0,D().handleMobileBackButtonClick)({isBackDisabled:d,environment:b,currentStage:m,onboardingState:a}),children:(0,l().I)({height:16,color:d?y.icon.tertiary:y.icon.secondary})}),H&&(0,L.jsx)(S().p,{isGray:!0,onClick:async()=>await(0,D().skipStage)({environment:b,currentStage:m,onboardingState:a}),children:(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"})})]}),(0,L.jsxs)("div",{style:k.mobileWrapStyle,children:[(0,L.jsx)(J,{}),w?(0,L.jsxs)("div",{style:{paddingTop:12},children:[(0,L.jsx)("div",{style:k.title2,children:c}),g&&(0,L.jsx)("div",{style:k.subtitle2,children:g})]}):(0,L.jsxs)("div",{children:[g&&(0,L.jsx)("div",{style:{...k.subtitle,...m.headerStyles},children:g}),(0,L.jsx)("div",{style:{...k.title,...I&&{fontSize:28,marginBottom:16},...m.headerStyles},children:c})]}),O]})]});return(0,L.jsxs)(j().k,{debugName:"ContextualizedOnboardingMobileScroller",enable:!0,shortcuts:{backbutton:()=>{(0,D().handleMobileBackButtonClick)({isBackDisabled:d,environment:b,currentStage:m,onboardingState:a})}},children:[m.shouldHideScroller?(0,L.jsx)("div",{style:R,children:V}):(0,L.jsx)(C().H,{type:N().A.Y,style:R,ref:M,children:V}),(0,L.jsx)("div",{style:{transition:"opacity 0.5s",opacity:q?0:1,...q&&{pointerEvents:"none"}},children:(0,L.jsx)("div",{style:{position:"absolute",bottom:0,paddingBottom:T+8,width:"100%",boxShadow:`0px -20px 20px 20px ${y.surface.wash}`,background:y.surface.wash},children:(0,L.jsx)("div",{style:{display:"inline-block",textAlign:"center",width:"100%",margin:"0 auto",background:y.surface.wash,...m.footerStyles},children:(0,L.jsxs)("div",{style:z,children:[W,(null===(t=m.getMobileContinueButtonOverride)||void 0===t?void 0:t.call(m))??(0,L.jsx)(A().A,{style:k.continueButton,size:"lg",onClick:async()=>await(0,D().goToNextStage)({environment:b,onboardingState:a}),disabled:!F,children:(null===(n=m.getContinueButtonLabel)||void 0===n?void 0:n.call(m,a))??w?v?(0,L.jsx)(p().sA,{defaultMessage:"Get started",id:"contextualizedOnboarding.getStartedButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Next",id:"contextualizedOnboarding.nextButton.label"}):v?(0,L.jsx)(p().sA,{defaultMessage:"Finish",id:"contextualizedOnboarding.finishButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})}),E]})})})})]})}function J(){const e=(0,i().v3)(),t=e.device.isMobile,n=(0,s().K8)((()=>E().A.state),[]),o=(0,s().K8)((()=>(0,W().shouldShowProgressIndicatorOnStage)(n,e)&&"on"===z().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})),[e,n]),a=(0,s().K8)((()=>(0,W().getOnboardingProgressPercentage)(n,e)),[n,e]),l=(0,r().IS)((e=>({progressBarOuter:{width:"100%",height:4,background:e.tint.regular,borderRadius:100,...t?{marginBottom:24}:{top:0,left:0,position:"absolute"}},progressBarFilled:{width:`${a}%`,height:4,background:e.text.primary,borderRadius:100,transition:"width 0.5s",...!t&&{top:0,left:0,position:"absolute"}}})),[t,a]);return o?(0,L.jsx)(x().A,{initial:{opacity:0},animate:{opacity:1},config:{duration:400,timingFunction:"ease-in"},style:{zIndex:4},children:(0,L.jsx)("div",{style:l.progressBarOuter,children:(0,L.jsx)("div",{style:l.progressBarFilled})})}):null}},140612:(e,t,n)=>{n.d(t,{w:()=>a});var o=()=>n(989423);function a(e,t){const{spaceId:n,pageId:a,joinSpaceMethod:i}=t;(0,o().u4)({environment:e,event:{eventName:"trusted_domain_banner_cta_clicked",eventProperties:{spaceId:n,pageId:a,joinSpaceMethod:i}}})}},186787:(e,t,n)=>{n.r(t),n.d(t,{contextualizedOnboardingStageByStageName:()=>mi});var o=n(296540),a=()=>n(959013),i=(n(16280),n(898992),n(354520),n(581454),()=>n(847249)),s=()=>n(401497),r=()=>n(148307),l=()=>n(534177),d=()=>n(854672),u=()=>n(864943),c=()=>n(59424),g=()=>n(235921),p=n(474848);const m={notes:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.notes",defaultMessage:"Notes"}),iconName:"official-document"},clubs:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},budget:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},v={notes:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.classNotes",defaultMessage:"Class notes"}),iconName:"official-document"},jobApplications:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplications",defaultMessage:"Job application"}),iconName:"briefcase"},clubs:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},research:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},budget:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},y={notes:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.classNotes",defaultMessage:"Class notes"}),iconName:"official-document"},jobApplications:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},clubs:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},research:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},b={jobApplications:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},lessonPlans:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.lessonPlans",defaultMessage:"Lesson plans"}),iconName:"book"},classroomManagement:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.classroomManagement",defaultMessage:"Classroom management"}),iconName:"apple"},research:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},budget:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},f={jobApplications:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},projectManagement:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.projectManagement",defaultMessage:"Project management"}),iconName:"list"},websiteBuilding:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.websiteBuilding",defaultMessage:"Website building"}),iconName:"computer"},budget:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,p.jsx)(a().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}};function h(e){var t;if(!(0,c().isEducationFlowState)(e))return v;const{educationRole:n,educationLevel:o}=(null==e||null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses)??{};if(!n||!o)throw new Error("educationRole and educationLevel should be defined!");switch(n){case"student":switch(o){case"k-12":return m;case"graduate":return y;case"undergraduate":return v;default:return(0,l().HB)(o)}case"faculty member":return b;case"staff member":return f;case"other":throw new Error("Should not reach this component if educationRole is other!");default:return(0,l().HB)(n)}}function x(e){const{categoryName:t,iconName:n,onboardingState:o,title:a}=e,r=(0,i().K8)((()=>{var e;return"education_flow"===o.flowName?(null===(e=o.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.categories)??[]:[]}),[o]),l=(0,i().K8)((()=>r.includes(t)||!1),[t,r]),c=`/icons/${n}_${l?"gray":"lightgray"}.svg`,m=function(e){return(0,s().IS)((t=>({icon:{marginRight:8,color:e?t.icon.primary:t.icon.secondary},button:{alignItems:"center",width:"auto",height:40,borderRadius:8,margin:"6px 8px 6px 0px",borderColor:t.stroke.primary,color:t.text.secondary,paddingLeft:8,paddingRight:12,...e&&{color:t.text.primary,background:t.surface.elevated,borderColor:t.stroke.uiBluePrimary,outline:`1px solid ${t.stroke.uiBluePrimary}`}},categoryTitle:{flex:1,color:e?t.text.primary:t.text.secondary,overflowWrap:"break-word",whiteSpace:"normal"}})),[e])}(l);return(0,p.jsx)(u().A,{size:"lg",icon:()=>(0,p.jsx)(d().A,{type:"notion_icon",size:24,icon:c,largeIcon:!0,style:m.icon}),style:m.button,onClick:()=>function(e,t){if("education_flow"===t.flowName){var n;const o=(null===(n=t.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories)||[],a=o.includes(e)?o.filter((t=>t!==e)):[...o,e];g().A.update((e=>{var t;return{...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,categories:a}}}}))}}(t,o),children:(0,p.jsx)("div",{style:m.categoryTitle,children:a})})}function S(e){let{children:t}=e;return(0,p.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",maxWidth:"406px"},children:t})}function j(){const e=(0,s().IS)((e=>({imageContainer:{position:"fixed",bottom:"0px",right:"0px",width:"40vw",height:"auto"}})),[]);return(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:r().A.images.onboarding.categoryPickerSmallPng,alt:"Category Picker Right Image",style:e.imageContainer})})}const A=function(){const e=(0,i().O$)(g().A);let t=0;var n;return"education_flow"===e.flowName&&(t=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n||null===(n=n.categories)||void 0===n?void 0:n.length)??0),(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{style:{color:"gray",fontSize:"small"},children:[t," ","Selected"]}),(0,p.jsx)(S,{children:Object.entries(h(e)).map((t=>{let[n,o]=t;if(o)return(0,p.jsx)(x,{iconName:o.iconName,onboardingState:e,title:o.title,categoryName:n},n)}))})]})},C={stageName:"education_category_picker",shouldSkip:()=>!1,getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What's on your mind?",id:"contextualizedOnboarding.educationCategoryPicker.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Select as many as you want",id:"contextualizedOnboarding.educationCategoryPicker.subtitle"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(A,{}),renderRightContent:()=>(0,p.jsx)(j,{})};var w=()=>n(796756),k=()=>n(962730),I=()=>n(484392),T=()=>n(872931),M=()=>n(125565),_=()=>n(311578),B=()=>n(100622),P=()=>n(284371);const N={fontSize:12,color:B().Ay.mediumTextColor,fontWeight:P().Wy.medium,lineHeight:"135%",marginTop:20,marginBottom:4};function R(e){var t;let{onboardingState:n}=e;return(0,p.jsx)(_().Ay,{questionType:"educationRole",title:(0,p.jsx)(a().sA,{defaultMessage:"What's your role at your educational institution?",id:"onboardingEducationPersonaSurvey.educationRole.label"}),randomizeSelectionOrder:!1,question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole,invalid:!1,onSelect:e=>{!function(e,t){var n;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,educationRole:t}}})}(n,e)}})}function z(){return(0,s().IS)((e=>({button:{alignItems:"center",width:"auto",height:40,borderRadius:8,margin:"6px 8px 6px 0px",borderColor:e.stroke.primary,color:e.text.secondary,paddingLeft:12,paddingRight:12},selectedButton:{color:e.text.primary,background:e.surface.elevated,borderColor:e.stroke.uiBluePrimary,outline:`1px solid ${e.stroke.uiBluePrimary}`},itemTitle:{flex:1,overflowWrap:"break-word",whiteSpace:"normal",textAlign:"center"},questionLabel:{...N,marginTop:25,marginBottom:8}})),[])}function D(e){let{onboardingState:t}=e;const n=z();return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{style:n.questionLabel,children:(0,p.jsx)(M().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What level do you study, teach, or support?",id:"onboardingEducationPersonaSurvey.educationLevelQuestion.label"})})}),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"left",marginTop:"0px"},children:T().tR.map((e=>{var o;const a=(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.educationLevel)===e;return(0,p.jsx)(u().A,{size:"lg",onClick:()=>function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.educationLevel)===t?void 0:t;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,planType:"school",surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,educationLevel:a}}})}(t,e),style:{...n.button,...a?n.selectedButton:{}},children:(0,p.jsx)("span",{style:n.itemTitle,children:(0,I().A)(e)})},e)}))}),(0,p.jsx)("div",{style:n.questionLabel,children:(0,p.jsx)(M().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"Have you used Notion before?",id:"onboardingEducationPersonaSurvey.notionFreqQuestion.label"})})}),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"left",marginTop:"0px"},children:T().$u.map((e=>{var o;const a=(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.notionUseFrequency)===e;return(0,p.jsx)(u().A,{size:"lg",onClick:()=>function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.notionUseFrequency)===t?void 0:t;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,notionUseFrequency:a}}})}(t,e),style:{...n.button,...a?n.selectedButton:{}},children:(0,p.jsx)("span",{style:n.itemTitle,children:(0,I().A)(e)})},e)}))})]})}const O=function(){var e,t;const n=(0,i().O$)(g().A),o=z();return(0,p.jsxs)("div",{style:{width:300},children:[(0,p.jsx)("div",{style:o.questionLabel,children:(0,p.jsx)(M().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What's your role at your educational institution?",id:"OnboardingEducationPersonaSurvey.educationRoleQuestion.label"})})}),(0,p.jsx)(R,{onboardingState:n}),(null===(e=n.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.educationRole)&&(s=null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole,!("other"===s))&&(0,p.jsx)(D,{onboardingState:n})]});var s},W={stageName:"education_persona_survey",shouldSkip:()=>!1,alignment:k().C.Center,getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Welcome to Notion for education",id:"contextualizedOnboarding.educationPersonaSurveyStage.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"contextualizedOnboarding.educationPersonaSurveyStage.subtitle"}),onContinue(e,t){var n,o,a;const{educationLevel:i,educationRole:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:"student",useCases:[],educationLevel:i,educationRole:s},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),null===(a=g().A.state.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a||a.educationRole},isContinueEnabled(e){var t,n,o,a;return"other"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole)||Boolean(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.educationRole)&&Boolean(null===(o=e.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.educationLevel)&&Boolean(null===(a=e.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.notionUseFrequency)},isBackEnabled:e=>0!==e.joinableSpaces.length,renderStage:()=>(0,p.jsx)(O,{}),getContinueButtonStyles:()=>({width:300,alignSelf:"center",marginTop:70})};var E=n.n(n(794148)),L=()=>n(317053),q=()=>n(896326),F=()=>n(458097),H=()=>n(153321),V=()=>n(484714),U=()=>n(428045),K=()=>n(84817),G=()=>n(554509),J=()=>n(351360),$=()=>n(541801),Y=()=>n(913454),Z=()=>n(26388),X=()=>n(480599);const Q={duration:.7,ease:"anticipate"};function ee(){const e=(0,V().v3)(),t=(0,i().O$)(g().A),s=(0,o.useRef)(!1),{aiPrompt:r,currentStageName:l,spaceId:d}=(0,i().K8)((()=>{E()((0,c().isAiOnboardingFlow)(t.flowName),"App builder is only available for specific AI onboarding flows");const n=(0,c().getStageName)({flowName:t.flowName,stageIndex:t.currentStageIndex,environment:e});return{aiPrompt:"ai_onboarding_phase_2"===t.flowName?t.aiPrompt:void 0,currentStageName:n,spaceId:t.spaceId}}),[e,t]),u=(0,i().O$)(J().AppStoreCurrentSpaceStore),m=(0,i().K8)((()=>!r),[r]),v=(0,i().K8)((()=>Y().globalWorkflowTemplates.fromIdOfType({templateId:U().MH,type:"collection"})),[]);(0,o.useEffect)((()=>()=>F().A.setState({open:!1,isShowingLoadingState:!1})),[]),(0,o.useEffect)((()=>{d||(0,Z().createSpaceAndSetSpaceId)({onboardingState:t,environment:e,showLoader:!1,createTemplates:!1})}),[t,e,d]),(0,o.useEffect)((()=>{d&&u&&(s.current||((0,L().openSelectedTemplateOnboardingModalForInAppFlows)({parentStore:u,template:v,environment:e,aiPrompt:r?[[r]]:void 0,autoSubmit:!m,navigateToOnFinish:"skip",onClose:async n=>{"canceled"!==n.type&&"opened_marketplace"!==n.type&&"opened_app_builder"!==n.type&&(E()(g().A.state.onboardingData,"onboardingData should not be undefined"),g().A.setState({...g().A.state,onboardingData:{...g().A.state.onboardingData,redirectBlockId:n.blockId}}),await(0,X().goToNextStage)({environment:e,onboardingState:t}))},origin:"new_user_onboarding",version:m?"new_user_template_onboarding":void 0}),s.current=!0))}),[e,r,v,t,d,u,l,m]);const y=d&&u;return(0,p.jsxs)(p.Fragment,{children:[y?null:(0,p.jsx)(n(203066).N,{mode:"wait",children:(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)(H().P.div,{layoutId:"assistant-face",layout:"position",transition:Q,children:(0,p.jsx)(n(103975).M,{variant:"large",highLevelState:"writing",includeBoxShadow:!0})}),(0,p.jsx)(H().P.div,{style:{marginLeft:"0.75rem"},initial:{opacity:0},animate:{opacity:1},transition:Q,children:(0,p.jsx)(G().D,{styleName:"UITitle-22px/Semibold",children:m?(0,p.jsx)(a().sA,{id:"onboarding.appBuilder.promptless.loadingMessage",defaultMessage:"Setting up your workspace..."}):(0,p.jsx)(a().sA,{id:"onboarding.appBuilder.loadingMessage",defaultMessage:"Letâ€™s build!"})})})]})}),y?"ai_onboarding_phase_2_5"===t.flowName?(0,p.jsx)(K().Y1,{width:1250,style:{minHeight:700},children:(0,p.jsx)($().JA,{display:"content_only",overrides:{hideLearnMore:!0,hideSuggestionPills:!0,hideChatFeedback:!0}})}):(0,p.jsx)($().JA,{display:"embedded",overrides:{hideLearnMore:!0,hideSuggestionPills:!0,hideChatFeedback:!0}}):null]})}const te={stageName:"app_builder",shouldSkip:()=>!1,getTitle:e=>"",getDesktopContinueButtonOverride:()=>(0,p.jsx)("div",{}),isContinueEnabled:e=>!1,isBackEnabled(e){const t=F().A.state;if(!t.open)return!1;const n=(0,q().hq)(t);return"ai_onboarding_phase_2_5"===e.flowName?"viewsSelection"===n||"features"===n:"viewsSelection"===n},shouldDisableDefaultOnBack:()=>!0,onBack(e){const t=F().A.state;E()(t.open,"Workflow template modal should not be closed");const o=t.currentStepIndex;(0,L().moveToPreviousOnboardingStep)(e.device.isPhone),(0,n(989423).u4)({environment:e,event:{eventName:"workflow_template_onboarding_previous_step",eventProperties:{previous_step:(0,q().Wm)(t)[o],step:(0,q().hq)(t),...(0,q().gM)(t)}}})},onContinue(e,t){F().A.setState({open:!1,isShowingLoadingState:!1})},renderStage:()=>(0,p.jsx)(ee,{}),alignment:k().C.Center};var ne=()=>n(47373),oe=(n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),()=>n(582676)),ae=()=>n(319625),ie=()=>n(493823);const se={todos:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.todos",defaultMessage:"To-do list"}),iconName:"list"},projectsTasks:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.projectsTasks",defaultMessage:"Project tracking"}),iconName:"checklist"},habitWellness:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.habitWellness",defaultMessage:"Habit tracking"}),iconName:"checkmark-line"},budgetPersonalFinance:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.budgetPersonalFinance",defaultMessage:"Personal finance"}),iconName:"currency-coin"},travel:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},hobbies:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.hobbies",defaultMessage:"Hobbies"}),iconName:"baseball"},careerBuilding:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.careerBuilding",defaultMessage:"Career building"}),iconName:"briefcase"},foodNutrition:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.foodNutrition",defaultMessage:"Food & nutrition"}),iconName:"apple"},websiteBuildingForLife:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.websiteBuildingForLife",defaultMessage:"Site or blog"}),iconName:"laptop"},entertainment:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.entertainment",defaultMessage:"Books and media"}),iconName:"tv"}},re={planner:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.planner",defaultMessage:"Planner"}),iconName:"calendar"},notes:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.notes",defaultMessage:"Notes"}),iconName:"official-document"},research:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"graduate"},clubs:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.clubs",defaultMessage:"Clubs and organizations"}),iconName:"people"},teachingLessonPlans:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.teachingLessonPlans",defaultMessage:"Lesson plans"}),iconName:"bookmark"},teachingClassroomManagement:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.teachingClassroomManagement",defaultMessage:"Classroom management"}),iconName:"apple"},websiteBuildingForSchool:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.websiteBuildingForSchool",defaultMessage:"Site or blog"}),iconName:"laptop"},internshipApplications:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.internshipApplications",defaultMessage:"Job applications"}),iconName:"binoculars"},groupProjects:{title:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"}};function le(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)(ce,{onboardingState:e,isMobile:!1})}function de(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)(ce,{onboardingState:e,isMobile:!0})}function ue(e){let{onboardingState:t}=e;const n=(0,s().DP)(),o=(0,V().v3)(),{device:i}=o;return(0,p.jsx)(ie().p,{size:"lg",onClick:async()=>await async function(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(t,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"skip",plan_selection:null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t})});try{await g().A.completeOnboarding(t,"create")}catch(r){(0,Z().handleOnboardingError)(t,(0,ae().A)(r))}}(t,o),style:{width:"100%",justifyContent:"center",color:n.text.tertiary,marginTop:8,height:i.isMobile?44:32},children:(0,p.jsx)(a().sA,{defaultMessage:"Skip for now",id:"onboardingSurvey.cancelButton.labelV2"})})}function ce(e){var t,n;const{onboardingState:o,isMobile:s}=e,r=(0,V().v3)(),l=(0,oe().Nx)(r.currentUser.id),{planSelection:d,categories:u}=(0,i().K8)((()=>{var e,t;return{planSelection:null===(e=o.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType,categories:(null===(t=o.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.categories)??[]}}),[null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType,null===(n=o.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories]),c=("school"===d?Object.entries(re):Object.entries(se)).sort((()=>l()-.5)),g=(0,i().K8)((()=>"school"===d?u.filter((e=>T().gb.includes(e))).length:u.filter((e=>T()._N.includes(e))).length),[u,d]);return s?(0,p.jsx)("div",{style:{marginBottom:32,marginTop:12},children:(0,p.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:c.map((e=>{let[t,n]=e;return(0,p.jsx)(pe,{iconName:n.iconName,onboardingState:o,title:n.title,categoryName:t,isMobile:s},t)}))})}):(0,p.jsx)("div",{style:{display:"flex"},children:(0,p.jsxs)("div",{style:{width:406,alignSelf:"center"},children:[(0,p.jsx)(M().A,{style:{fontSize:12,fontWeight:P().Wy.semibold,color:"#888783"},children:(0,p.jsx)(a().sA,{defaultMessage:"{selected_number} selected",id:"onboardingSurvey.categoryPicker.selected.label",values:{selected_number:g}})}),(0,p.jsx)("div",{style:{display:"flex",flexWrap:"wrap",boxSizing:"border-box"},children:c.map((e=>{let[t,n]=e;return(0,p.jsx)(pe,{iconName:n.iconName,onboardingState:o,title:n.title,categoryName:t,isMobile:s},t)}))})]})})}function ge(){const e=(0,s().IS)((e=>({rightFigureStyle:{justifyContent:"flex-end",alignItems:"flex-end",display:"flex",background:e.surface.wash,position:"absolute",bottom:0},titleStyle:{color:e.text.primary,fontSize:22,fontWeight:P().Wy.semibold,marginLeft:8,textAlign:"left"},subtitleStyle:{padding:0,margin:0,fontSize:22,fontWeight:P().Wy.semibold,marginLeft:8,marginBottom:30,textAlign:"left",color:e.text.primary},largeWindowStyle:{height:"85%",width:"auto",objectFit:"cover",objectPosition:"left",maxHeight:"100%",maxWidth:"100%",overflow:"hidden"},smallerWindowStyle:{maxHeight:"85%",maxWidth:"85%"}})),[]),t=window.innerWidth>1600,n="dark"===(0,s().eP)();return(0,p.jsx)("div",{style:e.rightFigureStyle,children:(0,p.jsx)("img",{src:t?n?r().A.images.onboarding.categoryPickerLargeDarkmodePng:r().A.images.onboarding.categoryPickerLargeLightmodePng:r().A.images.onboarding.categoryPickerSmallPng,style:t?e.largeWindowStyle:e.smallerWindowStyle})})}function pe(e){var t;const{categoryName:n,iconName:o,onboardingState:a,title:r,isMobile:l}=e,m=(0,V().v3)(),v=(0,i().K8)((()=>{var e;const{categories:t}=(null===(e=a.planTypeAndSurveyInfo)||void 0===e?void 0:e.surveyResponses)??{};return(t??[]).includes(n)}),[n,null===(t=a.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses]),y=`/icons/${o}_${v?"gray":"lightgray"}.svg`,b=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s().IS)((n=>({icon:{marginRight:8,color:e?n.icon.primary:n.icon.secondary,...t&&{position:"absolute",left:16,top:16,margin:0}},button:{height:t?104:40,borderRadius:t?12:8,margin:"6px 8px 6px 0px",borderColor:n.stroke.primary,color:n.text.secondary,paddingLeft:12,paddingRight:16,...e&&{color:n.text.primary,background:n.surface.elevated,borderColor:n.stroke.uiBluePrimary,outline:`1px solid ${n.stroke.uiBluePrimary}`},...t&&{position:"relative",margin:8}},categoryTitle:{...t&&{position:"absolute",bottom:12,left:16,overflowWrap:"break-word",whiteSpace:"normal",fontSize:16,fontWeight:P().Wy.regular,color:e?n.text.primary:n.text.secondary,width:"calc(100% - 24px)"}}})),[e,t])}(v,l);return(0,p.jsx)(u().A,{size:"lg",icon:()=>(0,p.jsx)(d().A,{type:"notion_icon",size:24,icon:y,largeIcon:!0,style:b.icon}),style:b.button,onClick:()=>function(e,t,n){var o,a;const{categories:i}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{},s=new Set(i??[]);s.has(n)?s.delete(n):s.add(n),g().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,categories:Array.from(s)}}}),w().JE(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),categories:Array.from(s)})}(m,a,n),children:(0,p.jsx)("div",{style:b.categoryTitle,children:r})})}var me=()=>n(496603),ve=()=>n(616385),ye=()=>n(669647),be=()=>n(313127),fe=()=>n(704152),he=()=>n(859428),xe=()=>n(115512);const Se={docs:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.docs.title",defaultMessage:"Docs"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.docs.description",defaultMessage:"Create and collaborate on documents"}),icon:n(967980).Q},wikis:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.wikis.title",defaultMessage:"Wikis"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.wikis.description",defaultMessage:"Build a central hub for your team's knowledge"}),icon:n(844596).C},notes:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.notes.title",defaultMessage:"Meetings"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.notes.description",defaultMessage:"Take and organize your meeting notes and ideas"}),icon:n(18690).a},project:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.project.title",defaultMessage:"Projects"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.project.description",defaultMessage:"Plan, track, and manage projects and tasks"}),icon:n(112710).a},goals:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.goals.title",defaultMessage:"Goals"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.goals.description",defaultMessage:"Set and track goals and milestones"}),icon:n(310600).M},ai:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.ai.title",defaultMessage:"Notion AI"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.ai.description",defaultMessage:"Use AI to help write, brainstorm, and analyze"}),icon:n(654601).X},other:{title:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.other.title",defaultMessage:"Other"}),description:(0,p.jsx)(a().sA,{id:"teamOnboarding.useCase.other.description",defaultMessage:"Use Notion for something else"}),icon:n(426388).S}},je=["project","goals","docs","wikis","notes","ai"],Ae=6;function Ce(){var e,t;const n=(0,V().v3)(),a=(0,i().K8)((()=>g().A.state),[]),r=(0,s().IS)((e=>({wrapper:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12}})),[]),d=(0,i().K8)((()=>(0,c().isWorkflowTemplatesEnabledForOnboarding)(n)),[n]),u=(0,i().K8)((()=>{var e;return function(e){let{persona:t}=e,n=[];(0,l().Xk)(ye().hx,t)&&(n=(0,U().Qf)({persona:t}));return me().hS([...n,...je],(e=>{if(Te(e))return e;const t=Y().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e});return t.category?Y().useCaseByCollectionTemplateCategory[t.category]:e})).slice(0,Ae)}({persona:null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.userPersona})}),[null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.userPersona]);(0,o.useEffect)((()=>{g().A.update((e=>{var t;return{...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,useCases:[]}},selectedWorkflowTemplateIds:[]}}))}),[u]);const m=(0,i().K8)((()=>{var e;return(null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.useCases)??[]}),[null===(t=a.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.useCases]),v=(0,i().K8)((()=>a.selectedWorkflowTemplateIds??[]),[a.selectedWorkflowTemplateIds]);return(0,p.jsx)("div",{style:r.wrapper,children:u.map((e=>Te(e)?(0,p.jsx)(we,{useCase:e,isSelected:m.includes(e),onSelectUseCaseItem:()=>{g().A.update((t=>{var n,o;const a=(null===(n=t.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases)??[];let i=[];return i=a.includes(e)?a.filter((t=>t!==e)):[...a,e],{...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,useCases:i}}}}))},shouldUseWorkflowTemplateMetadata:d&&"wikis"!==e},e):(0,p.jsx)(ke,{workflowTemplateId:e,isSelected:v.includes(e),onSelect:()=>{g().A.update((t=>{const n=t.selectedWorkflowTemplateIds??[];let o=[];return o=n.includes(e)?n.filter((t=>t!==e)):[...n,e],{...t,selectedWorkflowTemplateIds:o}}))}},e)))})}function we(e){let{useCase:t,isSelected:n,onSelectUseCaseItem:o,shouldUseWorkflowTemplateMetadata:a}=e;const r=Se[t],l=(0,s().IS)((e=>({icon:{height:20,width:20}})),[]),{name:d,icon:u,description:c}=(0,i().K8)((()=>{if(a){const e=(0,ve().getWorkflowTemplateForUseCase)(t);if(e){const t=Y().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e});return{name:t.value.targetCollection.name,icon:(0,p.jsx)("img",{src:t.value.targetCollection.icon,alt:t.value.targetCollection.name,style:l.icon}),description:t.description}}}return{name:r.title,icon:r.icon(l.icon),description:r.description}}),[r,a,l.icon,t]);return(0,p.jsx)(Ie,{title:d,description:c,icon:u,isSelected:n,onSelect:o})}function ke(e){let{workflowTemplateId:t,isSelected:n,onSelect:o}=e;const a=(0,i().K8)((()=>Y().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:t})),[t]),r=a.description,{name:l,icon:d}=a.value.targetCollection,u=(0,s().IS)((e=>({icon:{height:20,width:20,color:e.text.primary}})),[]);return(0,p.jsx)(Ie,{title:l,description:r,icon:(0,p.jsx)("img",{src:d,alt:l,style:u.icon}),isSelected:n,onSelect:o})}function Ie(e){let{title:t,description:n,icon:o,isSelected:a,onSelect:i}=e;const r=(0,V().v3)().device.isMobile,l=(0,s().IS)((e=>({button:{display:"flex",flexDirection:"column",position:"relative",gap:6,width:180,padding:16,borderRadius:12,paddingBottom:12,cursor:"pointer",...a&&{background:e.accentColors.uiBlue[75]},...r&&{width:170}},borderContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:12,border:`1px solid ${e.stroke.secondary}`,...a&&{border:`2px solid ${e.stroke.uiBluePrimary}`}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},title:{...(0,xe().pA)(2)},description:{height:32,whiteSpace:"normal",width:150,...(0,xe().pA)(2),textOverflow:"ellipsis",...r&&{fontSize:11.5}},tooltip:{width:240},tooltipText:{whiteSpace:"normal"}})),[r,a]);return(0,p.jsx)(he().A,{style:l.tooltip,disableTooltip:"string"==typeof n&&n.length<48&&"string"==typeof t&&t.length<48,renderTooltip:()=>(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4,width:"100%"},children:[(0,p.jsx)(G().D,{style:l.tooltipText,styleName:"UIRegular-14px/Medium",children:t}),(0,p.jsx)(G().D,{style:l.tooltipText,styleName:"UISmall-12px/Regular",colorName:"secondary",children:n})]}),render:e=>(0,p.jsxs)(fe().A,{style:l.button,hoveredStyle:l.toggleButtonHoveredStyle,pressedStyle:l.toggleButtonPressedStyle,onClick:()=>i(),...e,children:[(0,p.jsx)("div",{style:l.borderContainer}),o,(0,p.jsx)(M().A,{isMultiline:!0,style:l.title,children:t}),(0,p.jsx)(M().A,{isSecondaryColor:!0,isSmall:!0,style:l.description,children:n})]})})}function Te(e){return(0,l().Xk)(be().BQ,e)}var Me=()=>n(614505);const _e=(0,a().YK)({spaceNamePlaceHolder:{defaultMessage:"Acme Inc.",id:"workspaceIconAndNamePreview.workspaceName.placeholder"},spaceNameHint:{defaultMessage:"Your workspace",id:"workspaceIconAndNamePreview.workspaceName.placeholderHint"}});function Be(){const e=(0,a().tz)(),t=(0,i().O$)(g().A),n=t.spaceName,o=t.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:t.spaceIcon}:void 0,r=e.formatMessage(_e.spaceNamePlaceHolder),l=e.formatMessage(_e.spaceNameHint),d=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:4,paddingRight:4,paddingBottom:4,wordBreak:"break-word",animationName:"fadeIn",animationDuration:"0.7s",animationFillmode:"forwards",animationTimingFunction:"ease-in","@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}},recordIconContainer:{marginRight:10},recordIconBox:{borderRadius:8,background:e.tint.regular},recordIconPlaceholder:{lineHeight:"32px",letterSpacing:.208,color:e.text.tertiary,height:"auto",fontSize:16,fontWeight:510}})),[]);return(0,p.jsxs)("div",{style:d.container,children:[(0,p.jsx)("div",{style:d.recordIconContainer,children:(0,p.jsx)(Me().B,{bucket:"public",disabled:!0,icon:o,isEmptyPage:!1,title:t.spaceName||r,size:32,iconLoggingData:{recordTable:"space",source:"workspace_icon_and_name_preview"},iconBoxStyles:d.recordIconBox,placeholderStyle:d.recordIconPlaceholder})}),(0,p.jsx)(M().A,{isMultiline:!0,isSecondaryColor:!0,children:n||l})]})}function Pe(e){let{selectedUseCases:t,selectedWorkflowTemplateIds:n,selectedCategories:o,shouldZoomInOnWorkspaceNameAndIconPreview:r,shouldHideTeamSpacesSection:l}=e;const d=(0,V().v3)(),u=(0,a().tz)(),g=(0,s().IS)((e=>({wrapper:{display:"flex",flex:1,overflow:"hidden",zIndex:2,position:"relative",maxWidth:1100,marginRight:-8,transition:"transform 0.3s linear",transformOrigin:"top left",...r&&{transform:"scale(1.2)"}},preview:{display:"flex",flex:1,border:`1px solid ${e.stroke.primary}`,borderRadius:12,backgroundColor:e.surface.wash,width:1200,height:600,...r&&{transition:"opacity 0.3s ease-out",opacity:.7}},sidebar:{width:180,height:400,backgroundColor:e.surface.wash,marginTop:16,padding:8,color:e.text.secondary},pageContent:{padding:"20px 0 20px 20px",display:"flex",flexDirection:"column",flex:1,height:"100%",backgroundColor:e.surface.elevated,borderRadius:"0px 12px 12px 0px",overflowX:"scroll",overflowY:"hidden",minWidth:"calc(600px - 180px)"}})),[r]);t=t.filter((e=>"ai"!==e));const m=u.formatMessage({id:"onboarding.appPreview.placeholderPrivateSectionName",defaultMessage:"Private"}),v=u.formatMessage({id:"onboarding.appPreview.placeholderTeamspacesSectionName",defaultMessage:"Teamspaces"}),y=(0,i().K8)((()=>(0,c().isWorkflowTemplatesEnabledForOnboarding)(d)),[d]),b=[...n??[],...y?(0,ve().getWorkflowTemplatesForUseCases)(t):[]],f=y?t.includes("wikis")?["wikis"]:[]:t;return(0,p.jsx)("div",{style:g.wrapper,children:(0,p.jsxs)("div",{style:g.preview,children:[(0,p.jsxs)("div",{style:g.sidebar,children:[r?(0,p.jsx)(Be,{}):(0,p.jsx)(De,{numRows:1}),(0,p.jsx)(De,{numRows:2}),Boolean(l)?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ze,{title:v,indentPixels:-8,isSmall:!0,icon:null,shouldZoomInOnWorkspaceNameAndIconPreview:r}),(0,p.jsx)(De,{numRows:1}),f.length>0||b.length>0?(0,p.jsxs)(p.Fragment,{children:[b.map((e=>(0,p.jsx)(Re,{templateId:e,shouldZoomInOnWorkspaceNameAndIconPreview:r},e))),f.map((e=>(0,p.jsx)(ze,{icon:Se[e].icon({height:12,width:12}),title:Se[e].title,indentPixels:8,shouldZoomInOnWorkspaceNameAndIconPreview:r,shouldFadeInRow:!0},e)))]}):(0,p.jsx)(De,{numRows:2})]}),(0,p.jsx)(ze,{title:m,indentPixels:-8,isSmall:!0,icon:null,shouldZoomInOnWorkspaceNameAndIconPreview:r}),(0,p.jsx)(De,{numRows:1}),(0,p.jsx)(Ne,{selectedCategories:o}),(0,p.jsx)(De,{numRows:2})]}),(0,p.jsx)("div",{style:g.pageContent,children:(0,p.jsx)(Oe,{})})]})})}function Ne(e){const{selectedCategories:t}=e,n=(0,i().K8)((()=>{var e;return null===(e=g().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType}),[]);return(0,p.jsx)(p.Fragment,{children:t.map((e=>{const t="school"===n?me().Jt(re,e):"personal"===n?me().Jt(se,e):void 0;if(!t)return;const o=`/icons/${t.iconName}_gray.svg`;return(0,p.jsx)(ze,{title:t.title,iconPath:o,icon:(0,p.jsx)("img",{src:o,alt:"icon"}),indentPixels:8,shouldFadeInRow:!0,useImageBox:!0},e)}))})}function Re(e){let{templateId:t,shouldZoomInOnWorkspaceNameAndIconPreview:n}=e;const o=(0,i().K8)((()=>Y().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:t})),[t]),a=(0,s().IS)((()=>({icon:{height:15,width:15}})),[]),{icon:r,name:l}=o.value.targetCollection;return(0,p.jsx)(ze,{icon:(0,p.jsx)("img",{src:r,style:a.icon}),title:l,indentPixels:8,shouldZoomInOnWorkspaceNameAndIconPreview:n,shouldFadeInRow:!0},t)}function ze(e){let{icon:t,iconPath:n,title:o,indentPixels:a,isSmall:i,shouldZoomInOnWorkspaceNameAndIconPreview:r,shouldFadeInRow:l,useImageBox:u}=e;const c=(0,s().IS)((e=>({sidebarRow:{height:30,paddingTop:4,paddingBottom:4,paddingLeft:8+(a??0),paddingRight:8,display:"flex",alignItems:"center",justifyContent:"flex-start",...r&&{opacity:.4,transition:"opacity 1s ease-out"},...l&&{animationName:"fadeIn",animationDuration:"0.3s",animationFillmode:"forwards",animationTimingFunction:"ease-in","@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}}},sidebarIcon:{},sidebarTitle:{width:"100%",marginLeft:8,fontSize:i?12:14,fontWeight:i?P().Wy.regular:P().Wy.medium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),[a,i,r,l]),g=u&&n?(0,p.jsx)(d().A,{type:"notion_icon",size:15,icon:n,largeIcon:!1}):t;return(0,p.jsxs)("div",{style:c.sidebarRow,children:[(0,p.jsx)("div",{style:c.sidebarIcon,children:g}),(0,p.jsx)("div",{style:c.sidebarTitle,children:o})]})}function De(e){let{numRows:t=3}=e;const n=(0,s().IS)((e=>({skeletonPageIcon:{width:12,height:12,borderRadius:"50%",background:e.cardPressedBackground},skeletonPageTitle:{background:e.cardPressedBackground,borderRadius:12,height:12}})),[]),o=["60%","25%","75%"].map(((e,t)=>(0,p.jsx)(ze,{icon:(0,p.jsx)("div",{style:n.skeletonPageIcon}),title:(0,p.jsx)("div",{style:{...n.skeletonPageTitle,width:e}})},t))).slice(0,t);return(0,p.jsx)("div",{children:o})}function Oe(){const e=(0,s().IS)((e=>({smallPlaceholder:{borderRadius:12,background:e.cardPressedBackground,height:12,width:40},circlePlaceholder:{borderRadius:12,background:e.cardPressedBackground,height:12,width:12},largePlaceholder:{background:e.cardPressedBackground,borderRadius:12,height:12,width:120},pagePreview:{display:"flex",justifyContent:"space-between"}})),[]);return(0,p.jsxs)("div",{style:e.pagePreview,children:[(0,p.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,p.jsx)("div",{style:e.circlePlaceholder}),(0,p.jsx)("div",{style:e.largePlaceholder})]}),(0,p.jsxs)("div",{style:{display:"flex",gap:12,marginRight:24},children:[(0,p.jsx)("div",{style:e.smallPlaceholder}),(0,p.jsx)("div",{style:e.smallPlaceholder}),(0,p.jsx)("div",{style:e.smallPlaceholder})]})]})}const We={stageName:"onboarding_category_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},getTitle:(e,t)=>(0,p.jsx)("div",{style:{width:406,textAlign:"left"},children:(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s on your mind?",id:"onboardingSurvey.categoryPicker.title.desktop"})}),getSubTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"Select as many as you want.",id:"onboardingSurvey.categoryPicker.subtitle.mobile"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!0,async onContinue(e,t){var n,o,a;const{userPersona:i,userRole:s,useCases:r}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:i,userRole:s,useCases:r??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),"multiplayer"===(null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.collaborativeIntent)&&await(0,Z().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderContentUnderContinueButton:(e,t)=>(0,p.jsx)(ue,{onboardingState:e}),renderStage:()=>(0,p.jsx)(le,{}),renderRightContent(e){if((0,ne().ml)()){var t;const n=(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.categories)||[];return(0,p.jsx)(Pe,{selectedUseCases:[],selectedWorkflowTemplateIds:[],selectedCategories:n,shouldHideTeamSpacesSection:!0})}return(0,p.jsx)(ge,{})},shouldShowSkipButton:()=>!1,getContinueButtonLabel:()=>(0,p.jsx)(a().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})},Ee={stageName:"mobile_onboarding_category_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Select as many as you want.",id:"onboardingSurvey.categoryPicker.subtitle.mobile"}),getSubTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"What are some areas of interest?",id:"onboardingSurvey.categoryPicker.title.mobile"}),headerStyles:{fontSize:22,fontFamily:P().xf({locale:n(662303).locale}),textAlign:"left",lineHeight:1.28,fontWeight:590,color:"none",marginBottom:8},isContinueEnabled(e){var t;return Boolean(null==e||null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t||null===(t=t.categories)||void 0===t?void 0:t.length)},shouldHideMobileBottomContent(e){var t;return!(null!=e&&null!==(t=e.planTypeAndSurveyInfo)&&void 0!==t&&null!==(t=t.surveyResponses)&&void 0!==t&&null!==(t=t.categories)&&void 0!==t&&t.length)},isBackEnabled:e=>!0,async onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),await(0,Z().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,p.jsx)(de,{}),shouldShowSkipButton:()=>!0};var Le=()=>n(857639),qe=()=>n(38337),Fe=()=>n(406574);function He(){var e;const t=(0,i().O$)(g().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.collaborativeIntent;return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28},children:(0,p.jsx)(Ve,{onboardingState:t,collaborativeIntent:n})})}function Ve(e){var t;const{collaborativeIntent:n,onboardingState:o,isSmallMobileScreen:l}=e,d=(0,V().v3)(),u=function(e,t){return[{collaborativeIntent:"multiplayer",illustrationPath:e?r().A.images.onboarding.multiplayerIntentDarkmodePng:r().A.images.onboarding.multiplayerIntentLightmodePng,getTitle:()=>"team"===t?(0,p.jsx)(a().sA,{defaultMessage:"With my team",id:"onboardingCollaborativeIntentChoose.multiplayer.title.team"}):(0,p.jsx)(a().sA,{defaultMessage:"With others",id:"onboardingCollaborativeIntentChoose.multiplayer.title"}),getSubtitle:()=>{switch(t){case"team":return(0,p.jsx)(a().sA,{defaultMessage:"Track projects, company goals, meeting notes",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.team"});case"personal":return(0,p.jsx)(a().sA,{defaultMessage:"Plan travel, household chores, group activities",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.personal"});case"school":return(0,p.jsx)(a().sA,{defaultMessage:"Manage clubs, group projects, side projects",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.school"});default:throw new Error("Unknown plan type")}}},{collaborativeIntent:"singleplayer",illustrationPath:e?r().A.images.onboarding.singleplayerIntentDarkmodePng:r().A.images.onboarding.singleplayerIntentLightmodePng,getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"On my own",id:"onboardingCollaborativeIntentChoose.singleplayer.title"}),getSubtitle:()=>{switch(t){case"team":return(0,p.jsx)(a().sA,{defaultMessage:"Manage personal tasks, write docs, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.team"});case"personal":return(0,p.jsx)(a().sA,{defaultMessage:"Manage expenses, track hobbies, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.personal"});case"school":return(0,p.jsx)(a().sA,{defaultMessage:"Track assignments, apply to jobs, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.school"});default:throw new Error("Unknown plan type")}}}]}("dark"===(0,s().eP)(),null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType),g=(0,i().K8)((()=>!n&&(0,c().isAiOnboardingFlow)(o.flowName)),[n,o.flowName]);return(0,p.jsx)("div",{style:Ke(d),children:u.map(((e,t)=>(0,p.jsx)(Ue,{selectedCollaborativeIntent:n,buttonClassName:qe().OX4,isSmallMobileScreen:l,handleCollaborativeIntentSelect:e=>{const t=(0,Fe().Wd)({onboardingState:o,surveyResponse:e});g&&(0,X().goToNextStage)({environment:d,onboardingState:t})},...e},t)))})}function Ue(e){const{handleCollaborativeIntentSelect:t,selectedCollaborativeIntent:n,collaborativeIntent:o,illustrationPath:a,buttonClassName:i,getTitle:r,getSubtitle:l,isSmallMobileScreen:d}=e,u=(0,V().v3)(),c=function(e){const{isMobile:t,isSelected:n}=e;return(0,s().IS)((e=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",flexDirection:t?"row":"column",padding:20,marginTop:20,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,...n?{boxShadow:`${B().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`}:{opacity:.7},height:100,...t&&{minHeight:110},...!t&&{width:172,height:200,textAlign:"center",margin:"0px 10px"}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},buttonIllustrationWrapperStyle:{marginTop:8,height:60,width:90,...t&&{textAlign:"center",width:85,height:57,marginRight:8}},buttonHeadingStyle:{fontWeight:P().Wy.medium,fontSize:t?16:14,marginTop:t?10:17,color:e.text.primary},buttonSubheadingStyle:{color:e.text.secondary,fontWeight:P().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:4,marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,left:89}})),[t,n])}({isMobile:u.device.isMobile,isSelected:o===n,isSmallMobileScreen:d});return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,p.jsxs)(fe().A,{style:c.toggleButtonStyle,hoveredStyle:c.toggleButtonHoveredStyle,pressedStyle:c.toggleButtonPressedStyle,onClick:()=>t(o),className:i,children:[(0,p.jsx)("div",{style:c.buttonIllustrationWrapperStyle,children:(0,p.jsx)("img",{src:a,style:{height:"100%",...u.device.isMobile?{height:48}:{}}})}),(0,p.jsxs)("main",{children:[(0,p.jsx)("header",{style:c.buttonHeadingStyle,children:r()}),(0,p.jsx)("p",{style:c.buttonSubheadingStyle,children:l()})]})]})})}function Ke(e){return{...e.device.isMobile?{marginTop:0,marginBottom:32}:{marginTop:"10px",marginBottom:"32px"},display:e.device.isMobile?void 0:"inline-flex",width:"100%",justifyContent:"center"}}var Ge=()=>n(625830),Je=()=>n(144114);function $e(e){let{onboardingState:t}=e;const n=(0,s().DP)(),o=(0,V().v3)(),{device:r}=o,l=(0,i().K8)((()=>{var e,n;if(t.onboardingData)return Je().qg({userStore:null===(e=t.onboardingData)||void 0===e?void 0:e.userStore,isUserDomainJoinable:null===(n=t.onboardingData)||void 0===n?void 0:n.isUserDomainJoinable})}),[t]);return Boolean(l)?(0,p.jsxs)("div",{style:{...Je().ZP,display:"flex",...r.isMobile?{textAlign:"left",justifyContent:"center"}:{alignItems:"center"},...r.isMobile?{marginBottom:16}:{marginTop:16}},children:[(0,p.jsx)("div",{style:{marginRight:10,paddingLeft:6,paddingTop:r.isMobile?2:1},children:(0,p.jsx)(Ge().A,{checked:Boolean(t.optInAutoJoin),onClick:()=>{g().A.setState({...t,optInAutoJoin:!t.optInAutoJoin})},size:16,style:{borderRadius:2}})}),(0,p.jsx)("div",{onClick:()=>{g().A.setState({...t,optInAutoJoin:!t.optInAutoJoin})},style:{...Je().pk(n),fontSize:12},role:"presentation",children:r.isMobile?(0,p.jsx)(a().sA,{defaultMessage:"Anyone with an email at {emailDomain} can join",id:"contextualizedOnboarding.emailDomainAutoJoinCheckbox.mobile.label",values:{emailDomain:l}}):(0,p.jsx)(a().sA,{defaultMessage:"Anyone with a â€œ@{emailDomain}â€ email can join your workspace",id:"contextualizedOnboarding.emailDomainAutoJoinCheckbox.label",values:{emailDomain:l}})})]}):null}const Ye={stageName:"onboarding_collaborative_intent_choose",shouldSkip:()=>!1,getTitle(e){var t;return"team"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)?(0,p.jsx)(a().sA,{defaultMessage:"Welcome to Notion for work",id:"onboardingCollaborativeIntentChoose.step.team.title"}):(0,p.jsx)(a().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingCollaborativeIntentChoose.step.title"})},getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"This helps customize your experience",id:"onboardingCollaborativeIntentChoose.step.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},async onContinue(e,t){var n;"performance_marketing_term_onboarding"!==t.flowName||t.spaceId||await(0,Z().createSpaceAndSetSpaceId)({onboardingState:t,environment:e});void 0!==(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.collaborativeIntent)||Le().log({level:"error",from:"OnboardingWorkspaceCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.collaborativeIntent is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(He,{}),shouldHideDesktopBottomContent(e){const t=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=t&&t.collaborativeIntent)&&(0,c().isAiOnboardingFlow)(e.flowName)},renderContentAboveContinueButton(e){var t;if("multiplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)&&(0,ne().Yz)())return(0,p.jsx)($e,{onboardingState:e})},headerStyles:{textAlign:"center"},alignment:k().C.Center},Ze={stageName:"mobile_onboarding_collaborative_intent_choose",shouldSkip:()=>!1,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingCollaborativeIntentChoose.mobile.step.title"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},onContinue(e,t){var n;void 0!==(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.collaborativeIntent)||Le().log({level:"error",from:"OnboardingWorkspaceCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.collaborativeIntent is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(He,{}),renderContentAboveContinueButton(e){var t;if("multiplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)&&(0,ne().Yz)())return(0,p.jsx)($e,{onboardingState:e})},headerStyles:{textAlign:"center"},alignment:k().C.Center};var Xe=()=>n(427704),Qe=()=>n(843189),et=()=>n(204063);const tt=function(e){let{format:t,style:n,children:o}=e;return"Iphone"===t?(0,p.jsx)(nt,{style:n,children:o}):"IphoneX"===t?(0,p.jsx)(ot,{style:n,children:o}):(0,p.jsx)(at,{style:n,children:o})};function nt(e){let{style:t,children:n}=e;return(0,p.jsxs)("div",{style:{boxShadow:`0 12px 30px ${B().Ay.blackWithAlpha(.25)}`,background:B().Ay.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...t},children:[(0,p.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"202.5%",backgroundImage:`url(${r().A.images.chromeMobileIphonePng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,p.jsx)("div",{style:{position:"absolute",top:0,left:"6.66667%",width:"86.66666667%",marginTop:"24%"},children:n})]})}function ot(e){let{style:t,children:n}=e;return(0,p.jsxs)("div",{style:{position:"relative",transform:"translateZ(0)",width:"100%",filter:"drop-shadow(rgba(15, 15, 15, 0.2) 0px 6px 12px)",...t},children:[(0,p.jsx)("img",{src:r().A.images.devices.iphoneXFramePng,style:{width:"100%",display:"block",position:"relative",zIndex:2}}),(0,p.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",background:B().Ay.white,transform:"translate(-50%, -50%)",width:"84.5%",height:"95%"},children:n})]})}function at(e){let{style:t,children:n}=e;return(0,p.jsxs)("div",{style:{boxShadow:`0 12px 30px ${B().Ay.blackWithAlpha(.25)}`,background:B().Ay.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...t},children:[(0,p.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"205.73012939%",backgroundImage:`url(${r().A.images.chromeMobileAndroidPng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,p.jsx)("div",{style:{position:"absolute",top:0,left:"4.1589648799%",width:"91.5785582255%",marginTop:"20.60998152%"},children:n})]})}var it=()=>n(108405);function st(e){let{androidImage:t,iosImage:n,visual:o}=e;const a=(0,V().v3)(),i=(0,s().IS)((e=>({title:{color:e.text.secondary,marginBottom:6},subtitle:{color:e.text.primary,fontWeight:P().Wy.semibold},preview:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginLeft:"auto",marginRight:"auto"}})),[]),{device:r}=a;return(0,p.jsx)("div",{children:(0,p.jsx)(tt,{format:r.isAndroid?"Android":"IphoneX",style:i.preview,children:o??(0,p.jsx)("img",{src:r.isAndroid?t:n,style:{width:"100%"}})})})}function rt(){return(0,p.jsx)(st,{iosImage:r().A.tutorial.iosDragAndDropGif,androidImage:r().A.images.onboarding.mobileHeroAndroidGif})}function lt(){return(0,p.jsx)(st,{iosImage:r().A.tutorial.iosSidebarGif,androidImage:r().A.tutorial.androidSidebarPng})}function dt(){return(0,p.jsx)(st,{iosImage:r().A.tutorial.iosNotionWebClipperGif,androidImage:r().A.tutorial.mobileShareSheetAndroidPng})}function ut(){const e=(0,s().IS)((e=>({mobileChrome:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginLeft:"auto",marginRight:"auto"},errorPage:{paddingTop:200,width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:e.contentBackground},mobileDesktopVisual:{width:"100%",boxShadow:e.shadowMD,borderRadius:4}})),[]);return(0,p.jsx)(st,{visual:(0,p.jsxs)("div",{style:{marginTop:32,position:"relative"},children:[(0,p.jsxs)("div",{style:{position:"relative",top:0,left:0,width:"70%"},children:[(0,p.jsx)(M().A,{isSmall:!0,style:{marginBottom:12},children:(0,p.jsx)(a().sA,{defaultMessage:"Browser",id:"useCasemobileDesktopStep.browser.label"})}),(0,p.jsx)("img",{src:r().A.tutorial.mobileSyncSafariPng,style:e.mobileDesktopVisual})]}),(0,p.jsxs)("div",{style:{position:"absolute",top:0,left:"30%",width:"70%"},children:[(0,p.jsx)(M().A,{isSmall:!0,style:{marginBottom:12},children:(0,p.jsx)(a().sA,{defaultMessage:"Mac & Windows App",id:"useCasemobileDesktopStep.desktopApp.label"})}),(0,p.jsx)("img",{src:r().A.tutorial.mobileSyncMacPng,style:e.mobileDesktopVisual})]})]})})}function ct(){return(0,p.jsx)(st,{iosImage:r().A.images.onboarding.mobileHeroGif,androidImage:r().A.images.onboarding.mobileHeroGif})}function gt(){const e=(0,V().v3)(),t=(0,s().DP)(),n=(0,i().O$)(g().A);return(0,p.jsx)(Qe().E,{style:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:P().Wy.semibold,color:t.text.primary,backgroundColor:t.tint.regular,boxShadow:"none"},size:"lg",onClick:async()=>await(0,X().goToNextStage)({environment:e,onboardingState:n}),disabled:!1,children:(0,p.jsx)(a().sA,{defaultMessage:"Take me to Notion",id:"contextualizedOnboarding.mobileAppDownloadStep.continue"})})}function pt(){const e=(0,V().v3)(),t=e.device,o=(0,it().Oi)(),s=(0,i().O$)(g().A);return(0,p.jsx)("a",{onClick:async()=>{w().u$(e,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:s,environment:e})),await(0,X().goToNextStage)({environment:e,onboardingState:s})},href:t.isIOS?Xe().JZ.appStore:Xe().JZ.playStore,style:{textDecoration:"none",width:"100%",marginTop:16},target:"_blank",children:(0,p.jsxs)(et().A,{style:o.continueButton,size:"lg",onClick:async()=>await(0,X().goToNextStage)({environment:e,onboardingState:s}),children:[t.isIOS?(0,n(711901).L)({fill:"currentColor",width:16,height:16,marginRight:6}):(0,n(925846).q)({fill:"currentColor",width:16,height:16,marginRight:6}),(0,p.jsx)(a().sA,{defaultMessage:"Download the app",id:"contextualizedOnboarding.downloadTheAppButton.label"})]})})}function mt(e){let{androidSrc:t,iosSrc:n,style:o}=e;const{isAndroid:a}=(0,V().Y0)(),s=(0,V().v3)(),l=(0,i().K8)((()=>s.ThemeStore.state.mode),[s]),d=r().A.tutorial[l][a?t:n];return(0,p.jsx)("div",{style:{width:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)("img",{src:d,style:o,alt:"Tutorial gif"})})}function vt(){return(0,p.jsx)(mt,{androidSrc:"androidOrganizeGif",iosSrc:"iosOrganizeGif",style:{width:"150%",margin:"-5% -25%"}})}function yt(){return(0,p.jsx)(mt,{androidSrc:"androidCreateGif",iosSrc:"iosCreateGif",style:{width:"150%",margin:"-5% -25%"}})}function bt(){return(0,p.jsx)(mt,{androidSrc:"shareGif",iosSrc:"shareGif",style:{width:"150%",margin:"-5% -25%"}})}function ft(){return(0,p.jsx)(mt,{androidSrc:"devicesGif",iosSrc:"devicesGif",style:{width:"110%",margin:"0 -5%"}})}function ht(){return(0,p.jsx)(mt,{androidSrc:"androidCustomizationGif",iosSrc:"iosCustomizationGif",style:{width:"110%",margin:"10% -5%"}})}function xt(){return(0,p.jsx)(mt,{androidSrc:"androidFilingGif",iosSrc:"iosFilingGif",style:{width:"110%",margin:"10% -5%"}})}function St(){return(0,p.jsx)(mt,{androidSrc:"sideswipeGif",iosSrc:"sideswipeGif",style:{width:"110%",margin:"10% -5%"}})}const jt={headerStyles:{fontSize:16},getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Some essential tips",id:"useCasemobileTutorialStep.title"})},At={shouldSkip:()=>!1,isContinueEnabled:()=>!0,isBackEnabled:()=>!0,shouldShowSkipButton:()=>!1,shouldHideScroller:()=>!0},Ct={stageName:"mobile_onboarding_editor",shouldSkip:(e,t)=>!t.device.isMobile,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Touch and hold to reorder any content.",id:"useCasemobileEditorStep.descriptionV2"}),isContinueEnabled:()=>!0,isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,p.jsx)(rt,{}),...jt},wt={stageName:"mobile_onboarding_sidebar",shouldSkip:(e,t)=>!t.device.isMobile,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"The sidebar menu keeps things organized. Youâ€™ll find all of your pages here.",id:"useCasemobileEditorSidebarStep.titleV2"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(lt,{}),...jt},kt={stageName:"mobile_onboarding_web_clipper",shouldSkip:(e,t)=>!t.device.isMobileNative,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"<boldtext>Save web pages or local files into Notion.</boldtext>",id:"useCasemobileWebClipperStep.title",values:{boldtext:e=>(0,p.jsx)("b",{children:e})}}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Just tap the share button and pick a page or a database to save to.",id:"useCasewebClipperStep.description"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(dt,{}),...jt},It={stageName:"mobile_onboarding_desktop",shouldSkip:(e,t)=>!t.device.isMobile||!(null!=t&&t.device.isMobileNative),getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Notion also works on Mac, Windows, and in the browser! Everything will stay in sync across your devices",id:"useCasemobileDesktopStep.titleV2",values:{boldtext:e=>(0,p.jsx)("b",{children:e})}}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(ut,{}),headerStyles:{fontSize:16}},Tt={stageName:"mobile_onboarding_app_download",shouldSkip:(e,t)=>t.device.isMobileNative,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Discover the latest features and enjoy a seamless, supercharged experience on the go with the mobile app",id:"mobileAppDownloadStep.subTitleV2"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(ct,{}),headerStyles:{fontSize:16,lineHeight:void 0},getMobileContinueButtonOverride:()=>(0,p.jsx)(pt,{}),renderContentAboveContinueButton:()=>(0,p.jsx)(gt,{})},Mt={...At,stageName:"mobile_onboarding_home",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Keep your thoughts organized",id:"useCaseMobileHomeStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Use the home tab to organize your pages.",id:"useCaseMobileHomeStep.description"}),isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,p.jsx)(vt,{})},_t={...At,stageName:"mobile_onboarding_creation",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Create notes, tasks and more",id:"useCaseMobileEditorV2Step.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Use Notion blocks to create anything, big or small.",id:"useCaseMobileEditorV2Step.description"}),renderStage:()=>(0,p.jsx)(yt,{})},Bt={...At,stageName:"mobile_onboarding_share",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Share content into Notion",id:"useCaseMobileShareStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Share articles, photos, and more directly into your Notion pages.",id:"useCaseMobileShareStep.description"}),renderStage:()=>(0,p.jsx)(bt,{})},Pt={...At,stageName:"mobile_onboarding_multi_platform",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Work across devices",id:"useCaseMobileMultiPlatformStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Download Notion on your phone, tablet, or desktop.",id:"useCaseMobileMultiPlatformStep.description"}),shouldShowSkipButton:e=>!1,renderStage:()=>(0,p.jsx)(ft,{})},Nt={...At,stageName:"mobile_onboarding_skill_mab",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Create how you want",id:"useCaseMobileSkillMabStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"You can create custom content blocks, customize your content, and add media from your Notion pages.",id:"useCaseMobileSkillMabStep.description"}),isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,p.jsx)(ht,{})},Rt={...At,stageName:"mobile_onboarding_skill_filing",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Keep your thoughts organized",id:"useCaseMobileSkillFilingStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"You can organize your pages by nesting inside pre-made sections, or even other pages.",id:"useCaseMobileSkillFilingStep.description"}),renderStage:()=>(0,p.jsx)(xt,{})},zt={...At,stageName:"mobile_onboarding_skill_swipe",getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Manage your pages with a swipe",id:"useCaseMobileSkillSwipeStep.title"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Side swipe on any of your pages to view actions, favorite, or delete the page.",id:"useCaseMobileSkillSwipeStep.description"}),shouldShowSkipButton:e=>!1,renderStage:()=>(0,p.jsx)(St,{})};var Dt=()=>n(715862),Ot=()=>n(760217),Wt=()=>n(933117);function Et(e){let{useCases:t,onSelectUseCase:n,collaborativeIntent:o}=e;const i=function(e){return{docs:"singleplayer"===e?(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.singleplayer.docs",defaultMessage:"Write documents"}):(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.wikis",defaultMessage:"Create a knowledge base / wiki"}),project:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.project",defaultMessage:"Manage projects"}),goals:"singleplayer"===e?(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.singleplayer.goals",defaultMessage:"Track goals"}):(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.goals",defaultMessage:"Track company goals and OKRs"}),notes:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.notes",defaultMessage:"Write notes"}),ai:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.ai",defaultMessage:"Create and find content with AI"}),other:(0,p.jsx)(a().sA,{id:"OnboardingSurvey.useCase.question.otherOptionLabel",defaultMessage:"Other"})}}(o),r=(0,a().tz)(),l=(0,s().DP)(),d=(0,V().v3)(),{device:c}=d,g={menuTitle:r.formatMessage({defaultMessage:"Using Notion for...",id:"onboardingSurvey.useCase.popuplabel"}),items:Object.keys(i),width:300,getKey:e=>e,selectedItem:void 0,originGap:4,onSelect:e=>n(e),dontCloseParentOnSelect:!0,renderItem:e=>(0,p.jsx)(Ot().A,{icon:(0,p.jsx)(Ge().A,{checked:t.includes(e.value),size:16,onClick:()=>n(e.value)}),title:i[e.value],className:`${qe().eL1}-${e.value}`,...e}),renderOrigin:e=>(0,p.jsxs)(u().A,{size:"lg",onClick:t=>e.onClick(t),style:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${l.outlineButtonBorder}`,height:c.isMobile?40:32,background:l.surface.wash,borderRadius:c.isMobile?10:6},className:qe().eL1,children:[(0,p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,p.jsx)(M().A,{isMobile:c.isMobile,isSecondaryColor:0===t.length,style:c.isMobile?{fontSize:15}:{},children:t.length>0?(0,p.jsx)(a().sA,{defaultMessage:"{count, plural, one {{useCase}} other {{count} selected}}",id:"onboardingSurvey.useCasesSelect.plural.placeholder",values:{count:t.length,useCase:i[Array.from(t)[0]]}}):(0,p.jsx)(a().sA,{defaultMessage:"Choose one or more...",id:"onboardingSurvey.useCasesSelect.placeholder"})})}),(0,Dt().e)({width:10,fill:l.lightIconColor})]})};return(0,p.jsx)(Wt().A,{...g},"useCase")}const Lt=(0,a().YK)({workIntentTitleV2:{defaultMessage:"For work",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.labelV2"},lifeIntentTitleV2:{defaultMessage:"For personal life",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.labelV2"},schoolIntentTitleV2:{defaultMessage:"For school",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.labelV2"},workIntentSubtitleV2:{defaultMessage:"Track projects, company goals, meeting notes",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.descriptionV2"},lifeIntentSubtitleV2:{defaultMessage:"Write better, think more clearly, stay organized",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.descriptionV2"},schoolIntentSubtitleV2:{defaultMessage:"Keep notes, research, and tasks in one place",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.descriptionV2"}});function qt(e){return[{planType:"team",illustrationPath:e?r().A.images.onboarding.planTypeForWorkSplitIntentDarkmodePng:r().A.images.onboarding.planTypeForWorkSplitIntentLightmodePng,title:(0,p.jsx)(a().sA,{...Lt.workIntentTitleV2}),subtitle:(0,p.jsx)(a().sA,{...Lt.workIntentSubtitleV2})},{planType:"personal",illustrationPath:e?r().A.images.onboarding.planTypeForLifeSplitIntentDarkmodePng:r().A.images.onboarding.planTypeForLifeSplitIntentLightmodePng,title:(0,p.jsx)(a().sA,{...Lt.lifeIntentTitleV2}),subtitle:(0,p.jsx)(a().sA,{...Lt.lifeIntentSubtitleV2})},{planType:"school",illustrationPath:e?r().A.images.onboarding.planTypeForSchoolSplitIntentDarkmodePng:r().A.images.onboarding.planTypeForSchoolSplitIntentLightmodePng,title:(0,p.jsx)(a().sA,{...Lt.schoolIntentTitleV2}),subtitle:(0,p.jsx)(a().sA,{...Lt.schoolIntentSubtitleV2})}]}function Ft(e){const{checkedIntentType:t,handlePlanTypeSelect:n,planType:o,illustrationPath:a,buttonClassName:i,title:r,subtitle:l}=e,d=(0,V().v3)(),u=function(e){const{isMobile:t,isSelected:n}=e;return(0,s().IS)((e=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",marginTop:20,padding:0,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,minHeight:136,...n?{boxShadow:`${B().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:e.surface.elevated}:{opacity:.7},display:"flex",marginTop:16,padding:0,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,minHeight:70,...{height:100,...n&&{boxShadow:`${B().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:void 0},...t&&{minHeight:110}}},buttonIllustrationWrapperStyle:{marginLeft:10,height:57,width:85,textAlign:"center"},buttonCheckmarkStyle:{order:1,marginRight:20,height:24,width:24},buttonHeadingStyle:{fontWeight:P().Wy.medium,fontSize:16,marginTop:10,color:e.text.primary},buttonSubheadingStyle:{color:e.text.secondary,fontWeight:P().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:4,marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,left:89}})),[t,n])}({isMobile:d.device.isMobile,isSelected:t===o});return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,p.jsx)(fe().A,{id:void 0,style:u.toggleButtonStyle,onClick:n,className:i,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("img",{src:a,style:{height:"100%",height:48,width:48,textAlign:"center",marginLeft:24}}),(0,p.jsxs)("main",{style:Ht(d),children:[(0,p.jsx)("header",{style:u.buttonHeadingStyle,children:r}),(0,p.jsx)("p",{style:u.buttonSubheadingStyle,children:l})]})]})})})}function Ht(e){return{margin:e.device.isMobile?10:16,flex:1}}function Vt(e){var t;let{onboardingState:n}=e;return(0,p.jsx)(_().Ay,{questionType:"work",title:(0,p.jsx)(a().sA,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona,randomizeSelectionOrder:!0,invalid:!1,onSelect:e=>{!function(e,t){var n;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,userPersona:t}}})}(n,e)},className:qe().Uaw})}function Ut(e){var t;let{onboardingState:n}=e;return(0,p.jsx)(_().Ay,{questionType:"role",title:(0,p.jsx)(a().sA,{defaultMessage:"Your role",id:"onboardingSurvey.role.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userRole,invalid:!1,onSelect:e=>{!function(e,t){var n;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,userRole:t}}})}(n,e)},className:qe().q5q})}function Kt(e){var t;let{onboardingState:n}=e;return(0,p.jsx)(_().Ay,{questionType:"companySize",title:(0,p.jsx)(a().sA,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),randomizeSelectionOrder:!1,question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.companySize,invalid:!1,onSelect:e=>{!function(e,t){var n;g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,companySize:t}}})}(n,e)},className:qe().u_N})}const Gt=function(){var e;const t=(0,i().O$)(g().A),n=(0,V().v3)(),o=qt("dark"===(0,s().eP)()),r={...N,marginTop:25,marginBottom:8};return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{style:{display:"flex"},children:o.map(((e,o)=>{var a;return(0,p.jsx)(Ft,{checkedIntentType:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,buttonClassName:qe().OX4,handlePlanTypeSelect:()=>(0,Fe().Ub)({environment:n,onboardingState:t,surveyResponse:e.planType}),hideCheckboxes:!0,...e},o)}))}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:24,padding:16},children:[(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,p.jsxs)("div",{style:{width:"calc(50% - 12px)"},children:[(0,p.jsx)("div",{style:r,children:(0,p.jsx)(M().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),(0,p.jsx)(Vt,{onboardingState:t})]}),(0,p.jsxs)("div",{style:{width:"calc(50% - 12px)"},children:[(0,p.jsx)("div",{style:r,children:(0,p.jsx)(M().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s your role?",id:"onboardingSurvey.teamRole.labelV2"})})}),(0,p.jsx)(Ut,{onboardingState:t})]})]}),(0,p.jsx)("div",{style:r,children:(0,p.jsx)(M().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s the size of your company?",id:"onboardingSurvey.companySize.labelV2"})})}),(0,p.jsx)(Kt,{onboardingState:t}),(0,p.jsx)("div",{style:r,children:(0,p.jsx)(M().A,{isSmall:!0,children:(0,p.jsx)(a().sA,{defaultMessage:"What are you planning to do in Notion?",id:"onboardingSurvey.useCase.label"})})}),(0,p.jsx)(Et,{useCases:(null===(e=t.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.useCases)??[],onSelectUseCase:e=>{!function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases)??[],i=new Set(a);a.includes(t)?i.delete(t):i.add(t);g().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,useCases:Array.from(i)}}})}(t,e)}})]})]})},Jt={stageName:"onboarding_plan_type_and_survey",shouldSkip:()=>!1,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Hi {profileName}! Letâ€™s get you set up.",id:"contextualizedOnboarding.planTypeAndSurvey.title",values:{profileName:null==e?void 0:e.profileName}}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"How do you plan to use Notion?",id:"contextualizedOnboarding.planTypeAndSurvey.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(Gt,{})};var $t=()=>n(842599),Yt=()=>n(719147);function Zt(){var e;const t=(0,i().O$)(g().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28},children:(0,p.jsx)(Xt,{onboardingState:t,intentType:n})})}function Xt(e){const{intentType:t,onboardingState:n}=e,a=(0,V().v3)(),i=(0,s().IS)((e=>({toggleGroupWrapStyle:{marginTop:0,marginBottom:32,width:"100%",justifyContent:"center"}})),[]),r="dark"===(0,s().eP)(),[l,d]=(0,o.useState)(t),u=qt(r);return(0,p.jsx)("div",{style:i.toggleGroupWrapStyle,children:u.map(((e,t)=>(0,p.jsx)(Ft,{checkedIntentType:l,buttonClassName:qe().OX4,handlePlanTypeSelect:()=>function(e,t,n,o){var a,i;let s;var r;"personal"===t?s=null!==(r=e.onboardingData)&&void 0!==r&&r.isEducationPlanEligible?"student":"other":"school"===t&&(s="student");const l=null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,d=!l&&(0,c().isAiOnboardingFlow)(e.flowName),u={...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(i=e.planTypeAndSurveyInfo)||void 0===i?void 0:i.surveyResponses,userPersona:s},planType:t}};g().A.setState(u),d?(w().ut(o,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:u,spaceJoinOrCreate:"create",environment:o}),planType:t}),(0,X().goToNextStage)({environment:o,onboardingState:u})):n(t)}(n,e.planType,d,a),...e},t)))})}function Qt(e){var t;let{onboardingState:o}=e;const r=(0,s().IS)((e=>({copyStyle:{fontSize:14,fontWeight:400,color:e.selectLightGray[700],position:"relative",textAlign:"center",paddingBottom:42,marginLeft:"auto",marginRight:"auto",maxWidth:520}})),[]),l=(0,i().K8)((()=>{var e;return null===(e=o.onboardingData)||void 0===e?void 0:e.userStore.getEmail()}),[o]);return null!==(t=o.onboardingData)&&void 0!==t&&t.isUserUsingVerifiedDomain&&l?(0,p.jsx)(M().A,{isSmall:!0,isMultiline:!0,style:r.copyStyle,children:(0,p.jsx)(a().sA,{defaultMessage:"You are currently logged in as <bold>{email}</bold>. By creating this workspace, you accept that it can be managed by the owners of the email domain <bold>{emailDomain}</bold>. See <domainclaimlink>this page</domainclaimlink> for more info.",id:"onboardingWorkspacePlanChoose.verifiedDomain.byline",values:{email:l,emailDomain:(0,$t().zN)(l),bold:e=>(0,p.jsx)("b",{children:e}),domainclaimlink:e=>(0,p.jsx)(Yt().A,{href:(0,n(836251).xS)("guides.domainManagement"),external:!0,children:e})}})}):null}function en(){var e;const t=(0,i().O$)(g().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;return(0,p.jsx)(Xt,{onboardingState:t,intentType:n})}const tn={stageName:"onboarding_plan_type_choose",shouldSkip:()=>!1,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingWorkspacePlanChoose.step.titleV2"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"This helps customize your experience",id:"onboardingWorkspacePlanChoose.step.subtitleV2"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},onContinue(e,t){var n,o;const a=null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType;void 0!==a?(null!==(o=t.onboardingData)&&void 0!==o&&o.canUserCreateSpace||(0,Z().handleUserCanNotCreateSpace)(e,t),w().ut(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:e}),planType:a})):Le().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!(0,c().isAiOnboardingFlow)(e.flowName)&&(!e.isFirstTimeOnboarding||0!==e.joinableSpaces.length),renderStage:()=>(0,p.jsx)(Zt,{}),headerStyles:{textAlign:"center"},renderContentUnderContinueButton:(e,t)=>(0,p.jsx)("div",{style:{marginTop:48},children:(0,p.jsx)(Qt,{onboardingState:e})}),shouldHideDesktopBottomContent(e){const t=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=t&&t.planType)&&(0,c().isAiOnboardingFlow)(e.flowName)},alignment:k().C.Center},nn={stageName:"mobile_onboarding_plan_type_choose",shouldSkip:()=>!1,getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingWorkspacePlanChoose.mobileStep.titleV2"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},onContinue(e,t){var n,o;const a=null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType;void 0!==a?(null!==(o=t.onboardingData)&&void 0!==o&&o.canUserCreateSpace||(0,Z().handleUserCanNotCreateSpace)(e,t),w().ut(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:e}),planType:a})):Le().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}})},isBackEnabled:e=>0!==e.joinableSpaces.length,renderStage:()=>(0,p.jsx)(en,{}),headerStyles:{textAlign:"center"},alignment:k().C.Start};var on=()=>n(560686),an=()=>n(660237);function sn(e){const{countryCode:t,onClick:n,emailOptIn:o,device:r}=e,l=(0,s().DP)(),d=(0,i().K8)((()=>r.isMobile&&(0,ne().S5)()),[r]),u="out"===(0,an().eh)(t).opt,c=u?(0,p.jsx)(a().sA,{id:"onboardingEmailConsent.checkbox.optOutlabel",defaultMessage:"No, I do not want to receive marketing communications from Notion."}):(0,p.jsx)(a().sA,{id:"onboardingEmailConsent.checkbox.optInlabelV2",defaultMessage:"I agree to Notion marketing communications"});return(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:r.isMobile?12:4},children:(0,p.jsxs)("div",{onClick:n,style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[d?(0,p.jsx)(Ge().A,{style:{margin:8,marginLeft:0},checked:u?!o:o,size:16,onClick:n,stroke:l.stroke.input}):(0,p.jsx)("input",{type:"checkbox",style:{margin:10,marginLeft:0,borderRadius:2,cursor:"pointer",accentColor:B().Ay.blue,transform:e.device.isSafari?"scale(1.25)":"scale(1)"},checked:u?!o:o,onChange:n}),(0,p.jsx)(M().A,{isMultiline:!0,isSmall:!0,isSecondaryColor:!d,children:c})]})})}function rn(e){let{style:t}=e;const n=(0,s().DP)();return(0,p.jsx)(M().A,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,style:{marginTop:8,...t},children:(0,p.jsx)(a().sA,{id:"onboardingEmailConsent.unsubscribe.label",defaultMessage:"You may unsubscribe from receiving marketing communications at any time. Notion's websites and communications are subject to our <privacypolicy>Privacy Policy</privacypolicy>.",values:{privacypolicy:e=>(0,p.jsx)(Yt().A,{href:"https://www.notion.so/Privacy-Policy-3468d120cf614d4c9014c09f6adc9091",external:!0,onClick:e=>e.stopPropagation(),style:{fontWeight:P().Wy.semibold,textDecoration:"auto",color:n.text.tertiary},children:e})}})})}n(816573),n(878100),n(177936),n(748140),n(821903),n(491134),n(128845),n(237467),n(444732),n(979577),n(964979);var ln=()=>n(851979),dn=()=>n(340498);const un=(0,dn().wt)("photoBadgePlus",{viewBox:"0 0 24 24",svg:(0,p.jsx)("path",{d:"M6.18945 18.0176C5.43294 18.0176 4.85645 17.8216 4.45996 17.4297C4.06803 17.0378 3.87207 16.4704 3.87207 15.7275V7.42188C3.87207 6.66992 4.06803 6.10026 4.45996 5.71289C4.85645 5.32096 5.43294 5.125 6.18945 5.125H17.8037C18.5602 5.125 19.1344 5.32096 19.5264 5.71289C19.9183 6.10482 20.1143 6.67448 20.1143 7.42188V11.209C19.9912 11.1908 19.8659 11.1748 19.7383 11.1611C19.6152 11.1475 19.4899 11.1406 19.3623 11.1406C19.2347 11.1406 19.1048 11.1475 18.9727 11.1611C18.8451 11.1748 18.7197 11.193 18.5967 11.2158V7.5791C18.5967 7.26465 18.5169 7.02995 18.3574 6.875C18.1979 6.72005 17.9701 6.64258 17.6738 6.64258H6.3125C6.01172 6.64258 5.78158 6.72005 5.62207 6.875C5.46712 7.02995 5.38965 7.26465 5.38965 7.5791V14.7227L7.16699 13.1299C7.30827 13.0023 7.44954 12.9089 7.59082 12.8496C7.7321 12.7858 7.88477 12.7539 8.04883 12.7539C8.20378 12.7539 8.35872 12.7881 8.51367 12.8564C8.67318 12.9202 8.82585 13.0137 8.97168 13.1367L10.2295 14.2715L13.3125 11.5166C13.472 11.3799 13.6361 11.2796 13.8047 11.2158C13.9733 11.1475 14.151 11.1133 14.3379 11.1133C14.5202 11.1133 14.6979 11.1475 14.8711 11.2158C15.0488 11.2842 15.2106 11.389 15.3564 11.5303L16.2656 12.3848C15.819 12.7904 15.4635 13.278 15.1992 13.8477C14.9395 14.4173 14.8096 15.0303 14.8096 15.6865C14.8096 16.1104 14.8665 16.5182 14.9805 16.9102C15.099 17.3066 15.263 17.6758 15.4727 18.0176H6.18945ZM9.32031 11.7422C9.01497 11.7422 8.73698 11.667 8.48633 11.5166C8.23568 11.3662 8.03516 11.1657 7.88477 10.915C7.73438 10.6598 7.65918 10.3796 7.65918 10.0742C7.65918 9.77344 7.73438 9.49772 7.88477 9.24707C8.03516 8.99186 8.23568 8.78906 8.48633 8.63867C8.73698 8.48828 9.01497 8.41309 9.32031 8.41309C9.62565 8.41309 9.90137 8.48828 10.1475 8.63867C10.3981 8.78906 10.5986 8.99186 10.749 9.24707C10.8994 9.49772 10.9746 9.77344 10.9746 10.0742C10.9746 10.3796 10.8994 10.6598 10.749 10.915C10.5986 11.1657 10.3981 11.3662 10.1475 11.5166C9.90137 11.667 9.62565 11.7422 9.32031 11.7422ZM19.3691 19.2412C18.8815 19.2412 18.4235 19.1478 17.9951 18.9609C17.5667 18.7741 17.1885 18.5166 16.8604 18.1885C16.5368 17.8649 16.2816 17.4889 16.0947 17.0605C15.9079 16.6322 15.8145 16.1742 15.8145 15.6865C15.8145 15.1943 15.9079 14.7363 16.0947 14.3125C16.2816 13.8841 16.5368 13.5059 16.8604 13.1777C17.1885 12.8496 17.5667 12.5944 17.9951 12.4121C18.4235 12.2253 18.8815 12.1318 19.3691 12.1318C19.8568 12.1318 20.3148 12.2253 20.7432 12.4121C21.1715 12.5944 21.5498 12.8496 21.8779 13.1777C22.2061 13.5013 22.4613 13.8773 22.6436 14.3057C22.8258 14.734 22.917 15.1943 22.917 15.6865C22.917 16.1696 22.8236 16.6253 22.6367 17.0537C22.4544 17.4821 22.1992 17.8604 21.8711 18.1885C21.543 18.5166 21.1647 18.7741 20.7363 18.9609C20.3079 19.1478 19.8522 19.2412 19.3691 19.2412ZM19.3691 17.9561C19.5195 17.9561 19.6403 17.9105 19.7314 17.8193C19.8226 17.7282 19.8682 17.6074 19.8682 17.457V16.1855H21.1396C21.2855 16.1855 21.404 16.14 21.4951 16.0488C21.5908 15.9577 21.6387 15.8369 21.6387 15.6865C21.6387 15.5361 21.5908 15.4154 21.4951 15.3242C21.404 15.2331 21.2855 15.1875 21.1396 15.1875H19.8682V13.9229C19.8682 13.7725 19.8226 13.6517 19.7314 13.5605C19.6403 13.4694 19.5195 13.4238 19.3691 13.4238C19.2188 13.4238 19.098 13.4694 19.0068 13.5605C18.9157 13.6517 18.8701 13.7725 18.8701 13.9229V15.1875H17.5986C17.4482 15.1875 17.3275 15.2331 17.2363 15.3242C17.1452 15.4154 17.0996 15.5361 17.0996 15.6865C17.0996 15.8369 17.1452 15.9577 17.2363 16.0488C17.332 16.14 17.4528 16.1855 17.5986 16.1855H18.8701V17.457C18.8701 17.6074 18.9157 17.7282 19.0068 17.8193C19.098 17.9105 19.2188 17.9561 19.3691 17.9561Z"})});var cn=()=>n(496414),gn=()=>n(892632),pn=()=>n(802790),mn=()=>n(807683),vn=()=>n(623580),yn=()=>n(545805),bn=()=>n(360083),fn=()=>n(898486),hn=()=>n(876853),xn=()=>n(757695);class Sn extends xn().default{getInitialState(){return{showPassword:!1,displayPasswordInput:!0}}}const jn=Sn;function An(e){let{device:t,shouldUseNewMobileProfileDesign:n}=e;return(0,s().IS)((e=>({input:{backgroundColor:"transparent",height:31,borderRadius:6},saveNewPasswordInput:{display:"flex",flexDirection:"column",textAlign:"left",width:"100%"},eyeIcon:{width:t.isMobile?18:16,height:t.isMobile?18:16,fill:e.lightIconColor,padding:1},eyeHideIcon:{width:t.isMobile?18:16,height:t.isMobile?18:16,fill:e.lightIconColor,paddingLeft:2},newPasswordHint:{borderRadius:12,background:e.tint.regular,width:"100%",fontSize:13,color:e.text.secondary,padding:6,marginTop:12},profilePhotoButton:{width:n?72:112,height:n?72:112,borderRadius:"100%",margin:"0 auto",marginTop:n?8:48,marginBottom:n?8:12},placeholderAvatar:{display:"flex",justifyContent:"center",alignItems:"center"},profileName:{marginBottom:24,border:"none",background:"none",width:"auto",maxWidth:256,height:32,borderRadius:6,boxShadow:"none",color:e.text.secondary},profileNameInput:{height:32,fontSize:26,fontWeight:P().Wy.bold,color:e.text.primary},profileNameInputLabel:{color:e.text.secondary,fontSize:12,display:"flex",justifyContent:"center"},placeholderImage:{position:"absolute",width:n?40:t.isMobile?72:48,height:n?40:t.isMobile?72:48,opacity:n?.5:t.isMobile?.2:1,objectFit:"cover",borderRadius:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},photoBadgePlusContainer:{position:"absolute",bottom:-7,right:-7,width:42,height:42,borderRadius:"50%",border:`4px solid ${e.surface.wash}`,background:e.stroke.primary,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},photoBadgePlus:{width:26,height:26,marginTop:4,marginLeft:4,fill:e.icon.secondary},mobileFormLabel:{fontSize:12,color:e.text.secondary,fontWeight:500,marginTop:20,marginBottom:4},mobileInput:{height:42,backgroundColor:"transparent",borderRadius:10,...n&&{border:`1px solid ${e.stroke.primary}`,background:"none"}}})),[t.isMobile,n])}function Cn(){const e=(0,i().uB)(void 0,jn),t=(0,a().tz)(),l=(0,s().DP)(),d=(0,V().v3)(),u=(0,i().O$)(g().A),m=An({device:d.device}),{profilePhoto:v,profileName:y,password:b}=u,f="dark"===(0,s().eP)()?r().A.images.onboarding.profilePlaceholderDarkmodePng:r().A.images.onboarding.profilePlaceholderLightmodePng,h=!v&&y,x=(0,i().K8)((()=>e.state.invalidField),[e]),S=(0,i().K8)((()=>e.state.showPassword),[e]),j=(0,i().K8)((()=>"performance_marketing_term_onboarding"===u.flowName),[u.flowName]),[A,C]=(0,o.useState)(!1),[w,k]=(0,o.useState)(""),I=(0,n(963589).X)("onboarding_profile_enable_notion_faces");(0,o.useEffect)((()=>{if(!I)return;const e=e=>{if(!e.data.profilePhotoData)return;cn().m({message:(0,a().YK)({savingProfilePhoto:{defaultMessage:"Saving your profile photo",id:"contextualizedOnboardingProfile.uploadingFacesProfilePhoto"}}).savingProfilePhoto});const t=function(e){try{let t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return new Blob([o],{type:n})}catch{return null}}(e.data.profilePhotoData);if(!t)return void cn().V();const n=new File([t],"notion-profile-photo.png",{type:"image/png"});gn().cA(n,d,"public",(t=>{k(e.data.faceString),_n(t,d),cn().V(),C(!1)}))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[d,t,I]);const[T,_]=(0,o.useState)(null),[N,R]=(0,o.useState)(!1),z=(0,i().K8)((()=>{const e=(0,c().getStageName)({flowName:u.flowName,stageIndex:u.currentStageIndex,environment:d});return mi[e]}),[u,d]),D=(0,i().K8)((()=>null==z?void 0:z.isContinueEnabled(u,d)),[z,u,d]),O=!j;return(0,p.jsx)(yn().A,{capture:!0,debugName:"ContextualizedOnboardingProfile",onEnter:async()=>{D&&await(0,X().goToNextStage)({environment:d,onboardingState:u})},onLeft:me().D_,onRight:me().D_,onSelectAll:me().D_,onRedo:me().D_,onUndo:me().D_,onCut:me().D_,onCopy:me().D_,onPaste:me().D_,onKeypress:me().D_,onDelete:me().D_,onBackspace:me().D_,onTab:me().D_,children:(0,p.jsxs)("div",{style:{width:300,alignSelf:"center",marginTop:j?0:36},children:[I&&(0,p.jsx)(n(676007).A,{style:{width:"80vw",height:"80vh",left:0,right:0,margin:"auto",position:"absolute",top:48},showCloseIcon:!1,onDismiss:()=>{C(!1)},open:A,backgroundStyle:{inset:"initial"},render:()=>(0,p.jsx)("div",{style:{width:"80vw",height:"80vh"},children:(0,p.jsx)("iframe",{name:"test",src:`http://faces.notion.com?face=${w}`,style:{width:"80vw",height:"80vh",border:"none"}})})}),O&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fe().A,{onClick:()=>{I?C(!0):Mn(d)},style:{width:64,height:64,borderRadius:"100%",boxShadow:"none",overflow:"hidden",margin:"0 auto",...h&&{display:"flex",justifyContent:"center",alignItems:"center",background:l.whiteButtonBackground},...!v&&{position:"relative",opacity:.2,background:l.stroke.primary}},children:h?(0,p.jsx)("div",{style:{fontWeight:P().Wy.bold,color:l.icon.secondary,fontSize:24},children:y.charAt(0).toUpperCase()}):v?(0,p.jsx)(bn().A,{url:v,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsx)(mn().Ay,{src:t,style:{width:"100%",height:"100%",objectFit:"cover"}})}):(0,p.jsx)(bn().A,{url:f,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsx)("div",{children:(0,p.jsx)(mn().Ay,{src:t,style:m.placeholderImage})})})}),(0,p.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:8},children:(0,p.jsx)("div",{style:{display:"inline-block"},children:(0,p.jsxs)(ie().p,{size:"sm",isGray:!0,onClick:()=>{I?C(!0):Mn(d)},style:{fontSize:14,fontWeight:400,marginTop:4,fontStyle:"normal",lineHeight:18,letterSpacing:-.154,color:l.text.secondary},children:[un({width:18,height:18,marginRight:4}),v?(0,p.jsx)(a().sA,{defaultMessage:"Change",id:"contextualizedOnboardingProfile.changeProfilePhotoButton.label"}):(0,p.jsx)(a().sA,{defaultMessage:"Add a photo",id:"contextualizedOnboardingProfile.addProfilePhotoButton.label"})]})})})]}),(0,p.jsx)("div",{style:{...Je().Gy,marginTop:36,color:l.text.secondary},children:(0,p.jsx)(a().sA,{defaultMessage:"Enter your name",id:"onboardingProfile.nameQuestion.labelV2"})}),(0,p.jsx)(vn().A,{autoFocus:!0,placeholder:t.formatMessage({defaultMessage:"Name",id:"contextualizedOnboardingProfile.nameInput.placeholder"}),value:y,onChange:e=>{g().A.setState({...u,profileName:e.target.value})},onBlur:()=>{const{profileName:e}=u;e&&((0,hn().r)(e)||R(!0))},style:{marginRight:4,...m.input,..."name"===x?Je().Hp:{}}}),N&&(0,p.jsx)(M().A,{isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",color:B().Ay.red,marginTop:4},children:(0,p.jsx)(a().sA,{defaultMessage:"Please enter a valid name",id:"contextualizedOnboardingProfile.nameError.label"})}),u.isPasswordRequired&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(pn().A,{size:.5,dividerColor:l.stroke.secondary}),(0,p.jsx)("div",{style:{...Je().Gy,marginTop:24,color:l.text.secondary},children:(0,p.jsx)(a().sA,{defaultMessage:"Set a password",id:"contextualizedOnboardingProfile.passwordQuestion.label"})}),(0,p.jsx)(vn().A,{type:S?"text":"password",value:b||void 0,onChange:e=>{g().A.setState({...u,password:e.target.value}),_(null)},onIconClick:()=>e.setState({showPassword:!e.state.showPassword,displayPasswordInput:e.state.displayPasswordInput}),icon:(0,ln().h)({width:16,height:16,fill:l.lightIconColor}),onClearButtonClick:()=>g().A.setState({...u,password:void 0}),placeholder:t.formatMessage({defaultMessage:"Password",id:"contextualizedOnboardingProfile.passwordInput.placeholderV2"}),style:{...m.input,..."password"===x?Je().Hp:{}},onBlur:()=>{const{password:e}=u;if(e){const t=(0,on().ZK)(e);t.success||(g().A.setState({...u}),_(t.reason))}},autoComplete:"new-password"}),(0,p.jsx)(M().A,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",visibility:b?void 0:"hidden",color:B().Ay.red,marginTop:4},children:(0,p.jsx)(wn,{passwordErrorData:T})})]})]})})}function wn(e){let{passwordErrorData:t}=e;if(!t)return null;const n=fn().K$[t.type];return(0,p.jsx)(a().sA,{...n})}function kn(){const e=(0,i().O$)(g().A),{profileName:t,profilePhoto:n}=e,o=(0,V().v3)(),l=(0,a().tz)(),d=An({device:o.device}),u="dark"===(0,s().eP)(),c=u?r().A.images.onboarding.profilePlaceholderDarkmodePng:r().A.images.onboarding.profilePlaceholderLightmodePng,m=u?r().A.images.onboarding.personCarryingStuffDarkmodePng:r().A.images.onboarding.personCarryingStuffLightmodePng,v=(0,s().DP)(),y=!n&&t,b=l.formatMessage({defaultMessage:"Your name",id:"contextualizedOnboardingProfile.profile.rightContent.nameInput.placeholder"});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("img",{style:{height:218,width:218,position:"relative",top:174,left:36,zIndex:2,objectFit:"contain",...u&&{width:170,height:170,left:0}},src:m}),(0,p.jsxs)("div",{style:{width:300,height:300,display:"flex",flexDirection:"column",background:v.surface.elevated,color:v.stroke.secondary,borderRadius:24,border:`1px solid ${v.stroke.secondary}`,transform:"rotate(345deg)",marginLeft:-96,alignItems:"center"},children:[(0,p.jsx)("div",{style:{...d.profilePhotoButton,display:"flex",alignItems:"center",justifyContent:"center",background:n?"none":v.stroke.primary,opacity:n?1:.2},children:y?(0,p.jsx)("div",{style:{fontWeight:P().Wy.bold,color:v.icon.secondary,fontSize:36},children:t.charAt(0).toUpperCase()}):n?(0,p.jsx)(bn().A,{url:n,isAuthenticated:!1,width:112,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsx)(mn().Ay,{src:t,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"100%"}})}):(0,p.jsx)("div",{style:d.placeholderAvatar,children:(0,p.jsx)(bn().A,{url:c,isAuthenticated:!1,width:112,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsx)(mn().Ay,{src:t,style:{...d.placeholderImage,width:64,height:64,left:void 0,top:void 0}})})})}),(0,p.jsx)(ie().p,{size:"sm",isGray:!0,onClick:()=>Mn(o),style:{fontSize:14,fontWeight:400,marginTop:4,fontStyle:"normal",lineHeight:18,letterSpacing:-.154,color:v.text.secondary}}),(0,p.jsx)("div",{style:{color:v.text.quaternary,fontSize:26,fontWeight:P().Wy.bold,maxWidth:240,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t&&t.length>0?t:b}),(0,p.jsx)("div",{style:{color:v.text.quaternary,fontSize:17},children:(0,p.jsx)(a().sA,{defaultMessage:"Toolmaker",id:"contextualizedOnboardingProfile.educationRole.label"})})]})]})}function In(){var e;const t=(0,s().DP)(),n=(0,a().tz)(),l=(0,V().v3)(),d=(0,i().O$)(g().A),{profilePhoto:u,profileName:c,password:m}=d,v=(0,i().uB)(void 0,jn),[y,b]=(0,o.useState)(!1),f=!u&&c,h=`\n\t.profileNameInput::placeholder {\n\t\tfont-size: 26px;\n\t\tfont-weight: ${P().Wy.bold};\n\t\tcolor: ${t.text.quaternary};\n\t\topacity: 1;\n\t\ttext-align: center;\n\t}\n\t.profileNameInput:focus-visible {\n\t\toutline: none;\n\t}\n\n\t.profileNameInput:placeholder-shown {\n\t\ttext-align: left;\n\t\twidth: 192px;\n\t}\n\n\t.profileNameInput {\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t}\n`,x=(0,i().K8)((()=>l.device.isMobile&&(0,ne().S5)()),[l.device.isMobile]),S=An({device:l.device,shouldUseNewMobileProfileDesign:x}),j=(0,i().K8)((()=>v.state.invalidField),[v]),A=(0,i().K8)((()=>v.state.showPassword),[v]),[C,w]=(0,o.useState)(!1),k=(0,i().K8)((()=>"dark"===l.ThemeStore.state.mode?x?r().A.images.onboarding.profilePlaceholderDarkmodeV2Png:r().A.images.onboarding.profilePlaceholderDarkmodePng:x?r().A.images.onboarding.profilePlaceholderLightmodeV2Png:r().A.images.onboarding.profilePlaceholderLightmodePng),[l,x]);return(0,p.jsx)(yn().A,{debugName:"MobileOnboardingProfile",capture:!0,onLeft:me().D_,onRight:me().D_,onSelectAll:me().D_,onRedo:me().D_,onUndo:me().D_,onCut:me().D_,onCopy:me().D_,onPaste:me().D_,onKeypress:me().D_,onDelete:me().D_,onBackspace:me().D_,onTab:me().D_,children:(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,p.jsxs)("div",{style:{width:164},children:[(0,p.jsx)(fe().A,{onClick:()=>Mn(l),style:{...S.profilePhotoButton,...f&&S.placeholderAvatar},children:f?(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)("div",{style:{fontWeight:P().Wy.bold,color:t.icon.secondary,fontSize:40,width:x?72:112,height:x?72:112,alignContent:"center",justifyItems:"center",textAlign:"center",background:t.surface.elevated,border:x?`1px solid ${t.stroke.primary}`:`0.5px solid ${t.stroke.secondary}`,borderRadius:"100%"},children:c.charAt(0).toUpperCase()}),!x&&(0,p.jsx)("div",{style:S.photoBadgePlusContainer,children:un(S.photoBadgePlus)})]}):u?(0,p.jsx)("div",{children:(0,p.jsx)(bn().A,{url:u,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)(mn().Ay,{src:t,style:{width:x?72:112,height:x?72:112,objectFit:"cover",borderRadius:"100%"}}),!x&&(0,p.jsx)("div",{style:S.photoBadgePlusContainer,children:un(S.photoBadgePlus)})]})})}):(0,p.jsx)("div",{children:(0,p.jsx)(bn().A,{url:k,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,n)=>(0,p.jsxs)("div",{style:{position:"relative",width:x?72:112,height:x?72:112,background:t.tint.regular,borderRadius:"100%",...x&&{border:`1px solid ${t.stroke.primary}`}},children:[(0,p.jsx)(mn().Ay,{src:n,style:S.placeholderImage}),!x&&(0,p.jsx)("div",{style:S.photoBadgePlusContainer,children:un(S.photoBadgePlus)})]})})})}),x&&(0,p.jsx)("div",{style:S.profileNameInputLabel,children:(0,p.jsx)(a().sA,{defaultMessage:"Upload photo (optional)",id:"contextualizedOnboardingProfile.uploadPhoto.label"})})]}),x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{...Je().Gy,marginTop:16,marginBottom:10,color:t.text.secondary,alignSelf:"baseline"},children:(0,p.jsx)(a().sA,{defaultMessage:"Enter your name",id:"contextualizedOnboardingProfile.profileNameQuestion.label"})}),(0,p.jsx)(vn().A,{type:"text",autoComplete:"off",preventSafariAutofill:!0,autoFocus:!0,value:c,onChange:e=>{g().A.update((t=>({...t,profileName:e.target.value})))},onBlur:()=>{const{profileName:e}=d;e&&((0,hn().r)(e)||b(!0))},placeholder:n.formatMessage({id:"onboardingProfile.mobile.nameInput.placeholderV3",defaultMessage:"Your name..."}),style:S.mobileInput}),y&&(0,p.jsx)(M().A,{isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",color:B().Ay.red,marginTop:4},children:(0,p.jsx)(a().sA,{defaultMessage:"Please enter a valid name",id:"contextualizedOnboardingProfile.nameError.label"})})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("style",{children:h}),(0,p.jsx)(vn().A,{type:"text",autoComplete:"off",preventSafariAutofill:!0,autoFocus:!0,inputClassName:"profileNameInput",format:vn().C.Transparent,focusInitial:!0,value:c,placeholder:n.formatMessage({defaultMessage:"Your name",id:"onboardingProfile.mobile.nameInput.placeholderV2"}),onChange:e=>{g().A.setState({...d,profileName:e.target.value})},onBlur:()=>{const{profileName:e}=d;e&&((0,hn().r)(e)||b(!0))},style:S.profileName,inputStyle:S.profileNameInput,overrideDefaultWidth:!0}),y&&(0,p.jsx)(M().A,{isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",color:B().Ay.red,marginTop:4},children:(0,p.jsx)(a().sA,{defaultMessage:"Please enter a valid name",id:"contextualizedOnboardingProfile.nameError.label"})}),(0,p.jsx)(pn().A,{size:.5,dividerColor:t.stroke.secondary})]}),d.isPasswordRequired&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{...Je().Gy,marginTop:24,color:t.text.secondary,alignSelf:"baseline",...x&&{marginBottom:10}},children:(0,p.jsx)(a().sA,{defaultMessage:"Set a password",id:"contextualizedOnboardingProfile.passwordQuestion.label"})}),(0,p.jsx)(vn().A,{onFocus:()=>w(!0),type:A?"text":"password",value:m||void 0,onChange:e=>{g().A.setState({...d,password:e.target.value})},onIconClick:()=>v.setState({showPassword:!v.state.showPassword,displayPasswordInput:v.state.displayPasswordInput}),icon:(0,ln().h)({width:16,height:16,fill:t.lightIconColor}),onClearButtonClick:()=>g().A.setState({...d,password:void 0}),placeholder:n.formatMessage(x?{defaultMessage:"Your password...",id:"contextualizedOnboardingProfile.passwordInput.placeholderV3"}:{defaultMessage:"Password",id:"contextualizedOnboardingProfile.passwordInput.placeholderV2"}),style:{...S.mobileInput,..."password"===j?Je().Hp:{}},onBlur:()=>{const{password:e}=d;if(e){(0,on().ZK)(e).success||g().A.setState({...d})}w(!1)},autoComplete:"new-password"}),(m||C)&&(0,p.jsx)(Tn,{onboardingState:d,store:v})]}),x&&(0,p.jsx)(pn().A,{size:.5,dividerColor:t.stroke.secondary,style:{marginTop:28}}),(0,p.jsx)(sn,{countryCode:null===(e=d.onboardingData)||void 0===e?void 0:e.countryCode,onClick:()=>{g().A.setState({...d,emailOptIn:!d.emailOptIn})},emailOptIn:Boolean(d.emailOptIn),device:l.device}),(0,p.jsx)(rn,{style:{textAlign:"center",paddingBottom:32,...x&&{color:t.text.secondary,fontWeight:P().Wy.regular}}})]})})}function Tn(e){let{onboardingState:t,store:n}=e;const o=(0,s().DP)(),i=(0,a().tz)(),r=(0,V().v3)(),{password:l}=t,d=An({device:r.device}),u=[{description:i.formatMessage({id:"onboardingProfile.passwordHint.numbers",defaultMessage:"1 number and 1 letter"}),validator:e=>Boolean((0,on().lO)(e)&&(0,on().aC)(e))},{description:i.formatMessage({id:"onboardingProfile.passwordHint.uniqueCharacters",defaultMessage:"3 unique characters"}),validator:e=>me().sb(e).length>=3},{description:i.formatMessage({id:"onboardingProfile.passwordHint.numCharacters",defaultMessage:"8 or more characters"}),validator:e=>e.length>=8}];return(0,p.jsx)("div",{style:d.newPasswordHint,children:u.map(((e,t)=>{const{description:n,validator:a}=e;return(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:4},children:[n,(0,p.jsx)(Ge().A,{fill:o.whiteButtonBackground,checked:Boolean(l)&&a(l??""),round:!0,size:20})]},t)}))})}function Mn(e){gn().Bz({environment:e,bucket:"public",onComplete:t=>_n(t,e),accept:"image/*"})}function _n(e,t){w().RZ(t,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:g().A.state,environment:t})),g().A.setState({...g().A.state,profilePhoto:e[0]})}const Bn={stageName:"profile",shouldSkip(){const{onboardingData:e,isFirstTimeOnboarding:t}=g().A.state;if(!e)return!1;if(!1===t)return!0;const n=Je().TV({userStore:e.userStore});return Boolean(n)},getTitle:e=>it().yN.includes((null==e?void 0:e.flowName)??"")?(0,p.jsx)(a().sA,{defaultMessage:"Welcome! Iâ€™m Notion Assistant. Iâ€™m here to help get you set up.",id:"onboarding.profileStageWithAssistant.title"}):(0,p.jsx)(a().sA,{defaultMessage:"Create a profile",id:"onboarding.educationProfileStage.title"}),getSubTitle:e=>"performance_marketing_term_onboarding"===(null==e?void 0:e.flowName)?null:it().yN.includes((null==e?void 0:e.flowName)??"")?(0,p.jsx)(a().sA,{defaultMessage:"First, letâ€™s create your profile.",id:"onboarding.profileStageWithAssistant.subtitle"}):(0,p.jsx)(a().sA,{defaultMessage:"This is how youâ€™ll appear in Notion",id:"onboarding.educationProfileStage.subtitle"}),isContinueEnabled:e=>void 0!==e.profileName&&(!e.isPasswordRequired||void 0!==e.password&&(0,on().ZK)(e.password).success),async onContinue(e,t){await(0,Z().setProfileData)(e,t),g().A.setState({...t,password:void 0}),await(0,X().maybeCompleteOnboardingAfterProfileStage)(e)},isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(Cn,{}),renderRightContent(e){if("education_flow"===e.flowName)return(0,p.jsx)(kn,{})},renderContentUnderContinueButton(e,t){var n;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(sn,{countryCode:null===(n=e.onboardingData)||void 0===n?void 0:n.countryCode,onClick:()=>{g().A.setState({...e,emailOptIn:!e.emailOptIn})},emailOptIn:Boolean(e.emailOptIn),device:t.device}),"education_flow"!==e.flowName&&(0,p.jsx)(rn,{style:{textAlign:"center",paddingBottom:32,paddingTop:32,maxWidth:520}})]})},renderFooter:e=>"education_flow"===e.flowName?(0,p.jsx)(rn,{}):void 0,getContinueButtonStyles:()=>({height:32,width:300,marginTop:70,alignSelf:"center"}),headerStyles:{width:void 0},alignment:k().C.Center},Pn={stageName:"mobile_profile",shouldSkip(){const{onboardingData:e,isFirstTimeOnboarding:t}=g().A.state;if(!e)return!1;if(!1===t)return!0;const n=Je().TV({userStore:e.userStore});return Boolean(n)},getTitle:e=>it().yN.includes((null==e?void 0:e.flowName)??"")?(0,p.jsx)(a().sA,{defaultMessage:"Welcome! Iâ€™m Notion Assistant. Iâ€™m here to help get you set up.",id:"contextualizedOnboarding.educationProfileStageMobileWithAssistant.title"}):(0,p.jsx)(a().sA,{defaultMessage:"Create your profile",id:"contextualizedOnboarding.educationProfileStageMobile.title"}),isContinueEnabled:e=>void 0!==e.profileName&&(!e.isPasswordRequired||void 0!==e.password&&(0,on().ZK)(e.password).success),async onContinue(e,t){await(0,Z().setProfileData)(e,t),g().A.setState({...t,password:void 0}),await(0,X().maybeCompleteOnboardingAfterProfileStage)(e)},isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(In,{})};n(672577);var Nn=()=>n(234194),Rn=()=>n(96689),zn=()=>n(498212),Dn=()=>n(382055),On=()=>n(453697),Wn=()=>n(322114),En=()=>n(285518),Ln=()=>n(463830);const qn=3,Fn=(0,a().YK)({disabledSpaceCreationTooltipWithEmailDomain:{id:"contextualizedOnboardingWorkspaceChoose.stage.disabledSpaceCreationTooltipWithEmailDomain",defaultMessage:"Workspace creation has been disabled by your organization, {emailDomain}. Please join an existing workspace."},disabledSpaceCreationTooltip:{id:"onboardingWorkspaceChoose.stage.disableSpaceCreationTooltip",defaultMessage:"Workspace creation has been disabled by your organization. Please join an existing workspace."}});const Hn=function(e){let{onboardingState:t}=e;const n=(0,a().tz)(),{onboardingData:s,flowName:r,currentStageIndex:l,joinableSpaces:d}=t;if(!s)throw new Error("onboardingData is not available");const u=(0,V().v3)(),g=(0,i().K8)((()=>s.userStore.getEmail()),[s.userStore]);if((0,o.useEffect)((()=>{Dn().FX(u,{can_user_create_space:s.canUserCreateSpace,is_new_user:0===(0,En().R)(J().default.state.currentUserRootStore),has_joinable_spaces:!0,onboarding_stage:(0,c().getStageName)({flowName:r,stageIndex:l,environment:u})})}),[u,s.canUserCreateSpace,r,l]),0===d.length)throw new Error("Unexpected state. There should always be at least 1 joinable space from the workspace chooser.");const m="formSpaceId"in t?t.formSpaceId:void 0,v=s.canUserCreateSpace,y=g?(0,$t().zN)(g):void 0;return(0,p.jsxs)("div",{style:{width:406,alignSelf:"center",marginTop:20},children:[(0,p.jsx)(Jn,{joinableSpaces:d,formResponseSpaceId:m}),v?(0,p.jsx)(Un,{onboardingState:t,canUserCreateSpace:v}):(0,p.jsx)(he().A,{delayThreshold:0,renderTooltip:()=>y?n.formatMessage(Fn.disabledSpaceCreationTooltipWithEmailDomain,{emailDomain:y}):n.formatMessage(Fn.disabledSpaceCreationTooltip),render:e=>(0,p.jsx)(Un,{onboardingState:t,canUserCreateSpace:v,tooltipEvents:e})})]})};function Vn(e){let{onboardingState:t}=e;const{onboardingData:a,flowName:s,currentStageIndex:r,joinableSpaces:l}=t;if(!a)throw new Error("onboardingData is not available");const d=(0,V().v3)();(0,o.useEffect)((()=>{Dn().FX(d,{can_user_create_space:a.canUserCreateSpace,is_new_user:0===(0,En().R)(J().default.state.currentUserRootStore),has_joinable_spaces:!0,onboarding_stage:(0,c().getStageName)({flowName:s,stageIndex:r,environment:d})})}),[d,a.canUserCreateSpace,s,r]);if(0===l.length)throw new Error("Unexpected state. There should always be at least 1 joinable space from the workspace chooser.");const u=(0,i().K8)((()=>window.innerHeight<n(480388).M),[]),g="formSpaceId"in t?t.formSpaceId:void 0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Jn,{joinableSpaces:l,isSmallScreen:u,formResponseSpaceId:g}),(0,p.jsx)(Un,{canUserCreateSpace:a.canUserCreateSpace,onboardingState:t})]})}function Un(e){const t=(0,V().v3)(),n=t.device.isMobile,{canUserCreateSpace:o,tooltipEvents:i,onboardingState:s}=e;return(0,p.jsx)(et().A,{style:{marginTop:4,display:"flex",borderRadius:n?12:8,fontSize:n?17:14,height:n?48:36,fontWeight:P().Wy.semibold,marginBottom:n?0:24},size:"lg",onClick:async()=>await(0,X().goToNextStage)({environment:t,onboardingState:s}),disabled:!o,...i,children:(0,p.jsx)(a().sA,{defaultMessage:"Create workspace",id:"contextualizedOnboardingWorkspaceChoose.createSpaceOption.continueMessage"})})}function Kn(e){if(e.id&&e.spaceIcon)return{pointer:{table:Rn().NX,id:e.id},icon:e.spaceIcon}}async function Gn(e){let{result:t,index:n,joinableSpaces:o,environment:a,buttonPopupStore:i}=e;if(t.canRequestToJoinSpace)return void(t.requestMembershipCustomizationRedirectUrl?window.open(t.requestMembershipCustomizationRedirectUrl,"_blank"):i.setState({open:!0}));const s=Je().I1(t),r=Je().O5(t),l=g().A.state,d=function(e,t,n){if(!e)throw new Error("Onboarding data not found during workspace choose stage");return"guest_redirect"===(null==n?void 0:n.type)?{...e,redirectSpaceId:n.spaceId,redirectPageId:n.pageId,hasExplicitAccessToRedirectPage:!0,canJoinRedirectSpace:!1}:{...e,redirectSpaceId:t}}(l.onboardingData,r.spaceId,r.redirectData),u={...l,spaceId:r.spaceId,onboardingData:d};w().vc(a,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:u,environment:a,spaceJoinOrCreate:"join"}),join_space_type:s?"guest":"member",joined_space_id:t.id,joined_space_index:n,joined_space_from_domain:t.canJoinSpace,joined_space_has_invite:t.guestPageIds.length>0,num_of_joinable_spaces:(null==o?void 0:o.length)||0}),g().A.setState(u);try{await g().A.completeOnboarding(a,"join")}catch(p){(0,Z().handleOnboardingError)(a,(0,ae().A)(p))}}function Jn(e){let{joinableSpaces:t,isSmallScreen:n,formResponseSpaceId:o}=e;const i=Zn((0,V().v3)().device.isMobile,n);if(!t||0===t.length)return null;t.sort(((e,t)=>t.totalMemberCount-e.totalMemberCount));const s=o?t.find((e=>e.id===o)):void 0;return(0,p.jsxs)("div",{children:[s&&(0,p.jsxs)("div",{style:{marginBottom:16},children:[(0,p.jsx)("div",{style:i.inviteText,children:(0,p.jsx)(a().sA,{defaultMessage:"Join where form was created",id:"onboardingWorkspaceChoose.joinableSpaces.joinFormSpace.label"})}),(0,p.jsx)($n,{index:0,result:s,joinableSpaces:t})]}),s?(0,p.jsx)("div",{style:i.inviteText,children:(0,p.jsx)(a().sA,{defaultMessage:"Join other workspaces",id:"onboardingWorkspaceChoose.joinableSpaces.joinOtherSpaces.label"})}):(0,p.jsx)("div",{style:i.inviteText,children:(0,p.jsx)(a().sA,{defaultMessage:"Invites",id:"onboardingWorkspaceChoose.joinableSpaces.invites.contextual.label"})}),t.filter((e=>e.canJoinSpace||e.canRequestToJoinSpace)).filter((e=>e.id!==(null==s?void 0:s.id))).map(((e,n)=>(0,p.jsx)($n,{result:e,index:n+(s?1:0),joinableSpaces:t},e.id)))]})}function $n(e){var t;let{result:n,isSmallScreen:o,index:s,joinableSpaces:r}=e;const l=(0,V().v3)(),d=Zn(l.device.isMobile,o),u=(0,i().uB)(void 0,Ln().A);if(!n.canRequestToJoinSpace&&!n.canJoinSpace)return null;const c=n.canJoinSpace?(0,p.jsx)(a().sA,{defaultMessage:"Join",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.join.label"}):(0,p.jsx)(a().sA,{defaultMessage:"Request",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.request.label"});return(0,p.jsx)(Yn,{style:d.onboardingButtonV2,disabled:!1,useNonDisableColorWhenDisabled:!0,hoveredStyle:{background:"rgba(55, 53, 47, 0.03)"},pressedStyle:{background:"rgba(55, 53, 47, 0.06)"},onClick:async()=>{await Gn({result:n,index:s,joinableSpaces:r,environment:l,buttonPopupStore:u})},children:(0,p.jsxs)("div",{style:d.workspaceContainerV2,children:[(0,p.jsxs)("div",{style:d.workspaceSpaceInformationV2,children:[(0,p.jsxs)("div",{style:d.workspaceIconV2,children:[(0,p.jsx)(Me().B,{disabled:!0,bucket:"public",icon:Kn(n),isEmptyPage:!1,title:n.name,size:32,emojiSize:18,style:{borderRadius:6,fontSize:P().J.UISmall.desktop,fontWeight:P().Wy.light},iconBoxStyles:{borderRadius:6},placeholderStyle:{fontWeight:500}}),(0,p.jsxs)("div",{style:d.workspaceTextV2,children:[(0,p.jsx)("div",{style:d.workspaceNameV2,children:(0,p.jsx)(a().sA,{defaultMessage:"{workspaceName}",id:"onboardingWorkspaceChoose.chooseWorkspaceButton.label",values:{workspaceName:n.name}})}),(0,p.jsx)("div",{style:d.workspaceMemberCountV2,children:o?(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Nn().M)(d.typesPersonIcon),(0,p.jsx)("div",{style:d.totalMemberCount,children:n.totalMemberCount})]}):(0,p.jsx)(a().sA,{defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",id:"onboardingWorkspaceChoose.joinWorkspaceButton.memberCount.label",values:{memberCount:n.totalMemberCount||1}})})]})]}),!o&&(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{style:d.workspaceJoinButtonV2,children:c}),(0,p.jsx)(Wn().A,{type:"current-actor-to-space-via-onboarding",spaceId:n.id,flowId:(0,zn().lZ)(),source:"onboarding",popupStore:u})]})]}),(0,p.jsx)("div",{style:d.userAvatarContainerV2,children:null==n||null===(t=n.topMembers)||void 0===t?void 0:t.slice(0,qn).map(((e,t)=>(0,p.jsx)(On().A,{userValue:e,size:24,avatarShouldShowShadow:!1,style:{marginRight:-8,zIndex:100-t},isOffline:!1,hasTooltip:!l.device.isMobile},e.id)))}),o&&(0,p.jsxs)("div",{style:{display:"flex",marginLeft:42,marginTop:16},children:[(0,p.jsx)("span",{style:d.workspaceJoinButtonV2,children:c}),(0,p.jsx)(Wn().A,{type:"current-actor-to-space-via-onboarding",spaceId:n.id,flowId:(0,zn().lZ)(),source:"onboarding",popupStore:u})]})]})},n.id)}function Yn(e){const t=(0,V().v3)(),n=(0,s().IS)((n=>{const{device:o}=t;return{buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:4,height:o.isMobile?42:32,padding:"0 12px",fontSize:14,lineHeight:1.2,background:n.buttonBackground,border:`1px solid ${n.outlineButtonBorder}`,boxShadow:"rgba(15, 15, 15, 0.1) 0px 1px 2px",...e.disabled&&!e.useNonDisableColorWhenDisabled?{background:B().Ay.contentGrayBackground,color:B().Ay.lightTextColor}:{},...e.style}}}),[t,e.disabled,e.style,e.useNonDisableColorWhenDisabled]);return(0,p.jsx)(fe().A,{className:qe().YZL,style:n.buttonStyle,disabled:e.disabled,onClick:e.onClick,onFocus:e.onFocus,onBlur:e.onBlur,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,hoveredStyle:e.hoveredStyle,pressedStyle:e.pressedStyle,children:e.children})}function Zn(e,t){return(0,s().IS)((n=>({workspaceNameV2:{fontWeight:500,fontSize:16,whiteSpace:"normal",overflowWrap:"break-word"},workspaceTextV2:{display:"flex",flexDirection:"column",justifyContent:"start",marginLeft:"14px",maxWidth:"200px"},workspaceJoinButtonV2:e?{color:n.text.primary,backgroundColor:n.fill.lightGraySecondary,borderRadius:17,padding:"8px 16px",display:"flex",alignItems:"center",fontWeight:P().Wy.semibold}:{marginTop:8,marginRight:8,color:n.text.uiBluePrimary},workspaceIconV2:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"top"},workspaceSpaceInformationV2:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"top",width:"100%"},userAvatarContainerV2:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:t?12:16,overflow:"hidden",marginLeft:42},workspaceContainerV2:{display:"flex",flexDirection:"column",justifyContent:"start",width:"100%"},onboardingButtonV2:{width:"100%",padding:t?16:12,height:"auto",marginBottom:12,borderRadius:12,background:n.surface.elevated,...t&&{border:`1px solid ${n.stroke.secondary}`,boxShadow:void 0}},workspaceMemberCountV2:{color:n.text.tertiary,marginTop:2,fontWeight:400,fontSize:12},inviteText:{fontSize:t?15:12,color:n.text.secondary,marginBottom:8,paddingLeft:2,fontWeight:t?P().Wy.medium:P().Wy.semibold},typesPersonIcon:{color:n.icon.tertiary,height:16,width:18,marginRight:2},totalMemberCount:{color:n.text.secondary}})),[e,t])}const Xn={stageName:"onboarding_workspace_choose",shouldSkip:e=>0===e.joinableSpaces.length||"sidebar_switcher"===e.source,getTitle(e){const{onboardingData:t,joinableSpaces:n}=e,o=n.length;return null!=t&&t.canUserCreateSpace?(0,p.jsx)(a().sA,{defaultMessage:"Join teammates or create a workspace",id:"onboardingWorkspaceChoose.stage.titleV2.create",values:{numberOfWorkspaces:o}}):(0,p.jsx)(a().sA,{defaultMessage:"Join your teammates",id:"onboardingWorkspaceChoose.stage.titleV2.join",values:{numberOfWorkspaces:o}})},getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"{numWorkspaces, plural, one {You've been invited to {numWorkspaces} workspace} other {You've been invited to {numWorkspaces} workspaces}}",id:"onboardingWorkspaceChoose.stage.subtitleV2",values:{numWorkspaces:e.joinableSpaces.length}}),isContinueEnabled:()=>!0,isBackEnabled:e=>!e.isFirstTimeOnboarding,stageStyles:{flexDirection:"column",marginTop:100,justifyContent:"start"},renderStage:()=>(0,p.jsx)(Hn,{onboardingState:g().A.state}),renderRightContent(){},onContinue(e,t){w().Fv(e,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e,spaceJoinOrCreate:"create"}))},getContinueButtonLabel:()=>(0,p.jsx)(a().sA,{defaultMessage:"Create workspace",id:"contextualizedOnboarding.workspaceChoose.createWorkspaceButtonLabel"}),getContinueButtonStyles:()=>({marginTop:8,marginBottom:24}),getDesktopContinueButtonOverride:()=>(0,p.jsx)("div",{}),alignment:k().C.Center},Qn={stageName:"mobile_onboarding_workspace_choose",shouldSkip:e=>0===e.joinableSpaces.length,getTitle(e){const{onboardingData:t,joinableSpaces:n}=e,o=n.length;return null!=t&&t.canUserCreateSpace?(0,p.jsx)(a().sA,{defaultMessage:"Join teammates or create a workspace",id:"onboardingWorkspaceChoose.stage.titleV2.create",values:{numberOfWorkspaces:o}}):(0,p.jsx)(a().sA,{defaultMessage:"Join your teammates",id:"onboardingWorkspaceChoose.stage.titleV2.join",values:{numberOfWorkspaces:o}})},isContinueEnabled:()=>!1,isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(Vn,{onboardingState:g().A.state}),renderRightContent(){},shouldHideMobileBottomContent:()=>!0,onContinue(e,t){w().Fv(e,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e,spaceJoinOrCreate:"create"}))},getMobileContinueButtonOverride:()=>(0,p.jsx)("div",{})};var eo=()=>n(426116),to=()=>n(406792),no=(n(944114),()=>n(441532));const oo=(0,dn().wt)("iOSShare",{viewBox:"0 0 26 26",svg:(0,p.jsx)("path",{d:"M16.2498 7.04938C15.8356 7.04938 15.4998 7.38517 15.4998 7.79938C15.4998 8.2136 15.8356 8.54938 16.2498 8.54938V7.04938ZM9.74984 8.54938C10.164 8.54938 10.4998 8.2136 10.4998 7.79938C10.4998 7.38517 10.164 7.04938 9.74984 7.04938V8.54938ZM12.2499 15.5994C12.2499 16.0136 12.5857 16.3494 12.9999 16.3494C13.4141 16.3494 13.7499 16.0136 13.7499 15.5994H12.2499ZM13.7499 1.29938C13.7499 0.88517 13.4141 0.549384 12.9999 0.549384C12.5857 0.549384 12.2499 0.88517 12.2499 1.29938H13.7499ZM8.89451 4.01942C8.60161 4.31231 8.60161 4.78718 8.89451 5.08008C9.1874 5.37297 9.66227 5.37297 9.95517 5.08008L8.89451 4.01942ZM12.9998 0.974747L13.5302 0.444417C13.2373 0.151523 12.7624 0.151523 12.4695 0.444417L12.9998 0.974747ZM16.0445 5.08008C16.3374 5.37297 16.8123 5.37297 17.1052 5.08008C17.3981 4.78718 17.3981 4.31231 17.1052 4.01942L16.0445 5.08008ZM16.2498 8.54938H18.8498V7.04938H16.2498V8.54938ZM18.8498 8.54938C19.8716 8.54938 20.6998 9.37766 20.6998 10.3994H22.1998C22.1998 8.54923 20.7 7.04938 18.8498 7.04938V8.54938ZM20.6998 10.3994V19.8244H22.1998V10.3994H20.6998ZM20.6998 19.8244C20.6998 20.8461 19.8716 21.6744 18.8498 21.6744V23.1744C20.7 23.1744 22.1998 21.6745 22.1998 19.8244H20.6998ZM18.8498 21.6744H7.14984V23.1744H18.8498V21.6744ZM7.14984 21.6744C6.12811 21.6744 5.29984 20.8461 5.29984 19.8244H3.79984C3.79984 21.6745 5.29968 23.1744 7.14984 23.1744V21.6744ZM5.29984 19.8244V10.3994H3.79984V19.8244H5.29984ZM5.29984 10.3994C5.29984 9.37766 6.12811 8.54938 7.14984 8.54938V7.04938C5.29968 7.04938 3.79984 8.54923 3.79984 10.3994H5.29984ZM7.14984 8.54938H9.74984V7.04938H7.14984V8.54938ZM13.7499 15.5994V1.29938H12.2499V15.5994H13.7499ZM9.95517 5.08008L13.5302 1.50508L12.4695 0.444417L8.89451 4.01942L9.95517 5.08008ZM12.4695 1.50508L16.0445 5.08008L17.1052 4.01942L13.5302 0.444417L12.4695 1.50508Z"})});var ao=()=>n(657222),io=()=>n(689094),so=()=>n(884107),ro=()=>n(579627),lo=()=>n(417555),uo=()=>n(856952),co=()=>n(972435);class go extends xn().default{getInitialState(){return{emailValue:"",emailTokens:[],validationError:void 0,isInviting:!1,isBulkInvite:!1,emailInputs:[{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""}]}}setEmailValue(e){this.setState({...this.state,emailValue:e})}addNewEmailValue(){const e=this.state.emailInputs;this.setState({...this.state,emailInputs:[...e,{value:"",sanitizedEmail:""}]})}removeEmailValue(e){if(e>=this.state.emailInputs.length)return;const t=[...this.state.emailInputs];t.splice(e,1),this.setState({...this.state,emailInputs:t})}updateEmailValue(e,t,n){if(e>=this.state.emailInputs.length)return;const o=this.state.emailInputs[e],a=this.state.emailInputs.map(((o,a)=>a===e?{value:t,sanitizedEmail:n}:o));e===this.state.emailInputs.length-1&&""===o.sanitizedEmail&&""!==n&&a.push({value:"",sanitizedEmail:""}),this.setState({...this.state,emailInputs:a})}setInvalidEmails(e,t){const n=this.state.emailInputs.map(((n,o)=>e.includes(o)?{...n,validationError:t.formatMessage({defaultMessage:"Invalid email.",id:"onboardingInviteNew.error.invalidEmail.message"})}:n));this.setState({...this.state,validationError:"One or more invalid emails found.",emailInputs:n})}clearValidationError(e){const t=this.state.emailInputs.map(((t,n)=>e===n?{...t,validationError:void 0}:t));this.setState({...this.state,emailInputs:t})}switchToBulkInvite(){const e=this.state.emailInputs.map((e=>e.sanitizedEmail||e.value)).filter(Boolean);this.updateEmailTokens(...e),this.setState({...this.state,emailInputs:[],isBulkInvite:!0,validationError:void 0})}updateEmailTokens(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t.map((e=>({email:e,isValidEmail:(0,$t().DT)(e)})));this.setState({...this.state,emailTokens:[...this.state.emailTokens,...o]})}}const po=go;var mo=()=>n(630116),vo=()=>n(477093);const yo=new po;function bo(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)(yn().A,{debugName:"OnboardingInvite",capture:!0,onLeft:me().D_,onRight:me().D_,onSelectAll:me().D_,onRedo:me().D_,onUndo:me().D_,onCut:me().D_,onCopy:me().D_,onPaste:me().D_,onKeypress:me().D_,onDelete:me().D_,onBackspace:me().D_,onTab:me().D_,children:(0,p.jsx)(ho,{onboardingState:e,store:yo})})}function fo(){return(0,p.jsx)(Ao,{})}function ho(e){let{onboardingState:t,store:n}=e;const{isBulkInvite:o,validationError:s}=(0,i().K8)((()=>{const{isBulkInvite:e,validationError:t}=n.state;return{isBulkInvite:e,validationError:t}}),[n]);return(0,p.jsxs)("div",{style:{width:406,alignSelf:"center"},children:[(0,p.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"4px",marginTop:24},children:(0,p.jsx)(M().A,{isSecondaryColor:!0,style:{fontSize:12,fontWeight:P().Wy.regular},children:(0,p.jsx)(a().sA,{defaultMessage:"Invite people",id:"onboardingInvite.emails.sendInvitesV2"})})}),o?(0,p.jsx)(jo,{store:n,spaceInviteState:t}):(0,p.jsx)(So,{store:n,onboardingState:t}),(0,p.jsx)(pn().A,{size:8,style:{marginTop:12}}),(0,p.jsx)($e,{onboardingState:t}),(0,p.jsx)(wo,{onboardingState:t,styles:{borderRadius:8}}),s&&(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",color:B().Ay.red,marginTop:14},children:(0,p.jsx)(a().sA,{defaultMessage:"Looks like some of the emails are invalid. Try again?",id:"onboardingInvite.invalidEmails.error.message"})})]})}function xo(){const e=(0,V().v3)(),t=(0,i().K8)((()=>g().A.state),[]),o=(0,i().K8)((()=>yo.state.isInviting),[]),s=(0,i().K8)((()=>Je().EI(yo.state)?(0,p.jsx)(a().sA,{defaultMessage:"Invite and take me to Notion",id:"contextualizedOnboarding.inviteStage.inviteAndContinueButtonLabel"}):(0,p.jsx)(a().sA,{defaultMessage:"Take me to Notion",id:"contextualizedOnboarding.inviteStage.ContinueWithoutInviteButtonLabel"})),[]);return(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,p.jsx)(et().A,{style:{marginTop:12,width:"100%"},size:"lg",onClick:()=>async function(e,t){const{state:n}=yo,o=to().default.DO_NOT_USE_markLegacy("invite_next_state");yo.setState({...n,validationError:void 0,isInviting:!0}),w().Lf(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),invited_emails:n.isBulkInvite?n.emailTokens:n.emailInputs});const a=n.isBulkInvite?function(e){const{state:t}=e,[n,o]=me().jB(t.emailTokens,(e=>e.isValidEmail));return e.setState({...t,validationError:o.length>0?"One or more invalid emails found.":void 0}),n.map((e=>e.email))}(yo):function(e,t){const{state:n}=t,o=[],a=[];for(const[s,r]of n.emailInputs.entries())""!==r.value&&((0,$t().DT)(r.sanitizedEmail)?o.push(s):a.push(s));for(const s of o)t.clearValidationError(s);t.setInvalidEmails(a,e),0===a.length&&t.setState({...t.state,validationError:void 0});const i=o.map((e=>n.emailInputs[e].sanitizedEmail));return i}(co().A.getIntl(),yo);if(!Boolean(yo.state.validationError)){w()._A(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),invited_emails:a});const{spaceId:i,onboardingData:s}=t;if(!i||!s)return;const r=mo().SL.createChildStore(s.userRootStore,{table:Rn().NX,id:i}),l=a.length>0;if(!r.isTeamsEnabled()&&l){if(!(await vo().oH({environment:e,flowId:t.flowId??"",trackCreateTeamComplete:!1})))return}const d=t.onboardingData&&Je().qg({userStore:t.onboardingData.userStore,isUserDomainJoinable:t.onboardingData.isUserDomainJoinable});if(t.optInAutoJoin&&d&&await eo().Yk({environment:e,emailDomains:[d],spaceStore:r}),a.length>0){const o=me().sb(a).map((e=>({type:"newUser",value:{email:e},source:"email"})));await ro().eP({environment:e,store:r,inviteTargets:o,inviteRole:"editor",isOnboarding:!0,invite:{inviteOrigin:"onboarding_invite"}}),yo.reset(),w().gA(e,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),emails:a,auto_join_space:Boolean(t.optInAutoJoin),is_bulk_invite:n.isBulkInvite})}to().default.DO_NOT_USE_measureLegacy(o,{environment:e,data:{numInvitesSent:a.length}}),await(0,X().goToNextStage)({environment:e,onboardingState:t})}yo.setState({...yo.state,isInviting:!1})}(e,t),disabled:o,children:o?(0,p.jsx)(n(331542).A,{onDarkBackground:!0}):s})})}function So(e){let{store:t,onboardingState:n}=e;(0,V().v3)();const o=(0,a().tz)(),r=(0,s().DP)(),l=(0,i().K8)((()=>t.state.emailInputs),[t]),d=l.map(((e,n)=>(0,p.jsx)("div",{style:{width:"100%"},children:(0,p.jsx)(vn().A,{placeholder:o.formatMessage({defaultMessage:"Email",id:"onboardingInvite.email.placeholderV2"}),style:{padding:10,marginBottom:10,background:r.surface.wash,width:"100%",display:"flex",height:32,borderRadius:6,boxShadow:l[n].validationError?r.outlineRedInputBoxShadow:r.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},onChange:e=>{!function(e,t,n){const o=t.target.value,{index:a,store:i}=n,s=(0,$t().iL)(o);i.updateEmailValue(a,o,s)}(0,e,{index:n,store:t})},value:e.value})},n)));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{marginBottom:2,alignItems:"center",display:"flex",flexFlow:"column",marginTop:6},children:d}),(0,p.jsx)(ie().p,{icon:io().W,onClick:()=>function(e,t){const{store:n}=t;n.switchToBulkInvite()}(0,{store:t,state:n}),style:{color:r.text.tertiary,fontWeight:P().Wy.regular},children:(0,p.jsx)(a().sA,{defaultMessage:"Add more or bulk invite",id:"onboardingInvite.emails.addMoreOrInviteInBulkTextV2"})})]})}function jo(e){let{store:t,spaceInviteState:n}=e;(0,V().v3)();const o=(0,a().tz)(),r=(0,s().DP)(),l=(0,i().K8)((()=>t.state),[t]),d=l.emailTokens.map(((e,n)=>{const o={type:"newUser",value:{email:e.email||""},source:"email"},a=e.isValidEmail?{}:{backgroundColor:r.legacyRedSelectColor,isStrikedThrough:!0};return(0,p.jsx)(lo().A,{target:o,onClickRemove:e=>function(e,t){const n=t.state.emailTokens.filter((t=>"newUser"===e.type&&t.email!==e.value.email));t.setState({...t.state,emailTokens:n})}(e,t),...a},n)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(uo().Ay,{format:uo().le.Share,value:l.emailValue||"",onChange:e=>function(e,t,n){const{store:o}=n,a=t.target.value,{extractedEmails:i,newInputValue:s}=(0,$t().Ct)(a);o.updateEmailTokens(...i),o.setState({...o.state,emailValue:s})}(0,e,{store:t,state:n}),type:"email",tokens:d,tokenWrapStyle:{gap:4},disabled:!1,placeholder:o.formatMessage({id:"onboardingInvite.bulkInvites.placeholder",defaultMessage:"annie@myteam.com, fay@company.com, henry@company.com, ..."}),onKeyDown:e=>function(e,t){if("Enter"===e.key){const n=e.target.value,o=(0,$t().qh)(n);o&&(t.updateEmailTokens(o),t.setState({...t.state,emailValue:""}))}}(e,t),onRemoveLastToken:me().lQ,dontShowBorderBottom:!1,style:{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset",background:r.whiteButtonBackground,borderRadius:4,height:150,alignContent:"flex-start"},textarea:!0,inputStyle:{height:"100%"},inputFullWidth:!0}),(0,p.jsx)(M().A,{isMultiline:!0,isSmall:!0,style:{marginTop:8,marginBottom:28},children:(0,p.jsx)(a().sA,{defaultMessage:"Type or paste in one or multiple emails separated by commas, spaces, or line breaks.",id:"onboardingInvite.addEmail.caption"})})]})}function Ao(){const e=(0,V().v3)(),{ThemeStore:t}=e,n=(0,i().K8)((()=>"dark"===t.state.mode),[t])?r().A.images.onboarding.mobileOnboardingInviteDarkmodePng:r().A.images.onboarding.mobileOnboardingInviteLightmodePng;return(0,p.jsx)("img",{alt:"Image of users with scroll",src:n,style:{width:"85%",textAlign:"center"}})}function Co(e){let{onboardingState:t,store:n}=e;const o=(0,s().DP)(),i=(0,V().v3)();return(0,p.jsx)("div",{style:{width:"100%"},children:(0,p.jsxs)(fe().A,{style:{borderRadius:12,height:48,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:o.text.primary,fontSize:17,fontWeight:P().Wy.semibold,background:o.tint.regular,marginTop:12},onClick:()=>async function(e,t){const{mobileNative:n,device:o}=t,a=e.inviteLinkUrl;if(a)if(o.isMobileNative)null==n||n.share(a);else try{await navigator.share({url:a})}catch{}w().CM(t,(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}))}(t,i),ignoreLocalHoverState:!0,children:[(e=>{const t=e.device;return t.isIOS?oo:t.isAndroid?no().y:oo})(i)({height:16,width:16,marginRight:6}),(0,p.jsx)(a().sA,{defaultMessage:"Share to...",id:"onboardingInvite.mobile.shareButton.title"})]})})}function wo(e){let{styles:t,onboardingState:n}=e;const i=(0,s().DP)(),r=(0,V().v3)(),{device:l}=r,[d,u]=(0,o.useState)(!1);return(0,p.jsx)(he().A,{placement:k().W.Top,renderTooltip:()=>(0,p.jsx)(a().sA,{defaultMessage:"Invite teammates with this link",id:"onboardingInvite.sharingButton.tooltip.copy"}),render:e=>(0,p.jsx)("div",{style:{width:"100%"},children:(0,p.jsx)(fe().A,{style:{marginTop:l.isMobile?0:64,height:32,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:i.tint.uiBlue,cursor:"pointer",color:i.text.uiBluePrimary,fontSize:14,fontWeight:P().Wy.regular,...t},hoveredStyle:{background:i.tint.uiBlueHover},onClick:async()=>{const e=await so().R.clipboardActions.load();e.copyString({environment:r,stringValue:n.inviteLinkUrl||"",copiedMessage:e.clipboardMessages.copiedLinkToClipboard}),u(!0),setTimeout((()=>{u(!1)}),1500)},disabled:d,...e,children:d?(0,p.jsx)(a().sA,{defaultMessage:"Copied!",id:"onboardingInvite.shareLink.copied"}):(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ao().w)({height:16,width:16,marginRight:6}),(0,p.jsx)(a().sA,{defaultMessage:"Copy invite link",id:"onboardingInvite.shareLink.title"})]})})})})}function ko(e){let{onboardingState:t}=e;const n=(0,V().v3)(),a=(0,s().DP)(),r=function(e,t){const{mobileNative:n,device:o}=t;if(!e.inviteLinkUrl)return!1;if(o.isMobileNative)return Boolean(n);return Boolean(navigator.share)}(t,n),l=(0,i().uB)(void 0,po);return(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)(wo,{onboardingState:t,styles:{borderRadius:12,height:48,color:a.text.primary,fontSize:17,fontWeight:P().Wy.semibold,background:a.tint.regular,marginBottom:4}}),r&&(0,p.jsx)(Co,{onboardingState:t,store:l})]})}const Io={stageName:"team_onboarding_invite",shouldSkip(e){var t;return"multiplayer"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)||(0,ne().Yz)()},getTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Start with your team",id:"onboardingInvite.chrome.titleV2"}),getSubTitle:e=>(0,p.jsx)(a().sA,{defaultMessage:"Notion works best with your teammates",id:"onboardingInvite.chrome.subtitleV2"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(bo,{}),getDesktopContinueButtonOverride:()=>(0,p.jsx)(xo,{}),alignment:k().C.Center},To={stageName:"mobile_team_onboarding_invite",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)||(0,ne().Yz)()},getTitle:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{marginBottom:6},children:(0,p.jsx)(a().sA,{defaultMessage:"Bring your team.",id:"onboardingInvite.mobileStep.titleV2"})}),(0,p.jsx)(a().sA,{defaultMessage:"Notion works best with others.",id:"onboardingInvite.mobileStep.subtitleB2"})]}),isContinueEnabled:e=>!0,async onContinue(e,t){if("default"!==t.flowName)return;const o=to().default.DO_NOT_USE_markLegacy("invite_next_state"),{spaceId:a,onboardingData:i}=t;if(!a||!i)return;const s=n(985405).S.createChildStore(i.userRootStore,{table:Rn().NX,id:a}),r=t.onboardingData&&Je().qg({userStore:t.onboardingData.userStore,isUserDomainJoinable:t.onboardingData.isUserDomainJoinable});t.optInAutoJoin&&r&&await eo().Yk({environment:e,emailDomains:[r],spaceStore:s}),to().default.DO_NOT_USE_measureLegacy(o,{environment:e,data:{}})},isBackEnabled:e=>!1,renderStage:()=>(0,p.jsx)(fo,{}),renderContentAboveContinueButton:e=>(0,p.jsx)(ko,{onboardingState:e}),renderContentUnderContinueButton:e=>(0,p.jsx)($e,{onboardingState:e}),alignment:k().C.Center,footerStyles:{top:0}};var Mo=()=>n(508496);function _o(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)("div",{style:{width:300,alignSelf:"center"},children:(0,p.jsx)(Po,{onboardingState:e})})}function Bo(){const e=(0,i().K8)((()=>g().A.state),[]);return(0,p.jsx)("div",{style:{marginBottom:32},children:(0,p.jsx)(Po,{onboardingState:e})})}function Po(e){(0,o.useEffect)((()=>{Mo().default.manuallyLogExperimentExposure("onboarding_split_team_survey")}),[]);const t=(0,V().v3)(),{onboardingState:n}=e,i={...Je().Gy,marginTop:25,marginBottom:8},{device:s}=t;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:i,children:(0,p.jsx)(M().A,{isSmall:!0,isMobile:s.isMobile,children:(0,p.jsx)(a().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),(0,p.jsx)(No,{onboardingState:n,type:"work"}),(0,p.jsx)("div",{style:i,children:(0,p.jsx)(M().A,{isSmall:!0,isMobile:s.isMobile,children:(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s your role?",id:"onboardingSurvey.teamRole.labelV2"})})}),(0,p.jsx)(Ro,{onboardingState:n}),(0,p.jsx)("div",{style:i,children:(0,p.jsx)(M().A,{isSmall:!0,isMobile:s.isMobile,style:{whiteSpace:"normal"},children:(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s the size of your company?",id:"onboardingSurvey.companySize.labelV2"})})}),(0,p.jsx)(zo,{onboardingState:n})]})}function No(e){var t;let{type:n,onboardingState:o}=e;const i=(0,V().v3)(),s=null===(t=o.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona;return(0,p.jsx)(_().Ay,{questionType:n,title:(0,p.jsx)(a().sA,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:s,randomizeSelectionOrder:!0,invalid:!1,onSelect:e=>{var t;g().A.setState({...o,planTypeAndSurveyInfo:{...o.planTypeAndSurveyInfo,surveyResponses:{...null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userPersona:e}}}),w().N3(i,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:i}),persona:e})},className:qe().Uaw})}function Ro(e){var t;let{onboardingState:n}=e;const o=(0,V().v3)();return(0,p.jsx)(_().Ay,{questionType:"role",title:(0,p.jsx)(a().sA,{defaultMessage:"Your role",id:"onboardingSurvey.teamRole.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userRole,invalid:!1,onSelect:e=>{var t;g().A.setState({...n,planTypeAndSurveyInfo:{...n.planTypeAndSurveyInfo,surveyResponses:{...null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userRole:e}}}),w().tu(o,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:o}),role:e})},className:qe().q5q})}function zo(e){var t;let{onboardingState:n}=e;const o=(0,V().v3)();return(0,p.jsx)(_().Ay,{questionType:"companySize",title:(0,p.jsx)(a().sA,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.companySize,randomizeSelectionOrder:!1,invalid:!1,onSelect:e=>{var t;g().A.setState({...n,planTypeAndSurveyInfo:{...n.planTypeAndSurveyInfo,surveyResponses:{...null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,companySize:e}}}),w().xe(o,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:o}),companySize:e})},className:qe().u_N})}function Do(){const e=(0,i().K8)((()=>g().A.state),[]),t=(0,V().v3)();return(0,o.useEffect)((()=>{(0,c().isAiOnboardingFlow)(e.flowName)||Mo().default.manuallyLogExperimentExposure("onboarding_split_team_survey")}),[e.flowName]),(0,p.jsx)(qo,{onboardingState:e,environment:t})}function Oo(){const e=(0,i().K8)((()=>g().A.state),[]),t=(0,V().v3)();return(0,p.jsx)(Ho,{onboardingState:e,environment:t})}function Wo(){const e=(0,i().K8)((()=>g().A.state),[]),t=(0,V().v3)();return(0,p.jsx)(Ko,{onboardingState:e,environment:t})}const Eo=["creative","product","product_design","marketing","eng","founder_or_ceo","project_or_program_management","sales","finance"];function Lo(e){return(0,s().IS)((t=>({optionContainer:{display:"flex",flexDirection:"column",flexWrap:"wrap",gap:10,width:"100%",maxHeight:288,...e&&{flexWrap:void 0,maxHeight:void 0,paddingBottom:24}},label:{alignSelf:"flex-start",marginBottom:8,fontSize:12}})),[e])}function qo(e){let{onboardingState:t,environment:n}=e;const s=n.currentUser.id,r=n.device.isMobile,l=(0,o.useMemo)((()=>{const e=(0,oe().Nx)(s);return[...Eo.sort((()=>e()-.5)),"other"]}),[s]),d=r,u=Lo(d),g=(0,i().K8)((()=>r||(0,c().isAiOnboardingFlow)(t.flowName)),[r,t.flowName]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M().A,{style:u.label,children:(0,p.jsx)(a().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,p.jsx)("div",{style:u.optionContainer,children:l.map((e=>{var o;return(0,p.jsx)(Go,{onClick:async()=>{var o;const a=(0,Fe().a_)({environment:n,onboardingState:t,surveyResponse:e});!g||null!==(o=t.planTypeAndSurveyInfo)&&void 0!==o&&null!==(o=o.surveyResponses)&&void 0!==o&&o.userPersona||await(0,X().goToNextStage)({environment:n,onboardingState:a})},isSelected:(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.userPersona)===e,label:_().Uj[e],useOneColumnLayout:d},e)}))})]})}const Fo=["exec","dept_lead","team_manager","member","solo","personal"];function Ho(e){let{onboardingState:t,environment:n}=e;const o=n.device.isMobile,i=Lo(true);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M().A,{style:i.label,children:(0,p.jsx)(a().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,p.jsx)("div",{style:i.optionContainer,children:Fo.map((e=>{var a;return(0,p.jsx)(Go,{onClick:async()=>{var a,i;g().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,userRole:e}}}),w().tu(n,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:n}),role:e}),!o||null!==(i=t.planTypeAndSurveyInfo)&&void 0!==i&&null!==(i=i.surveyResponses)&&void 0!==i&&i.userRole||await(0,X().goToNextStage)({environment:n,onboardingState:t})},isSelected:(null===(a=t.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.userRole)===e,label:_().Dv[e],useOneColumnLayout:true},e)}))})]})}const Vo=["1_10","50_99","300_999","5000+","10_49","100_299","1000_5000"],Uo=["1_10","10_49","50_99","100_299","300_999","1000_5000","5000+"];function Ko(e){let{onboardingState:t,environment:n}=e;const o=n.device.isMobile,i=o,s=Lo(i);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M().A,{style:s.label,children:(0,p.jsx)(a().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,p.jsx)("div",{style:s.optionContainer,children:(o?Uo:Vo).map((e=>{var a;return(0,p.jsx)(Go,{onClick:async()=>{var a,i;g().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,companySize:e}}}),w().xe(n,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:n}),companySize:e}),!o||null!==(i=t.planTypeAndSurveyInfo)&&void 0!==i&&null!==(i=i.surveyResponses)&&void 0!==i&&i.companySize||await(0,X().goToNextStage)({environment:n,onboardingState:t})},isSelected:(null===(a=t.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.companySize)===e,label:_().nZ[e],useOneColumnLayout:i,height:o?void 0:64},e)}))})]})}function Go(e){let{onClick:t,isSelected:n,label:o,useOneColumnLayout:a,height:i}=e;const r=(0,s().IS)((e=>({button:{height:i??48,width:a?"100%":250,borderRadius:12,alignItems:"center",justifyContent:"left",paddingLeft:16,display:"flex",border:`1px solid ${e.stroke.primary}`,transition:"all 0.2s ease-in-out",...n?{boxShadow:`${B().Ay.blue} 0 0 0 2px`}:{opacity:.7}}})),[i,n,a]);return(0,p.jsx)(ie().p,{style:r.button,onClick:t,children:(0,p.jsx)(M().A,{children:o})})}const Jo={stageName:"team_onboarding_persona_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},shouldShowSkipButton(e){var t;const n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return Boolean(n)&&"multiplayer"!==n},getTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),getSubTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"This helps show relevant content",id:"onboardingSurvey.subtitleV2"}),isContinueEnabled(e,t){var n,o,a,i,s;const r=e.planTypeAndSurveyInfo;return Boolean((null==r||null===(n=r.surveyResponses)||void 0===n?void 0:n.userPersona)&&(null==r||null===(o=r.surveyResponses)||void 0===o?void 0:o.userRole)&&(null==r||null===(a=r.surveyResponses)||void 0===a?void 0:a.companySize)&&"unfilled"!==(null==r||null===(i=r.surveyResponses)||void 0===i?void 0:i.userPersona)&&"unfilled"!==(null==r||null===(s=r.surveyResponses)||void 0===s?void 0:s.userRole))},isBackEnabled:e=>!0,onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,p.jsx)(_o,{}),getContinueButtonStyles:()=>({width:300,alignSelf:"center",marginTop:70}),alignment:k().C.Center},$o={stageName:"mobile_team_onboarding_persona_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},shouldShowSkipButton(e){var t;const n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return Boolean(n)&&"multiplayer"!==n},getTitle:(e,t)=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),isContinueEnabled(e,t){var n,o,a,i,s;const r=e.planTypeAndSurveyInfo;return Boolean((null==r||null===(n=r.surveyResponses)||void 0===n?void 0:n.userPersona)&&(null==r||null===(o=r.surveyResponses)||void 0===o?void 0:o.userRole)&&(null==r||null===(a=r.surveyResponses)||void 0===a?void 0:a.companySize)&&"unfilled"!==(null==r||null===(i=r.surveyResponses)||void 0===i?void 0:i.userPersona)&&"unfilled"!==(null==r||null===(s=r.surveyResponses)||void 0===s?void 0:s.userRole))},isBackEnabled:e=>!0,onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};w().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,p.jsx)(Bo,{})},Yo={stageName:"team_onboarding_function",renderStage:()=>(0,p.jsx)(Do,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||!(0,c().isAiOnboardingFlow)(e.flowName)&&"on"!==Mo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.function.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.function.subTitle"}),shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userPersona)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userPersona))},async onContinue(e,t){"ai_onboarding_phase_2_5"===t.flowName&&await(0,Z().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},shouldHideDesktopBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userPersona)&&(0,c().isAiOnboardingFlow)(e.flowName)},isBackEnabled:()=>!0,alignment:k().C.Center},Zo={stageName:"team_onboarding_function",renderStage:()=>(0,p.jsx)(Do,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Mo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.function.subTitle"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userPersona)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userPersona))},isBackEnabled:()=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userPersona)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},Xo={stageName:"team_onboarding_role",renderStage:()=>(0,p.jsx)(Oo,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Mo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,ne().bG)()},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.role.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s your role?",id:"onboardingSurvey.role.subTitle"}),shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userRole)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userRole))},isBackEnabled:()=>!0,alignment:k().C.Center},Qo={stageName:"mobile_team_onboarding_role",renderStage:()=>(0,p.jsx)(Oo,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Mo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,ne().bG)()},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s your role?",id:"onboardingSurvey.role.subTitle"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userRole)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userRole))},isBackEnabled:()=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userRole)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},ea={stageName:"team_onboarding_company_size",renderStage:()=>(0,p.jsx)(Wo,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Mo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,ne().bG)()},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.companySize.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s the size of your company?",id:"onboardingSurvey.companySize.subTitle"}),isContinueEnabled(e){var t;const n=e.planTypeAndSurveyInfo;return Boolean(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.companySize)},isBackEnabled:e=>!0,alignment:k().C.Center,shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},ta={stageName:"mobile_team_onboarding_company_size",renderStage:()=>(0,p.jsx)(Wo,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==Mo().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,ne().bG)()},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s the size of your company?",id:"onboardingSurvey.companySize.subTitle"}),isContinueEnabled(e){var t;const n=e.planTypeAndSurveyInfo;return Boolean(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.companySize)},isBackEnabled:e=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.companySize)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}};var na=()=>n(624119),oa=()=>n(979340),aa=()=>n(297872),ia=()=>n(112527),sa=()=>n(987427),ra=()=>n(755195),la=()=>n(981046),da=()=>n(753735),ua=()=>n(151168),ca=(n(908872),()=>n(436572)),ga=()=>n(2143),pa=()=>n(6208),ma=()=>n(756279),va=()=>n(661179),ya=()=>n(66460),ba=()=>n(34699),fa=()=>n(369773),ha=()=>n(585312),xa=()=>n(517492),Sa=()=>n(816953),ja=()=>n(614415),Aa=()=>n(645873);const Ca={right:44,top:82},wa={right:486,top:220};function ka(){const e=(0,s().DP)(),t=(0,s().IS)((()=>{const e={position:"absolute",transform:"rotate(-4.567deg) scaleX(-1)",width:232,height:58};return{airplane:{...e,top:Ca.top,right:Ca.right},airplaneTail:{...e,top:wa.top,right:wa.right}}}),[]),{prefersReducedMotion:n}=(0,V().Y0)(),o="light"===e.mode?r().A.images.pricing.light.upgradeAirplanePng:r().A.images.pricing.dark.upgradeAirplanePng,a={type:"spring",mass:1,stiffness:83,damping:18.2,duration:.66};return(0,p.jsx)(Aa().u2,{dependency:ja().fM,children:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(e.motion.img,{alt:"",src:o,style:t.airplane,animate:{opacity:[0,1],...n?{}:{right:[200,Ca.right],top:[100,Ca.top]}},transition:a}),(0,p.jsx)(e.motion.img,{alt:"",src:o,style:t.airplaneTail,animate:{opacity:[0,1],...n?{}:{right:[340,wa.right],top:[230,wa.top]}},transition:a})]})})}function Ia(e){let{handleSubmit:t,isSubmitDisabled:n,submissionError:o,onboardingState:i,product:r}=e;const l=(0,V().v3)(),d=(0,a().tz)(),u=(0,s().IS)((()=>({buttonContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",justifySelf:"center",width:"100%",gap:8},button:{display:"flex",alignItems:"center",justifyContent:"center",height:36,padding:"0px 8px",borderRadius:8,alignSelf:"stretch"}})),[]);return(0,p.jsxs)("div",{style:u.buttonContainer,children:[(0,p.jsx)(et().A,{disabled:n,style:u.button,onClick:t,children:(0,p.jsx)(a().sA,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion {subscriptionTier} trial",values:{subscriptionTier:(0,oa().u2)({product:r,intl:d})}})}),(0,p.jsx)(ie().p,{isBlue:!0,style:u.button,onClick:async()=>{(0,ua().Q8)(),await(0,X().goToNextStage)({environment:l,onboardingState:i})},children:(0,p.jsx)(G().D,{styleName:"UIRegular-14px/Medium",colorName:"uiBluePrimary",children:(0,p.jsx)(a().sA,{id:"onboarding.timedTrailsStage.skipTrial.message",defaultMessage:"Continue with Free plan instead"})})}),o&&(0,p.jsx)("span",{style:{textAlign:"center"},children:(0,p.jsx)(G().D,{styleName:"Caption-12px/Regular",colorName:"uiRedPrimary",children:o})})]})}const Ta=428,Ma=368;function _a(e){let{monthlyUnitCost:t,sessionId:n,onboardingState:r}=e;const l=(0,V().v3)(),d=(0,a().tz)(),u=function(){const e=(0,i().O$)(va().A);return(0,s().IS)((t=>({header:{maxWidth:Ta,paddingBottom:24},airplaneContainer:{position:"relative",display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center",width:804,marginTop:-32,paddingTop:44,paddingBottom:42},scrollContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:Ta,height:Ma,padding:`20px ${24-e}px 20px 24px`,background:t.surface.elevated,border:`1px solid ${t.stroke.primary}`,borderRadius:16,boxShadow:"0px 4px 12px 0px rgba(0, 0, 0, 0.04)"}})),[e])}(),c=(0,na().useStripe)(),g=(0,na().useElements)(),m=(0,pa().L)(),v=(0,Sa().A)(),y=Boolean((0,sa().W)()),{tier:b,trialData:f}=(0,i().K8)((()=>({tier:(0,ua().Zr)(),trialData:(0,ua().Ot)(y)})),[y]),{trialDays:h}=(0,i().K8)((()=>({trialDays:(0,da().Ao)(f)})),[f]),[x,S]=(0,o.useState)({name:m??"",businessName:"",vatId:v?"":void 0,termsAccepted:!1}),[j,A]=(0,o.useState)({}),[C,w]=(0,o.useState)(),[k,I]=(0,o.useState)(!1),T=o.useCallback((e=>{w(void 0),A((t=>({...t,...Object.keys(e).reduce(((e,t)=>({...e,[t]:void 0})),{})}))),S((t=>({...t,...e})))}),[]),M=o.useCallback((()=>{const e={};return(0,hn().r)(x.name)||(e.name=d.formatMessage({id:"spaceSubscriptionUpgradeModal.name.required.error",defaultMessage:"Please enter a valid name."})),x.termsAccepted||(e.termsAccepted=d.formatMessage({id:"onboarding.timedTrials.terms.required.error",defaultMessage:"You must opt in to start your trial"})),A((t=>({...t,...e}))),e}),[x,d]),_=o.useCallback((async()=>{const e=M();if(!me().Im(e))return;I(!0);if(!(await(0,ya().WR)({environment:l,intl:d,stripe:c,elements:g,trialData:f,trialDays:h,businessName:x.businessName,sessionId:n,customerName:x.name})))return I(!1),void w(d.formatMessage({id:"onboarding.timedTrials.paymentError.message",defaultMessage:"We were unable to save your payment method. Please verify all the information in the form is correct."}));await(0,X().goToNextStage)({environment:l,onboardingState:r}),ca().D6({label:(0,p.jsx)(a().sA,{id:"onboardingTimedTrial.snackbar.confirmation",defaultMessage:"Your {trialDays, select, 30 {30} other{14}}-day {subscriptionTier, select, business {Business} plus {Plus} other {}} trial starts now!",values:{subscriptionTier:b,trialDays:h}})}),(0,ua().Q8)()}),[g,l,x.businessName,x.name,d,r,n,c,b,f,h,M]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:u.airplaneContainer,children:[(0,p.jsx)(ka,{}),(0,p.jsx)(K().Y1,{gap:42,align:"center",width:Ta,children:(0,p.jsxs)(ga().H,{style:u.scrollContainer,type:ma().A.All,children:[(0,p.jsxs)(K().Y1,{gap:14,padding:"0px 0px 14px 0px",children:[(0,p.jsx)(ba().ck,{formData:x,onChangeFormData:T,errors:j,modalId:n}),(0,p.jsx)(ha().q,{modalId:n})]}),(0,p.jsx)(fa().P,{isChecked:x.termsAccepted,onChange:e=>{T({termsAccepted:e})},error:j.termsAccepted,message:(0,p.jsx)(a().sA,{defaultMessage:"At the end of your trial, Notion {planName} will auto-renew each month at {money}/seat plus taxes unless canceled. Cancel via the Billing tab prior to renewal to avoid future charges",id:"onboardingTimedTrials.termsOfService",values:{money:t?(0,p.jsx)(xa().v,{cost:t,trailingZeroDisplay:"stripIfInteger"}):"-",planName:(0,oa().u2)({product:b,intl:d})}})})]})})]}),(0,p.jsx)("div",{style:{width:406},children:(0,p.jsx)(Ia,{handleSubmit:_,isSubmitDisabled:k,submissionError:C,onboardingState:r,product:b})})]})}function Ba(){const e=n(206267).JW(),t=(0,i().K8)((()=>g().A.state),[]),{subscriptionTier:o,selectedCurrencyCode:a}=(0,i().K8)((()=>({subscriptionTier:(0,ua().Zr)(),selectedCurrencyCode:la().A.selectedCurrencyCode})),[]),s=(0,ia().useElementsOptions)({type:"subscription",amount:0,currency:a}),r=(0,ra().H4)({billingInterval:"month",priceStore:la().A,products:[o]}),l=(0,ra()._7)({asyncPrice:r[o]});return(0,p.jsx)(na().Elements,{stripe:(0,ia().getStripe)(),options:s,children:(0,p.jsx)(aa().A,{capture:!0,render:()=>(0,p.jsx)(_a,{monthlyUnitCost:l,sessionId:e,onboardingState:t})})})}function Pa(){const e=(0,a().tz)(),t=(0,i().K8)((()=>(0,ua().Zr)()),[]),n=Boolean((0,sa().W)()),o=(0,i().K8)((()=>(0,ua().Ot)(n)),[n]),s=(0,i().K8)((()=>(0,da().Ao)(o)),[o]);return(0,p.jsx)(a().sA,{defaultMessage:"Try the {planName} plan for {numDays} days",id:"onboardingTimedTrial.title.v2",values:{planName:(0,oa().u2)({product:t,intl:e}),numDays:s}})}function Na(){const e=Boolean((0,sa().W)()),t=(0,i().K8)((()=>(0,ua().Ot)(e)),[e]),n=(0,i().K8)((()=>(0,da().Ao)(t)),[t]);return(0,p.jsx)("div",{children:(0,p.jsx)(a().sA,{defaultMessage:"{trialDays, select, 30 {Four weeks} other {Two weeks}} of unlimited collaboration and creation",id:"onboardingTimedTrial.subtitle.v2",values:{trialDays:n}})})}const Ra={stageName:"team_onboarding_timed_trial_checkout",shouldSkip:e=>!e.acceptedTimedTrialOffer,getTitle:()=>(0,p.jsx)(Pa,{}),getSubTitle:()=>(0,p.jsx)(Na,{}),isContinueEnabled:()=>!0,isBackEnabled:()=>!0,onBack(){g().A.update((e=>({...e,acceptedTimedTrialOffer:!1})))},renderStage:()=>(0,p.jsx)(Ba,{}),alignment:k().C.Center,headerStyles:{maxWidth:600},getDesktopContinueButtonOverride:()=>(0,p.jsx)("div",{})};var za=()=>n(252105),Da=()=>n(21140),Oa=()=>n(807778),Wa=()=>n(10984),Ea=()=>n(183819);const La={viewBox:"0 0 20 20",svg:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l2.8-1.546a4.6 4.6 0 0 1-.712-1.034l-1.765.973v-6.434l5.4-2.98v1.797a4.7 4.7 0 0 1 1.25.04V6.07a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"}),(0,p.jsx)("path",{d:"M13.592 15.449a3.5 3.5 0 1 1 5.816-3.897 3.5 3.5 0 0 1-5.816 3.897M16.5 11.03a.5.5 0 0 0-.5.5v2.031a.5.5 0 1 0 1 0v-2.03a.5.5 0 0 0-.5-.5m0 5a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25"})]})},qa=(0,dn().wt)("blockLimit",La);var Fa=()=>n(551222),Ha=()=>n(274570),Va=()=>n(465505),Ua=()=>n(920495),Ka=()=>n(904789);function Ga(e){const t=function(e){return{blocks:{free:{icon:qa,message:e.formatMessage({id:"planCard.features.blocks.free",defaultMessage:"1,000 blocks to collaborate"})},plus:{icon:Va().cubeIcon,message:e.formatMessage({id:"planCard.features.blocks.unlimited",defaultMessage:"Unlimited blocks for everyone"})},business:{icon:Va().cubeIcon,message:e.formatMessage({id:"planCard.features.blocks.unlimited",defaultMessage:"Unlimited blocks for everyone"})}},fileUpload:{free:{icon:Ka().R,message:e.formatMessage({id:"planCard.features.fileUpload.free",defaultMessage:"5MB file upload limit"})},plus:{icon:Ka().R,message:e.formatMessage({id:"planCard.features.fileUpload.unlimited",defaultMessage:"Unlimited file uploads"})},business:{icon:Ka().R,message:e.formatMessage({id:"planCard.features.fileUpload.unlimited",defaultMessage:"Unlimited file uploads"})}},view_chart:{free:{icon:Fa().q,message:e.formatMessage({id:"planCard.features.charts.free",defaultMessage:"{chartLimit} chart"},{chartLimit:1})},plus:{icon:Fa().q,message:e.formatMessage({id:"planCard.features.charts.unlimited",defaultMessage:"Unlimited charts"})},business:{icon:Fa().q,message:e.formatMessage({id:"planCard.features.charts.unlimited",defaultMessage:"Unlimited charts"})}},form_customization:{free:{icon:Ua().n,message:e.formatMessage({id:"planCard.features.forms.basic",defaultMessage:"Basic forms"})},plus:{icon:Ua().n,message:e.formatMessage({id:"planCard.features.forms.custom",defaultMessage:"Custom forms"})},business:{icon:Ua().n,message:e.formatMessage({id:"planCard.features.forms.custom",defaultMessage:"Custom forms"})}},pageHistory:{free:{icon:Ha().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:7})},plus:{icon:Ha().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:30})},business:{icon:Ha().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:90})}}}}(e);return{free:[t.blocks.free,t.fileUpload.free,t.view_chart.free,t.form_customization.free,t.pageHistory.free],student:[],personal:[],plus:[t.blocks.plus,t.fileUpload.plus,t.view_chart.plus,t.form_customization.plus,t.pageHistory.plus],business:[t.blocks.business,t.fileUpload.business,t.view_chart.business,t.form_customization.business,t.pageHistory.business],enterprise:[],ai:[],sites_custom_hostnames:[]}}function Ja(e){let{product:t,price:n,comparisonPrice:i,primaryAction:s,isHighlighted:r}=e;const l=Za(r),d=function(e){const t=(0,a().tz)();return o.useMemo((()=>Ga(t)[e]||[]),[t,e])}(t);return(0,p.jsx)("div",{style:l.container,children:(0,p.jsxs)(K().Y1,{gap:28,padding:"24px",align:"top-left",children:[(0,p.jsx)($a,{product:t,price:n,comparisonPrice:i}),r?(0,p.jsx)(et().A,{style:l.primaryButton,onClick:s.onClick,children:s.label}):(0,p.jsx)(Qe().E,{color:"uiBlue",size:"xl",style:l.primaryButton,onClick:s.onClick,children:s.label}),(0,p.jsxs)(K().Y1,{gap:12,children:[d.map(((e,t)=>(0,p.jsx)(Ya,{feature:{...e}},`feature-${t}`))),r&&(0,p.jsx)(G().D,{styleName:"UIRegular-14px/Regular",colorName:"tertiary",children:(0,p.jsx)(a().sA,{id:"plansPage.planCard.andMore",defaultMessage:"... and more"})})]})]})})}function $a(e){let{product:t,price:n,comparisonPrice:o}=e;const s=Za(),r=(0,a().tz)(),l=(0,Ea().q)(),d=(0,i().K8)((()=>(0,Oa().Le)()),[]),u=(0,Wa().RL)({salesStatus:l,packagingChangesEnabled:d});return(0,p.jsxs)(K().Y1,{gap:16,children:[(0,p.jsx)(G().D,{styleName:"UITitle-22px/Semibold",colorName:"primary",children:(0,oa().u2)({product:t,intl:r,useEnterpriseLimitedName:u})}),(0,p.jsxs)(K().Y1,{gap:2,children:[(0,p.jsxs)(K().Y1,{direction:"horizontal",gap:8,children:[o&&(0,p.jsx)("div",{style:s.comparisonPriceText,children:(0,p.jsx)(xa().v,{cost:o,trailingZeroDisplay:"stripIfInteger"})}),(0,p.jsx)("div",{style:s.priceText,children:(0,p.jsx)(xa().v,{cost:n,trailingZeroDisplay:"stripIfInteger"})})]}),(0,p.jsx)(G().D,{styleName:"UISmall-12px/Medium",colorName:"tertiary",children:(0,p.jsx)(a().sA,{id:"plansPage.planCard.priceUnit",defaultMessage:"per member / month"})})]})]})}function Ya(e){let{feature:t}=e;const n=Za(),o=Array.isArray(t.icon)?t.icon:[t.icon];return(0,p.jsxs)(K().Y1,{direction:"horizontal",gap:4,align:"center-left",height:22,children:[(0,p.jsx)(Da().Ye,{gap:4,children:o.filter(l().Vq).map((e=>e({...n.icon,...t.iconStyle??{}})))}),(0,p.jsx)(G().D,{styleName:"Body-14px/Regular",colorName:"secondary",children:t.message})]})}function Za(e){return(0,s().IS)((t=>({container:{borderRadius:12,background:t.surface.elevated,boxShadow:e?t.shadowMD:t.shadowXS,flex:"1 0 0",alignSelf:"stretch"},priceText:{color:t.text.primary,fontSize:40,fontWeight:400,lineHeight:"120%",letterSpacing:.4},comparisonPriceText:{color:"dark"===t.mode?"#636363":"#C7C5C1",fontSize:40,fontWeight:400,lineHeight:"120%",letterSpacing:.4,textDecoration:"line-through"},primaryButton:{height:36,borderRadius:8,alignSelf:"stretch"},icon:{display:"flex",width:20,height:20,color:t.icon.secondary,padding:2}})),[e])}var Xa=()=>n(527059);function Qa(e){let{monthlyUnitCost:t,currencyCode:n,onboardingState:o}=e;const s=(0,a().tz)(),r=(0,V().v3)(),l=Boolean((0,Xa().Wo)()),{tier:d,trialData:u}=(0,i().K8)((()=>({tier:(0,ua().Zr)(),trialData:(0,ua().Ot)(l)})),[l]),{trialDays:c}=(0,i().K8)((()=>({trialDays:(0,da().Ao)(u)})),[u]),m={amount:0,currencyCode:n};return(0,p.jsxs)(K().Y1,{direction:"horizontal",gap:16,align:"center-left",padding:"12px 0px 36px 0px",width:630,children:[(0,p.jsx)(Ja,{product:"free",price:m,primaryAction:{label:s.formatMessage({id:"onboarding.timedTrials.comparePlans.free.continue",defaultMessage:"Continue"}),onClick:async()=>{(0,ua().Q8)(),await(0,X().goToNextStage)({environment:r,onboardingState:o})}}}),(0,p.jsx)(Ja,{isHighlighted:!0,product:d,price:m,comparisonPrice:t,primaryAction:{label:s.formatMessage({id:"onboarding.timedTrials.comparePlans.tryFor",defaultMessage:"Try for {trialDays} days"},{trialDays:c}),onClick:async()=>{za().Ak(r,{stage:"team_onboarding_timed_trial_offer",product:d,trial_days:c}),g().A.update((e=>({...e,acceptedTimedTrialOffer:!0}))),await(0,X().goToNextStage)({environment:r,onboardingState:o})}}})]})}function ei(){const e=(0,i().K8)((()=>g().A.state),[]),{subscriptionTier:t,selectedCurrencyCode:n}=(0,i().K8)((()=>({subscriptionTier:(0,ua().Zr)(),selectedCurrencyCode:la().A.selectedCurrencyCode})),[]),o=(0,ra().H4)({billingInterval:"month",priceStore:la().A,products:[t]}),a=(0,ra()._7)({asyncPrice:o[t]});return(0,p.jsx)(aa().A,{capture:!0,render:()=>(0,p.jsx)(Qa,{monthlyUnitCost:a,currencyCode:n,onboardingState:e})})}const ti={stageName:"team_onboarding_timed_trial_offer",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Choose your Plan",id:"onboardingTimedTrial.offer.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Select the best Notion experience for your team",id:"onboardingTimedTrial.offer.subtitle"}),isContinueEnabled:()=>!0,isBackEnabled(e){if("ai_onboarding_phase_2_5"===e.flowName)return!1;const t=e.planTypeAndSurveyInfo;return"singleplayer"!==(null==t?void 0:t.collaborativeIntent)},renderStage:()=>(0,p.jsx)(ei,{}),alignment:k().C.Center,headerStyles:{maxWidth:600},getDesktopContinueButtonOverride:()=>(0,p.jsx)("div",{})},ni={stageName:"team_onboarding_use_cases",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What are you planning on using Notion for?",id:"onboardingUseCasesStep.title"}),getSubTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"You can always add more later",id:"onboardingUseCasesStep.subtitle"}),isContinueEnabled(e,t){var n,o;const a=e.planTypeAndSurveyInfo,i=e.selectedWorkflowTemplateIds,s=Boolean((null==a||null===(n=a.surveyResponses)||void 0===n?void 0:n.useCases)&&(null==a||null===(o=a.surveyResponses)||void 0===o||null===(o=o.useCases)||void 0===o?void 0:o.length)>0),r=Boolean(i&&i.length>0);return s||r},isBackEnabled:(e,t)=>!0,renderStage:()=>(0,p.jsx)(Ce,{}),renderRightContent(e){var t;const n=e.planTypeAndSurveyInfo,o=(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.useCases)??[],a=e.selectedWorkflowTemplateIds??[];return(0,p.jsx)(Pe,{selectedWorkflowTemplateIds:a,selectedUseCases:o,selectedCategories:[]})},getContinueButtonStyles:()=>({width:376,marginTop:48,borderRadius:8})},oi={stageName:"mobile_team_onboarding_use_cases",shouldSkip(e,t){const n=e.planTypeAndSurveyInfo;return"team"!==(null==n?void 0:n.planType)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"What are you planning to use Notion for?",id:"onboardingUseCasesStep.mobile.title"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.useCases)&&(null==o||null===(n=o.surveyResponses)||void 0===n||null===(n=n.useCases)||void 0===n?void 0:n.length)>0)},shouldHideMobileBottomContent(e){var t,n;const o=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=o&&null!==(t=o.surveyResponses)&&void 0!==t&&t.useCases&&0!==o.surveyResponses.useCases.length||0!==((null==e||null===(n=e.selectedWorkflowTemplateIds)||void 0===n?void 0:n.length)??0))},isBackEnabled:(e,t)=>!0,renderStage:()=>(0,p.jsx)(Ce,{})};class ai extends xn().default{getInitialState(){return{useCases:me().k4([Rn().GQ,Rn().NR,Rn().Q4])}}}const ii=ai,si=(0,a().YK)({placeHolderMobile:{defaultMessage:"Acme Labs",id:"onboardingWorkspaceCreate.mobile.spaceInput.placeholderV2"},placeHolderDesktop:{defaultMessage:"Acme Inc.",id:"onboardingWorkspaceCreate.workspaceNameInput.placeholder"},workspaceNameTooLong:{defaultMessage:"Workspace name must be {maxLength} characters or less",id:"onboardingWorkspaceCreate.workspaceNameInput.tooLongError"}});function ri(e,t){return e&&e.trim()&&e.length>Rn().zX?t.formatMessage(si.workspaceNameTooLong,{maxLength:Rn().zX}):null}function li(){const e=(0,V().v3)(),t=(0,a().tz)(),n=(0,i().uB)(void 0,ii),[r,l]=o.useState(null),d=(0,i().O$)(g().A),u=(0,i().K8)((()=>n.state.invalidField),[n]),m=d.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:d.spaceIcon}:void 0,v=t.formatMessage(si.placeHolderDesktop),y=(0,i().K8)((()=>{const t=(0,c().getStageName)({flowName:d.flowName,stageIndex:d.currentStageIndex,environment:e});return mi[t]}),[d,e]),b=(0,i().K8)((()=>null==y?void 0:y.isContinueEnabled(d,e)),[y,d,e]),f=(0,i().K8)((()=>(0,ne().Wl)()),[]);(0,o.useEffect)((()=>{d.onboardingData&&void 0===d.spaceName&&"prefilled_workspace_preview"===f&&(0,Z().prefillTeamWorkspaceName)(d.onboardingData)}),[d.onboardingData,d.spaceName,f]);const h=ci({isMobile:!1,shouldShowWorkspaceNameAndIconPreview:"workspace_preview"===f||"prefilled_workspace_preview"===f}),x=(0,s().IS)((e=>({buttonLabel:{fontSize:14,color:e.text.secondary,marginTop:4},formLabel:{...Je().Gy,color:e.text.secondary,marginTop:32},inputHint:{marginTop:4},input:{marginRight:4,borderRadius:6,background:"transparent",backgroundColor:e.whiteButtonBackground,height:31}})),[]);return(0,p.jsx)(yn().A,{capture:!0,debugName:"ContextualizedOnboardingWorkspaceCreate",onEnter:async()=>{b&&await(0,X().goToNextStage)({environment:e,onboardingState:d})},onLeft:me().D_,onRight:me().D_,onSelectAll:me().D_,onCut:me().D_,onCopy:me().D_,onPaste:me().D_,children:(0,p.jsxs)("div",{style:h.wrapper,children:[(0,p.jsx)("div",{style:h.innerWrapper,children:(0,p.jsxs)("div",{style:h.recordIconWrapper,children:[(0,p.jsx)(Me().B,{bucket:"public",disabled:!1,icon:m,isEmptyPage:!1,title:d.spaceName||v,size:81,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:t=>gi({environment:e,onboardingState:d,emojiOrUrl:t}),iconBoxStyles:h.recordIconBox,placeholderStyle:h.recordIconPlaceholder}),(0,p.jsx)("div",{style:x.buttonLabel,children:(0,p.jsx)(a().sA,{defaultMessage:"Choose or add an icon",id:"onboarding.workspaceCreate.buttonLabel.titleV2"})})]})}),(0,p.jsx)(ui,{}),(0,p.jsx)("div",{style:x.formLabel,children:(0,p.jsx)(a().sA,{defaultMessage:"Workspace name",id:"onboardingWorkspaceCreate.workspaceNameInput.label"})}),(0,p.jsx)(vn().A,{focusInitial:!0,value:d.spaceName,placeholder:v,onChange:e=>{g().A.setState({...g().A.state,spaceName:e.target.value}),l(null)},onBlur:()=>{const{spaceName:e}=d,n=ri(e,t);l(n)},style:{...x.input,..."space_name"===u||r?Je().Hp:{}}}),(0,p.jsx)("div",{style:x.inputHint,children:(0,p.jsx)(M().A,{isMultiline:!0,isSmall:!0,style:{...r&&{color:"red"}},children:r||(0,p.jsx)(a().sA,{defaultMessage:"The name of your company or organization",id:"onboardingWorkspaceCreate.workspaceNameInput.hintV2"})})})]})})}function di(){const e=(0,V().v3)(),t=(0,a().tz)(),[n,r]=o.useState(null),l=ci({isMobile:!0}),d=(0,s().IS)((e=>({inputComponent:{marginBottom:24,border:"none",background:"none",width:"auto",maxWidth:256,height:32,borderRadius:6,boxShadow:"none",color:e.text.secondary},inputOverrides:{height:32,fontSize:26,fontWeight:P().Wy.bold,color:e.text.primary},photoBadgePlusContainer:{position:"absolute",borderRadius:"50%",border:`4px solid ${e.surface.wash}`,background:e.stroke.primary,bottom:"0%",right:"12%",pointerEvents:"none"},photoBadgePlus:{width:24,height:24,margin:5,fill:e.icon.secondary}})),[]),u=(0,i().O$)(g().A),c=u.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:u.spaceIcon}:void 0,m=t.formatMessage(si.placeHolderMobile);return(0,p.jsxs)("div",{style:l.wrapper,children:[(0,p.jsx)("div",{style:l.innerWrapper,children:(0,p.jsxs)("div",{style:l.recordIconWrapper,children:[(0,p.jsx)(Me().B,{bucket:"public",disabled:!1,icon:c,isEmptyPage:!1,title:u.spaceName||m,size:126,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:t=>gi({environment:e,onboardingState:u,emojiOrUrl:t}),iconBoxStyles:l.recordIconBox,placeholderStyle:l.recordIconPlaceholder}),(0,p.jsx)("div",{style:d.photoBadgePlusContainer,children:un(d.photoBadgePlus)})]})}),(0,p.jsx)(ui,{}),(0,p.jsx)(K().Y1,{align:"center",children:(0,p.jsx)(vn().A,{autoFocus:!0,inputClassName:"spaceNameInput",format:vn().C.Transparent,focusInitial:!0,value:u.spaceName,placeholder:m,onChange:e=>{g().A.setState({...g().A.state,spaceName:e.target.value}),r(null)},onBlur:()=>{const{spaceName:e}=u,n=ri(e,t);r(n)},style:{...d.inputComponent,...n?Je().Hp:{}},inputStyle:d.inputOverrides,overrideDefaultWidth:!0})}),n&&(0,p.jsx)(M().A,{isMultiline:!0,isSmall:!0,style:{color:"red",marginTop:8,textAlign:"center"},children:n})]})}function ui(){const e=(0,s().DP)(),t=`\n\t\t.spaceNameInput::placeholder {\n\t\t\tfont-size: 26px;\n\t\t\tfont-weight: ${P().Wy.bold};\n\t\t\tcolor: ${e.text.quaternary};\n\t\t\ttext-align: center;\n\t\t}\n\t\t.spaceNameInput:focus-visible {\n\t\t\toutline: none;\n\t\t}\n\t\t.spaceNameInput:placeholder-shown {\n\t\t\ttext-align: left;\n\t\t\twidth: 136px;\n\t\t}\n\t\t.spaceNameInput {\n\t\t\ttext-align: center;\n\t\t\twidth: 100%;\n\t\t}\n\t`;return(0,p.jsx)("style",{children:t})}function ci(e){let{isMobile:t,shouldShowWorkspaceNameAndIconPreview:n}=e;return(0,s().IS)((e=>({wrapper:{...!n&&{marginLeft:"auto"},marginRight:"auto",display:"flex",flexDirection:"column",width:n?320:300,...t&&{alignItems:"center"}},innerWrapper:{width:180,overflow:"hidden",margin:"0 auto",...!t&&{marginTop:28}},recordIconWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginRight:4,marginTop:t?55:0,position:"relative"},recordIconBox:{borderRadius:t?22:14,background:e.tint.regular},recordIconPlaceholder:{lineHeight:"32px",letterSpacing:.208,color:e.text.tertiary,height:"auto",fontSize:t?40:34,fontWeight:t?700:510}})),[t,n])}function gi(e){let{environment:t,onboardingState:n,emojiOrUrl:o}=e;w().F5(t,{...(0,c().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t}),spaceIcon:o}),g().A.setState({...g().A.state,spaceIcon:o})}async function pi(e){var t;const n=g().A.state,{onboardingData:o}=n;if(!o)return;const a=(0,Je().qg)({userStore:o.userStore,isUserDomainJoinable:o.isUserDomainJoinable});if("default"===n.flowName&&"multiplayer"===(null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)&&n.optInAutoJoin&&n.spaceId&&a&&(0,ne().Yz)()){const t=mo().SL.createChildStore(o.userRootStore,{table:Rn().NX,id:n.spaceId});await eo().Yk({environment:e,emailDomains:[a],spaceStore:t})}}const mi={profile:Bn,app_builder:te,onboarding_workspace_choose:Xn,onboarding_plan_type_choose:tn,onboarding_collaborative_intent_choose:Ye,onboarding_plan_type_and_survey:Jt,onboarding_category_survey:We,team_onboarding_persona_survey:Jo,team_onboarding_function:Yo,team_onboarding_role:Xo,team_onboarding_company_size:ea,team_onboarding_invite:Io,team_onboarding_timed_trial_offer:ti,team_onboarding_timed_trial_checkout:Ra,team_onboarding_workspace_create:{stageName:"team_onboarding_workspace_create",async shouldSkip(e,t){const n=e.planTypeAndSurveyInfo,o=null==n?void 0:n.planType;return!o||"team"!==o||!(!e.onboardingData||"auto_name_workspace"!==(0,ne().Wl)())&&((0,Z().prefillTeamWorkspaceName)(e.onboardingData),await(0,Z().createSpaceAndSetSpaceId)({onboardingState:g().A.state,environment:t}),await pi(t),!0)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Give your workspace a name",id:"onboardingWorkspaceCreate.stage.team.titleV2"}),getSubTitle(e){var t;if("singleplayer"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent))return(0,p.jsx)(a().sA,{defaultMessage:"Details help any collaborators that join",id:"onboardingWorkspaceCreate.stage.subtitleV2"})},isContinueEnabled(e){const{spaceName:t}=e;return Boolean(t&&t.trim()&&t.length<=Rn().zX)},async onContinue(e,t){await(0,Z().createSpaceAndSetSpaceId)({onboardingState:t,environment:e}),await pi(e)},isBackEnabled:e=>!0,renderStage:()=>(0,p.jsx)(li,{}),getContinueButtonStyles(){const e=(0,ne().Wl)(),t="workspace_preview"===e||"prefilled_workspace_preview"===e;return{width:t?320:300,alignSelf:t?"flex-start":"center",marginTop:70}},renderRightContent(e){const t=(0,ne().Wl)();if("workspace_preview"===t||"prefilled_workspace_preview"===t){var n;const t=e.planTypeAndSurveyInfo,o=(null==t||null===(n=t.surveyResponses)||void 0===n?void 0:n.useCases)??[],a=e.selectedWorkflowTemplateIds??[];return(0,p.jsx)(Pe,{selectedWorkflowTemplateIds:a,selectedUseCases:o,selectedCategories:[],shouldZoomInOnWorkspaceNameAndIconPreview:!0})}},alignment:k().C.Center},team_onboarding_use_cases:ni,education_category_picker:C,education_persona_survey:W,mobile_profile:Pn,mobile_onboarding_workspace_choose:Qn,mobile_onboarding_collaborative_intent_choose:Ze,mobile_onboarding_category_survey:Ee,mobile_team_onboarding_persona_survey:$o,mobile_team_onboarding_function:Zo,mobile_team_onboarding_role:Qo,mobile_team_onboarding_company_size:ta,mobile_onboarding_plan_type_choose:nn,mobile_team_onboarding_workspace_create:{stageName:"mobile_team_onboarding_workspace_create",async shouldSkip(e,t){const n=e.planTypeAndSurveyInfo,o=null==n?void 0:n.planType;return!o||"team"!==o||null==t||!t.device.isMobile||!(!e.onboardingData||"on"!==Mo().default.getEligibleGroup({experimentId:"skip_mobile_workspace_create_step",defaultGroup:"control"}))&&((0,Z().prefillTeamWorkspaceName)(e.onboardingData),await(0,Z().createSpaceAndSetSpaceId)({onboardingState:g().A.state,environment:t}),!0)},getTitle:()=>(0,p.jsx)(a().sA,{defaultMessage:"Whatâ€™s the name of your company or organization?",id:"onboardingWorkspaceCreate.stage.team.mobile.titleV2"}),isContinueEnabled(e){const{spaceName:t}=e;return Boolean(t&&t.trim()&&t.length<=Rn().zX)},async onContinue(e,t){await(0,Z().createSpaceAndSetSpaceId)({onboardingState:t,environment:e}),await pi(e)},isBackEnabled:()=>!0,renderStage:()=>(0,p.jsx)(di,{})},mobile_team_onboarding_invite:To,mobile_team_onboarding_use_cases:oi,mobile_onboarding_editor:Ct,mobile_onboarding_sidebar:wt,mobile_onboarding_web_clipper:kt,mobile_onboarding_app_download:Tt,mobile_onboarding_desktop:It,mobile_onboarding_home:Mt,mobile_onboarding_creation:_t,mobile_onboarding_share:Bt,mobile_onboarding_multi_platform:Pt,mobile_onboarding_skill_mab:Nt,mobile_onboarding_skill_filing:Rt,mobile_onboarding_skill_swipe:zt}},310600:(e,t,n)=>{n.d(t,{M:()=>a});n(296540);var o=n(474848);const a=(0,n(340498).wt)("flag",{viewBox:"0 0 13 14",svg:(0,o.jsx)("path",{d:"M0.825195 13.8457C1.16699 13.8457 1.4541 13.5654 1.4541 13.2168V9.47754C1.63867 9.40918 2.21973 9.19727 3.10156 9.19727C5.59668 9.19727 7.25781 10.4414 9.66406 10.4414C10.7168 10.4414 11.1885 10.3115 11.7217 10.0654C12.207 9.84668 12.4941 9.4502 12.4941 8.82129V1.99219C12.4941 1.55469 12.1523 1.27441 11.6943 1.27441C11.3047 1.27441 10.6895 1.54102 9.58887 1.54102C7.20996 1.54102 5.52148 0.296875 3.0332 0.296875C1.99414 0.296875 1.5293 0.419922 0.975586 0.672852C0.49707 0.891602 0.196289 1.24707 0.196289 1.86914V13.2168C0.196289 13.5586 0.483398 13.8457 0.825195 13.8457ZM9.63672 9.16309C7.41504 9.16309 5.71289 7.92578 3.12207 7.92578C2.45215 7.92578 1.84375 8.00098 1.48145 8.14453V2.0332C1.59766 1.83496 2.11035 1.56836 3.05371 1.56836C5.38477 1.56836 7.09375 2.80566 9.56836 2.80566C10.2383 2.80566 10.792 2.73047 11.2158 2.61426V8.69824C11.0996 8.89648 10.5801 9.16309 9.63672 9.16309Z"})})},322114:(e,t,n)=>{n.d(t,{A:()=>P});var o=n(296540),a=()=>n(484714),i=()=>n(847249),s=()=>n(757695),r=()=>n(959013),l=()=>n(100622),d=()=>n(534177),u=()=>n(284371),c=()=>n(452939),g=()=>n(701763),p=()=>n(140612),m=()=>n(449506),v=()=>n(898486),y=()=>n(722872),b=()=>n(351360),f=()=>n(10984),h=()=>n(251126),x=()=>n(805751),S=()=>n(623580),j=()=>n(928600),A=()=>n(864943),C=()=>n(204063),w=n(474848);const k={marginBottom:10},I={...k,width:"100%",height:"100%",padding:10,alignItems:"top",borderRadius:0},T=(0,r().YK)({requestAccessMessagePlaceholder:{defaultMessage:"Message (optional)",id:"requestAccessForm.messageInput.placeholder"},rateLimitError:{defaultMessage:"You have recently requested access to this page.",id:"requestAccessForm.errorMessage.rateLimit"},currentUserNotFound:{defaultMessage:"Current user not found.",id:"requestAccessForm.errorMessage.currentUserNotFound"}});function M(){return(0,w.jsx)(r().sA,{defaultMessage:"Cancel",id:"requestAccessForm.cancelButton.label"})}const _=s().default.createClass(0,{name:"RequestAttemptStore"}),B=s().default.createClass(void 0,{name:"MessageStore"});const P=function(e){const t=(0,a().v3)(),s=(0,a().WS)(),l=(0,i().uB)(e.popupStore,n(463830).A),d=(0,i().uB)(void 0,B),g=(0,i().uB)(void 0,_),m=(0,o.useCallback)((()=>z(l)),[l]),v=(0,o.useCallback)((()=>(0,w.jsx)(O,{...e,requestAttemptStore:g,messageStore:d,buttonPopupStore:l})),[e,g,d,l]),y=(0,i().K8)((()=>g.state>0),[g]),b=(0,i().K8)((()=>l.state.open),[l]);if("current-actor-to-block"===e.type)return(0,w.jsx)(W,{type:"page",block:e.block,flowId:e.flowId,buttonType:e.buttonType});if("current-actor-to-collection"===e.type)return(0,w.jsx)(W,{type:"collection",collection:e.collection,flowId:e.flowId,buttonType:e.buttonType});const f="primary"===e.buttonType?C().A:A().A,h=s?(0,w.jsx)(n(897119).Ay,{popupType:n(377586).n.SlideUp,open:b,render:v}):(0,w.jsx)(n(676007).A,{open:b,onDismiss:m,render:v});return"current-actor-to-space-via-onboarding"===e.type?h:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(f,{size:"lg",disabled:y,onClick:()=>{var n,o;return function(e,t){const{environment:n,flowId:o,type:a,source:i,spaceId:s,pageId:r}=e;"trusted_domain_page"===i&&s&&p().w(n,{spaceId:s,pageId:r,joinSpaceMethod:"request_to_join"});"current-actor-to-block"===a?c().Xx(n,{button_name:"request-access",flow_id:o,request_access_type:"page"}):"current-actor-to-space-via-team"===a&&c().Xx(n,{button_name:"request-access",flow_id:o,request_access_type:"team"});t.setState({open:!0})}({environment:t,flowId:e.flowId,type:e.type,source:e.source,pageId:null===(n=e.block)||void 0===n?void 0:n.id,spaceId:null===(o=e.block)||void 0===o?void 0:o.spaceId},l)},style:"outline"===e.buttonType?{fontWeight:u().Wy.semibold}:{},children:y?(0,w.jsx)(r().sA,{id:"fullPageError.requestAccessButton.requested",defaultMessage:"Requested access"}):E(e.type)}),h]})};function N(e){let{result:t}=e;return t&&t.error?(0,w.jsx)("div",{style:{color:l().Ay.redWithAlpha(1),textAlign:"center",width:"100%",marginBottom:16},children:t.error}):null}function R(e){e.update((e=>e+1))}function z(e){return e.setState({open:!1})}function D(e){let{error:t,result:n,ready:s,requestAttemptStore:l,messageStore:d,type:c}=e;const g=(0,r().tz)(),p=(0,a().WS)(),m=(0,o.useCallback)((()=>R(l)),[l]),v=(0,o.useCallback)((e=>function(e,t){t.setState(e.target.value)}(e,d)),[d]),y=(0,i().K8)((()=>Boolean(0===l.state||s&&n&&n.error)),[l,s,n]),b=(0,i().K8)((()=>d.state||""),[d]);return(0,w.jsxs)(w.Fragment,{children:[!p&&(0,w.jsx)("div",{style:{fontSize:16,fontWeight:u().Wy.semibold,marginBottom:16},children:E(c)}),(0,w.jsx)(S().A,{format:p?S().C.Transparent:void 0,textarea:!0,value:b,onChange:v,disabled:!y,placeholder:g.formatMessage(T.requestAccessMessagePlaceholder),style:{...p?{...I,padding:"16px"}:{...k,marginBottom:16,padding:"8px 12px",alignItems:"flex-start"}}}),!p&&(0,w.jsx)(C().A,{size:"lg",disabled:!y,onClick:m,style:k,children:(0,w.jsx)(r().sA,{defaultMessage:"Send request",id:"requestAccessForm.sendRequestButton.label"})}),(0,w.jsx)(N,{result:n})]})}function O(e){const{requestAttemptStore:t,messageStore:n,buttonPopupStore:s}=e,l=(0,a().v3)(),u=(0,a().WS)(),c=(0,r().tz)(),p=(0,o.useCallback)(((o,a,i)=>(0,w.jsx)(D,{requestAttemptStore:t,messageStore:n,error:o,result:a,ready:i,type:e.type})),[t,n,e.type]),f=(0,i().K8)((()=>{var e;return null===(e=b().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),S=(0,o.useCallback)((t=>async function(e){const{messageStore:t,buttonPopupStore:n,type:o,teamId:a,requestAttempt:i,environment:s,currentUserId:r,intl:l,flowId:u}=e;if(0===i)return;const c=t.state,p=await async function(){if("current-actor-to-block"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-block",block:e.block,message:c}});if("current-actor-to-collection"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-collection",collection:e.collection,message:c}});if("current-actor-to-space-via-team"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-space-via-team",teamId:a,message:c}});if("current-actor-to-space-via-block"===o){if(!r)return;return m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.block.spaceId,message:c,forActorId:r,attributes:{add_permissions_on_approval:!1,origin_type:"trusted_domain_page"}}})}if("current-actor-to-space-via-onboarding"===o){if(!r)return;return m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.spaceId,message:c,forActorId:r,attributes:{add_permissions_on_approval:!1,origin_type:"onboarding"}}})}}();return p?"success"!==p.type?"UserRateLimitResponse"===(null===(y=p.body)||void 0===y?void 0:y.name)?{error:l.formatMessage(T.rateLimitError)}:{error:(0,v().Hu)(l,p)}:("current-actor-to-block"===o?g().T_(s,{request_access_type:"page",flow_id:u,requestId:p.data.requestId}):"current-actor-to-space-via-team"===o?g().T_(s,{request_access_type:"team",flow_id:u}):"current-actor-to-space-via-block"===o?g().T_(s,{request_access_type:"space",flow_id:u,source:"trusted_domain_page"}):"current-actor-to-collection"===o?g().T_(s,{request_access_type:"collection",flow_id:u,requestId:p.data.requestId}):"current-actor-to-space-via-onboarding"===o?g().T_(s,{request_access_type:"space",flow_id:u,source:"onboarding"}):(0,d().HB)(o),n.reset(),{value:!0}):{error:l.formatMessage(T.currentUserNotFound)};var y}({...e,requestAttempt:t,environment:l,intl:c,currentUserId:f})),[l,c,e,f]),C=(0,o.useCallback)((()=>R(t)),[t]),k=(0,o.useCallback)((()=>z(s)),[s]),I=(0,i().O$)(t);return u?(0,w.jsx)(j().A,{menuType:y().gu.Modal,whiteBackground:!0,title:E(e.type),left:M(),onClickLeft:k,right:(0,w.jsx)(r().sA,{id:"requestAccessForm.mobileSend.label",defaultMessage:"Send"}),onClickRight:C,children:(0,w.jsx)(x().A,{debugName:"RequestAccessForm",capture:!0,children:(0,w.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"stretch",width:"100%",height:"100%"},children:(0,w.jsx)(h().A,{request:I,performRequest:S,render:p})})})}):(0,w.jsx)(x().A,{debugName:"RequestAccessForm",capture:!0,children:(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evently",alignItems:"stretch",padding:"20px 28px 24px",width:"340px"},children:[(0,w.jsx)(h().A,{request:I,performRequest:S,render:p}),(0,w.jsx)(A().A,{size:"lg",onClick:k,children:M()})]})})}function W(e){const{type:t,flowId:n,buttonType:s}=e,l=(0,a().v3)(),u="outline"===s?A().A:C().A,[c,p]=(0,o.useState)(!1),[v,y]=(0,o.useState)(!1),b={attributes:{add_permissions_on_approval:!1,role:(0,i().K8)((()=>(0,f().dL)()),[])?"reader":"read_and_write"},message:void 0};let h;"page"===t?h={...b,type:"current-actor-to-block",block:{id:e.block.id,spaceId:e.block.spaceId}}:"collection"===t?h={...b,type:"current-actor-to-collection",collection:{id:e.collection.id,spaceId:e.collection.spaceId}}:(0,d().HB)(t);const x=(0,o.useCallback)((async()=>{var e;const o=await m().callApi({eventName:"requestAccess",environment:l,data:h});"success"===o.type&&o.data.request?(p(!0),g().T_(l,{request_access_type:t,previous_access_level:"none",requested_access_level:"read_and_write",flow_id:n,requestId:o.data.requestId})):"failed"===o.type&&"UserRateLimitResponse"===(null===(e=o.body)||void 0===e?void 0:e.name)&&y(!0)}),[l,h,t,n]);return(0,w.jsx)(u,{size:"lg",disabled:c||v,disabledFeedback:c||v,onClick:x,children:c?(0,w.jsx)(r().sA,{id:"fullPageError.requestAccessButton.edit.Requested",defaultMessage:"Requested access"}):v?(0,w.jsx)(r().sA,{id:"fullPageError.requestAccessButton.edit.TryAgain",defaultMessage:"Try again later"}):E("page"===t?"current-actor-to-block":"current-actor-to-collection")})}function E(e){return"current-actor-to-space-via-block"===e||"current-actor-to-space-via-onboarding"===e?(0,w.jsx)(r().sA,{defaultMessage:"Request membership",id:"requestAccessForm.requestAccessToSpaceButton.title"}):(0,w.jsx)(r().sA,{defaultMessage:"Request access",id:"requestAccessForm.requestAccessButton.title"})}},369773:(e,t,n)=>{n.d(t,{P:()=>m});var o=n(296540),a=()=>n(484714),i=()=>n(401497),s=()=>n(959013),r=()=>n(84817),l=()=>n(554509),d=()=>n(73332),u=()=>n(989423),c=()=>n(836251),g=()=>n(208993),p=n(474848);function m(e){let{message:t,isChecked:n,onChange:m,error:v}=e;const y=(0,s().tz)(),b=(0,i().IS)((e=>({termsContainer:{display:"flex",flexDirection:"column",gap:8,paddingTop:16,borderTop:`1px solid ${e.stroke.primary}`}})),[]),f=(0,a().v3)(),h=o.useRef(null);return o.useEffect((()=>{v&&h.current&&h.current.scrollIntoView({behavior:"smooth",block:"center"})}),[v]),(0,p.jsx)("div",{ref:h,style:b.termsContainer,children:(0,p.jsxs)(r().Y1,{direction:"horizontal",align:"top-left",gap:8,children:[(0,p.jsx)(d().T,{size:14,checked:n,onClick:()=>{(0,u().u4)({environment:f,event:{eventName:"click_subscription_terms_checkbox",eventProperties:{checked:!n}}}),m(!n)},id:"terms",style:{margin:1},"aria-required":!0}),(0,p.jsxs)(r().Y1,{direction:"vertical",gap:8,children:[(0,p.jsxs)(l().D,{styleName:"UISmall-12px/Regular",colorName:"primary",as:"label",htmlFor:"terms",children:[t,(0,p.jsx)("div",{style:{display:"inline-block",position:"absolute",paddingLeft:1},children:(0,p.jsx)(g().W,{tooltipTitle:y.formatMessage({id:"onboardingTimedTrials.termsOfService.tooltip",defaultMessage:"Read full terms and conditions"}),buttonProps:{href:(0,c().xS)("terms"),external:!0}})})]}),v?(0,p.jsx)(l().D,{styleName:"UISmall-12px/Regular",colorName:"uiRedPrimary",children:v}):null]})]})})}},441532:(e,t,n)=>{n.d(t,{y:()=>a});n(296540);var o=n(474848);const a=(0,n(340498).wt)("androidShare",{viewBox:"0 0 15 15",svg:(0,o.jsx)("path",{d:"M11.9952,10.6024 C11.4229,10.6024 10.9108,10.8283 10.51928,11.1822 L5.15029999,8.05723 C5.18794999,7.88404 5.21806999,7.71084 5.21806999,7.53012 C5.21806999,7.3494 5.18794999,7.1762 5.15029999,7.00301 L10.45904,3.90813 C10.8657,4.28464 11.4003,4.51807 11.9952,4.51807 C13.2452,4.51807 14.2542,3.50904 14.2542,2.25904 C14.2542,1.00904 13.2452,0 11.9952,0 C10.7452,0 9.73614999,1.00904 9.73614999,2.25904 C9.73614999,2.43976 9.76626999,2.61295 9.80391999,2.78614 L4.49517999,5.88102 C4.08854999,5.50452 3.55391999,5.27108 2.95903999,5.27108 C1.70903999,5.27108 0.699999988,6.28012 0.699999988,7.53012 C0.699999988,8.78012 1.70903999,9.78916 2.95903999,9.78916 C3.55391999,9.78916 4.08854999,9.55572 4.49517999,9.17922 L9.85662999,12.3117 C9.81897999,12.4699 9.79638999,12.6355 9.79638999,12.8012 C9.79638999,14.0136 10.7828,15 11.9952,15 C13.2075,15 14.194,14.0136 14.194,12.8012 C14.194,11.5889 13.2075,10.6024 11.9952,10.6024 Z"})})},465505:(e,t,n)=>{n.r(t),n.d(t,{cubeIcon:()=>a,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l6.65-3.67c.2-.11.323-.32.323-.547V6.069a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zm6.65 9.414v-6.434l5.4-2.98v6.435zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"})},a=(0,n(340498).wt)("cube",o)},480599:(e,t,n)=>{n.r(t),n.d(t,{goToNextStage:()=>P,goToPreviousStage:()=>R,handleDesktopBackButtonClick:()=>z,handleMobileBackButtonClick:()=>D,initializeContextualizedOnboardingState:()=>_,maybeCompleteOnboardingAfterProfileStage:()=>W,memoizeAndTrackContextualizedOnboardingStageWithHistoricalContext:()=>B,restoreContextualizedOnboardingState:()=>M,skipStage:()=>N,updateRedirectDataFromInviteCode:()=>O});n(16280);var o=n.n(n(794148)),a=()=>n(660237),i=()=>n(763884),s=()=>n(96689),r=()=>n(84520),l=()=>n(677338),d=()=>n(994310),u=()=>n(319625),c=()=>n(796756),g=()=>n(449506),p=()=>n(972435),m=()=>n(285518),v=()=>n(719431),y=()=>n(133234),b=()=>n(616385),f=()=>n(144114),h=()=>n(607859),x=()=>n(351360),S=()=>n(630116),j=()=>n(26388),A=()=>n(71666),C=()=>n(186787),w=()=>n(322920),k=()=>n(59424),I=()=>n(812978),T=()=>n(235921);async function M(e){var t;let{environment:n}=e;const o=await f().of({environment:n,disableRedirects:!1}),a=!(0,m().R)(x().default.state.currentUserRootStore)||(0,f().up)(h().default.state),l=i().K.get({userId:null===(t=x().default.state.currentUserStore)||void 0===t?void 0:t.id,key:T().l});l&&"undefined"!==l.flowName&&!l.isInvalidRedirect&&(T().A.setState({...T().A.state,...l,onboardingData:o,joinableSpaces:f().md({onboardingData:o,isNewUserFlow:a})}),l.spaceId&&x().default.setState({...x().default.state,currentSpaceStore:new(S().SL)(n,{table:s().NX,id:l.spaceId})}),l.spaceViewId&&x().default.setState({...x().default.state,currentSpaceViewStore:new(S().vH)(n,{table:r().mu,id:l.spaceViewId})}))}async function _(e){let{environment:t,isInvalidRedirect:n,shouldShowMobileTutorialOnboarding:i,source:s}=e;if("undefined"!==T().A.state.flowName&&!T().A.state.isInvalidRedirect&&!n)return;const r=await f().of({environment:t,disableRedirects:!1}),d=!(0,m().R)(x().default.state.currentUserRootStore)||(0,f().up)(h().default.state),c=(0,w().getContextualizedOnboardingFlowName)(t,i),g=await v().shouldCreatePassword(t),p=y().A.isMicrosoftLogin()||y().A.isMicrosoftVerification(),b={...T().A.getInitialState(),onboardingData:r,emailOptIn:(0,a().eh)(r.countryCode).defaultOptIn,optInAutoJoin:!0,isInvalidRedirect:n,isFirstTimeOnboarding:d,joinableSpaces:f().md({onboardingData:r,isNewUserFlow:d}),performanceMarketingTerm:r.performanceMarketingTerm,isPasswordRequired:!p&&g&&!f().nV(),source:s};T().A.setState(b);let S=b.currentStageIndex;const C=(0,k().getStages)({flowName:c,environment:t});for(;S<C.length&&await(0,I().shouldSkipCurrentStage)({flowName:c,stageIndex:S,environment:t});)S++;T().A.setState({...T().A.state,currentStageIndex:S});const M=l().$m()??void 0;if("form_response_onboarding"===c)o()(M,"form response data is not found when setting store state"),T().A.setState({...T().A.state,flowName:c,formResponseId:M.formResponseId,secretKey:M.formSecretKey,formSpaceId:M.formSpaceId,formSpaceIntent:M.formSpaceIntent}),l().ip();else if("ai_onboarding_phase_2"===c||"ai_onboarding_app_builder"===c){const e=l().r9()??void 0;T().A.setState({...T().A.state,flowName:c,aiPrompt:e?decodeURIComponent(e):void 0})}else T().A.setState({...T().A.state,flowName:c});if(S>=C.length)try{return await T().A.completeOnboarding(t,"create")}catch(_){(0,j().handleOnboardingError)(t,(0,u().A)(_))}A().onboardingFlowNameToFlowConfig[c].onStartFlow()}function B(e,t,n){const o=[...t.historicalStages||[],{stageName:(0,k().getStageName)({flowName:t.flowName,stageIndex:t.currentStageIndex,environment:e}),stageNumber:t.currentStageIndex,timestamp:Date.now()}];T().A.setState({...t,historicalStages:o.length>20?[{stageName:"truncated",stageNumber:-1,timestamp:Date.now()}]:o})}async function P(e){const{environment:t,onboardingState:n}=e;try{var o;c().H1(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t}));const e=C().contextualizedOnboardingStageByStageName[(0,k().getStageName)({flowName:n.flowName,stageIndex:n.currentStageIndex,environment:t})];await(null==e||null===(o=e.onContinue)||void 0===o?void 0:o.call(e,t,n)),await T().A.goToNextStage(t);const a=T().A.state;B(t,a),c().Pz(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:a,environment:t}))}catch(a){(0,j().handleOnboardingError)(t,(0,u().A)(a))}}async function N(e){const{environment:t,onboardingState:n}=e;c().IY(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t})),await P(e)}async function R(e){const{environment:t,currentStage:n,onboardingState:o}=e;try{var a;c().H1(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t}),!0),await(null===(a=n.onBack)||void 0===a?void 0:a.call(n,t,o)),await T().A.goToPreviousStage(t);const e=T().A.state;B(t,e),c().eN(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t})),c().Pz(t,(0,k().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}))}catch(i){(0,j().handleOnboardingError)(t,(0,u().A)(i))}}async function z(e){let{environment:t,currentStage:n,onboardingState:o}=e;-1!==await(0,I().getPreviousStageIndex)({flowName:o.flowName,stageIndex:o.currentStageIndex,environment:t})?await R({environment:t,currentStage:n,onboardingState:o}):await(0,j().handleExitOnboarding)(o,t)}async function D(e){let{isBackDisabled:t,environment:n,currentStage:o,onboardingState:a}=e;t?await(0,j().handleExitOnboarding)(a,n):await R({environment:n,currentStage:o,onboardingState:a})}async function O(e,t){const n=await g().callApi({eventName:"getPublicSpaceForInvite",environment:t,data:{type:"invite-link",inviteLinkCode:e}});if("success"!==n.type)throw new Error(p().A.formatMessage(b().messages.errorWorkspaceDidNotLoad));const{data:{result:o}}=n;if(!o)throw new Error(p().A.formatMessage(b().messages.errorWorkspaceDoesNotExist));T().A.update((t=>({...t,spaceId:o.id,onboardingData:{...t.onboardingData,inviteCode:e,redirectSpaceId:o.id,canJoinRedirectSpace:!0}})))}async function W(e){const t=T().A.state;if(!t.onboardingData)throw new Error("OnboardingData not found!");const n=f().sg(t.onboardingData);if((0,k().shouldRedirectToJoinSpace)(n)){const o={...t,spaceId:n.spaceId};T().A.setState(o);try{return await T().A.completeOnboarding(e,"join")}catch(a){(0,j().handleOnboardingError)(e,(0,u().A)(a))}}if((0,k().isPublicAccessPageRedirect)(n))return(0,j().onOnboardingCompletePublicAccess)(t,n,e);const o=d().A.get(f().Zz);if(o){await O(o,e);try{return await T().A.completeOnboarding(e,"join")}catch(a){(0,j().handleOnboardingError)(e,(0,u().A)(a))}}}},551222:(e,t,n)=>{n.d(t,{q:()=>a});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M13.125 4.25c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v11.5c0 .621-.504 1.125-1.125 1.125h-1.5a1.125 1.125 0 0 1-1.125-1.125zm1.25.125v11.25h1.25V4.375zm-6.25 6.375c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v5c0 .621-.504 1.125-1.125 1.125h-1.5a1.125 1.125 0 0 1-1.125-1.125zm1.25.125v4.75h1.25v-4.75zM4.25 5.625c-.621 0-1.125.504-1.125 1.125v9c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-9c0-.621-.504-1.125-1.125-1.125zm.125 10v-8.75h1.25v8.75z"})},a=(0,n(340498).wt)("chartBarXAxis",o)},555267:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),a=()=>n(401497),i=()=>n(62856),s=()=>n(331542),r=n(474848);function l(e){let{loadingMessage:t}=e;const n=(0,a().DP)(),l=(0,i().A)(!0,400);return(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s().A,{}),t&&(0,r.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t})]})})}},585312:(e,t,n)=>{n.d(t,{q:()=>b});var o=()=>n(624119),a=(o(),n(296540),()=>n(484714)),i=()=>n(852507),s=()=>n(847249),r=()=>n(959013),l=()=>n(252105),d=()=>n(84817),u=()=>n(710149),c=()=>n(351360),g=()=>n(506090),p=()=>n(34699),m=()=>n(414402),v=()=>n(471725),y=n(474848);function b(e){const{modalId:t}=e,n=(0,s().O$)(v().D),d=(0,a().v3)();(0,i().w)((()=>{v().D.setState(!0)}));const u={defaultValues:{billingDetails:(0,s().K8)((()=>{const e=c().default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])},terms:{card:"never"}};return(0,y.jsxs)(p().iy,{title:n?(0,y.jsx)(m().y,{labelOnly:!0}):(0,y.jsx)(r().sA,{id:"subscriptions.checkout.paymentMethod.title",defaultMessage:"Payment method"}),children:[n?(0,y.jsx)(f,{}):null,(0,y.jsx)(o().PaymentElement,{options:u,onChange:e=>{l().C3(d,{event:e,modal_id:t}),g().A.update((e=>{if(!e.open)return e;const{paymentData:t,...n}=e;return n}))},onReady:()=>v().D.setState(!1)})]})}function f(){return(0,y.jsxs)(d().Y1,{gap:12,children:[(0,y.jsxs)(d().Y1,{direction:"horizontal",gap:12,children:[(0,y.jsx)(u().A,{style:{width:"50%",height:60,borderRadius:6}}),(0,y.jsx)(u().A,{style:{width:"50%",height:60,borderRadius:6}})]}),(0,y.jsx)(m().y,{}),(0,y.jsx)(m().y,{}),(0,y.jsx)(m().y,{}),(0,y.jsx)(m().y,{})]})}},651390:(e,t,n)=>{n.d(t,{H:()=>i});var o=()=>n(484714),a=()=>n(847249);function i(e){const{billingInterval:t,priceStore:n,products:i}=e,s=(0,o().v3)();return(0,a().K8)((()=>{const e={};for(const o of i)e[o]=n.getPrice(s,(e=>e.product===o&&e.billingInterval===t));return e}),[t,s,n,i])}},674579:(e,t,n)=>{n.d(t,{Y:()=>a});var o=()=>n(401497);function a(){return(0,o().IS)((e=>({bulletList:{paddingInlineStart:0,marginBlock:"0px 0px",listStyleType:"none"},bulletItem:{display:"flex",minHeight:24,alignItems:"center"},bulletItemContent:{display:"flex",gap:4},bulletItemContentMultiLineExtra:{paddingTop:4,paddingBottom:4},bulletItemCheckmarkContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},bulletItemCheckmarkContainerMultiLineExtra:{alignItems:"flex-start",paddingTop:2,justifyContent:void 0},bulletItemCheckmark:{width:12,height:12,color:e.icon.secondary},coloredRow:{display:"flex",flexDirection:"row",gap:12,backgroundColor:e.surface.wash,borderRadius:2},column:{width:"100%",minWidth:150,paddingTop:10,paddingBottom:12},featureDetailsStyle:{paddingTop:12},gridSectionTitle:{paddingLeft:12},gridSection:{display:"flex",flexDirection:"column",gap:42},row:{display:"flex",flexDirection:"row",gap:12},tooltip:{width:156},tooltipWithImageExtra:{paddingLeft:8,paddingRight:8,paddingTop:8,paddingBottom:6},lastRow:{borderBottom:`1px solid ${e.stroke.secondary}`},sidebar:{width:"100%",paddingTop:12,paddingBottom:12,maxWidth:118},titleSection:{paddingLeft:12}})),[])}},682497:(e,t,n)=>{n.d(t,{o:()=>i});var o=()=>n(645873);const a=new(o().O2)("PageError",(async()=>Promise.all([n.e(44711),n.e(35837),n.e(23063),n.e(44763),n.e(25049),n.e(30873),n.e(88060),n.e(66960)]).then(n.bind(n,790452)))),i=(0,o()._h)(a,(e=>e.PageError))},711901:(e,t,n)=>{n.d(t,{L:()=>a});n(296540);var o=n(474848);const a=(0,n(340498).wt)("appleLogo",{viewBox:"0 0 170 170",svg:(0,o.jsx)("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})})},755195:(e,t,n)=>{n.d(t,{H4:()=>o().H,_7:()=>a()._});var o=()=>n(651390),a=()=>n(931783)},812978:(e,t,n)=>{n.r(t),n.d(t,{getPreviousStageIndex:()=>l,shouldSkipCurrentStage:()=>r});var o=()=>n(857639),a=()=>n(186787),i=()=>n(235921),s=()=>n(59424);async function r(e){let{flowName:t,stageIndex:n,environment:r}=e;const l=(0,s().getStageName)({flowName:t,stageIndex:n,environment:r}),d=a().contextualizedOnboardingStageByStageName[l];return d||o().log({level:"error",from:"contextualizedOnboardingStageHelpers",type:"shouldSkipCurrentStage",data:{miscDataToConvertToString:{flowName:t,stageIndex:n,stageName:l}}}),await d.shouldSkip(i().A.state,r)}async function l(e){let{flowName:t,stageIndex:n,environment:o}=e,a=n-1;for(;a>=0&&await r({flowName:t,stageIndex:a,environment:o});)a--;return a}},816758:(e,t,n)=>{n.d(t,{Lv:()=>a,XH:()=>o});const o={AE:"ae_trn",AT:"eu_vat",AU:"au_abn",BE:"eu_vat",BG:"eu_vat",CA:"ca_bn",CH:"ch_vat",CY:"eu_vat",CZ:"eu_vat",DE:"eu_vat",DK:"eu_vat",EE:"eu_vat",ES:"eu_vat",FI:"eu_vat",FR:"eu_vat",GB:"gb_vat",GR:"eu_vat",HR:"eu_vat",HU:"eu_vat",IE:"eu_vat",IN:"in_gst",IT:"eu_vat",KR:"kr_brn",LT:"eu_vat",LU:"eu_vat",LV:"eu_vat",MT:"eu_vat",NL:"eu_vat",NO:"no_vat",NZ:"nz_gst",PL:"eu_vat",PT:"eu_vat",RO:"eu_vat",RU:"ru_inn",SE:"eu_vat",SG:"sg_gst",SI:"eu_vat",SK:"eu_vat",TW:"tw_vat",UA:"ua_vat"};function a(e){return void 0!==o[e]}},816953:(e,t,n)=>{n.d(t,{A:()=>l});var o=()=>n(484714),a=()=>n(660237),i=()=>n(187174),s=()=>n(816758),r=()=>n(449506);function l(){var e;const t=(0,o().v3)(),[n]=(0,i().Yb)((async()=>{const e=await r().callApi({eventName:"getGeoIpLocation",environment:t,data:{}});if("success"===e.type)return e.data}),[t]),l=null==n||null===(e=n.value)||void 0===e?void 0:e.countryCodeFromIp;return!!(0,a().Ef)(l)&&(0,s().Lv)(l)}},824160:(e,t,n)=>{n.d(t,{A:()=>r});n(296540);var o=()=>n(484714),a=()=>n(401497),i=()=>n(704152),s=n(474848);function r(e){const t=(0,o().Y0)(),n=(0,a().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,s.jsx)(i().A,{style:{...n.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,s.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})}):(0,s.jsx)(i().A,{style:{...n.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,s.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})})}},843189:(e,t,n)=>{n.d(t,{E:()=>s});var o=n(296540),a=()=>n(960715),i=n(474848);const s=o.forwardRef(((e,t)=>{let{children:o,color:s,disabled:r,icon:l,iconStyle:d,isLoading:u,shape:c="default",size:g="md",style:p,...m}=e;const v=(0,n(401497).IS)((e=>{const t=s?`${s}Primary`:"primary",i=s||"regular",m=s?`${s}Hover`:"primaryHover",v=s?`${s}Pressed`:"primaryPressed";return{button:{...(0,a().qq)({shape:c,size:g,hasIconOnly:Boolean(l)&&!o}),justifyContent:"center",color:e.text[t],background:e.tint[i],opacity:r||u?.3:1,fontWeight:n(284371).Wy.medium,...p},hovered:{background:r?e.tint[i]:e.tint[m]},pressed:{background:r?e.tint[i]:e.tint[v]},icon:{...(0,a().D3)({size:g,hasIconOnly:!o}),...d}}}),[o,s,r,l,d,u,c,g,p]);return(0,i.jsxs)(n(197190).A,{ref:t,style:v.button,hoveredStyle:v.hovered,pressedStyle:v.pressed,disabled:r,isLoading:u,...m,children:[l?l(v.icon):null,o]})}));s.displayName="TintButton"},850369:(e,t,n)=>{n.d(t,{A:()=>v});n(581454),n(296540);var o=()=>n(847249),a=()=>n(401497),i=()=>n(950705),s=()=>n(959013),r=()=>n(209199),l=()=>n(901389),d=()=>n(700250),u=()=>n(760217),c=()=>n(406699),g=()=>n(939740),p=()=>n(824160),m=n(474848);const v=function(e){let{currentLocale:t,pickerLabel:i,confirm:u,onChange:v,origin:f,showGlobeIcon:h}=e;const x=(0,a().DP)(),S=(0,n(484714).v3)(),j=(0,s().tz)(),A=(0,o().uB)(void 0,n(463830).A),{device:C}=S,w=(0,o().K8)((()=>"ja-JP"===t),[t]),k=(0,n(963589).X)("polyglot");if(C.isMobile)return null;const I=i||y(t,j).label;return(0,m.jsx)(c().Ay,{onClick:()=>{n(278768).Kn(S,{origin:f})},popupType:c().z7.Popup,buttonPopupStore:A,renderOrigin:e=>(0,m.jsxs)(n(493823).p,{"aria-label":j.formatMessage({id:"languagePicker.ariaLabel",defaultMessage:"Language: {language}"},{language:I}),style:{marginLeft:-8,paddingLeft:8,paddingRight:8,display:"flex",alignItems:"center",...h&&{color:x.icon.secondary}},...e,children:[h&&(0,n(328347).h)({width:16,height:16,fill:x.icon.secondary,marginRight:4}),I,(0,r().Hx)(t)&&!w&&(0,m.jsx)(p().A,{desktopStyle:{marginLeft:4},children:(0,m.jsx)(s().sA,{id:"languagePicker.betaBadge",defaultMessage:"Beta"})}),(0,n(668725).b)({width:10,marginLeft:4,fill:h?x.icon.secondary:x.lightIconColor})]}),placementToOrigin:d().UV.Bottom,alignmentToOrigin:d().MY.Start,render:e=>{let o;o=k?[...r().fy,...r().Tf]:[...r().fy];const a=[{key:"languages",render:e=>(0,m.jsx)(n(89924).A,{...e,topBorder:0!==e.index}),items:o.map((n=>{const o={key:n,render:e=>function(e,t,n,o){const{label:a,caption:i}=y(e,o);return(0,m.jsx)(b,{label:a,caption:i,focused:t,props:n,locale:e})}(n,e.focused,e,j),action:()=>{!function(e,t,n,o,a){t!==e&&function(e,t,n,o){const{label:a}=y(e,t);if(n){const t=()=>{o(e)};l().ui({showCancel:!0,keepFocus:!1,message:(0,m.jsx)(s().sA,{id:"languagePicker.changeLanguage.confirmationMessage",defaultMessage:"Are you sure you want to update the language to {language}?",values:{language:a}}),items:[{label:(0,m.jsx)(s().sA,{id:"languagePicker.changeLanguage.updateButton.label",defaultMessage:"Update"}),color:"red",onAccept:t}]})}else o(e)}(e,n,o,a)}(n,t,j,u,v),e.close()}};return o}))}],i={menuType:n(722872).gu.Popup,width:240};return(0,m.jsx)(n(928600).A,{className:n(38337).jtA,...i,children:(0,m.jsx)(g().Ay,{type:g().Oh.Vertical,initialFocus:void 0,sections:a})})}})};function y(e,t){return(0,i().V)(t)[e]}function b(e){const{locale:t}=e,n=(0,a().DP)(),i=(0,o().K8)((()=>"ja-JP"===t),[t]);return(0,m.jsx)(u().A,{...e.props,title:(0,m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,m.jsx)("div",{style:{...e.style,marginRight:0},children:e.label})}),caption:e.caption&&(0,m.jsx)("span",{style:{color:n.text.secondary},children:e.caption}),shouldWrapCaption:!0,right:(0,r().Hx)(e.locale)&&!i&&(0,m.jsx)(p().A,{children:(0,m.jsx)(s().sA,{id:"languagePicker.betaBadge",defaultMessage:"Beta"})})})}},876853:(e,t,n)=>{n.d(t,{r:()=>a});var o=()=>n(422900);o();function a(e){return(0,o().transliterate)(e).trim().length>1}},903659:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(296540),a=()=>n(847249),i=()=>n(93658),s=n(474848);const r=function(e){const t=(0,n(484714).Y0)(),r=(0,a().K8)((()=>({initiator:n(353643).A.state.initiator,isDragging:n(861841).Ay.state.isDragging})),[]),l=(0,a().K8)((()=>i().default.state.isActive),[]),d=(0,a().K8)((()=>!!i().default.state.isActive&&i().default.state.moved?"default":r.isDragging?"-webkit-grabbing":"text"),[r.isDragging]),u=(0,o.useMemo)((()=>{let e="notion-cursor-listener";return"-webkit-grabbing"===d&&(e+=" notion-disable-local-cursor"),e}),[d]);return(0,o.useEffect)((()=>{t.isIOS&&("touch"===r.initiator||r.isDragging||l?document.body.classList.add("notion-disable-webkit-user-select"):document.body.classList.remove("notion-disable-webkit-user-select"))}),[t.isIOS,r.initiator,r.isDragging,l]),(0,s.jsx)("div",{style:{...e.style,cursor:d},className:u,children:e.children})}},909306:(e,t,n)=>{n.d(t,{Mb:()=>i,ze:()=>s});var o=()=>n(715256),a=()=>n(762433);function i(e){let{billingData:t,experimentService:n,spaceId:i}=e;const s=(0,a().YF)(t),r=(0,a().N8)(null==t?void 0:t.subscription),l=n.checkGate({gateName:"packaging_changes_05_13_2025",actor:o().S3,customIDs:{spaceId:i}}),d=(0,a().eh)(t,"plus"),u=(0,a().eh)(t,"business"),c=(0,a().eh)(t,"enterprise"),g=(0,a().eh)(t,"ai"),p=(0,a().eh)(t,"student"),m=(0,a().eh)(t,"personal");return l?r?g&&(d||u||c)?{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0}:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"advanced"}}:s?g&&m?{currentState:{featureSet:"advanced",reason:"personal_ai"},upsell:void 0}:m&&!g?{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"advanced"}}:g&&!m?{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"personal",featureSet:"advanced"}}:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}}:p?g?{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"business",featureSet:"advanced"}}:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}}:u?g?{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0}:{currentState:{featureSet:"advanced",reason:"business"},upsell:void 0}:c?g?{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0}:{currentState:{featureSet:"advanced",reason:"enterprise"},upsell:void 0}:g?{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"business",featureSet:"advanced"}}:{currentState:{featureSet:"none"},upsell:{product:"business",featureSet:"advanced"}}:g?{currentState:{featureSet:"core",reason:"ai_product"},upsell:void 0}:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}}}function s(e){var t;let{billingData:n,experimentService:o,spaceId:a}=e;return"ai"===(null===(t=i({billingData:n,experimentService:o,spaceId:a}))||void 0===t||null===(t=t.upsell)||void 0===t?void 0:t.product)}},925846:(e,t,n)=>{n.d(t,{q:()=>a});n(296540);var o=n(474848);const a=(0,n(340498).wt)("androidLogo",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"})})},931783:(e,t,n)=>{n.d(t,{_:()=>s});var o=()=>n(484714),a=()=>n(847249),i=()=>n(252105);function s(e){const{asyncPrice:t}=e,n=(0,o().v3)();return(0,a().K8)((()=>{if(t&&t.isLoaded&&t.result)return i().m4(n,{externalId:t.result.externalId}),t.result.getMonthlyUnitCost().toMoneyValue()}),[t,n])}},950705:(e,t,n)=>{function o(e){return{"en-US":{label:"English",caption:e.formatMessage({defaultMessage:"English (US)",id:"languagePicker.captions.englishUS"})},"de-DE":{label:"Deutsch",caption:e.formatMessage({defaultMessage:"German",id:"languagePicker.captions.germanDE"})},"ko-KR":{label:"í•œêµ­ì–´",caption:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.captions.koreanKo"})},"zh-CN":{label:"ç®€ä½“ä¸­æ–‡",caption:e.formatMessage({defaultMessage:"Simplified Chinese",id:"languagePicker.captions.chineseS"})},"zh-TW":{label:"ç¹é«”ä¸­æ–‡",caption:e.formatMessage({defaultMessage:"Traditional Chinese",id:"languagePicker.captions.chineseT"})},"ja-JP":{label:"æ—¥æœ¬èªž",caption:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.captions.japaneseJa"})},"es-ES":{label:"EspaÃ±ol (EspaÃ±a)",caption:e.formatMessage({defaultMessage:"Spanish (Spain)",id:"languagePicker.captions.spanishEs"})},"es-LA":{label:"EspaÃ±ol (LatinoamÃ©rica)",caption:e.formatMessage({defaultMessage:"Spanish (Latin America)",id:"languagePicker.captions.spanishLatam"})},"pt-BR":{label:"PortuguÃªs (Brasil)",caption:e.formatMessage({defaultMessage:"Portuguese (Brazil)",id:"languagePicker.captions.portugueseBr"})},"fr-FR":{label:"FranÃ§ais (France)",caption:e.formatMessage({defaultMessage:"French",id:"languagePicker.captions.frenchFr"})},"da-DK":{label:"Dansk",caption:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.captions.danishDk"})},"fi-FI":{label:"Suomi",caption:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.captions.finnishFi"})},"nb-NO":{label:"Norsk",caption:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.captions.norwegianNo"})},"nl-NL":{label:"Nederlands",caption:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.captions.dutchNl"})},"sv-SE":{label:"Svenska",caption:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.captions.swedishSe"})},pseudo:{label:"ðŸ¤¡PseudolocaleðŸ¤¡",caption:e.formatMessage({defaultMessage:"Pseudolocale",id:"languagePicker.captions.pseudolocale"})}}}function a(e){return{en:{name:e.formatMessage({defaultMessage:"English",id:"languagePicker.name.english"}),abbreviation:e.formatMessage({defaultMessage:"EN",id:"languagePicker.abbreviation.english"})},de:{name:e.formatMessage({defaultMessage:"German",id:"languagePicker.name.german"}),abbreviation:e.formatMessage({defaultMessage:"DE",id:"languagePicker.abbreviation.german"})},ko:{name:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.name.korean"}),abbreviation:e.formatMessage({defaultMessage:"KO",id:"languagePicker.abbreviation.korean"})},zh:{name:e.formatMessage({defaultMessage:"Chinese",id:"languagePicker.name.chinese"}),abbreviation:e.formatMessage({defaultMessage:"ZH",id:"languagePicker.abbreviation.chinese"})},ja:{name:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.name.japanese"}),abbreviation:e.formatMessage({defaultMessage:"JA",id:"languagePicker.abbreviation.japanese"})},es:{name:e.formatMessage({defaultMessage:"Spanish",id:"languagePicker.name.spanish"}),abbreviation:e.formatMessage({defaultMessage:"ES",id:"languagePicker.abbreviation.spanish"})},pt:{name:e.formatMessage({defaultMessage:"Portuguese",id:"languagePicker.name.portuguese"}),abbreviation:e.formatMessage({defaultMessage:"PT",id:"languagePicker.abbreviation.portuguese"})},fr:{name:e.formatMessage({defaultMessage:"French",id:"languagePicker.name.french"}),abbreviation:e.formatMessage({defaultMessage:"FR",id:"languagePicker.abbreviation.french"})},da:{name:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.name.danish"}),abbreviation:e.formatMessage({defaultMessage:"DA",id:"languagePicker.abbreviation.danish"})},fi:{name:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.name.finnish"}),abbreviation:e.formatMessage({defaultMessage:"FI",id:"languagePicker.abbreviation.finnish"})},nb:{name:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.name.norwegian"}),abbreviation:e.formatMessage({defaultMessage:"NB",id:"languagePicker.abbreviation.norwegian"})},nl:{name:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.name.dutch"}),abbreviation:e.formatMessage({defaultMessage:"NL",id:"languagePicker.abbreviation.dutch"})},sv:{name:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.name.swedish"}),abbreviation:e.formatMessage({defaultMessage:"SV",id:"languagePicker.abbreviation.swedish"})}}}n.d(t,{V:()=>o,W:()=>a})}}]);