"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[71993],{64736:(e,t,s)=>{s.d(t,{S6:()=>Ne,wn:()=>Fe,Lj:()=>Ze,Nu:()=>Ue,nR:()=>Ee});s(944114),s(517642),s(658004),s(733853),s(845876),s(432475),s(515024),s(731698),s(898992),s(354520),s(803949),s(581454),s(908872);var n=()=>s(484714),r=()=>s(847249),a=()=>s(187174),o=()=>s(179034),i=()=>s(620333),l=()=>s(245241),c=()=>s(496603),d=()=>s(763824),u=()=>s(534177),m=()=>s(720665),p=()=>s(222917),v=()=>s(972435),f=()=>s(148777),g=()=>s(836251),h=()=>s(658883),C=()=>s(780865),b=()=>s(722038),S=()=>s(406792),y=()=>s(690978),M=(s(18107),s(967357),s(672577),s(737550),s(296540),()=>s(716016)),L=()=>s(713998),x=()=>s(946172),A=()=>s(101209),R=()=>s(925907),I=()=>s(340498),w=s(474848);const k=(0,I().wt)("copyPadded",{viewBox:"0 0 24 24",svg:(0,w.jsx)("path",{d:"M4.89062 18.5107C4.89062 19.9873 5.64941 20.7529 7.1123 20.7529H13.5107C14.9736 20.7529 15.7256 19.9805 15.7256 18.5107V17.2461H16.8877C18.3506 17.2461 19.1094 16.4805 19.1094 15.0039V9.58984C19.1094 8.69434 18.9248 8.12012 18.3848 7.56641L14.9736 4.09375C14.4609 3.56738 13.8525 3.36914 13.0664 3.36914H10.4893C9.0332 3.36914 8.26758 4.13477 8.26758 5.61133V6.86914H7.1123C5.64941 6.86914 4.89062 7.6416 4.89062 9.11133V18.5107ZM15.042 11.3262L11.3369 7.55957C10.8105 7.02637 10.3662 6.88281 9.60742 6.87598V5.68652C9.60742 5.05762 9.94238 4.70898 10.6055 4.70898H13.4629V7.97656C13.4629 8.82422 13.9141 9.26172 14.7549 9.26172H17.7695V14.9219C17.7695 15.5576 17.4414 15.9062 16.7715 15.9062H15.7256V13.2539C15.7256 12.3311 15.6162 11.9072 15.042 11.3262ZM14.584 7.80566V5.2627L17.4209 8.14062H14.9189C14.6865 8.14062 14.584 8.04492 14.584 7.80566ZM6.23047 18.4287V9.19336C6.23047 8.56445 6.55859 8.20898 7.22168 8.20898H9.32031V11.9551C9.32031 12.9326 9.80566 13.4111 10.7764 13.4111H14.3857V18.4287C14.3857 19.0645 14.0576 19.4131 13.3945 19.4131H7.22168C6.55859 19.4131 6.23047 19.0645 6.23047 18.4287ZM10.9062 12.2285C10.626 12.2285 10.5029 12.1055 10.5029 11.8252V8.46875L14.2012 12.2285H10.9062Z"})});var T=()=>s(366295),_=()=>s(555555),q=()=>s(441977),B=()=>s(713823),P=()=>s(598985),j=()=>s(254982),U=()=>s(120739),E=()=>s(427704),N=()=>s(959013),O=()=>s(498212),F=()=>s(884107),Z=()=>s(705540),D=()=>s(209660),V=()=>s(260488),H=()=>s(851650),W=()=>s(137174),K=()=>s(309534),z=()=>s(763336),G=()=>s(71304),Y=()=>s(141966),J=()=>s(37433),Q=()=>s(84987),$=()=>s(346),X=()=>s(756114),ee=()=>s(696746),te=()=>s(578136),se=()=>s(770906),ne=()=>s(916096);(0,I().wt)("newSidebarHelp",{viewBox:"0 0 20 20",svg:(0,w.jsx)("g",{children:(0,w.jsx)("g",{id:"Layer_1",children:(0,w.jsx)("path",{d:"M10,18.25c-4.5488281,0-8.25-3.7011719-8.25-8.25S5.4511719,1.75,10,1.75s8.25,3.7011719,8.25,8.25-3.7011719,8.25-8.25,8.25ZM10,3.25c-3.722168,0-6.75,3.027832-6.75,6.75,0,3.7216797,3.027832,6.75,6.75,6.75,3.7216797,0,6.75-3.0283203,6.75-6.75,0-3.722168-3.0283203-6.75-6.75-6.75ZM9.1982929,11.2463863v-.118416c0-.7728204.3864102-1.2838791,1.165463-1.7450784.7728204-.4674317,1.0345822-.810215,1.0345822-1.4085275,0-.6793341-.5297559-1.1529982-1.2963439-1.1529982-.6917989,0-1.1529982.3427832-1.3524357.9722579-.1371133.3864102-.3677129.5422208-.7104962.5422208-.4300372,0-.6855665-.2617618-.6855665-.6793341,0-.2679942.0560918-.4985938.1745078-.7354259.3864102-.8476095,1.3586682-1.371133,2.6425472-1.371133,1.6889866,0,2.8482172.9597931,2.8482172,2.3683206,0,.9535607-.4736641,1.6079651-1.3212736,2.1127913-.8164474.4736641-1.0158849.7728204-1.0657443,1.3399709-.0623242.4113399-.2742266.6668692-.6980313.6668692-.4736641,0-.7354259-.3365508-.7354259-.7915177ZM9.03625,13.8577714c0-.4923614.4051075-.8787716.9099337-.8787716s.9037013.3864102.9037013.8787716-.3988751.885004-.9037013.885004-.9099337-.3926426-.9099337-.885004Z"})})})});var re=()=>s(563864),ae=()=>s(351360),oe=()=>s(712505),ie=()=>s(404141),le=()=>s(898808);const ce=(0,N().YK)({tooltip:{id:"team_home.tooltip",defaultMessage:"See announcements and other team updates"},searchResultCaption:{id:"team_home.searchResultCaption",defaultMessage:"Teamspace â€“ See announcements and other team updates"}}),de=3;function ue(e){const{environment:t}=e;return{type:"client_action",eventName:"settings",value:{behavior:"action",title:v().A.formatMessage(K().O.settings),aliases:void 0,icon:B().N,caption:v().A.formatMessage(K().O.tooltip),action:()=>{t.device.isElectron?Z().openQuickSearchShortcutSetting():D().Ow({openedFrom:"search_modal",currentTab:"settings"})}}}}function me(e){if(!ge)return[];const t=oe().default.getPeekMode(),s=(0,c().hS)([oe().default.state.open?{name:"center_peek"===t?"center":"peek",store:oe().default.state.targetStore}:void 0,"center_peek"!==t?{name:"main",store:ae().default.state.mainEditorCurrentBlockStore}:void 0],(e=>{var t;return null==e||null===(t=e.store)||void 0===t?void 0:t.id})),n=[];for(const{name:a,store:o}of(0,c().oE)(s)){var r;if(!o)continue;const t=o.getAssociatedCollectionStore();if(!t)continue;const s=t.getSchema();if(!s)continue;const i=(0,u().WP)(s).find((e=>{let[t,s]=e;return"auto_increment_id"===(null==s?void 0:s.type)}));if(!i)continue;const[l,c]=i;if(!c)continue;const d=null===(r=t.getRecordKeyStore())||void 0===r?void 0:r.getRecordKey(),m=(0,L().On)(o.getPropertyValue(l));if(!d||!m)continue;const p=(0,M().H4)(d,m);if(p){const t=(0,G().tS)({environment:e.environment,intl:v().A.getIntl(),store:o});n.push({type:"client_action",eventName:`${a}_unique_id`,value:{behavior:"action",title:v().A.formatMessage(Le.copyUniqueIdForPage,{pageTitle:t,idPropertyName:c.name}),aliases:[v().A.formatMessage(Le.copyUniqueIdAlias)],caption:v().A.formatMessage(Le.copyUniqueIdForPageCaption),icon:k,shouldIgnoreTitle:!1,action:async()=>{const t=await F().R.clipboardActions.load();await t.copyString({environment:e.environment,stringValue:p,copiedMessage:Le.copyUniqueIdSnackNotification})}}})}}return n}function pe(e){const t=(0,ee().x$)(ae().default.state.currentSpaceViewStore);if(t)return{type:"client_action",eventName:"home",value:{behavior:"navigation",title:v().A.formatMessage(ne().aQ.label),aliases:void 0,icon:q().J,caption:v().A.formatMessage(ne().aQ.tooltip),destination:{type:"block",blockStore:t}}}}function ve(e){const{environment:t}=e;if(!(0,te().D)({isMobileNative:t.device.isMobileNative,disableExposureLogging:!0}))return[];const{currentSpaceViewStore:s,currentUserStore:n,currentSpaceStore:r}=ae().default.state,a=(null==s?void 0:s.getTeamsStores())??[];if(!(null==n?void 0:n.id)||!r)return[];const o=(0,J().getTeamsWithAggregateDataFromCache)(r.id);if(!o)return[];const i=o.teams.filter((e=>"closed"!==e.getTeamAccessLevel())),l=new Set(a.map((e=>e.id)));return i.sort(((e,t)=>Number(l.has(t.id))-Number(l.has(e.id)))).map((e=>{const t=e.getIcon();return{type:"client_action",eventName:"team_home",value:{behavior:"navigation",aliases:void 0,title:e.getName()??"UnnamedTeamspace",icon:t?(e,s)=>(0,w.jsx)(le().x,{icon:t,style:e}):q().J,caption:v().A.formatMessage(ce.searchResultCaption),destination:{type:"url",url:(0,U().a)({teamId:e.id})}}}}))}function fe(e){const{environment:t,isCommandSearch:s}=e;if(ge&&!s)return{type:"client_action",eventName:"inbox",value:{behavior:"action",title:v().A.formatMessage(Q().inboxMessages.inboxTitle),aliases:[v().A.formatMessage(Le.inboxNotificationAlias),v().A.formatMessage(Le.inboxUpdateAlias)],caption:v().A.formatMessage(Q().inboxMessages.tooltip),icon:re().S,action:()=>(0,se().ZT)({environment:t,contentType:"inbox"})}}}const ge=!1;function he(e){if((0,Y().l)()&&!e.isCommandSearch)return{type:"client_action",eventName:"experiments",value:{behavior:"action",title:v().A.formatMessage(Le.experiments),aliases:[v().A.formatMessage(Le.experimentGateAlias)],caption:v().A.formatMessage(Le.experimentsCaption),icon:j().G,action:()=>{ie().A.setState({...ie().A.state,open:!0,currentTab:"experiments",defaultSubtab:void 0})}}}}function Ce(e){if(!e.isCommandSearch)return{type:"client_action",eventName:"import",value:{behavior:"action",title:v().A.formatMessage(W().h.tabTitle),aliases:void 0,caption:v().A.formatMessage(W().h.tabSubtitle),icon:_().n,action:()=>ie().A.setState({...ie().A.state,open:!0,currentTab:"imports",defaultSubtab:void 0})}}}function be(e){return{type:"client_action",eventName:"templates",value:{behavior:"navigation",title:v().A.formatMessage(z().U.title),aliases:[v().A.formatMessage(Le.templatesGalleryAlias)],caption:v().A.formatMessage(z().U.templatesMwnTooltip),icon:P().J,destination:{type:"url",url:E().JZ.marketplace}}}}function Se(e){if(ge&&!e.isCommandSearch)return{type:"client_action",eventName:"toggle_performance_toolbar",value:{behavior:"action",title:v().A.formatMessage(Le.performanceToolbar),aliases:void 0,caption:v().A.formatMessage(Le.performanceToolbarCaption),icon:A().v,action:()=>{(0,X().D)(e.environment,e.environment.RouterStore.state)&&$().T1.load().then((e=>{let{PerformanceToolbarStore:t}=e;return t.update((e=>({...e,isPerformanceToolbarPinned:!e.isPerformanceToolbarPinned})))}))}}}}function ye(e){const{environment:t}=e,s="light"===t.ThemeStore.state.mode;if(ge)return{type:"client_action",eventName:"toggle_theme",value:{behavior:"action",title:v().A.formatMessage(Le.toggleTheme),aliases:[v().A.formatMessage(Le.darkMode),v().A.formatMessage(Le.lightMode),v().A.formatMessage(Le.themeMode)],caption:v().A.formatMessage(s?Le.toggleDarkThemeCaption:Le.toggleLightThemeCaption),icon:x().m,action:()=>{const e=s?"dark":"light";H().C5(e)}}}}Object.freeze(new Set(["how","what","when","where","why","can","do","tell","explain","help","give","create"]));function Me(e){const{query:t,environment:s}=e;if(ge&&Boolean((0,O().ZA)(t)))return{type:"client_action",eventName:"copy_dashed_uuid",value:{behavior:"action",title:v().A.formatMessage(Le.copyDashedUuid),aliases:[],caption:v().A.formatMessage(Le.copyDashedUuidCaption),icon:R().n,shouldIgnoreTitle:!0,action:async()=>{const e=(0,O().ZA)(t);if(!e)return;const n=await F().R.clipboardActions.load();await n.copyString({environment:s,stringValue:e,copiedMessage:Le.copyDashedUuidSnackbar})}}}}const Le=(0,N().YK)({performanceToolbar:{id:"search.actionResult.performanceToolbar",defaultMessage:"Performance toolbar"},performanceToolbarCaption:{id:"search.actionResult.fpsCaption",defaultMessage:"Toggle the performance toolbar."},toggleTheme:{id:"search.actionResult.toggleTheme",defaultMessage:"Toggle theme"},toggleDarkThemeCaption:{id:"search.actionResult.toggleDarkThemeCaption",defaultMessage:"Switch to dark theme."},toggleLightThemeCaption:{id:"search.actionResult.toggleLightThemeCaption",defaultMessage:"Switch to light theme."},darkMode:{id:"search.actionResult.darkModeAlias",defaultMessage:"Dark mode"},lightMode:{id:"search.actionResult.lightModeAlias",defaultMessage:"Light mode"},themeMode:{id:"search.actionResult.themeModeAlias",defaultMessage:"Theme"},copyDashedUuid:{id:"search.actionResult.copyDashedUuid",defaultMessage:"Copy dashed UUID"},copyDashedUuidCaption:{id:"search.actionResult.copyDashedUuidCaption",defaultMessage:"Copy dashed UUID"},copyDashedUuidSnackbar:{id:"search.actionResult.copyDashedUuidSnackbar",defaultMessage:"Copied dashed UUID"},experiments:{id:"search.actionResult.experiments",defaultMessage:"Experiments"},experimentsCaption:{id:"search.actionResult.experimentsCaption",defaultMessage:"View and manage experiments."},inboxUpdateAlias:{defaultMessage:"updates",id:"search.actionResult.inbox.updates"},inboxNotificationAlias:{defaultMessage:"notifications",id:"search.actionResult.inbox.notifications"},templatesGalleryAlias:{defaultMessage:"gallery",id:"search.actionResult.templates.gallery"},experimentGateAlias:{defaultMessage:"gate",id:"search.actionResult.experiments.gate"},copyUniqueIdForPage:{defaultMessage:"Copy {idPropertyName} for {pageTitle}",id:"search.actionResult.copyUniqueId"},copyUniqueIdForPageCaption:{defaultMessage:"Copy unique identifier for page to clipboard",id:"search.actionResult.copyUniqueIdCaption"},copyUniqueIdSnackNotification:{defaultMessage:"Unique ID copied",id:"search.actionResult.copyUniqueIdSnackNotification"},copyUniqueIdAlias:{defaultMessage:"unique",id:"search.actionResult.copyUniqueIdAlias"}});var xe=()=>s(21899),Ae=()=>s(303742),Re=()=>s(326589),Ie=()=>s(227440),we=()=>s(508496),ke=()=>s(968172),Te=()=>s(20199),_e=()=>s(630116),qe=()=>s(793765),Be=()=>s(899677),Pe=()=>s(498719),je=()=>s(250484);function Ue(e){const t=(0,n().v3)(),s=(0,b().y)();return(0,r().K8)((()=>{const n=Boolean(Ie().A.state.online);let r=je().Ay.state.query;!n&&s&&(r={...r,filters:{...r.filters,isOfflineOnly:!0}});const{hasPublicAccessPermission:a,publicAccessPermissionAncestorBlockId:o}=C().Er(t);return{isOnline:n,limit:je().Ay.state.limit,parentStore:e,hasPublicAccessPermission:a,publicAccessPermissionAncestorBlockId:o,currentSpaceStore:ae().default.state.currentSpaceStore,debug:qe().Ay.getDebugLevel(),openAsPage:Be().default.state.openAsPage,currentSpaceViewStore:ae().default.state.currentSpaceViewStore,query:r,localSearchablePagesStore:Te().A}}),[t,e,s])}function Ee(e){let{dependencies:t,debugColumnStore:s,localDebounce:o=75,serverSearchFn:l,searchResultStore:d,permanentFilterOverride:u,enabled:m,preventUpdateSearchMetrics:v}=e;const g=(0,n().v3)(),h=(0,r().K8)((()=>function(e){const{debugColumnStore:t}=e,s=t.state.searchExperimentOverrides;function n(e){return(null==s?void 0:s[e])??we().default.getGroup(e,{disableExposureLogging:!0})}function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"control";const r=null==s?void 0:s[e];if(r)return r;const a=we().default.getEligibleGroup({experimentId:e,parameter:t,defaultGroup:n});return void 0===a?"control":a}return{isLocalBlendingDisabled:"on"===n("search-no-local-blending"),shouldUseNewRerankerDebugOverrideEnabled:"on"===r("search-use-local-reranker-layered","shouldUseLocalReranker","control"),forcedClusterPattern:t.state.forcedClusterPattern,searchExperimentOverrides:t.state.searchExperimentOverrides,forcedBlockIds:t.state.forcedBlockIds}}({debugColumnStore:s})),[s]);(0,a().Yb)((()=>m?async function(e){const{query:t,openAsPage:s,store:n,environment:r,serverSearchFn:a}=e;if(s&&c().n4(t,n.state.selectedQueryResultQuery))return;const o=Date.now(),l=Be().default.state.searchMode;if(function(e){const{parentStore:t,environment:s,query:n,debug:r,limit:a,hasPublicAccessPermission:o,isOnline:l,store:d,permanentFilterOverride:u,preventUpdateSearchMetrics:m,now:v,shouldUseNewRerankerDebugOverrideEnabled:g,searchMode:h,localSearchablePagesStore:b,currentSpaceStore:y}=e,M=S().default.mark("rum.local_quick_search_query"),L=b.state.localSearchableBlocksCache,x=(0,f().PE)({environment:s,overrideCurrentUserId:s.currentUser.id,overrideSpaceId:null==y?void 0:y.id,overrideLocalSearchableBlocksCache:L});if("quick_find_scroll"===je().Ay.state.source)return;let A;const R={...n,filters:{...n.filters,...u}},{text:I,sort:w}=R,k=function(e){const t=[];e.match(i().U7)&&t.push("literal");e.match(i().fo)&&t.push("negation");return t}(I);k.length>0&&p().o(s,{operations:k,searchSessionId:p().wr()});const T="nav-local-only"!==h;if(function(e){const{isLocalBlendingDisabled:t,queryOperations:s,queryText:n,querySort:r}=e;return!c().Im(n.trim())&&!t&&0===s.length&&"relevance"===r.field}({isLocalBlendingDisabled:e.isLocalBlendingDisabled||"full-content"===h,queryOperations:k,queryText:I,querySort:w})){var _;A=C().mj(Ne({parentStore:t,environment:s,requestInput:{query:R,debug:r,limit:a},hasPublicAccessPermission:o,isOnline:l,localSearchCache:L,shouldUseNewRerankerDebugOverrideEnabled:g,shouldLimitLocalResultsWhenOnline:T})),S().default.measure(M,{environment:s,data:{success:Boolean(A),start_time:M.startTime,surface:"quick_search",num_results:(null===(_=A)||void 0===_||null===(_=_.results)||void 0===_?void 0:_.length)||0,search_session_id:Be().default.state.sessionId,local_cache_metadata:x,local_cache_readiness_timings:(0,f().Yp)(),query_length:I.length}}),m||Pe().default.update((e=>({...e,numLocalRequests:e.numLocalRequests+1})))}else A=void 0;d.update((e=>{var t;return null===(t=A)||void 0===t||t.results.forEach((t=>e.timesToRender.set(t.id,Date.now()-v))),{...e,localResults:A}}))}({...e,now:o,searchMode:l}),Fe({query:t.text,store:n,environment:r,searchMode:l}),"nav-local-only"===l)n.update((e=>({...e,serverResults:void 0})));else{var d;const t=new Set;null===(d=n.state.localResults)||void 0===d||d.results.forEach((e=>t.add(e.id)));const s="default"!==l?Ze:a;await s({...e,now:o,excludedBlockIds:[...t],searchMode:l})}}({...t,...h,store:d,serverSearchFn:l,environment:g,permanentFilterOverride:u,preventUpdateSearchMetrics:v}):Promise.resolve()),[t,h,d,l,g,u,m,v],{debounce:o})}function Ne(e){const{parentStore:t,requestInput:s,isOnline:n,environment:r,hasPublicAccessPermission:a,localSearchCache:o,shouldUseNewRerankerDebugOverrideEnabled:i,shouldLimitLocalResultsWhenOnline:c}=e,{query:d}=s;if(!o)return;if(!d.text.trim())return;if(a)return;const u=(0,y().r)({query:s,localCachedPages:o,parentStore:t,environment:r,isOnline:n,shouldLimitLocalResultsWhenOnline:c,applyScoreThresholdWhenOnline:!0,canUseLtr:!0,shouldUseNewRerankerDebugOverrideEnabled:i});return!u||null!=u&&u.error||u.value.results.forEach((e=>{if(!Boolean(e.store.isTemplate()))return;const t={type:"is_template",properties:{},label:v().A.formatMessage(l().Nz.template)};e.badges=e.badges?[...e.badges,t]:[t]})),u}async function Oe(e){const{parentStore:t,requestInput:s,isOnline:n,environment:r,publicAccessPermissionAncestorBlockId:a,searchSessionId:i,searchSessionFlowNumber:c,source:d,spaceId:p,searchExperimentOverrides:v,forcedClusterPattern:f,forcedBlockIds:h,excludedBlockIds:b}=e;if(!n)return{error:l().yq.Offline};const S=(0,g().w6)(r),y=(0,Re().g)();(S||y)&&a&&(s.query.filters.includePublicPagesWithoutExplicitAccess=!0);const M=await C().Uc({environment:r,input:s,spaceId:p,publicAccessPermissionAncestorBlockId:a,searchSessionId:i,searchSessionFlowNumber:c,source:d,searchExperimentOverrides:v,forcedClusterPattern:f,recentPagesForBoosting:p&&"on"!==(null==v?void 0:v["search-debug-only-no-recent-boosting"])?ke().A.getWithoutSubscribing(p):[],forcedBlockIds:h,excludedBlockIds:b});if(!M)return;if("failed"===M.type)return M.offline?{error:l().yq.Offline}:{error:l().yq.RequestFailed};const{trackEventProperties:L,results:x,total:A,debug:R,clusterInfo:I}=M.data,w=(0,m().MU)((0,u().WP)(L).map((e=>{let[t,s]=e;return[`server-${t}`,s]})));return{value:{results:x.map(((e,s)=>({...e,serverEventProperties:w,originalPosition:s,store:_e().Bv.createChildStore(t,{table:o().ev,id:e.id})}))),total:A,debugInfo:R,serverEventProperties:w,clusterInfo:I}}}function Fe(e){const{query:t,store:s,environment:n,searchMode:r}=e,a=we().default.checkGate({gateName:"search-custom-action-results"}),o=n.currentUser.isLoggedIn();if(!a||!o)return;const i=Boolean(Be().default.state.isNewElectronTab),l=function(e){const{query:t,environment:s,isNewElectronTab:n}=e;if(t.length<de)return[];const r={query:t,environment:s,isCommandSearch:(0,h().q)(s)},a=e=>{var s;if(!e||"action"===e.value.behavior&&n)return!1;if(e.value.shouldIgnoreTitle)return!0;const r=t.toLowerCase();if(e.value.title.toLowerCase().startsWith(r))return!0;const a=null===(s=e.value.aliases)||void 0===s?void 0:s.some((e=>e.toLowerCase().startsWith(r)));return Boolean(a)};return[[fe(r)].filter(a),[he(r)].filter(a),[Se(r)].filter(a),[ye(r)].filter(a),[Me(r)].filter(a),me(r).filter(a),[pe()].filter(a),ve(r).filter(a).slice(0,5),[ue(r)].filter(a),[Ce(r)].filter(a),[be()].filter(a)].flat()}({query:t,environment:n,isNewElectronTab:i}),c=(0,h().q)(n),d="nav-local-only"===r,u=(()=>{if(!d)return[];const e=function(e){const{isCommandSearch:t,query:s,environment:n}=e;if(t)return;return{type:"client_action",eventName:"deep_dive",value:{behavior:"action",title:`Search for â€œ${s.trim()}â€œ in full page`,icon:()=>(0,T().L)({height:20,width:20}),shouldIgnoreTitle:!0,action:()=>V().sv({environment:n,shouldResetAssistantStore:!0,device:n.device,quickSearchMode:t,from:t?"command_search_deep_dive":"search_deep_dive"}),aliases:void 0,caption:void 0}}}({query:t,environment:n,isCommandSearch:c});return e?[e]:[]})(),m=u?[...u,...l]:l;return null==s||s.update((e=>({...e,queryBasedActionResults:m}))),m}async function Ze(e){var t,s,n,r,a,o,l,u;let{parentStore:m,environment:v,query:f,debug:g,isOnline:b,publicAccessPermissionAncestorBlockId:y,currentSpaceStore:M,searchExperimentOverrides:L,forcedClusterPattern:x,store:A,forcedBlockIds:R,limit:I,permanentFilterOverride:w,excludedBlockIds:k,preventUpdateSearchMetrics:T,now:_,searchMode:q}=e;const B=S().default.mark("rum.server_quick_search_query"),P={...f,filters:{...f.filters,...w}};if(!P.text.trim()&&!C().J3(P.filters))return;const j=je().Ay.state.source,U="quick_find_scroll"===j,E=U||0===Pe().default.state.numServerRequests&&"full-content"!==q;A.update((e=>{var t;return{...e,serverResultsLoading:!0,...E?{serverResults:e.serverResults,serverEventProperties:null===(t=e.serverResults)||void 0===t?void 0:t.serverEventProperties}:{serverResults:void 0,serverEventProperties:void 0}}})),T||Pe().default.update((e=>({...e,numServerRequests:e.numServerRequests+1})));const N=(0,i().mk)({searchSessionId:Be().default.state.sessionId,searchSessionFlowNumber:Pe().default.state.numServerRequests}),O={query:P,debug:g,limit:I};let F;if((0,Ae().o)(M)){const{currentUserRootStore:e}=ae().default.state,t=(0,c().oE)(e?(0,xe().f)({currentUserRootStore:e}).map((e=>e.getSpaceId())):[null==M?void 0:M.id]);F=await async function(e){const{spaceIds:t,...s}=e,n=await(0,d().lX)(t,10,(e=>Oe({spaceId:e,...s}))),r=(0,c().oE)(n.filter((e=>!(null!=e&&e.error))));return 0===r.length?n[0]:r.reduce(((e,t)=>({value:{results:e.value.results.concat(t.value.results),total:e.value.total+t.value.total}})))}({parentStore:m,environment:v,requestInput:O,spaceIds:t,searchSessionId:Be().default.state.sessionId,searchSessionFlowNumber:Pe().default.state.numServerRequests,publicAccessPermissionAncestorBlockId:y,isOnline:b,source:j,searchExperimentOverrides:L,forcedClusterPattern:x,forcedBlockIds:R,excludedBlockIds:k})}else F=await Oe({parentStore:m,environment:v,requestInput:O,spaceId:null==M?void 0:M.id,searchSessionId:Be().default.state.sessionId,searchSessionFlowNumber:Pe().default.state.numServerRequests,publicAccessPermissionAncestorBlockId:y,isOnline:b,source:j,searchExperimentOverrides:L,forcedClusterPattern:x,forcedBlockIds:R,excludedBlockIds:k});if(N!==(0,i().mk)({searchSessionId:Be().default.state.sessionId,searchSessionFlowNumber:Pe().default.state.numServerRequests}))return;if(!F||F.error)return A.update((e=>{var t;return{...e,serverError:null===(t=F)||void 0===t?void 0:t.error,serverResultsLoading:!1,serverResults:void 0,serverEventProperties:void 0}}));const Z=U?C().RH({existingResults:A.state.serverResults,newPageResults:F.value}):F.value;S().default.measure(B,{environment:v,data:{start_time:B.startTime,success:!0,surface:"quick_find",num_results:(null===(t=A.state.serverResults)||void 0===t?void 0:t.results.length)||0,search_session_id:Be().default.state.sessionId,search_session_flow_number:Pe().default.state.numServerRequests,query_length:P.text.length}}),A.update((e=>{var t;return F.value.results.forEach((t=>e.timesToRender.set(t.id,Date.now()-_))),{...e,serverError:null===(t=F)||void 0===t?void 0:t.error,serverResultsLoading:!1,serverResults:Z,serverResultsAllLoaded:F.value.results.length<I,serverEventProperties:F.value.serverEventProperties}}));const D=(null===(s=A.state.serverResults)||void 0===s?void 0:s.results.map((e=>{var t;return{id:e.id,badges:(null===(t=e.badges)||void 0===t?void 0:t.map((e=>e.type)))??[]}})))??[],V=new Map;for(const{badges:i}of D)for(const e of i){const t=V.get(e)??0;V.set(e,t+1)}const{sections:H}=C().HA({intentBasedGrouping:(0,h().Y)(),localResults:null===(n=A.state.localResults)||void 0===n?void 0:n.results,serverResults:null===(r=A.state.serverResults)||void 0===r?void 0:r.results}),W={};for(const[i,c]of Object.entries(H))W[i]=c.map((e=>e.id));p().fe(v,{numLocalResults:(null===(a=A.state.localResults)||void 0===a?void 0:a.results.length)||0,localResultsIds:(null===(o=A.state.localResults)||void 0===o?void 0:o.results.map((e=>e.id)))||[],totalLocalResultIds:(null===(l=A.state.localResults)||void 0===l?void 0:l.totalResultIds)||[],numServerResults:(null===(u=A.state.serverResults)||void 0===u?void 0:u.results.length)||0,...A.state.serverEventProperties,badgeCounts:V,badgesByResultId:D,idsBySection:W,timeToRenderById:[...A.state.timesToRender.entries()].map((e=>{let[t,s]=e;return{id:t,timeToRender:s}}))})}},84987:(e,t,s)=>{s.r(t),s.d(t,{SidebarInboxButton:()=>I,inboxMessages:()=>w});var n=s(296540),r=()=>s(484714),a=()=>s(847249),o=()=>s(401497),i=()=>s(563864),l=()=>s(959013),c=()=>s(284371),d=()=>s(35392),u=()=>s(296798),m=()=>s(859428),p=()=>s(171347),v=()=>s(490044),f=()=>s(47170),g=()=>s(477293),h=()=>s(770906),C=()=>s(441199),b=()=>s(644914),S=()=>s(179534),y=()=>s(749687),M=()=>s(962730),L=()=>s(227440),x=()=>s(509659),A=()=>s(105127),R=s(474848);function I(e){const t=(0,r().v3)(),s=(0,l().tz)(),I=(0,f().O)(),k=(0,a().K8)((()=>"inbox"===C().default.state.contentType&&C().default.isOpen()),[]),T=(0,a().O$)(y().sidebarExpandedStore),_=(0,a().K8)((()=>C().default.state.mode),[]),q=k&&"panel"===_,B=(0,n.useCallback)((()=>{h().ZT({environment:t,contentType:"inbox"})}),[t]),P=(0,o().IS)((e=>({sidebarItem:{...q&&{fontWeight:c().Wy.semibold,background:e.sidebarItemSelectedBackground}},badge:{width:void 0,minWidth:16,paddingLeft:3,paddingRight:3},number:{fontWeight:c().Wy.semibold,letterSpacing:.12,fontSize:10,fontVariantNumeric:"lining-nums tabular-nums",fontFeatureSettings:"lnum",MozFontFeatureSettings:"lnum",WebkitFontFeatureSettings:"lnum"},shortcutLabel:{color:e.text.contrastSecondary}})),[q]),j=(0,b().ab)(),U="on"===(0,g().r)("inbox_activity_split"),E=(0,a().K8)((()=>U?S().A.getUnreadCountForCurrentSpace().comments:0),[U]),N=U?(0,R.jsx)(p().A,{count:E,color:p().g.Red,style:P.badge,numberStyle:P.number,fadeIn:!0}):(0,R.jsx)(A().A,{type:"currentSpace",color:p().g.Red,style:P.badge,numberStyle:P.number,fadeIn:!0}),O="on"===(0,g().r)("collaboration_reaction_notifications")&&T,F=!(0,a().O$)(L().e);return(0,R.jsx)(m().A,{renderTooltip:()=>F?(0,R.jsx)("div",{children:s.formatMessage(w.offlineTooltip)}):(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{children:s.formatMessage(w.tooltip)}),(0,R.jsx)(d().A,{style:P.shortcutLabel,name:"toggleAllUpdates"})]}),originGap:6,placement:M().W.Right,render:t=>{var n;return(0,R.jsx)(u().A,{style:{...j.baseSidebarItem,...P.sidebarItem,...q&&j.currentSelectedSidebarItem},onClick:B,hoveredStyle:null===(n=e.styles)||void 0===n?void 0:n.buttonHoveredStyle,...t,disabled:F,disabledFeedback:F,children:(0,R.jsx)(v().A,{left:(0,i().S)(j.topButtonIcon),right:O?(0,R.jsx)(x().f,{children:N},I):N,children:s.formatMessage(U?w.messagesTitle:w.inboxTitle)})})}})}const w=(0,l().YK)({tooltip:{id:"sidebar.inbox.tooltip",defaultMessage:"View recent updates and notifications"},inboxTitle:{id:"sidebar.inbox.button",defaultMessage:"Inbox"},messagesTitle:{id:"sidebar.messages.button",defaultMessage:"Messages"},offlineTooltip:{id:"sidebar.inbox.offlineTooltip",defaultMessage:"Unavailable while offline"}})},105127:(e,t,s)=>{s.d(t,{A:()=>l});s(296540);var n=()=>s(847249),r=()=>s(534177),a=()=>s(171347),o=()=>s(179534),i=s(474848);function l(e){const{type:t,...s}=e,l=(0,n().K8)((()=>{switch(t){case"currentSpace":return o().A.getUnreadCountForCurrentSpace().mentions;case"otherSpaces":return o().A.getUnreadMentionsCountForOtherSpaces();case"allSpaces":return o().A.getTotalUnreadMentionsCount();default:(0,r().HB)(t)}}),[t]);return(0,i.jsx)(a().A,{count:l,...s})}},109054:(e,t,s)=>{s.d(t,{N:()=>n,u:()=>r});s(898992),s(823215),s(354520),s(672577),s(737550);function n(e){return e.trim().normalize().toLocaleLowerCase().replace(/[^\w\s]/gu," ").split(/\s/gu).filter((e=>e.length>0))}function r(e){const{query:t,resultText:s,isLastQueryTermPartialMatchOK:r}=e,a=n(t),o=n(s);let i;if(r&&(i=a.pop(),!i))return!1;const l=a.every((e=>o.some((t=>t===e)))),c=!r||void 0!==o.find((e=>e.startsWith(i??"")));return l&&c}},180566:(e,t,s)=>{s.d(t,{Q:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("newSidebarTrash",{viewBox:"0 0 20 20",svg:(0,n.jsx)("g",{children:(0,n.jsx)("g",{id:"Layer_1",children:(0,n.jsx)("path",{d:"M16.5,5.25h-2.75v-1.25c0-.9648438-.7851562-1.75-1.75-1.75h-4c-.9648438,0-1.75.7851562-1.75,1.75v1.25h-2.75c-.4140625,0-.75.3359375-.75.75s.3359375.75.75.75h.7835083l.3805542,8.375c.0668945,1.4716797,1.2739258,2.625,2.7470703,2.625h5.1777344c1.4736328,0,2.6796875-1.1533203,2.7470703-2.625l.3809814-8.375h.7830811c.4140625,0,.75-.3359375.75-.75s-.3359375-.75-.75-.75ZM7.75,4c0-.1376953.1123047-.25.25-.25h4c.1376953,0,.25.1123047.25.25v1.25h-4.5v-1.25ZM13.8378906,15.0566406c-.03125.6689453-.5791016,1.1933594-1.2490234,1.1933594h-5.1777344c-.6699219,0-1.2182617-.5244141-1.2490234-1.1933594l-.3774414-8.3066406h8.4301758l-.3769531,8.3066406ZM8.875,8.5v6c0,.3447266-.2797852.625-.625.625s-.625-.2802734-.625-.625v-6c0-.3452148.2797852-.625.625-.625s.625.2797852.625.625ZM12.375,8.5v6c0,.3447266-.2802734.625-.625.625s-.625-.2802734-.625-.625v-6c0-.3452148.2802734-.625.625-.625s.625.2797852.625.625Z"})})})})},253093:(e,t,s)=>{s.d(t,{j:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("newSidebarSettings",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M10 13C8.35003 13 7.00003 11.65 7.00003 10C7.00003 8.35 8.35003 7 10 7C11.65 7 13 8.35 13 10C13 11.65 11.65 13 10 13ZM10 8.5C9.17003 8.5 8.50003 9.17 8.50003 10C8.50003 10.83 9.17003 11.5 10 11.5C10.83 11.5 11.5 10.83 11.5 10C11.5 9.17 10.83 8.5 10 8.5ZM10.02 18.45C9.45003 18.45 8.90003 18.4 8.36003 18.29C8.08003 18.23 7.85003 18.01 7.80003 17.72L7.51003 16.06C7.51003 16.06 7.42003 16.02 7.37003 16L6.01003 16.96C5.77003 17.13 5.45003 17.13 5.21003 16.96C4.78003 16.67 4.39003 16.34 4.03003 15.98C3.63003 15.57 3.27003 15.15 2.97003 14.69C2.81003 14.45 2.81003 14.13 2.97003 13.9L3.94003 12.52C3.94003 12.52 3.90003 12.43 3.88003 12.38L2.24003 12.1C1.95003 12.05 1.72003 11.83 1.67003 11.54C1.58003 11.04 1.53003 10.52 1.53003 10.01C1.53003 9.44 1.58003 8.89 1.69003 8.35C1.75003 8.07 1.97003 7.84 2.26003 7.79L3.92003 7.5C3.92003 7.5 3.96003 7.41 3.98003 7.36L3.02003 6C2.85003 5.76 2.85003 5.44 3.02003 5.2C3.31003 4.78 3.64003 4.38 4.00003 4.02C4.40003 3.62 4.83003 3.27 5.28003 2.96C5.52003 2.8 5.84003 2.8 6.07003 2.96L7.45003 3.93C7.45003 3.93 7.54003 3.89 7.59003 3.87L7.87003 2.23C7.92003 1.94 8.14003 1.71 8.43003 1.66C8.93003 1.57 9.45003 1.52 9.96003 1.52C10.53 1.52 11.08 1.57 11.62 1.68C11.91 1.74 12.13 1.96 12.17 2.25L12.46 3.91C12.46 3.91 12.55 3.95 12.6 3.97L13.96 3.01C14.2 2.84 14.52 2.84 14.76 3.01C15.18 3.3 15.58 3.63 15.94 3.99C16.35 4.4 16.7 4.82 17 5.27C17.16 5.51 17.16 5.83 17 6.06L16.03 7.44C16.03 7.44 16.07 7.53 16.09 7.58L17.73 7.86C18.02 7.91 18.24 8.13 18.3 8.42C18.39 8.92 18.44 9.44 18.44 9.95C18.44 10.52 18.39 11.07 18.28 11.61C18.22 11.89 18 12.12 17.71 12.16L16.05 12.45C16.05 12.45 16.01 12.54 15.99 12.59L16.95 13.95C17.12 14.19 17.12 14.51 16.95 14.75C16.66 15.17 16.33 15.57 15.97 15.93C15.57 16.34 15.14 16.69 14.69 16.99C14.45 17.15 14.13 17.15 13.9 16.99L12.52 16.02C12.52 16.02 12.43 16.06 12.38 16.08L12.1 17.72C12.05 18.01 11.83 18.23 11.54 18.29C11.04 18.38 10.52 18.43 10.01 18.43L10.02 18.45ZM9.10003 16.99C9.68003 17.06 10.26 17.06 10.82 16.99L11.09 15.44C11.13 15.18 11.32 14.97 11.57 14.89C11.82 14.81 12.07 14.71 12.3 14.59C12.53 14.47 12.8 14.5 13.02 14.64L14.32 15.56C14.56 15.38 14.78 15.18 14.99 14.97C15.19 14.77 15.37 14.57 15.54 14.36L14.64 13.08C14.49 12.87 14.47 12.58 14.59 12.35C14.7 12.13 14.8 11.89 14.89 11.62C14.97 11.37 15.18 11.19 15.43 11.15L17 10.88C17.04 10.58 17.06 10.28 17.06 9.99C17.06 9.71 17.04 9.44 17.01 9.17L15.46 8.9C15.2 8.86 14.99 8.67 14.91 8.42C14.83 8.17 14.73 7.92 14.61 7.69C14.49 7.46 14.52 7.18 14.66 6.97L15.58 5.67C15.4 5.44 15.2 5.21 14.99 5C14.79 4.8 14.59 4.62 14.37 4.45L13.09 5.35C12.88 5.5 12.6 5.52 12.37 5.4C12.15 5.29 11.91 5.19 11.64 5.1C11.4 5.02 11.22 4.81 11.17 4.56L10.9 2.99C10.33 2.92 9.74003 2.92 9.18003 2.99L8.91003 4.54C8.87003 4.8 8.68003 5.01 8.43003 5.09C8.18003 5.17 7.93003 5.27 7.70003 5.39C7.47003 5.51 7.19003 5.49 6.98003 5.34L5.68003 4.42C5.44003 4.6 5.22003 4.8 5.01003 5.01C4.81003 5.21 4.63003 5.41 4.46003 5.62L5.36003 6.9C5.51003 7.11 5.53003 7.39 5.41003 7.62C5.30003 7.84 5.20003 8.08 5.11003 8.35C5.03003 8.59 4.82003 8.77 4.57003 8.82L3.00003 9.09C2.96003 9.39 2.94003 9.69 2.94003 9.98C2.94003 10.26 2.96003 10.53 2.99003 10.8L4.54003 11.07C4.80003 11.11 5.01003 11.3 5.09003 11.55C5.17003 11.8 5.27003 12.05 5.39003 12.28C5.50003 12.51 5.48003 12.79 5.34003 13L4.42003 14.3C4.60003 14.54 4.80003 14.76 5.01003 14.97C5.21003 15.17 5.41003 15.35 5.62003 15.52L6.90003 14.62C7.11003 14.47 7.39003 14.45 7.63003 14.57C7.85003 14.68 8.09003 14.78 8.36003 14.87C8.61003 14.95 8.79003 15.16 8.83003 15.41L9.10003 16.98V16.99Z"})})},254982:(e,t,s)=>{s.d(t,{G:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("trendingLarge",{viewBox:"0 0 48 48",svg:(0,n.jsx)("path",{d:"M8.75 36.5842V11.4307C8.75 10.7907 9.28581 10.24 9.95558 10.24C10.6105 10.24 11.1463 10.7907 11.1463 11.4307V24.7219L15.79 20.0186C16.4747 19.3339 17.0998 19.0363 17.7993 19.0363C18.4988 19.0363 19.1537 19.3488 19.8086 20.0186L25.2858 25.6298C25.4198 25.7637 25.5686 25.8381 25.6877 25.8381C25.8216 25.8381 25.9705 25.7637 26.1044 25.6298L31.9686 19.6912L29.5128 17.2353C28.977 16.6995 29.3044 16.0149 30.0635 15.8065L38.7705 13.6186C39.4402 13.44 40.0356 14.0056 39.857 14.6902L37.6542 23.4121C37.4607 24.1712 36.7612 24.4986 36.2253 23.9628L33.7844 21.507L27.7119 27.6093C27.0421 28.2791 26.4021 28.5916 25.6877 28.5916C24.9881 28.5916 24.3184 28.2791 23.6784 27.6093L18.2012 21.9981C18.0672 21.8642 17.9333 21.7898 17.7993 21.7898C17.6653 21.7898 17.5314 21.8642 17.3974 21.9981L11.1463 28.3684V34.9619C11.1463 35.2744 11.2505 35.3786 11.563 35.3786H39.5444C40.1993 35.3786 40.75 35.9144 40.75 36.5693C40.75 37.2391 40.1993 37.76 39.5444 37.76H9.9407C9.22628 37.76 8.75 37.2986 8.75 36.5842Z"})})},309534:(e,t,s)=>{s.d(t,{A:()=>i,O:()=>o});var n=s(296540),r=()=>s(959013),a=s(474848);const o=(0,r().YK)({settingsAndMembers:{id:"sidebarSettingsButton.settingsAndMembers",defaultMessage:"Settings & members"},settings:{id:"sidebarSettingsButton.settings",defaultMessage:"Settings"},tooltip:{id:"sidebarSettingsButton.tooltip",defaultMessage:"Manage your account and settings"}}),i=function(e){const{buttonStyles:t}=e,i=(0,r().tz)(),l=i.formatMessage(o.settings),c=(0,s(644914).ab)(),d=(0,n.useCallback)((()=>{s(209660).Ow({openedFrom:"sidebar",currentTab:"user_settings"})}),[]);return(0,a.jsx)(s(859428).A,{renderTooltip:()=>i.formatMessage(o.tooltip),originGap:6,textWrap:!0,placement:s(962730).W.Right,render:e=>(0,a.jsx)(s(704152).A,{...e,onClick:d,style:c.baseSidebarItem,hoveredStyle:null==t?void 0:t.hoveredStyle,children:(0,a.jsx)(s(490044).A,{left:(0,s(253093).j)(c.topButtonIcon),children:l})})})}},509659:(e,t,s)=>{s.d(t,{f:()=>w});s(898992),s(354520),s(430670),s(803949),s(581454);var n=()=>s(203066),r=()=>s(153321),a=s(296540),o=()=>s(847249),i=()=>s(401497),l=()=>s(959044),c=()=>s(204384),d=()=>s(96689),u=()=>s(496603),m=()=>s(534177),p=()=>s(56086),v=()=>s(299545),f=()=>s(47170),g=()=>s(179534),h=()=>s(351360),C=()=>s(865241),b=()=>s(630116);s(517642),s(658004),s(733853),s(845876),s(432475),s(515024),s(731698);class S extends(()=>s(757695))().default{getInitialState(){return{emojisBySpace:{}}}addEmojis(e,t){this.update((s=>{const n=s.emojisBySpace[t]||[],r=new Set(n),a=e.filter((e=>!r.has(e)));if(a.length>0){const e=10-n.length,r=a.slice(0,e);if(r.length>0)return{emojisBySpace:{...s.emojisBySpace,[t]:[...n,...r]}}}return s}))}popEmoji(e){const t=this.state.emojisBySpace[e]||[],s=t[t.length-1];return s&&this.update((s=>({emojisBySpace:{...s.emojisBySpace,[e]:t.slice(0,-1)}}))),s}getEmojis(e){return this.state.emojisBySpace[e]||[]}clearEmojis(e){this.update((t=>({emojisBySpace:{...t.emojisBySpace,[e]:[]}})))}}const y=new S;var M=s(474848);const L=.8,x=1,A=24,R=432,I=1;function w(e){const{children:t}=e,[s,S]=(0,a.useState)(!1),[w,k]=(0,a.useState)(void 0),T=(0,o().K8)((()=>C().A.state.isVisible),[]);(0,o().K8)((()=>{const e=g().A.state.results,t=h().default.state.currentUserRootStore;t&&e.forEach((e=>{var s;const n=(null===(s=e.unreceived)||void 0===s?void 0:s.notificationIds)||[],r=e.spaceId;if(!r||!n.length)return;const a=b().SL.createChildStore(t,{table:d().NX,id:r});if(!a)return;g().A.markNotificationsAsReceived(r,n);const o=n.map((e=>b().sk.createChildStore(a,{table:l()._p,id:e}))),i=u().oE(o.map((e=>{const t=v().g5(e);if(null!=t&&t.isReady())return t}))).filter((e=>"reacted"===(null==e?void 0:e.getType()))).filter((e=>!(null!=e&&e.getInvalid()))).sort(((e,t)=>{const s=Number(null==e?void 0:e.getEndTime())??0;return(Number(null==t?void 0:t.getEndTime())??0)-s})).flatMap((e=>{const t=((null==e?void 0:e.getEdits())||[]).filter((e=>e&&"reaction_id"in e&&"reaction-created"===e.type)).sort(((e,t)=>{const s=(null==e?void 0:e.timestamp)??0;return((null==t?void 0:t.timestamp)??0)-s}))[0];return(null==t?void 0:t.reaction_id)??[]})).map((e=>b().sk.createChildStore(a,{table:c().ez,id:e}))).map((e=>null==e?void 0:e.getIcon())).filter(m().O9);i.length>0&&y.addEmojis(i,r)}))}),[]);const _=(0,f().O)(),q=a.useRef(),B=a.useRef(),P=(0,a.useCallback)((()=>{q.current&&(clearTimeout(q.current),q.current=void 0),B.current&&(clearTimeout(B.current),B.current=void 0),S(!1),k(void 0)}),[]),j=(0,a.useCallback)((()=>{if(!T)return void P();if(!_)return void P();const e=y.popEmoji(_);k(e),e?(S(!0),q.current=setTimeout((()=>{S(!1),B.current=setTimeout((()=>{j()}),1e3*L)}),1e3*x)):P()}),[P,T,_]);(0,o().K8)((()=>{if(!_)return;y.getEmojis(_).length>0&&!s&&!q.current&&j()}),[s,j,_]),(0,a.useEffect)((()=>P),[P]);const U=(0,i().IS)((()=>({container:{display:"flex",alignItems:"center",justifyContent:"center"},badge:{display:"flex",alignItems:"center"}})),[]);return(0,M.jsx)("div",{style:U.container,children:(0,M.jsx)(n().N,{mode:"wait",children:w?(0,M.jsx)(r().P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},transition:{duration:L,type:"spring",damping:A,stiffness:R,mass:I},children:(0,M.jsx)(p().A,{char:w,size:18})},`emoji-${w}`):(0,M.jsx)(r().P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},transition:{duration:L,type:"spring",damping:A,stiffness:R,mass:I},style:U.badge,children:t},"number")})})}},563864:(e,t,s)=>{s.d(t,{S:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("newSidebarInbox",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.79331 5.57891C6.02276 5.21835 6.42052 5 6.84789 5H13.1521C13.5795 5 13.9772 5.21835 14.2067 5.57891C14.2139 5.59022 14.2214 5.60134 14.2292 5.61225L16.6496 9H12.25C11.8358 9 11.5 9.33579 11.5 9.75C11.5 10.5784 10.8284 11.25 10 11.25C9.17157 11.25 8.5 10.5784 8.5 9.75C8.5 9.33579 8.16421 9 7.75 9H3.35037L5.77082 5.61225C5.77861 5.60134 5.78611 5.59022 5.79331 5.57891ZM3 10.5V14.25C3 14.9404 3.55964 15.5 4.25 15.5H15.75C16.4404 15.5 17 14.9404 17 14.25V10.5H12.9055C12.5725 11.7939 11.3979 12.75 10 12.75C8.60212 12.75 7.42755 11.7939 7.09451 10.5H3ZM6.84789 3.5C5.91491 3.5 5.04609 3.97299 4.53955 4.75532L1.82609 8.55319C1.61401 8.85003 1.5 9.20572 1.5 9.57053V14.25C1.5 15.7688 2.73122 17 4.25 17H15.75C17.2688 17 18.5 15.7688 18.5 14.25V9.57053C18.5 9.20572 18.386 8.85003 18.1739 8.55319L15.4604 4.75531C14.9539 3.97299 14.0851 3.5 13.1521 3.5H6.84789Z"})})},598899:(e,t,s)=>{s.d(t,{N:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("newSidebarTemplates",{viewBox:"0 0 20 20",svg:(0,n.jsx)("g",{children:(0,n.jsx)("g",{id:"Layer_1",children:(0,n.jsx)("path",{d:"M18.1572266,15.3720703l-2.3018188-3.9864502c.6661377-.2475586,1.1445923-.8843994,1.1445923-1.6356201V3.75c0-.9648438-.7851562-1.75-1.75-1.75h-6.25c-.9648438,0-1.75.7851562-1.75,1.75v1.5634766c-.2476807-.0355835-.4969482-.0634766-.75-.0634766-2.8950195,0-5.25,2.3549805-5.25,5.25,0,2.8945312,2.3549805,5.25,5.25,5.25.3484497,0,.6890869-.0457764,1.0245972-.1122437-.1846313.4870605-.1571655,1.022583.1101685,1.4862671.3168945.5488281.8842773.8759766,1.5175781.8759766h7.4873047c.6328125,0,1.2001953-.3271484,1.5166016-.875.3173828-.5488281.3173828-1.203125.0009766-1.7529297ZM9,3.5h6.25c.1376953,0,.25.1123047.25.25v6c0,.1376953-.1123047.25-.25.25h-.1946411l-.6422729-1.1123047c-.3164062-.5483398-.8837891-.8759766-1.5166016-.8759766-.6337891,0-1.2011719.3276367-1.5175781.8759766l-.6421509,1.1123047h-1.7421265c-.1347656,0-.2446289-.1098633-.2446289-.2446289v-3.5401611c-.000061-.0013428.0001221-.0026245,0-.0039673v-2.4612427c0-.1376953.1123047-.25.25-.25ZM2.75,10.5c0-2.0678711,1.6821289-3.75,3.75-3.75.2545166,0,.5040894.0332031.75.083252v2.9221191c0,.9619141.7827148,1.7446289,1.7446289,1.7446289h.8760986l-1.1859131,2.0540771c-.0067139.0043945-.0146484.0047607-.0212402.0093994-.6342773.4492188-1.3828125.6865234-2.1635742.6865234-2.0678711,0-3.75-1.6826172-3.75-3.75ZM16.8574219,16.3740234c-.0273438.046875-.0917969.1259766-.2177734.1259766h-7.4873047c-.1264648,0-.190918-.0791016-.2182617-.1259766s-.0634766-.1425781,0-.2519531l3.7436523-6.484375c.125-.2163086.3076172-.2202148.4365234,0l3.7441406,6.4833984c.0625.1103516.0263672.2060547-.0009766.2529297Z"})})})})},598985:(e,t,s)=>{s.d(t,{J:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("templatesNewColored",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{fill:"#FFB110",fillRule:"evenodd",d:"M6.014 16.338a4.429 4.429 0 004.429-4.48H8.88c-.254 0-.512 0-.732-.018a2.26 2.26 0 01-.86-.226 2.24 2.24 0 01-.979-.979 2.26 2.26 0 01-.226-.86 9.471 9.471 0 01-.018-.731V7.48a4.44 4.44 0 014.179 3.111 4.431 4.431 0 00-8.659 1.318 4.43 4.43 0 004.43 4.43z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#097FE8",d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 01.828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.019 1.019 0 01-.414-.718c-.035-.329.197-.73.66-1.532l2.028-3.512z"}),(0,n.jsx)("path",{fill:"#F64932",fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.379c.57 0 .855 0 1.073.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 00-1.521.109c-.46.204-.75.56-.94.83a13.31 13.31 0 00-.594.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1.018 1.018 0 01-.445-.445c-.11-.218-.11-.503-.11-1.074V4.63z",clipRule:"evenodd"})]})})},713823:(e,t,s)=>{s.d(t,{N:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("sidebarSettings",{viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 11.15C10.6352 11.15 11.15 10.6352 11.15 10C11.15 9.3649 10.6352 8.85002 10 8.85002C9.3649 8.85002 8.85002 9.3649 8.85002 10C8.85002 10.6352 9.3649 11.15 10 11.15ZM10 12.35C11.2979 12.35 12.35 11.2979 12.35 10C12.35 8.70216 11.2979 7.65002 10 7.65002C8.70216 7.65002 7.65002 8.70216 7.65002 10C7.65002 11.2979 8.70216 12.35 10 12.35Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66313 13.92L9.29337 15.7942C9.30705 15.835 9.3452 15.8624 9.38815 15.8624H10.6119C10.6548 15.8624 10.693 15.835 10.7066 15.7942L11.3369 13.92L11.8486 13.6609C11.9847 13.592 12.1165 13.5157 12.2435 13.4325L12.7244 13.1173L14.6647 13.509C14.7068 13.5175 14.7496 13.4982 14.7711 13.461L15.3829 12.4012C15.4044 12.364 15.3997 12.3173 15.3713 12.2851L14.0625 10.8013L14.0938 10.2287C14.0979 10.1531 14.1 10.0769 14.1 10C14.1 9.92309 14.0979 9.8468 14.0938 9.77119L14.0625 9.19865L15.3713 7.71477C15.3997 7.68257 15.4044 7.63582 15.3829 7.59862L14.7711 6.53886C14.7496 6.50166 14.7068 6.48233 14.6647 6.49083L12.7243 6.8826L12.2434 6.56746C12.1164 6.48424 11.9847 6.40796 11.8487 6.33909L11.3369 6.07998L10.7066 4.20568C10.693 4.16497 10.6548 4.13755 10.6119 4.13755L9.38815 4.13755C9.3452 4.13755 9.30705 4.16497 9.29337 4.20568L8.6631 6.08L8.15134 6.33911C8.01535 6.40796 7.88361 6.48424 7.75665 6.56744L7.27577 6.88258L5.33531 6.4908C5.29321 6.4823 5.25039 6.50162 5.22891 6.53882L4.61706 7.59858C4.59558 7.63578 4.60026 7.68253 4.62867 7.71473L5.93757 9.19866L5.90625 9.77121C5.90211 9.84681 5.90001 9.92309 5.90001 10C5.90001 10.0769 5.90211 10.1531 5.90625 10.2287L5.93756 10.8012L4.62867 12.2851C4.60026 12.3173 4.59559 12.3641 4.61706 12.4013L5.22892 13.461C5.25039 13.4982 5.29322 13.5176 5.33531 13.5091L7.27565 13.1173L7.75654 13.4325C7.88354 13.5157 8.01533 13.592 8.15137 13.6609L8.66313 13.92ZM6.98912 14.6034C7.15941 14.715 7.33626 14.8174 7.51897 14.9099L7.96638 16.2405C8.1717 16.8511 8.74396 17.2624 9.38815 17.2624H10.6119C11.2561 17.2624 11.8283 16.8511 12.0336 16.2405L12.481 14.91C12.6638 14.8174 12.8406 14.715 13.0109 14.6034L14.3876 14.8813C15.0191 15.0088 15.6614 14.7189 15.9835 14.161L16.5953 13.1012C16.9174 12.5433 16.8474 11.8421 16.4212 11.359L15.4917 10.3052C15.4972 10.2041 15.5 10.1024 15.5 10C15.5 9.89756 15.4972 9.79578 15.4917 9.69472L16.4212 8.64087C16.8474 8.15776 16.9174 7.45651 16.5954 6.89862L15.9835 5.83886C15.6614 5.28097 15.0191 4.99103 14.3876 5.11852L13.0108 5.3965C12.8405 5.28493 12.6637 5.18255 12.4811 5.09007L12.0336 3.75947C11.8283 3.14887 11.2561 2.73755 10.6119 2.73755H9.38815C8.74396 2.73755 8.1717 3.14886 7.96638 3.75946L7.51894 5.09008C7.33629 5.18256 7.1595 5.28493 6.98928 5.39648L5.61238 5.11849C4.98092 4.991 4.33858 5.28093 4.01648 5.83882L3.40462 6.89858C3.08253 7.45647 3.15261 8.15772 3.57874 8.64083L4.50834 9.69474C4.50281 9.79579 4.50001 9.89757 4.50001 10C4.50001 10.1024 4.50281 10.2041 4.50833 10.3052L3.57875 11.359C3.15261 11.8421 3.08253 12.5434 3.40463 13.1013L4.01648 14.161C4.33858 14.7189 4.98092 15.0089 5.61237 14.8814L6.98912 14.6034Z"})]})})},763336:(e,t,s)=>{s.d(t,{U:()=>g,W:()=>f});s(296540);var n=()=>s(484714),r=()=>s(847249),a=()=>s(401497),o=()=>s(598899),i=()=>s(959013),l=()=>s(981084),c=()=>s(644914),d=()=>s(962730),u=()=>s(296798),m=()=>s(859428),p=()=>s(490044),v=s(474848);function f(e){const{styles:t}=e,s=(0,n().v3)(),f=(0,i().tz)(),h=(0,r().K8)((()=>{const{RouterStore:e}=s;return e.state.route}),[s]),C=(0,a().IS)((e=>({templateGalleryNewLogoIcon:{height:20,width:20}})),[]),b=(0,c().ab)(),S=(0,l().U)("marketplace_sidebar_option_click");return(0,v.jsx)(m().A,{renderTooltip:()=>f.formatMessage(g.templatesMwnTooltip),originGap:6,placement:d().W.Right,render:e=>(0,v.jsx)(u().A,{style:t.sidebarItemButtonStyle,hoveredStyle:t.buttonHoveredStyle,onClick:S,...e,children:(0,v.jsx)(p().A,{left:(0,o().N)({...b.bottomButtonIcon,...C.templateGalleryNewLogoIcon}),isBottomItem:!0,style:"gallery"===h.name?t.sidebarItemActiveStyle:{},children:f.formatMessage(g.title)})})})}const g=(0,i().YK)({templatesMwnTooltip:{defaultMessage:"Find all the best templates and set-ups built by Notionâ€™s community",id:"sidebar.openTemplatePickerButton.tooltip.mwn"},title:{defaultMessage:"Templates",id:"sidebar.openTemplatePickerButton"}})},806638:(e,t,s)=>{s.d(t,{P:()=>a});var n=()=>s(427704),r=()=>s(435009);function a(e){const{environment:t}=e;r().oo({environment:t,url:n().JZ.marketplace,redirect:!1})}},946172:(e,t,s)=>{s.d(t,{m:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("appearanceSetting",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm2.445-4.906c-2.367 0-3.883-1.484-3.883-3.851 0-.493.133-1.188.274-1.555.047-.102.047-.164.047-.203a.246.246 0 00-.25-.25.75.75 0 00-.258.047c-1.617.64-2.703 2.39-2.703 4.226 0 2.57 1.968 4.406 4.53 4.406 1.884 0 3.5-1.156 4.056-2.57a.618.618 0 00.054-.234.269.269 0 00-.258-.274.62.62 0 00-.187.032 4.623 4.623 0 01-1.422.226z"})})},981084:(e,t,s)=>{s.d(t,{U:()=>d});var n=s(296540),r=()=>s(484714),a=()=>s(427704),o=()=>s(435009),i=()=>s(652617),l=()=>s(989423),c=()=>s(806638);function d(e,t){const s=(0,r().v3)(),{isPhone:d}=(0,r().Y0)(),u=(0,n.useContext)(i().e);return(0,n.useCallback)((n=>{if((0,l().u4)({environment:s,event:{eventName:e,eventProperties:{}}}),d)null==u||u(),o().oo({environment:s,url:"/nativetab/templates",redirect:!0});else{const e="click"===n.type&&(n.metaKey||n.ctrlKey);(null==t?void 0:t.forceOpenInNewTab)||e?o().oo({environment:s,url:a().JZ.marketplace,openInNew:"tab",makeTabActive:!e&&s.device.isDesktop}):(0,c().P)({environment:s})}}),[s,e,t,d,u])}}}]);