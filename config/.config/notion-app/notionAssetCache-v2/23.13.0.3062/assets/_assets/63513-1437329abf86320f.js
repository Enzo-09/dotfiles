"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[63513],{205809:(e,t,i)=>{i.d(t,{A:()=>w});i(296540);var n=()=>i(484714),o=()=>i(847249),r=()=>i(401497),s=()=>i(584262),a=()=>i(859384),l=()=>i(116225),d=()=>i(959013),c=()=>i(705540),u=()=>i(285790),g=()=>i(35392),p=()=>i(859428),h=()=>i(47373),m=()=>i(728611),b=()=>i(492414),f=()=>i(640653),v=()=>i(963589),x=()=>i(962730),y=()=>i(351360),S=()=>i(551694),I=()=>i(869562),M=i(474848);function w(e){let{from:t,onClick:i,iconStyle:w}=e;const j=(0,n().v3)(),{isTablet:A}=(0,n().Y0)(),k=(0,d().tz)(),C=(0,o().O$)(y().AppStoreCurrentSpaceStore),B=(0,o().K8)((()=>y().default.state.currentUserRootStore),[]),_=(0,o().K8)((()=>(0,f().IL)(C)),[C]),L=(0,o().K8)((()=>(0,h().i3)({environment:j,spaceStore:C,userRootStore:B})),[j,C,B]),P=(0,v().X)("sidebar_add_new_pages_to_bottom"),R=(0,v().X)("tablet_refresh_gate"),T=(0,r().IS)((e=>({shortcutLabel:{color:e.text.contrastSecondary},button:{width:28,height:28,marginTop:A&&R?-15:void 0,marginRight:A&&R?10:void 0,borderRadius:4},icon:{width:22,height:22,fill:e.text.primary,...w},iconDisabled:{opacity:.4},hovered:{background:e.sidebarItemSelectedBackground}})),[w,A,R]);return _?"sidebar_new_page_button"===t&&L?(0,M.jsx)(u().A,{icon:a().M,ariaLabel:k.formatMessage(I().newPageMessages.label),onClick:e=>{S().A.open()},style:T.button,iconStyle:{...T.icon,...T.iconDisabled}}):null:(0,M.jsx)(p().A,{renderTooltip:()=>(0,M.jsxs)(M.Fragment,{children:[k.formatMessage(I().newPageMessages.tooltip),j.device.isNative&&(0,M.jsx)("div",{children:(0,M.jsx)(g().A,{style:T.shortcutLabel,name:"newPage"})})]}),originGap:6,placement:x().W.Right,render:e=>(0,M.jsx)(u().A,{...e,icon:a().M,ariaLabel:k.formatMessage(I().newPageMessages.label),onClick:async e=>{if(C){const i=j.device.isElectron&&m().Vr(e),n=await I().quickAddPage({environment:j,from:t,event:e,navigateOnCreate:!i,prependPrivatePage:!P});if(i&&n){const e=(0,b().Ay)({store:n,pageVisitSource:s().y8.SidebarQuickAdd});c().openNotionUrl({makeTabActive:!0,url:e,position:"end",openInNew:i,isNewPage:!0,environment:j})}"sidebar_private_pane"===t&&l().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}i&&i()},style:T.button,iconStyle:T.icon,hoveredStyle:T.hovered})})}},303742:(e,t,i)=>{i.d(t,{o:()=>r});var n=()=>i(640653),o=()=>i(508496);function r(e){return!!e&&Boolean((0,n().IL)(e)&&"external_pages_sidebar"===o().default.getEligibleGroup({experimentId:"sharing_collaboration_sidebar_guest_aggregation"}))}},347930:(e,t,i)=>{i.d(t,{H:()=>r});var n=()=>i(645873);const o=new(n().O2)("permissionsInviteWithModal",(async()=>await Promise.all([i.e(75134),i.e(43380),i.e(9304),i.e(96346),i.e(55373),i.e(36192),i.e(44711),i.e(62475),i.e(3151),i.e(16471),i.e(53321),i.e(58550),i.e(98629),i.e(90825),i.e(37353),i.e(29151),i.e(31895),i.e(83647),i.e(22900),i.e(49889),i.e(97727),i.e(85128),i.e(83700),i.e(95555),i.e(58823),i.e(85864),i.e(92845),i.e(71718),i.e(83324),i.e(74562),i.e(38744),i.e(63077),i.e(28271),i.e(17254),i.e(41870),i.e(90966),i.e(42120),i.e(7114),i.e(67435),i.e(92012),i.e(22462),i.e(8184),i.e(4422),i.e(28721),i.e(28866),i.e(21194),i.e(6463),i.e(71993),i.e(1213),i.e(17989),i.e(90625),i.e(59794),i.e(78846),i.e(26483),i.e(43741),i.e(81768),i.e(94387),i.e(82850),i.e(52393),i.e(77692),i.e(75601),i.e(11341),i.e(7060),i.e(82136),i.e(12739),i.e(26090),i.e(73594),i.e(93282),i.e(12341),i.e(50984),i.e(66984),i.e(40828),i.e(26199),i.e(18057),i.e(90978),i.e(56264),i.e(5023),i.e(55927),i.e(61151),i.e(72226),i.e(48199),i.e(67780),i.e(96933),i.e(87598),i.e(23063),i.e(3965),i.e(84341),i.e(80533),i.e(45620),i.e(58221),i.e(44763),i.e(8081),i.e(67183),i.e(64598),i.e(82720),i.e(4253),i.e(86787),i.e(77465),i.e(24593),i.e(80896),i.e(1440),i.e(67378),i.e(58504),i.e(97308),i.e(63996),i.e(20636),i.e(66268),i.e(55717),i.e(7005),i.e(40186),i.e(22585),i.e(73206),i.e(43020),i.e(33235),i.e(91957),i.e(84176),i.e(16357),i.e(75681)]).then(i.bind(i,895469)))),r=(0,n()._h)(o,(e=>e.PermissionsInviteWithModal))},394783:(e,t,i)=>{i.d(t,{A:()=>a});i(296540);var n=()=>i(284371),o=()=>i(722872),r=()=>i(406699),s=i(474848);const a=function(e){let{emailAddress:t,disabled:a,accountActions:l,prefix:d}=e;const c=(0,i(484714).v3)(),{device:u}=c,g=(0,i(847249).uB)(void 0,i(463830).A);let p;p=u.isMobile?{menuType:o().gu.ActionSheet}:{menuType:o().gu.Popup};const h=(0,i(401497).IS)((e=>({container:{height:u.isMobile?24:20,marginTop:d?1:u.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:e.text.secondary,transition:"opacity 150ms ease"},text:{fontSize:(0,i(115512).ny)(c,"UISmall"),lineHeight:n().K_.UISmall.desktop,fontWeight:n().Wy.medium,marginRight:6},button:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:u.isMobile?24:20,height:u.isMobile?24:20,borderRadius:4},buttonIcon:{width:u.isMobile?18:12,height:u.isMobile?18:12},prefix:{textAlign:"right",height:u.isMobile?16:18,marginTop:u.isMobile?8:4,marginLeft:12,marginRight:18,color:e.text.secondary,transition:"opacity 150ms ease"}})),[u.isMobile,c,d]);return(0,s.jsxs)(s.Fragment,{children:[d&&(0,s.jsx)("div",{style:h.prefix,children:d}),(0,s.jsxs)("div",{style:h.container,children:[(0,s.jsx)(i(265665).j,{style:h.text,children:t}),(0,s.jsx)(r().Ay,{popupType:u.isMobile?r().z7.SlideUp:r().z7.Popup,buttonPopupStore:g,renderOrigin:e=>{if(!a)return(0,s.jsx)(i(704152).A,{...e,style:h.button,children:(0,i(30626)._)(h.buttonIcon)})},render:()=>(0,s.jsx)(i(928600).A,{...p,children:(0,s.jsx)(i(452558).A,{sections:[{key:"option section",render:e=>(0,s.jsx)(i(89924).A,{...e}),actions:l}],context:{environment:c,blocks:[],publicEditMode:void 0}})})})]})]})}},562866:(e,t,i)=>{i.d(t,{$c:()=>a,aI:()=>s,cx:()=>r,uf:()=>o});var n=()=>i(645873);const o={RequestMembersModal:new(n().O2)("RequestMembersModal",(()=>Promise.all([i.e(75134),i.e(43380),i.e(96346),i.e(55373),i.e(36192),i.e(44711),i.e(62475),i.e(3151),i.e(16471),i.e(53321),i.e(58550),i.e(98629),i.e(90825),i.e(37353),i.e(29151),i.e(31895),i.e(83647),i.e(85864),i.e(92845),i.e(71718),i.e(83324),i.e(48486),i.e(95794),i.e(85515),i.e(74562),i.e(38744),i.e(63077),i.e(28271),i.e(17254),i.e(41870),i.e(90966),i.e(42120),i.e(7114),i.e(67435),i.e(92012),i.e(22462),i.e(8184),i.e(4422),i.e(28721),i.e(28866),i.e(21194),i.e(6463),i.e(71993),i.e(1213),i.e(17989),i.e(90625),i.e(59794),i.e(78846),i.e(26483),i.e(43741),i.e(81768),i.e(94387),i.e(82850),i.e(52393),i.e(77692),i.e(75601),i.e(11341),i.e(7060),i.e(82136),i.e(12739),i.e(26090),i.e(73594),i.e(93282),i.e(12341),i.e(50984),i.e(66984),i.e(40828),i.e(26199),i.e(18057),i.e(90978),i.e(56264),i.e(5023),i.e(55927),i.e(61151),i.e(72226),i.e(48199),i.e(64598),i.e(38119),i.e(77282)]).then(i.bind(i,123350)))),GoogleImportsInviteWithModal:new(n().O2)("GoogleImportsInviteWithModal",(()=>Promise.all([i.e(96346),i.e(85864),i.e(92845),i.e(71718),i.e(83324),i.e(48486),i.e(95794),i.e(38744),i.e(51195),i.e(51226)]).then(i.bind(i,720193)))),InviteDropdownMenuItemLabel:new(n().O2)("InviteDropdownMenuItemLabel",(()=>i.e(25171).then(i.bind(i,726799)))),personPropertyInviteActions:new(n().O2)("personPropertyInviteActions",(()=>Promise.all([i.e(96346),i.e(85864),i.e(92845),i.e(71718),i.e(83324),i.e(48486),i.e(95794),i.e(38744),i.e(57613)]).then(i.bind(i,980270))))},r=(0,n()._h)(o.RequestMembersModal,(e=>e.RequestMembersModal)),s=(0,n()._h)(o.GoogleImportsInviteWithModal,(e=>e.GoogleImportsInviteWithModal)),a=(0,n()._h)(o.InviteDropdownMenuItemLabel,(e=>e.InviteDropdownMenuItemLabel))},575104:(e,t,i)=>{i.d(t,{QH:()=>E,z_:()=>K,Ay:()=>G});i(898992),i(803949);var n=i(296540),o=()=>i(484714),r=()=>i(847249),s=()=>i(401497),a=()=>i(175947),l=()=>i(959013),d=()=>i(899963),c=()=>i(496414),u=()=>i(664713),g=()=>i(406699),p=()=>i(963589),h=()=>i(351360),m=()=>i(263928),b=()=>i(320460),f=()=>i(214006),v=(i(354520),i(581454),()=>i(187174)),x=()=>i(763824),y=()=>i(534177),S=()=>i(449506),I=()=>i(640653),M=()=>i(646736);var w=()=>i(66913),j=()=>i(553034),A=()=>i(100622),k=()=>i(284371),C=()=>i(285790),B=()=>i(864943),_=()=>i(897119),L=()=>i(722038),P=()=>i(962730),R=()=>i(377586),T=()=>i(227440),U=()=>i(404141),W=i(474848);const O=(0,l().YK)({offlineIcon:{id:"offlineIndicator.icon",defaultMessage:"No internet connection"},closeIcon:{id:"offlineIndicator.popup.closeIcon",defaultMessage:"Close"}});function z(){const[e,t]=(0,n.useState)(!1),i=(0,l().tz)(),{isElectron:a}=(0,o().Y0)(),d=(0,L().y)(),c=(0,r().K8)((()=>!T().A.state.online&&a&&d),[a,d]),u=(0,A().O4)({theme:"dark"}),g=(0,s().IS)((e=>({iconButton:{width:28,height:28},icon:{width:22,height:22,fill:e.text.primary},iconHover:{background:e.sidebarItemSelectedBackground},popup:{background:e.tooltipBackground,color:e.text.contrastPrimary,width:280,padding:12,fontSize:14},title:{fontWeight:k().Wy.medium},subtitle:{color:e.text.secondary},closeButton:{width:24,height:24,position:"absolute",right:8,top:8},closeIcon:{width:14,height:14,fill:u.accentColors.translucentGray[800]},closeHovered:{background:u.state.hover},closePressed:{background:u.state.pressed},settingsButtonContainer:{display:"flex",justifyContent:"end",paddingTop:10},settingsButton:{border:`1px solid ${u.outlineButtonBorder}`},settingsHover:{background:u.state.hover},settingsPressed:{background:u.state.pressed}})),[u]),p=(0,n.useCallback)((()=>t(!e)),[e]),h=(0,n.useCallback)((()=>t(!1)),[]),m=(0,r().K8)((()=>(0,W.jsx)(C().A,{icon:j().C,ariaLabel:i.formatMessage(O.offlineIcon),onClick:p,style:g.iconButton,iconStyle:g.icon,hoveredStyle:g.iconHover})),[i,p,g]);return c?(0,W.jsx)(_().Ay,{origin:m,originGap:2,open:e,onClosed:h,onDismiss:h,popupType:R().n.Popup,placementToOrigin:P().W.Bottom,alignmentToOrigin:P().C.Start,popupWrapStyle:g.popup,render:()=>(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{style:g.title,children:(0,W.jsx)(l().sA,{id:"offlineIndicator.popup.title",defaultMessage:"No internet connection"})}),(0,W.jsx)(C().A,{ariaLabel:i.formatMessage(O.closeIcon),icon:()=>(0,w().V)(g.closeIcon),style:g.closeButton,hoveredStyle:g.closeHovered,pressedStyle:g.closePressed,onClick:h}),(0,W.jsx)("div",{style:g.subtitle,children:(0,W.jsx)(l().sA,{id:"offlineIndicator.popup.subtitle",defaultMessage:"Return online for full access, or manage your offline settings."})}),(0,W.jsx)("div",{style:g.settingsButtonContainer,children:(0,W.jsx)(B().A,{style:g.settingsButton,hoveredStyle:g.settingsHover,pressedStyle:g.settingsPressed,size:"sm",onClick:()=>{U().A.setState({open:!0,openedFrom:"sidebar_offline_indicator",currentTab:"offline",defaultSubtab:void 0,highlightedSetting:void 0}),h()},children:(0,W.jsx)(l().sA,{id:"offlineIndicator.popup.manageOfflinePagesButton",defaultMessage:"Manage offline pages"})})})]}),trapFocus:!0}):null}let K=function(e){return e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile",e}({});const E=300,H={[K.Regular]:a().$C-8,[K.DesktopMac]:a().Uu,[K.Mobile]:"auto"},N={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"},F=i(757695).default.createClass(!1,{name:"SidebarSwitcherIsHoveredStore"});const G=function(e){let{shouldShowUnexpandButton:t,shouldShowCreatePageButton:a,disabled:w,format:j,buttonStyle:A,redirectURL:k,disableLoginLink:C,onSpaceClick:B,hideEmail:_,shouldShowCreateOrJoinWorkspaceButtonInFooter:L=!1}=e;const P=(0,o().v3)(),R=(0,r().uB)(void 0,F),T=(0,r().uB)(void 0,i(791627).A),U=(0,r().uB)(void 0,i(20489).A),{device:O}=P,{isTablet:K}=(0,o().Y0)(),{currentSpaceStore:G,currentUserStore:q}=(0,r().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=h().default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),V=(0,r().K8)((()=>{const{mainEditorCurrentBlockStore:e}=h().default.state;return null==e?void 0:e.getSpaceStore()}),[]),Y=P.currentUser.loggedInUserIds,$=(0,r().K8)((()=>{if(!_)return Y.length>1?null==q?void 0:q.getEmail():void 0}),[Y,q,_]),X=(0,r().O$)(R),Z=(0,r().K8)((()=>i(846955).default.isTutorialStepActive("create_page_sidebar")&&a),[a]),Q=(0,p().X)("organization_console_ga_enabled"),{organizationsInfo:J}=(0,i(926938).q)(),{spaceInfo:ee}=function(e){const{userId:t}=e,i=(0,o().v3)(),n=(0,r().K8)((()=>t?f().A.getSpaceViewStores(i,t):[]),[i,t]),s=(0,r().K8)((()=>n.map((e=>e.getSpaceStore())).filter(y().O9)),[n]),a=(0,r().K8)((()=>t?s.map((e=>{const i=(0,M().dp)(e,t).isWorkspaceOwner(),n="enterprise"===e.getSubscriptionTier();if(i&&n)return e})).filter(y().O9):[]),[s,t]),l=(0,p().X)("organization_console_ga_enabled"),[{value:d,status:c}]=(0,v().Yb)((async()=>{if(l)return(await(0,x().lX)(a,10,(e=>{const t=e.id;return S().callApi({eventName:"getOrganizationOnboardingInfo",environment:i,data:{spaceId:t}}).then((n=>{if("success"===n.type)return"ineligible"===n.data.result.onboardingStatus||"completed"===n.data.result.onboardingStatus?void 0:{spaceId:t,spaceName:(0,I().GK)(i,e)}}))}))).filter(y().O9)}),[i,l,a]);return{spaceInfo:d??[],isLoading:"resolved"!==c}}({userId:P.currentUser.id}),te=(0,n.useMemo)((()=>({organizationsInfo:J,spaceInfo:Q?ee:[]})),[Q,J,ee]),ie=(0,r().uB)(void 0,i(986229).A),ne=(0,r().K8)((()=>ie.state.modalOpen),[ie]),oe=(0,s().IS)((e=>({popup:{...O.isMobile?{}:{width:E,overflow:"hidden"}},button:{...N,height:H[j],marginLeft:4,marginRight:4,marginTop:O.isMobile?0:4,width:"calc(100% - 8px)",borderRadius:4,marginBottom:$?O.isMobile?0:8:0,padding:0,...A},spaceName:{marginLeft:0},hoveredStyle:{background:e.sidebarItemSelectedBackground},unexpand:{borderRadius:4,width:28,height:28,marginRight:4},unexpandHover:{fill:e.text.primary,background:e.sidebarItemSelectedBackground},rightButtonsContainer:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",marginRight:0},rightButtons:{alignItems:"center",display:"inline-flex",marginRight:2,gap:2}})),[$,A,O.isMobile,j]),re=async()=>i(869562).quickAddPage({environment:P,from:"home_checklist"}),se=(0,n.useCallback)((()=>{const e=(0,l().YK)({invitingMembers:{id:"sidebarSwitcherMultiAccount.inviteMember.loadingMessage",defaultMessage:"Updatingâ€¦"}});c().m({message:e.invitingMembers})}),[]),ae=(0,n.useCallback)(((e,t)=>{c().V();const n=e?(0,W.jsx)(l().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,W.jsx)(l().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});i(436572).D6({label:n})}),[]),le=G||V;if(!le||!q)return null;const de=Boolean(w)||Z;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(g().Ay,{popupType:O.isMobile?g().z7.SlideUp:g().z7.Popup,buttonPopupStore:b().A,renderOrigin:()=>(0,W.jsxs)(i(704152).A,{style:oe.button,mobileFeedback:O.isMobile,onClick:()=>function(e){b().A.setState({...b().A.state,open:!0}),d().PL(e),e.currentUser.loggedInUserIds.forEach((t=>{f().A.getSpaceViewStores(e,t).forEach((i=>{const n=i.getSpaceId();n&&(u().Z({environment:e,spaceId:n,userId:t}),m().J({environment:e,spaceId:n,userId:t}))}))}))}(P),disabled:de,className:i(38337).eGX,hovered:X,hoveredStyle:oe.hoveredStyle,ignoreLocalHoverState:!0,onMouseEnter:()=>R.setState(!0),onMouseLeave:()=>R.setState(!1),children:[(0,W.jsx)(i(771660).A,{isMobile:D(j),spaceStore:le,activeUserEmailAddress:$,showExpand:!de,type:"store",style:oe.spaceName}),(0,W.jsx)("div",{style:oe.rightButtonsContainer,children:(0,W.jsxs)("div",{style:oe.rightButtons,children:[t&&(0,W.jsx)(i(277201).I,{style:oe.unexpand,hoveredStyle:oe.unexpandHover}),(0,W.jsx)(z,{}),!K&&a&&(0,W.jsx)(i(998109).n,{step:"create_page_sidebar",isFullWidth:!1,onNextButtonClick:re,wrapperStyle:{display:"flex"},children:(0,W.jsx)(i(205809).A,{from:"sidebar_new_page_button"})})]})})]}),originGap:0,disableMutationObserver:!0,forceInitialInbound:!0,style:oe.popup,render:e=>(0,W.jsx)(i(362749).UL,{permissionsInviteStore:ie,parent:e,redirectURL:k,disableLoginLink:C,onSpaceClick:B,loginStore:U,loginPermissionsStore:T,organizationEntryPointProps:te,shouldShowCreateOrJoinWorkspaceButtonInFooter:L})}),ne&&(0,W.jsx)(i(347930).H,{store:le,permissionsInviteStore:ie,origin:(0,W.jsx)(W.Fragment,{}),membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,upgradeButtonName:"space_permission_settings",onInviteClick:se,onInviteComplete:ae,analyticsFrom:"space_switcher_invite_button"}),(0,W.jsx)(i(562866).cx,{store:le,origin:(0,W.jsx)(W.Fragment,{}),analyticsFrom:"space_switcher_add_members"})]})};function D(e){return e===K.Mobile}},751348:(e,t,i)=>{i.d(t,{n:()=>r});var n=()=>i(847249),o=()=>i(303742);function r(e){return(0,n().K8)((()=>(0,o().o)(e)),[e])}},771660:(e,t,i)=>{i.d(t,{A:()=>v});var n=i(296540),o=()=>i(484714),r=()=>i(847249),s=()=>i(401497),a=()=>i(343916),l=()=>i(284371),d=()=>i(640653),c=()=>i(179534),u=()=>i(802963),g=()=>i(460292),p=()=>i(614505),h=()=>i(490044),m=i(474848);const b=function(e){const{showIcon:t}=e,n=(0,s().DP)(),o=(0,s().IS)((e=>{const i=Math.ceil(60),n=Math.floor(85),o=`${Math.floor(Math.random()*(n-i+1))+i}%`;return{placeholderPageStyle:{height:28,display:"flex",alignItems:"center",width:"100%",padding:t?"0 15px":"0 0px"},placeholderTextWrapStyle:{flexGrow:1,marginLeft:t?10:0,height:28,display:"flex",alignItems:"center"},placeholderTextStyle:{height:4,background:e.buttonHoveredBackground,width:o}}}),[t]);return(0,m.jsxs)("div",{style:o.placeholderPageStyle,children:[t&&(0,i(926329).b)({width:16,height:16,fill:n.buttonHoveredBackground}),(0,m.jsx)("div",{style:o.placeholderTextWrapStyle,children:(0,m.jsx)("div",{style:o.placeholderTextStyle})})]})},f={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const v=function(e){const t=(0,s().DP)(),a=(0,o().v3)(),{device:c}=a,u="name"===e.type?e.spaceName:void 0,g="store"===e.type?e.spaceStore:void 0,p=(0,i(751348).n)(g),b=(0,r().K8)((()=>"store"===e.type&&g?(0,d().GK)(a,g):u),[a,e.type,u,g]);return(0,n.useEffect)((()=>{"store"===e.type&&(null==g||g.getValue())}),[g,e.type]),p?(0,m.jsx)(h().A,{left:(0,m.jsx)(M,{}),children:(0,m.jsx)(i(959013).sA,{defaultMessage:"External Pages",id:"sidebarSwitcher.externalPagesButton.title"})}):(0,m.jsxs)(h().A,{style:{overflow:"hidden",paddingLeft:8,paddingRight:8,...e.isMobile&&{fontSize:14,padding:0,marginRight:12},...e.style},left:b?(0,m.jsx)(S,{title:b,icon:"store"===e.type?void 0:e.spaceIcon,isMobile:e.isMobile,spaceStore:"store"===e.type?e.spaceStore:void 0}):(0,m.jsx)(x,{}),disableMobileBorder:!0,children:[!b&&(0,m.jsx)(y,{}),b&&(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:e.activeUserEmailAddress?"space-between":"start"},className:"notranslate",children:[(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:6,marginTop:c.isAndroid?3:0,...f},children:[(0,m.jsx)("div",{style:{color:t.text.primary,fontWeight:l().Wy.medium,...f,lineHeight:"20px"},children:b}),(0,m.jsx)("div",{style:{color:t.text.secondary,fontSize:11,lineHeight:"16px",fontWeight:l().Wy.regular,...f},children:e.activeUserEmailAddress})]}),e.showExpand&&(0,m.jsx)("div",{style:{flexGrow:0,flexShrink:0,width:10,height:10,marginLeft:2,fill:t.mediumIconColor},children:(0,i(883234)._)()})]})]})};function x(){return(0,m.jsx)("div",{style:{opacity:.25},children:(0,m.jsx)(u().A,{size:20,title:void 0})})}function y(){return(0,m.jsx)(b,{showIcon:!1})}function S(e){let{title:t,icon:i,isMobile:n,spaceStore:a}=e;const u=(0,s().DP)(),g=(0,o().v3)(),h=(0,r().K8)((()=>a?(0,d().c2)(g,a):i?{icon:i,pointer:{table:"space",id:"undefined"}}:void 0),[a,g,i]),b=(0,r().K8)((()=>a?(0,d().GK)(g,a):t),[a,g,t]),f=(0,r().K8)((()=>c().A.getUnreadMentionsCountForOtherSpaces()>0),[]);return(0,m.jsxs)("div",{style:{position:"relative"},children:[(0,m.jsx)(p().B,{disabled:!0,icon:h,isEmptyPage:!1,title:b,size:n?24:22,style:{marginTop:1,color:u.text.primary,fontWeight:l().Wy.medium}}),f&&(0,m.jsx)(I,{})]})}function I(){const e=(0,s().IS)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:0,right:-3,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,m.jsx)("div",{style:e.unreadBadge})}function M(){const e=(0,s().IS)((e=>({iconWrapper:{height:24,width:24,background:e.surface.wash,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return(0,m.jsx)("div",{style:e.iconWrapper,children:(0,m.jsx)(g().Q,{colorName:"graySecondary",iconGroup:a().i,variantName:"default"})})}},791627:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().default{getInitialState(){return{contacts:!1}}}const o=n},863513:(e,t,i)=>{i.d(t,{A:()=>m});i(296540);var n=()=>i(484714),o=()=>i(847249),r=()=>i(401497),s=()=>i(517592),a=()=>i(959013),l=()=>i(100622),d=()=>i(284371),c=()=>i(575104),u=()=>i(351360),g=()=>i(394783),p=i(474848);const h={borderRadius:4,marginBottom:0};function m(e){const{onSpaceSwitch:t,disableAccountSwitcher:i,singleSpaceToSelect:m,useEmailAccount:b}=e,f=(0,a().tz)(),v=function(){const{isMobile:e}=(0,n().Y0)();return(0,r().IS)((()=>({container:{display:"flex",alignItems:"center",justifyContent:"space-between",height:60,paddingLeft:20,paddingRight:8,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:l().Ay.contentBorder},notionLogo:{width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0},notionTitle:{fontWeight:d().Wy.medium,fontSize:16},switcherButton:{borderRadius:4,marginBottom:0}})),[e])}(),{currentUserEmail:x,currentUserId:y}=(0,o().K8)((()=>{const{currentUserStore:e}=u().default.state;return{currentUserEmail:null==e?void 0:e.getEmail(),currentUserId:null==e?void 0:e.id}}),[]);return(0,p.jsxs)("div",{style:v.container,children:[(0,s().A)(v.notionLogo),(0,p.jsx)("div",{style:v.notionTitle,children:"Notion"}),(0,p.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,p.jsx)("div",{style:{flexShrink:0},children:b?x&&y?(0,p.jsx)(g().A,{prefix:f.formatMessage({id:"oauthAuthorizationTopBar.loggedInAs",defaultMessage:"Logged in as"}),emailAddress:x,userId:y,disabled:!0,accountActions:[]}):(0,p.jsx)(p.Fragment,{}):(0,p.jsx)(c().Ay,{format:c().z_.Regular,onSpaceClick:e=>{let{spaceViewStore:i}=e;return t(i)},shouldShowUnexpandButton:!1,shouldShowCreatePageButton:!1,disableLoginLink:!0,buttonStyle:h,disabled:i,singleSpaceToSelect:m})})]})}},883234:(e,t,i)=>{i.d(t,{_:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,n.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},926329:(e,t,i)=>{i.d(t,{b:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("templates",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},926938:(e,t,i)=>{i.d(t,{q:()=>a});var n=()=>i(484714),o=()=>i(187174),r=()=>i(534177),s=()=>i(449506);function a(){const e=(0,n().v3)(),[{status:t,error:i,value:a},l]=(0,o().Yb)((async()=>{const t=await s().callApi({eventName:"getUserOrganizations",environment:e,data:{}});if("success"===t.type)return t.data;if("failed"===t.type)throw t.error;return(0,r().HB)(t)}),[e]);return{organizationsInfo:(null==a?void 0:a.organizationsInfo)??[],loading:"pending"===t||"idle"===t,error:i,refresh:l}}},986229:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:i(179034).ev,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const o=n}}]);