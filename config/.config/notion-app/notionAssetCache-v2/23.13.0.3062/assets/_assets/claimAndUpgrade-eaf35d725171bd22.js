"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[20108,47381],{15897:(e,t,n)=>{n.d(t,{A:()=>d});n(581454),n(296540);var r=()=>n(401497),i=()=>n(962730),a=()=>n(704152),o=()=>n(859428),s=n(474848);function l(e){const{isFirst:t,isLast:n,isSelected:l,item:d,itemStyle:c,selectedItemStyle:u,innerStyle:p,children:g,colors:m,onClick:h}=e,{isDisabled:f,tooltip:x}=d,y=(0,r().IS)((e=>{const r=(null==m?void 0:m.selectedOutline)??e.blueColor,i=(null==m?void 0:m.unselectedOutline)??e.selectorBorderUnselected;return{SegmentedItem:{alignItems:"center",background:l?null==m?void 0:m.selectedBackground:void 0,borderBottomLeftRadius:t?3:0,borderBottomRightRadius:n?3:0,borderColor:l?r:i,borderStyle:"solid",borderTopLeftRadius:t?3:0,borderTopRightRadius:n?3:0,borderWidth:1,cursor:f?void 0:"pointer",display:"flex",flexBasis:"50%",marginLeft:t?0:-1,padding:0,userSelect:"none",zIndex:l?10:0,...c,...l?u:void 0},Inner:{borderBottomLeftRadius:t?2:0,borderBottomRightRadius:n?2:0,borderColor:l?r:"transparent",borderStyle:"solid",borderTopLeftRadius:t?2:0,borderTopRightRadius:n?2:0,borderWidth:1,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",padding:"12px 20px",textAlign:"center",width:"100%",...p}}}),[null==m?void 0:m.selectedBackground,null==m?void 0:m.selectedOutline,null==m?void 0:m.unselectedOutline,t,n,l,f,c,u,p]),v=()=>{h&&h(d.key)};return(0,s.jsx)(o().A,{render:e=>(0,s.jsx)(a().A,{ariaLabel:d.ariaLabel,"aria-pressed":l,onClick:v,style:y.SegmentedItem,disabled:f,...e,children:(0,s.jsx)("div",{style:y.Inner,children:g})}),renderTooltip:()=>(0,s.jsx)("div",{children:x}),disableTooltip:l||void 0===x,placement:i().W.Bottom})}function d(e){const{items:t=[],itemStyle:n,selectedItemStyle:i,innerStyle:a,outerStyle:o,value:d,onChange:c,colors:u}=e,p=(0,r().IS)((e=>({SegmentedButton:{background:e.cardContentBackground,display:"flex",width:"100%",...o}})),[o]);return 0===t.length?null:(0,s.jsx)("div",{style:p.SegmentedButton,children:t.map(((e,r)=>(0,s.jsx)(l,{isFirst:0===r,isLast:r===t.length-1,isSelected:e.key===d,item:e,itemStyle:n,selectedItemStyle:i,innerStyle:a,colors:u,onClick:c,children:e.render()},e.key)))})}},27716:(e,t,n)=>{n.d(t,{D_:()=>I,Ft:()=>A,HN:()=>b,MA:()=>x,Sk:()=>v,Yn:()=>k,e9:()=>f,eJ:()=>C,su:()=>S});n(944114),n(898992),n(672577),n(737550);var r=()=>n(326215),i=()=>n(762433),a=()=>n(47273),o=()=>n(979340),s=()=>n(959013),l=()=>n(972435),d=()=>n(324561);const c=(0,s().YK)({cancellationError:{id:"midtermSubscriptionHelpers.cancellationFailed",defaultMessage:"There was an error attempting to cancel your pending changes. Please try again."},unableToCancelError:{id:"midtermSubscriptionHelpers.unableToCancel",defaultMessage:"We cannot cancel your scheduled changes right now. Please contact support for more help."},cancellationSuccess:{id:"midtermSubscriptionHelpers.cancellationSucceeded",defaultMessage:"Pending changes have been canceled"},invalidSubscriptionId:{id:"midtermSubscriptionHelpers.invalidSubscriptionId",defaultMessage:"Unable to cancel your pending changes. Something was wrong with your pending subscription changes."}});function u(e){return(0,o().dL)(e)?"free":(0,o().wb)(e)?"education":(0,o().sP)(e)?"singlePlayerPlus":(0,o().$P)(e)?"plus":(0,o().tL)(e)?"business":(0,o().OX)(e)?"enterprise":"legacy"}const p=(0,s().YK)({freePlan:{defaultMessage:"Free Plan",id:"freePlan.title"},educationPlusPlan:{defaultMessage:"Education Plus Plan",id:"educationPlusPlan.title"},plusPlan:{defaultMessage:"Plus Plan",id:"plusPlan.title"},businessPlan:{id:"businessPlan.title",defaultMessage:"Business Plan"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"legacyPlan.label"}}),g={free:{planTitle:p.freePlan},singlePlayerPlus:{planTitle:p.plusPlan},education:{planTitle:p.educationPlusPlan},plus:{planTitle:p.plusPlan},business:{planTitle:p.businessPlan},enterprise:{planTitle:p.enterprisePlan},legacy:{planTitle:p.legacyPlan}},m=(0,s().YK)({notionAI:{defaultMessage:"Notion AI",id:"notionAI.title"},removeAI:{defaultMessage:"Remove AI",id:"notionAI.remove.title"}}),h=(0,s().YK)({month:{defaultMessage:"Monthly billing",id:"billingInterval.monthly"},year:{defaultMessage:"Annual billing",id:"billingInterval.annual"}});function f(){return l().A.formatMessage(c.unableToCancelError)}function x(){return l().A.formatMessage(c.cancellationSuccess)}function y(e){var t;const n=null==e||null===(t=e.subscription)||void 0===t?void 0:t.pending;if(!n)return;const r=(0,i().PP)(e),o=(0,i().lQ)(e);return{oldTier:(0,a().Gf)(r)??"free",newTier:(0,a().Gf)(o)??"free",oldAIAddOn:(0,a().V_)(r).find((e=>"ai"===e)),newAIAddOn:(0,a().V_)(o).find((e=>"ai"===e)),oldInterval:(0,a().yw)(r),newInterval:(0,a().yw)(o),phaseOneEndDate:n.startDate}}function v(e){const t=y(e);return!(!t||!t.newInterval)&&t.oldInterval!==t.newInterval}function b(e){const t=y(e);return!!t&&t.oldTier!==t.newTier}function S(e){const t=y(e),n=[];if(!t)return{scheduledChanges:n,periodEndDate:null};const{newTier:r,oldTier:i,oldAIAddOn:a,newAIAddOn:o,oldInterval:s,newInterval:d,phaseOneEndDate:c}=t;var p,f;return i!==r&&n.push(function(e,t){const n=u(e),r=l().A.formatMessage(g[n].planTitle);if(!t)return"";const i=u(t);return`${r} â†’ ${l().A.formatMessage(g[i].planTitle)}`}(i,r)),a!==o&&n.push((p=a,f=o,`${l().A.formatMessage(p?m.notionAI:m.removeAI)} â†’ ${l().A.formatMessage(f?m.notionAI:m.removeAI)}`)),s!==d&&n.push(function(e,t){return e&&t?`${l().A.formatMessage("month"===e?h.month:h.year)} â†’ ${l().A.formatMessage("month"===t?h.month:h.year)}`:""}(s,d)),{scheduledChanges:n,periodEndDate:c}}function A(e,t){if(!e)return;const n=(0,i().PP)(e).items,r=(0,i().lQ)(e).items;var a;return(0,i().HO)(n,r).some((e=>{let[n,r]=e;return(0,i().IE)(n??r)===t&&n&&!r}))?null===(a=e.subscription)||void 0===a||null===(a=a.pending)||void 0===a?void 0:a.startDate:void 0}function I(e){if(!e)return;var t;return 0===(0,i().lQ)(e).items.length?null===(t=e.subscription)||void 0===t||null===(t=t.pending)||void 0===t?void 0:t.startDate:void 0}function C(e){let{billingData:t}=e;const n=(0,d().a9)(t);if(!n)return!1;if((0,i().et)(t))return!1;const r=(0,i().bO)(n),a=(0,i().N8)(null==n?void 0:n.subscription);return!r&&!a}function k(e){const t=(0,i().V9)(e),n=(0,i().ji)(e).length>0;return!t||(!r().xd.includes(t)||!(!n||!r().iV.includes(t)))}},47273:(e,t,n)=>{n.d(t,{DS:()=>i,Fe:()=>d,GB:()=>o,Gf:()=>u,V_:()=>c,j1:()=>l,j8:()=>a,yp:()=>p,yw:()=>s});var r=()=>n(762433);function i(e){return(0,r().Fq)({subscription:e})}function a(e){return(0,r().Ry)({subscription:e,trial:void 0})}function o(e){let{subscriptionState:t,logFunction:n,spaceId:i}=e;const a=g(t);return(0,r().yB)({billingData:{subscription:a,trial:void 0},logFunction:n,spaceId:i})}function s(e){return(0,r().q8)({subscription:e})}function l(e){return(0,r().V9)({subscription:g(e),trial:void 0})}function d(e){return(0,r().d$)({subscription:g(e),trial:void 0})}function c(e){return(0,r().ji)({subscription:g(e),trial:void 0})}function u(e){return(0,r().AI)({subscription:g(e),trial:void 0})}function p(e,t){return(0,r().KH)({subscription:g(e),trial:void 0},t)}function g(e){return e?{...e,trialEnd:void 0}:void 0}},86089:(e,t,n)=>{n.d(t,{o:()=>d});var r=n(296540),i=()=>n(484714),a=()=>n(847249),o=()=>n(351360),s=()=>n(779795),l=()=>n(981046);function d(){const e=(0,i().v3)(),{spaceId:t,isGuest:n}=(0,a().K8)((()=>{const e=o().default.state.currentSpaceStore,t=null==e?void 0:e.getPublicSpaceData();return{spaceId:null==e?void 0:e.id,isGuest:"none"===(null==t?void 0:t.role)}}),[]);return(0,r.useEffect)((()=>{t&&!n&&(0,s().$W)({environment:e,spaceId:t})}),[e,t,n]),(0,a().K8)((()=>l().A.state.prices),[])}},112527:(e,t,n)=>{n.r(t),n.d(t,{getLegacyStripeAppearance:()=>C,getStripe:()=>b,injectStripe:()=>v,optionalPaymentMethodIdGivenPaymentData:()=>j,optionalStripeTokenGivenPaymentData:()=>w,stripeElementLocaleGivenNotionLocale:()=>S,translateStripeError:()=>I,useElementsOptions:()=>A});var r=()=>n(624119),i=()=>n(37458),a=n(296540),o=()=>n(484714),s=()=>n(847249),l=()=>n(401497),d=()=>n(402390);var c=()=>n(798880),u=()=>n(807487),p=()=>n(534177),g=()=>n(284371),m=()=>n(780054),h=()=>n(351360),f=()=>n(508496),x=n(474848);let y=null;function v(e){return function(t){const[n]=a.useState(b);return(0,x.jsx)(r().Elements,{stripe:n,children:(0,x.jsx)(r().ElementsConsumer,{children:n=>{let{stripe:r,elements:i}=n;const a={...t,stripe:r,elements:i};return(0,x.jsx)(e,{...a})}})})}}async function b(){return y||(i().loadStripe.setLoadParameters({advancedFraudSignals:!1}),y=(0,i().loadStripe)(m().A.stripe.key)),y}function S(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function A(e){const t=(0,l().DP)(),n=(0,o().v3)(),{type:r}=e,i="setup"===r||"subscription"===r?e.currency:void 0,m="subscription"===r?e.amount:void 0,x=(0,s().K8)((()=>{var e;return(null===(e=h().default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||d().q}),[]),y=(0,s().K8)((()=>"KRW"===i&&function(e){const{experimentService:t,actor:n}=e;return t.checkGate({actor:n,gateName:"kr_card_payment_method"})}({experimentService:f().default,actor:{table:c().oo,id:n.currentUser.id??""}})),[n.currentUser,i]);return(0,a.useMemo)((()=>{const e=function(e){const t=k(e.text.primary),n=k(e.text.secondary),r=k(e.text.tertiary),i=k(e.text.uiRedPrimary),a=k(e.text.uiBluePrimary),o=k(e.icon.contrast),s=k(e.whiteButtonBackground);return{labels:"above",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"12px",spacingGridColumn:"12px",spacingUnit:"4px",spacingTab:"6px",colorPrimary:t,colorPrimaryText:t,colorText:t,colorTextSecondary:n,colorTextPlaceholder:r,colorIcon:t,colorIconCheckmark:o,colorDanger:i,colorBackground:s,colorIconTabHover:t,colorIconTabSelected:a,colorIconChevronDown:t,fontFamily:g().Tf.sans,fontWeightLight:`${g().Wy.light}`,fontWeightNormal:`${g().Wy.regular}`,fontWeightMedium:`${g().Wy.medium}`,fontWeightBold:`${g().Wy.medium}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"500",lineHeight:"16px",color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground},".Tab:focus":{boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:t,boxShadow:"none",outline:"none"},".Tab--selected:hover":{backgroundColor:e.whiteButtonBackground,color:t},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"7px 8px",backgroundColor:e.surface.wash,boxShadow:`0 0 0 1px ${e.stroke.primary}`,border:"none",color:t},".Input--invalid":{color:t,boxShadow:e.outlineRedInputBoxShadow},".Input:focus":{color:t,boxShadow:e.outlineBlueInputBoxShadow},".Label":{fontSize:"12px",lineHeight:"15px",fontWeight:"500",letterSpacing:"-0.154px",color:n,marginBottom:"8px"},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:i},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:t},".PickerItem:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--selected:hover":{boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:t},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:n,fontSize:"10px",fontWeight:"400",lineHeight:"13px",letterSpacing:"0.12px"},".CheckboxLabel":{color:t,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:t,fontWeight:"400",padding:"4px 8px"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:t},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",padding:"16px"},".Icon":{fill:t}}}}(t),n={appearance:e,locale:S(x)},a={paymentMethodTypes:(0,u().VV)({currency:i,isKrCardFeatureGateEnabled:y})};switch(r){case"address":return n;case"setup":return{...n,...a,currency:null==i?void 0:i.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...n,...a,amount:m,currency:null==i?void 0:i.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session",loader:"never"};default:(0,p().HB)(r)}}),[t,x,i,y,r,m])}function I(e,t){if(!t.code)return t.message||"";switch(t.code){case"invalid_expiry_year_past":return e.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return e.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,t){switch(t){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(e,t.decline_code);default:return t.message||""}}function C(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:g().Tf.sans,fontWeightLight:`${g().Wy.light}`,fontWeightNormal:`${g().Wy.regular}`,fontWeightMedium:`${g().Wy.medium}`,fontWeightBold:`${g().Wy.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"510",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary}}}}function k(e){const[t,n,r,i]=e.match(/[\d.]+/g)??[];return t&&n&&r&&i&&1===parseInt(i)?`rgb(${t}, ${n}, ${r})`:e}function w(e){return"stripeToken"===(null==e?void 0:e.type)?e.value:void 0}function j(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}},115562:(e,t,n)=>{n.d(t,{W:()=>l});n(296540);var r=()=>n(819121),i=()=>n(401497),a=()=>n(955825),o=()=>n(677195),s=n(474848);function l(e){const{selectorSize:t="normal",...n}=e,{disabled:l,checked:d}=n,[c,u]=(0,r().A)(),p=function(e){const{checked:t,disabled:n,isFocusVisible:r,selectorSize:a}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===a?15:11,height:"large"===a?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===a?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...r&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===a?18:void 0,height:"large"===a?18:void 0,...n?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===a?12:10,height:"large"===a?12:10,ariaHidden:!0}})),[a,t,n,r])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...n}),(0,s.jsx)("span",{...(0,a().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,o().R)(p.icon)})]})}},122116:(e,t,n)=>{n.d(t,{O:()=>i});n(296540);var r=n(474848);const i=(0,n(340498).wt)("chat",{viewBox:"0 0 32 32",svg:(0,r.jsx)("path",{d:"M7.52 28.727c.591 0 .993-.205 1.706-.842l3.732-3.41c.802.898 2.017 1.375 3.566 1.375h3.844l3.721 3.252c.68.591 1.048.898 1.582.898.77 0 1.204-.557 1.204-1.421V25.85h.468c2.796 0 4.657-1.716 4.657-4.695v-6.719c0-2.978-1.86-4.695-4.657-4.695h-1.75v-.864C25.593 5.785 23.8 4 20.77 4H4.825C1.916 4 0 5.785 0 8.877v10.47c0 3.093 1.916 4.878 4.825 4.878h1.47v3.103c0 .876.435 1.399 1.226 1.399zm.458-5.264c0-.648-.38-.955-.87-.955H4.937c-1.972 0-3.142-1.091-3.142-3.217V8.934c0-2.115 1.17-3.229 3.142-3.229h15.721c1.973 0 3.142 1.114 3.142 3.229v.807h-7.275c-2.92 0-4.647 1.717-4.647 4.695v6.72c0 .613.067 1.17.212 1.682l-4.111 3.865v-3.24zm17.225 4.48l-3.576-3.275c-.446-.398-.713-.523-1.326-.523h-3.666c-1.86 0-2.975-1.034-2.975-3.047l.011-6.605c0-2 1.103-3.047 2.964-3.047h10.607c1.85 0 2.964 1.046 2.964 3.047v6.605c0 2.013-1.114 3.047-2.964 3.047h-1.18c-.48 0-.859.284-.859.932v2.865z"})})},137465:(e,t,n)=>{n.d(t,{Q:()=>o});var r=()=>n(148307),i=()=>n(979340);const a=(0,n(959013).YK)({unlimitedBlocksForIndividuals:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForIndividuals",defaultMessage:"Unlimited blocks for individuals"},unlimitedBlocksForTeams:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForTeams",defaultMessage:"Unlimited blocks for teams"},unlimitedFileUploads:{id:"SpaceSubscriptionPlans.includes.unlimitedFileUploads",defaultMessage:"Unlimited file uploads"},collaborativeWorkspace:{id:"SpaceSubscriptionPlans.includes.collaborativeWorkspaces",defaultMessage:"Collaborative workspace"},integrations:{id:"SpaceSubscriptionPlans.includes.integrations",defaultMessage:"Slack, GitHub, and more integrations"},pageHistory7Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.7",defaultMessage:"7 day page history"},pageHistory30Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.30",defaultMessage:"30 day page history"},pageHistory90Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.90",defaultMessage:"90 day page history"},pageHistoryUnlimited:{id:"SpaceSubscriptionPlans.includes.pageHistory.unlimited",defaultMessage:"Unlimited page history"},guests10:{id:"SpaceSubscriptionPlans.includes.guests.10",defaultMessage:"Invite up to 10 guests"},guests100:{id:"SpaceSubscriptionPlans.includes.guests.100",defaultMessage:"Invite up to 100 guests"},guests250:{id:"SpaceSubscriptionPlans.includes.guests.250",defaultMessage:"Invite up to 250 guests"},guestsCustom:{id:"SpaceSubscriptionPlans.includes.guests.custom",defaultMessage:"Custom guest limits"},aiCredits:{id:"SpaceSubscriptionPlans.includes.aiCredits",defaultMessage:"10 free AI credits"},samlSSO:{id:"SpaceSubscriptionPlans.includes.saml.sso",defaultMessage:"SAML SSO"},userProvisioning:{id:"SpaceSubscriptionPlans.includes.scim",defaultMessage:"User provisioning (SCIM)"},advancedSecurityControls:{id:"SpaceSubscriptionPlans.includes.advancedSecurityControls",defaultMessage:"Advanced security controls"},auditLog:{id:"SpaceSubscriptionPlans.includes.auditLog",defaultMessage:"Audit log"},privateTeamspaces:{id:"SpaceSubscriptionPlans.includes.privateTeamspaces",defaultMessage:"Private Teamspaces"},bulkPdfExport:{id:"SpaceSubscriptionPlans.includes.bulkPdfExport",defaultMessage:"Bulk PDF export"},customerSuccessManager:{id:"SpaceSubscriptionPlans.includes.customerSuccessManager",defaultMessage:"Customer success manager"}}),o={ai:{imageByMode:{light:r().A.images.pricing.aiLogoPng,dark:r().A.images.pricing.aiLogoPng},originalImage:{path:r().A.images.pricing.aiLogoPng,width:100,height:100},planTitle:i().v0.ai,highlights:[],highlightsWhenComparedWithPlanBelow:[]},sites_custom_hostnames:{imageByMode:{dark:r().A.images.pricing.dark.freePlanPng,light:r().A.images.pricing.light.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.sites,highlights:[],highlightsWhenComparedWithPlanBelow:[]},free:{imageByMode:{dark:r().A.images.pricing.dark.freePlanPng,light:r().A.images.pricing.light.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.freePlan,highlights:[a.unlimitedBlocksForIndividuals,a.collaborativeWorkspace,a.integrations,a.pageHistory7Days,a.guests10],highlightsWhenComparedWithPlanBelow:[]},personal:{imageByMode:{light:r().A.images.pricing.light.plusPlanPng,dark:r().A.images.pricing.dark.plusPlanPng},originalImage:{path:r().A.images.pricing.original.plusPng,width:163,height:168},planTitle:i().v0.plusPlan,highlights:[a.integrations,a.unlimitedFileUploads,a.pageHistory30Days,a.guests100],highlightsWhenComparedWithPlanBelow:[]},student:{imageByMode:{light:r().A.images.pricing.light.freePlanPng,dark:r().A.images.pricing.dark.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.educationPlusPlan,highlights:[a.unlimitedBlocksForIndividuals,a.integrations,a.pageHistory30Days,a.guests100],highlightsWhenComparedWithPlanBelow:[]},plus:{imageByMode:{light:r().A.images.pricing.light.plusPlanPng,dark:r().A.images.pricing.dark.plusPlanPng},originalImage:{path:r().A.images.pricing.original.plusPng,width:163,height:168},planTitle:i().v0.plusPlan,highlights:[a.collaborativeWorkspace,a.integrations,a.unlimitedBlocksForTeams,a.unlimitedFileUploads,a.pageHistory30Days,a.guests100],highlightsWhenComparedWithPlanBelow:[]},business:{imageByMode:{light:r().A.images.pricing.light.businessPlanPng,dark:r().A.images.pricing.dark.businessPlanPng},originalImage:{path:r().A.images.pricing.original.businessPng,width:122,height:146},planTitle:i().v0.businessPlan,highlights:[a.samlSSO,a.privateTeamspaces,a.bulkPdfExport,a.pageHistory90Days,a.guests250],highlightsWhenComparedWithPlanBelow:[]},enterprise:{imageByMode:{light:r().A.images.pricing.light.enterprisePlanPng,dark:r().A.images.pricing.dark.enterprisePlanPng},originalImage:{path:r().A.images.pricing.original.enterprisePng,width:197,height:206},planTitle:i().v0.enterprisePlan,highlights:[a.samlSSO,a.privateTeamspaces,a.bulkPdfExport,a.pageHistoryUnlimited,a.guestsCustom,a.userProvisioning,a.advancedSecurityControls,a.auditLog,a.customerSuccessManager],highlightsWhenComparedWithPlanBelow:[]}}},141273:(e,t,n)=>{n.d(t,{g:()=>l});var r=n(296540),i=()=>n(484714),a=()=>n(47170),o=()=>n(749356),s=()=>n(985315);function l(e){var t;const n=(0,i().v3)(),[l,d]=(0,r.useState)(),c=(0,a().O)(),u=(null===(t=(0,s().g)({spaceId:c}))||void 0===t?void 0:t.length)??0;return(0,r.useEffect)((()=>{!async function(){c&&d(await(0,o().L6)({environment:n,spaceId:c,offerCampaign:e}))}()}),[n,c,e,u]),l}},240865:(e,t,n)=>{n.d(t,{V:()=>a});var r=()=>n(847249),i=()=>n(351360);function a(){return(0,r().K8)((()=>{const{currentSpaceStore:e}=i().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},298697:(e,t,n)=>{n.d(t,{A:()=>s});n(581454);var r=n(296540),i=()=>n(401497),a=()=>n(710149),o=n(474848);function s(e){let{paragraphs:t}=e;const n=(0,i().IS)((e=>({skeletonRect:{borderRadius:4,backgroundColor:e.lightDividerColor}})),[]),s=null==t?void 0:t.map(((e,t)=>{const i={height:e.lineHeight,marginTop:e.lineMargin,marginBottom:e.lineMargin},s={marginTop:e.sectionMargin,marginBottom:e.sectionMargin},l=[...Array(e.repeat||1)].map(((t,r)=>(0,o.jsx)("div",{style:s,children:e.sectionWidths.map(((e,t)=>(0,o.jsx)(a().A,{style:{...n.skeletonRect,...i,width:`${e}%`}},t)))},r)));return(0,o.jsxs)(r.Fragment,{children:[" ",l," "]},t)}));return(0,o.jsxs)(o.Fragment,{children:[" ",s," "]})}},314907:(e,t,n)=>{n.d(t,{E:()=>a});var r=()=>n(847249),i=()=>n(134217);function a(e){return(0,r().K8)((()=>i().Fq(e.state)),[e])}},324561:(e,t,n)=>{n.d(t,{Gi:()=>m,OD:()=>c,Q7:()=>g,UU:()=>h,_3:()=>p,a9:()=>u,f_:()=>d});var r=()=>n(484714),i=()=>n(847249),a=()=>n(857639),o=()=>n(762433),s=()=>n(596513),l=()=>n(714300);function d(e){let{spaceId:t}=e;const n=(0,r().v3)();return(0,i().K8)((()=>{if(t)return s().t.getData(n,{spaceId:t})}),[n,t])}function c(e){let{environment:t,spaceId:n}=e;return n?s().t.awaitData(t,{spaceId:n}):Promise.resolve(void 0)}function u(e){if("admin"===(null==e?void 0:e.type))return e}function p(e){let{spaceId:t}=e;return u((0,l().l)({spaceId:t}))}function g(e,t,n){if(!t)return 0;const r=(0,o().yB)({spaceId:e,logFunction:a().log.bind(a()),billingData:t});return r?Math.max(r,n):0}function m(e){var t;const n=null===(t=(0,o().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const r=n.unitAmount,i="year"===n.billingInterval?12:1;return{amount:r.amount/i,currencyCode:r.currencyCode}}function h(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},368118:(e,t,n)=>{n.r(t),n.d(t,{ClaimAndUpgradeModal:()=>ze});var r=()=>n(624119),i=n(296540),a=()=>n(484714),o=()=>n(852507),s=()=>n(847249),l=()=>n(401497),d=()=>n(212050),c=()=>n(959013),u=()=>n(100622),p=()=>n(252105),g=()=>n(84817),m=()=>n(297872),h=()=>n(676007),f=()=>n(2143),x=()=>n(953418),y=()=>n(17090),v=()=>n(204063),b=n(474848);function S(e){let{store:t}=e;const n=(0,s().uB)(t,y().A),r=(0,a().v3)(),o=(0,s().K8)((()=>n.state.elementRef),[n]),[l,d]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=o.current;if(e){const t=()=>{d(x().wU(e))};return t(),e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}}),[o]);const u=(0,i.useCallback)((()=>{const e=o.current;e&&x().VG({element:e,environment:r,options:{top:e.scrollHeight,behavior:"smooth"}})}),[o,r]);return l?null:(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,b.jsx)(v().A,{style:{zIndex:2,maxWidth:100,position:"absolute",bottom:30,borderRadius:30},onClick:u,children:(0,b.jsx)("div",{children:(0,b.jsx)(c().sA,{id:"scroller.scrollDown.name",defaultMessage:"Scroll down"})})})})}var A=()=>n(38337),I=()=>n(240865),C=()=>n(756279),k=()=>n(351360),w=()=>n(227440),j=(n(581454),()=>n(857639)),P=()=>n(643819),B=()=>n(382055),M=()=>n(449506),T=()=>n(901389),_=()=>n(496414),W=()=>n(436572),D=()=>n(57605),U=()=>n(112527),O=()=>n(134217),H=()=>n(430395),z=()=>n(601203);const R=(0,c().YK)({loading:{defaultMessage:"Claiming and upgrading workspace...",id:"spaceSubscriptionUpgradeModal.upgradeTargetSpace.loading"}});function L(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}async function F(e){const{environment:t,data:n,requestingSpaceId:r,paymentData:i}=e,a=H().A.state;if(!a.open)return;const o=a.targetPlan;if(!o)return;const s=a.temporaryAddress;_().m({message:R.loading});const l=a.targetSpace.id,d=await M().callApi({eventName:"claimAndUpgradeSpace",environment:t,data:{requestingSpaceId:r,targetSpaceId:l,targetPlan:o,paymentMethodId:L(i),customerName:s.name,businessName:s.businessName,addressLine1:s.addressLine1,addressCity:s.city,addressZip:s.zipCode,addressState:s.state,addressCountry:s.country,vatId:a.vatApplicable?a.temporaryVatCode:void 0}});var u,g,m,h;(_().V(),"success"===d.type)?(H().A.closeWithSuccess(),h=a.targetSpace.name,W().D6({label:(0,b.jsx)(c().sA,{id:"identityProvisioningSettings.claimWorkspaces.claimModal.selfServe.toast",defaultMessage:"Successfully claimed â€œ{spaceName}â€œ",values:{spaceName:h}})}),B().BL(t,{previousOwners:a.targetSpace.admins.map((e=>e.id)),newOwners:t.currentUser.id?[t.currentUser.id]:[],targetSpaceId:l,verifiedDomain:a.targetSpace.creatorEmailDomain,memberCount:a.targetSpace.memberCount,costForUpgrade:null===(u=a.totalUpgradeCost)||void 0===u?void 0:u.amount,currencyCode:null===(g=a.totalUpgradeCost)||void 0===g?void 0:g.currencyCode,currentPlan:null===(m=O().RJ(n))||void 0===m?void 0:m.plan,targetPlan:o})):(T().Qg(d),function(e){const{environment:t,modalId:n}=e;H().A.reset(),p().OC(t,{modal_id:n})}({environment:t,modalId:a.sessionId}))}const E=(0,n(496603).sg)((async function(e){const{environment:t,state:n,data:r,requestingSpaceId:i,stripe:a,elements:o,intl:s}=e;p().Fp(t,{modal_id:n.sessionId}),H().A.update((e=>({...e,payButtonState:"disabled"}))),await async function(e){const{environment:t,state:n,data:r,requestingSpaceId:i,stripe:a,elements:o,intl:s}=e;if(!o||!a)return void j().log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});let l=n.paymentData;if(!l){const{error:e}=await o.submit();if(e)return p().qC(t,{error:"could not submit form",error_type:"payment_method",modal_id:n.sessionId}),void H().A.setState({...n,error:s.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});const r=await a.createPaymentMethod({elements:o});if(r.error)return p().qC(t,{error:r.error.message,error_type:"payment_method",modal_id:n.sessionId}),p().cr(t,{error:r.error.code,stripe_decline_code:r.error.decline_code}),void H().A.setState({...n,error:U().translateStripeError(s,r.error)});if(!r.paymentMethod)return p().qC(t,{error:"could not create token",error_type:"payment_method",modal_id:n.sessionId}),void H().A.setState({...n,error:s.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});l={type:"paymentMethodId",value:r.paymentMethod.id},H().A.setState({...n,paymentData:l})}await F({environment:t,data:r,requestingSpaceId:i,paymentData:l})}({environment:t,state:n,data:r,requestingSpaceId:i,stripe:a,elements:o,intl:s});const l=H().A.state;l.open&&H().A.setState({...l,payButtonState:"enabled"})}),1e3,{leading:!0,trailing:!1});async function $(e){const{requestingSpaceId:t,environment:n,state:r}=e;H().A.update((e=>({...e,totalUpgradeCost:void 0,payButtonState:"disabled"})));const i=r.targetSpace.isActorInSpace?r.targetSpace.memberCount:r.targetSpace.memberCount+1,a=O().EX(r.temporaryBillingInterval),o=await M().callApi({eventName:"getCostForSpaceUpgrade",environment:n,data:{targetSpaceId:r.targetSpace.id,requestingSpaceId:t,subscriptionTier:"enterprise",billingInterval:a,memberCount:i}});if("failed"===o.type)T().Qg(o),H().A.close();else{const e=o.data?P().W.fromValue({amount:o.data.totalCost,currencyCode:o.data.currencyCode}).zeroIfNegative():void 0;H().A.update((t=>({...t,totalUpgradeCost:e,targetPlan:o.data.targetPlan,payButtonState:"enabled"})))}}var N=()=>n(477530),K=()=>n(585312),q=()=>n(662866),Y=()=>n(981046),V=()=>n(730764),G=()=>n(125565);function Q(e){const{error:t}=e.state,n=(0,l().IS)((()=>({label:{marginTop:8,color:u().Ay.red}})),[]);return t?(0,b.jsx)(G().A,{isMultiline:!0,style:n.label,children:t}):null}var J=()=>n(762433),X=()=>n(979340),Z=()=>n(47170),ee=()=>n(506090),te=()=>n(807778),ne=()=>n(527059);function re(e){const{state:t}=e,{open:n,type:r,isTrial:i,subscriptionTier:a}=t,o=(0,c().tz)();return n?r===ee().p.TargetSpace?(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.targetSpace.button.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"}):i?(0,b.jsx)(c().sA,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion {subscriptionTier} trial",values:{subscriptionTier:(0,X().u2)({product:a,intl:o})}}):(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.upgradeButton.upgradeNow",defaultMessage:"Upgrade now"}):null}function ie(e){const{state:t,onClickUpgrade:n,customStyles:r}=e,i=(0,l().IS)((()=>({upgradeButton:{height:40,marginTop:24,fontSize:16}})),[]),a=(0,Z().O)(),o=(0,ne().lh)({spaceId:a}),d=(0,J().Fv)(o),c=(0,s().K8)((()=>(0,te().Ir)()&&!1),[d]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v().A,{disabled:"disabled"===t.payButtonState,style:{...i.upgradeButton,...r},onClick:()=>n({useTestClock:!1}),children:(0,b.jsx)(re,{state:t})}),c?(0,b.jsx)(v().A,{disabled:"disabled"===t.payButtonState,style:i.upgradeButton,onClick:()=>n({useTestClock:!0}),children:"ðŸš§ Upgrade with Test Clock ðŸš§"}):void 0]})}var ae=()=>n(122116),oe=()=>n(284371),se=()=>n(864943),le=()=>n(508496),de=()=>n(19575);function ce(e){const{state:t}=e,n=(0,l().IS)((e=>({contactSalesButton:{width:"100%",height:40,marginTop:10},contactSalesCta:{fontWeight:oe().Wy.medium},contactSalesIcon:{height:18,width:20,marginRight:6},contactSalesQuestionsText:{color:e.text.secondary,fontSize:12,lineHeight:oe().K_.UISmall.desktop}})),[]),[r,i]=(0,s().K8)((()=>{const e=le().default.getEligibleGroup({experimentId:"in_app_contact_sales_cta_billing",defaultGroup:"control"});return[t.subscriptionTier,e]}),[t]);if(!(0,X().HO)(r))return null;const a="on"===i?(0,b.jsx)(c().sA,{defaultMessage:"Request a demo",id:"helpButton.salesChat.menuItemDemoVariant"}):(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.upgradeModal.contactSales",defaultMessage:"Contact sales"});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(se().A,{size:"lg",style:n.contactSalesButton,onClick:()=>{(0,de().lK)({initialQuestion:O().pt(t.subscriptionTier),openedFrom:(0,X().OX)(t.subscriptionTier)?"enterprise_checkout_modal":"business_checkout_modal"})},children:[(0,ae().O)(n.contactSalesIcon),(0,b.jsx)("span",{style:n.contactSalesCta,children:a})]}),(0,b.jsx)("p",{style:n.contactSalesQuestionsText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.upgradeModal.sales.questions",defaultMessage:"Questions? Contact our sales team for more information."})})]})}function ue(e){const{state:t,products:n,onClickUpgrade:r}=e,{isTrial:i}=t;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,b.jsx)(ie,{state:t,onClickUpgrade:r}),(0,b.jsx)(V().w,{showTrialEndDisclaimer:!1,products:n})]}),(0,b.jsx)(Q,{state:t}),i?null:(0,b.jsx)(ce,{state:t})]})}var pe=()=>n(558094);function ge(){const e=(0,l().IS)((e=>({primaryTextStyle:{fontWeight:oe().Wy.bold,fontSize:20,lineHeight:1.1,marginTop:16,marginBottom:6,padding:0},secondaryTextStyle:{fontWeight:oe().Wy.regular,fontSize:16,lineHeight:1.4,color:e.text.secondary}})),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(pe().X,{product:"enterprise"}),(0,b.jsx)("h2",{style:e.primaryTextStyle,id:A().Kvs,children:(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.targetSpace.title.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"})}),(0,b.jsx)("div",{style:e.secondaryTextStyle,id:A().SdC,children:(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.oneLiner.enterprise",defaultMessage:"Controls and support to run your company."})})]})}var me=()=>n(802790),he=()=>n(298697),fe=()=>n(690197),xe=()=>n(836251),ye=()=>n(517492),ve=()=>n(331542);function be(e){const{lineItemData:t,nameStyle:n,priceStyle:r,showZeroPrice:i}=e,a=(0,l().IS)((e=>({itemContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",lineHeight:1,minHeight:18},name:{fontSize:12,color:e.text.secondary,...n||void 0},price:{fontSize:12,color:"promotion"===t.type?"#53A83F":e.text.primary,...r||void 0},caption:{fontSize:12,color:e.text.secondary},captionContainer:{display:"flex",flexDirection:"column"}})),[t,n,r]);let o="-";return t.price&&(t.price.amount>0||i)&&(o=(0,b.jsx)(ye().v,{cost:t.price.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})),(0,b.jsxs)("div",{style:a.itemContainer,children:[(0,b.jsxs)("div",{style:a.captionContainer,children:[(0,b.jsx)("span",{style:a.name,children:t.name}),t.subtitle&&(0,b.jsx)("span",{style:a.caption,children:t.subtitle})]}),"calculating"===t.type?(0,b.jsx)(ve().A,{}):(0,b.jsx)("span",{style:a.price,children:o})]})}function Se(e){var t;const{state:n}=e,r=(0,l().IS)((e=>({container:{display:"flex",flexDirection:"column"},header:{fontSize:16,color:e.text.primary,fontWeight:oe().Wy.semibold,marginBottom:10},helpButton:{marginLeft:0,marginTop:-4,marginBottom:12},helpButtonInner:{fontSize:12}})),[]),i=n.calculatingTax||null===(t=P().W.sum(n.totalUpgradeCost,n.taxAmount))||void 0===t?void 0:t.zeroIfNegative(),a=n.targetSpace.isActorInSpace?n.targetSpace.memberCount:n.targetSpace.memberCount+1;return(0,b.jsxs)("div",{style:r.container,children:[(0,b.jsx)("label",{style:r.header,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.header",defaultMessage:"Order summary"})}),void 0!==n.totalUpgradeCost?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Ie,{totalCostForUpgrade:n.totalUpgradeCost,memberCount:a}),(0,b.jsx)(fe().A,{style:r.helpButton,buttonStyle:r.helpButtonInner,title:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.helpButton.label",defaultMessage:"Learn more about prorated charges"}),href:(0,xe().xS)("guides.billingAndPayment"),analyticsFrom:"invoices"}),(0,b.jsx)(Ae,{state:n}),(0,b.jsx)(me().A,{size:14}),(0,b.jsx)(be,{showZeroPrice:!0,lineItemData:{price:i,type:"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.orderTotal",defaultMessage:"Total"})},priceStyle:{fontSize:20}})]}):(0,b.jsx)(Ce,{})]})}function Ae(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(be,{showZeroPrice:!0,lineItemData:{type:"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.subTotal",defaultMessage:"Subtotal"}),price:e.state.totalUpgradeCost}}),(0,b.jsx)(be,{lineItemData:{type:e.state.calculatingTax?"calculating":"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.tax.title",defaultMessage:"Tax"}),price:e.state.taxAmount,subtitle:e.state.taxAmount||0===e.state.taxAmount?void 0:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.tax.subtitle",defaultMessage:"if applicable"})}})]})}function Ie(e){const{totalCostForUpgrade:t,memberCount:n}=e,r=(0,l().IS)((e=>({container:{display:"flex",justifyContent:"space-between",marginBottom:6},item:{},title:{fontSize:14},subtitle:{color:e.text.secondary,fontSize:12},price:{fontSize:14,color:e.text.primary}})),[]);return(0,b.jsxs)("div",{style:r.container,children:[(0,b.jsxs)("div",{style:r.item,children:[(0,b.jsx)("div",{style:r.title,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.proratedChanges",defaultMessage:"Prorated charges"})}),(0,b.jsx)("div",{style:r.subtitle,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.proratedChangesCaption",defaultMessage:"All charges due to claim and upgrade the workspace ({memberCount, plural, one {{memberCount} member} other {{memberCount} members}}).",values:{memberCount:n}})})]}),(0,b.jsx)("div",{style:r.price,children:(0,b.jsx)(ye().v,{cost:t,trailingZeroDisplay:"stripIfInteger"})})]})}function Ce(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(he().A,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]}),(0,b.jsx)("div",{style:{display:"block",height:27}}),(0,b.jsx)(he().A,{paragraphs:[{lineHeight:16,lineMargin:1,sectionWidths:[100],repeat:2,sectionMargin:4}]}),(0,b.jsx)(he().A,{paragraphs:[{lineHeight:14,lineMargin:0,sectionWidths:[30],repeat:1,sectionMargin:4}]}),(0,b.jsx)(me().A,{size:14}),(0,b.jsx)(he().A,{paragraphs:[{lineHeight:24,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:1}]})]})}n(16280),n(944114);var ke=()=>n(654601),we=()=>n(15897),je=()=>n(714300);const Pe=function(e){const t=(r=e.reduceTopMargin,(0,l().IS)((e=>({discountDescription:{alignItems:"center",marginBottom:36,color:e.text.secondary,fontSize:12,lineHeight:oe().K_.UISmall.desktop,marginTop:r?-8:void 0}})),[r]));var r;return(0,b.jsx)("div",{style:t.discountDescription,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.discountMessage",defaultMessage:"Get an additional <bold>50% off Notion AI</bold> for the next 3 months with a paid plan. <terms>See details.</terms>",values:{bold:e=>(0,b.jsx)("b",{children:e}),terms:e=>(0,b.jsx)(n(719147).A,{href:(0,xe().xS)("terms.discounts.ai.summer.2023"),children:e})}})})};function Be(){return(0,l().IS)((e=>({discountText:{color:e.invoiceGreen,fontSize:12},icon:{width:16,height:16},mainTextSelected:{fontWeight:oe().Wy.medium,color:e.text.primary,fontSize:14,lineHeight:"14px"},mainTextUnselected:{color:e.text.secondary,fontSize:14,lineHeight:"14px"},priceText:{fontSize:14,color:e.text.secondary,marginTop:2},row:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,lineHeight:"14px"},section:{marginBottom:20},sectionHeader:{display:"flex",alignItems:"center",marginBottom:11,fontSize:11,fontWeight:oe().Wy.semibold,color:e.text.secondary}})),[])}function Me(e){const{header:t,children:n}=e,r=Be();return(0,b.jsxs)("div",{style:r.section,children:[(0,b.jsx)("div",{style:r.sectionHeader,children:t}),n]})}function Te(e){const{isSelected:t,billingInterval:n}=e,r=Be(),i=t?r.mainTextSelected:r.mainTextUnselected;let a;switch(n){case"month":a=(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.monthly",defaultMessage:"Monthly"});break;case"year":a=(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearly",defaultMessage:"Yearly"});break;default:throw new Error(`Unsupported billing interval: ${n}`)}return(0,b.jsxs)("div",{style:r.row,children:[(0,b.jsx)("div",{style:i,children:a}),"year"===n?(0,b.jsx)("div",{style:r.discountText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearlyDiscount",defaultMessage:"{percent}% off",values:{percent:20}})}):null]})}function _e(e){const{isSelected:t}=e,n=Be(),r=t?n.mainTextSelected:n.mainTextUnselected;return(0,b.jsx)("div",{style:r,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.noThanks",defaultMessage:"No thanks"})})}function We(e){const{coupon:t,isSelected:n}=e,r=Be(),i=n?r.mainTextSelected:r.mainTextUnselected;return(0,b.jsxs)("div",{style:r.row,children:[(0,ke().X)(r.icon),(0,b.jsx)("div",{style:i,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.notionAi",defaultMessage:"Notion AI"})}),t?(0,b.jsx)("div",{style:r.discountText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.aiDiscount",defaultMessage:"{percent}% off",values:{percent:50}})}):null]})}function De(e){const{subscriptionTier:t,billingInterval:n,addOnFeature:r,canAddAI:o,coupon:s,onChangeBillingInterval:l,onChangeAddOnFeature:d,isTrial:u,modalId:g}=e,m=(0,a().v3)(),h=(0,Z().O)(),f=(0,je().l)({spaceId:h});(0,i.useEffect)((()=>{z().Qe({environment:m,billingData:f})}),[m,n,r,f]);const x=(0,i.useMemo)((()=>[{key:"month",render:()=>(0,b.jsx)(Te,{isSelected:"month"===n,billingInterval:"month",subscriptionTier:t,coupon:s})},{key:"year",render:()=>(0,b.jsx)(Te,{isSelected:"year"===n,billingInterval:"year",subscriptionTier:t,coupon:s})}]),[n,t,s]),y=(0,i.useMemo)((()=>[{key:"none",render:()=>(0,b.jsx)(_e,{isSelected:!r,coupon:s})},{key:"ai",render:()=>(0,b.jsx)(We,{isSelected:Boolean(r),coupon:s})}]),[r,s]);return u?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Me,{header:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.header",defaultMessage:"Billing period"}),children:(0,b.jsx)(we().A,{items:x,value:n,onChange:e=>{p().bT(m,{billingInterval:e,modal_id:g}),l(e)}})}),o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Me,{header:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.header",defaultMessage:"Add-ons"}),children:(0,b.jsx)(we().A,{items:y,value:r??"none",onChange:e=>{const t=[];let n;if("ai"===e)n="ai",t.push("ai");else n=void 0;p().Gs(m,{addOnFeatures:t,modal_id:g}),d&&d(n)}})}),s?(0,b.jsx)(Pe,{reduceTopMargin:!0}):null]}):null]})}function Ue(){return(0,l().IS)((e=>({closeButton:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:21,right:20,width:22,height:22,padding:0,borderRadius:"50%",border:"none",background:"light"===e.mode?u().XA.light.gray[75]:u().XA.dark.gray[500],zIndex:10},closeButtonIcon:{width:12,height:12,fill:"light"===e.mode?u().XA.light.gray[400]:u().XA.dark.gray[800]},modal:{background:"dark"===e.mode?"#191919":e.popoverBackground,borderRadius:12,width:750,maxHeight:760,display:"flex"},modalContent:{flex:1,maxWidth:"60%",display:"flex",flexDirection:"column",position:"relative",borderRadius:"12px 0 0 12px"},modalContentBody:{padding:"36px 42px 50px 42px",display:"flex",flexDirection:"column"},modalContentSidebar:{flex:1,maxWidth:"40%",background:"dark"===e.mode?"#202020":e.sidebarSecondaryBackground,borderLeft:`1px solid ${e.lightDividerColor}`,padding:"20px 29px 50px 27px",display:"flex",flexDirection:"column"}})),[])}function Oe(e){const{state:t,data:n,requestingSpaceId:i}=e,{subscriptionTier:a,onlyShowAddOn:o,calculatingTax:l,temporaryBillingInterval:d,taxAmount:c,addOnFeature:u,coupon:p}=t,g=(0,s().K8)((()=>{var e;return(null===(e=t.totalUpgradeCost)||void 0===e?void 0:e.currencyCode)??Y().A.selectedCurrencyCode}),[t]),m=(0,I().V)()??1,{payAmount:h}=O().TQ({subscriptionTier:a,memberCount:m,promo:t.appliedPromo,currencyCode:g,data:n,onlyShowAddOn:o,calculatingTax:l,billingInterval:d??"year",taxAmount:null==c?void 0:c.amount,addOnFeature:u,coupon:p}),f=(0,U().useElementsOptions)({type:"subscription",amount:h.amount,currency:h.currencyCode});return(0,b.jsx)(r().Elements,{stripe:(0,U().getStripe)(),options:f,children:(0,b.jsx)(He,{state:t,data:n,requestingSpaceId:i})})}function He(e){const{state:t,data:n,requestingSpaceId:i}=e,o=(0,a().v3)(),l=(0,c().tz)(),u=Ue(),m=(0,r().useStripe)(),h=(0,r().useElements)(),x=(0,s().O$)(w().e),v=(0,s().uB)(void 0,y().A),[A,I,k,j,P,B,M]=(0,s().K8)((()=>{const e=H().A.state;return e.open?[e.subscriptionTier,e.temporaryBillingInterval,e.addOnFeature,e.coupon,e.sessionId,e.temporaryAddress.name,e.temporaryAddress.businessName]:[]}),[]);if(!t.open||!A||!I)return null;if(!x)return(0,b.jsx)(q()._,{});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:u.modalContent,children:(0,b.jsxs)(f().H,{type:C().A.Y,store:v,children:[(0,b.jsxs)("div",{style:u.modalContentBody,children:[(0,b.jsx)("div",{style:{paddingBottom:24},children:(0,b.jsx)(ge,{})}),(0,b.jsx)(De,{subscriptionTier:A,billingInterval:I,addOnFeature:k,canAddAI:!1,coupon:j,onChangeBillingInterval:e=>{H().A.update((t=>({...t,temporaryBillingInterval:e}))),p().bT(o,{billingInterval:e,modal_id:P}),async function(e){const{environment:t,spaceId:n,state:r}=e,i=await D().A.awaitData(t,{spaceId:n});await $({requestingSpaceId:n,environment:t,state:r}),await z().dn(t,i)}({environment:o,spaceId:i,state:t})}}),(0,b.jsxs)(g().Y1,{gap:8,children:[(0,b.jsx)(N().c,{formData:{name:B??"",businessName:M??""},onChangeFormData:e=>{H().A.update((t=>t.open?{...t,temporaryAddress:{...t.temporaryAddress,...e}}:t))},modalId:P}),(0,b.jsx)(K().q,{modalId:P})]})]}),(0,b.jsx)(S,{store:v})]})}),(0,b.jsx)("div",{style:u.modalContentSidebar,children:(0,b.jsxs)(f().H,{type:C().A.Y,children:[(0,b.jsx)(Se,{state:t}),(0,b.jsx)(ue,{state:t,products:[A],onClickUpgrade:()=>E({environment:o,intl:l,state:t,stripe:m,elements:h,data:n,requestingSpaceId:i})})]})}),(0,b.jsx)("button",{style:u.closeButton,onClick:()=>{H().A.close()},children:(0,d().u)(u.closeButtonIcon)})]})}function ze(e){const{data:t,spaceStore:n}=e,r=(0,s().K8)((()=>H().A.state),[]),i=(0,a().v3)(),l=(0,c().tz)(),d=Ue();return(0,o().l)((()=>{var e;const{state:n}=H().A;if(!n.open)return;const r=null===(e=k().default.state.currentSpaceStore)||void 0===e?void 0:e.id;r&&$({environment:i,state:n,requestingSpaceId:r});const{currentUserStore:a}=k().default.state,o=null!=a&&a.isDefined()?a.getModel():void 0;if(o){const e=o.getDisplayName(l);var s;if(H().A.setState({...n,temporaryAddress:{...n.temporaryAddress,name:e}}),"subscribed_admin"===t.type||"unsubscribed_admin"===t.type)H().A.setState({...n,appliedPromo:null===(s=t.customerData)||void 0===s?void 0:s.stripe.promo})}})),(0,b.jsx)(h().A,{ariaLabelledBy:A().Kvs,ariaDescribedBy:A().SdC,open:r.open,preventHideChildrenWhileOpening:!0,innerStyle:d.modal,render:()=>(0,b.jsx)(m().A,{capture:!0,allowEsc:!0,render:()=>r.open?(0,b.jsx)(Oe,{state:r,data:t,requestingSpaceId:n.id}):null})})}},382055:(e,t,n)=>{n.d(t,{$3:()=>u,AQ:()=>d,Ae:()=>l,BL:()=>c,FL:()=>s,FX:()=>i,Vp:()=>o,XL:()=>a,nY:()=>p});var r=()=>n(989423);function i(e,t){r().vd(e,"workspace_creation_ability",t)}function a(e,t){r().vd(e,"workspace_creation_setting_updated",t)}function o(e,t){r().vd(e,"claimable_spaces_viewed",t)}function s(e,t){r().vd(e,"space_transfer_requested",t)}function l(e,t){r().vd(e,"space_transfer_completed",t)}function d(e,t){r().vd(e,"space_claim_upgrade_requested",t)}function c(e,t){r().vd(e,"space_claim_upgrade_completed",t)}function u(e,t){r().vd(e,"space_claim_deletion_started",t)}function p(e,t){r().vd(e,"space_claim_deletion_canceled",t)}},430395:(e,t,n)=>{n.d(t,{A:()=>i});class r extends(()=>n(757695))().default{getInitialState(){return{open:!1,succeeded:!1}}close(){this.setState({open:!1,succeeded:!1})}closeWithSuccess(){this.setState({open:!1,succeeded:!0})}open(e){this.setState({open:!0,temporaryBillingInterval:"month",temporaryAddress:{name:"",businessName:"",addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:""},appliedPromo:void 0,error:void 0,vatApplicable:!1,calculatingTax:!1,payButtonState:"disabled",subscriptionTier:"enterprise",targetPlan:void 0,targetSpace:e,totalUpgradeCost:void 0,onlyShowAddOn:!1,sessionId:n(206267).JW(),type:n(506090).p.TargetSpace})}setAddressField(e){this.state.open&&this.setState({...this.state,temporaryAddress:{...this.state.temporaryAddress,...e},taxCalculationError:void 0})}}const i=new r},505108:(e,t,n)=>{n.d(t,{a:()=>g});var r=n(296540),i=()=>n(401497),a=()=>n(534177),o=()=>n(284371),s=()=>n(84817),l=()=>n(819121),d=()=>n(955825),c=n(474848);function u(e){const{disabled:t,checked:n,selectorSize:r}=e,[a,o]=(0,l().A)(),s=function(e){const{checked:t,disabled:n,isFocusVisible:r,selectorSize:a}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...r&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===a?14:18,height:"small"===a?14:18,...n?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,n,r,a])}({checked:n,disabled:t,isFocusVisible:o,selectorSize:r});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:a,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>n(554509);const g=r.forwardRef((function(e,t){let{additionalContent:n,description:a,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:f="fill",selectorSize:x="normal",selectAlignXAxis:y="left",selectAlignYAxis:v="center",selectType:b="checkbox",style:S,supportText:A,value:I,colorName:C,alignAdditionalContent:k,...w}=e;const j=(0,r.useId)(),P=function(e){const{isSelected:t,isDisabled:n,selectAlignYAxis:r,alignAdditionalContent:a}=e;return(0,i().IS)((e=>{const i=t&&!n?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:a??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${i}`,...!n&&{cursor:"pointer"}},title:{fontWeight:o().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===r?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,n,r,a])}({isSelected:d,isDisabled:l,selectAlignYAxis:v,alignAdditionalContent:k}),B=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===v?"top-left":"center-left",gap:12,width:f,children:[(0,c.jsx)("div",{style:P.selectorWrapper,children:(0,c.jsx)(h,{id:j,selectType:b,name:p,value:I,onChange:g,isSelected:d,selectorSize:x,isDisabled:l,...w})}),(0,c.jsx)(m,{colorName:C,description:a,label:u,selectorSize:x,supportText:A,isDisabled:l})]}),M=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===v?"top-center":"center",gap:12,children:[(0,c.jsx)(m,{colorName:C,description:a,label:u,selectorSize:x,supportText:A,isDisabled:l}),(0,c.jsx)("div",{style:{...P.selectorWrapper,...P.rightAlignSelectorWrapper},children:(0,c.jsx)(h,{id:j,selectType:b,name:p,value:I,onChange:g,selectorSize:x,isSelected:d,isDisabled:l,...w})})]}),T=n?(0,c.jsx)("div",{style:P.additionalContentWrapper,children:n}):null;return(0,c.jsx)("label",{ref:t,style:{...P.container,...S},htmlFor:j,children:"left"===y?(0,c.jsxs)(c.Fragment,{children:[B,T]}):(0,c.jsxs)(c.Fragment,{children:[T,M]})})}));function m(e){const{description:t,label:n,supportText:r,selectorSize:i,isDisabled:o,colorName:l}=e;let d;return"large"===i?d="Page-Content/Text-Block":"normal"===i||void 0===i?d="Body-13px/Medium":"small"===i?d="Body-12px/Regular":(0,a().HB)(i),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(o?"quaternary":"primary"),children:n}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:o?"quaternary":"secondary",children:t}):null]}),r?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:r}):null]})}function h(e){const{selectType:t,selectorSize:r="normal",id:o,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...m}=e,h=(0,i().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:o,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:r,...m});case"checkbox":return(0,c.jsx)("div",{style:h.checkboxWrapper,children:(0,c.jsx)(n(115562).W,{id:o,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:r,...m})});default:(0,a().HB)(t)}}},509657:(e,t,n)=>{n.d(t,{a:()=>r().a});var r=()=>n(505108)},527059:(e,t,n)=>{n.d(t,{lh:()=>o().l,bw:()=>d,UL:()=>A,lI:()=>k,IU:()=>j,Wo:()=>w().W,EF:()=>P().E,o2:()=>B().o});var r=()=>n(484714),i=()=>n(187174),a=()=>n(449506);var o=()=>n(714300),s=()=>n(847249),l=()=>n(27716);function d(e){return(0,s().K8)((()=>(0,l().eJ)({billingData:e})),[e])}var c=n(296540),u=()=>n(786508),p=()=>n(166386),g=()=>n(58293),m=()=>n(762433),h=()=>n(640653),f=()=>n(47170),x=()=>n(240865),y=()=>n(351360),v=()=>n(324561),b=()=>n(10984),S=()=>n(141273);function A(e){const t=(0,r().v3)(),[n,i]=(0,c.useState)(!1),o=function(e){const t=(0,S().g)("ai_fifty_percent_upgrade"),n=(0,f().O)(),r=(0,v().f_)({spaceId:n}),i=(0,m().eh)(r,"ai"),a=(0,x().V)();return(0,s().K8)((()=>{const n=t&&!i&&(0,b().wb)()&&1===a,r=(0,h().aB)(y().default.state.currentSpaceStore);return Boolean(n&&(!r||"sidebar"!==e||r>=7))}),[t,i,a,e])}(e),l=(0,g().r)(),d=(0,s().K8)((()=>null==l?void 0:l.canAdmin()),[l]),A=(0,s().K8)((()=>null==l?void 0:l.getSpaceId()),[l]);return(0,c.useEffect)((()=>{!async function(){if(o&&A&&d)try{const n=await a().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:A,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===n.type)return;if("offer"in n.data){var e;const t=(0,u().RS)(null===(e=n.data)||void 0===e?void 0:e.offer);i((0,p().J5)(t))}}catch(n){return}}()}),[t,o,A,d]),n}var I=()=>n(176983),C=()=>n(975971);function k(e){let{spaceId:t}=e;const n=(0,r().v3)(),i=(0,I().J)();return(0,s().K8)((()=>{if(!t||!i)return;const e=C().A.getData(n,{spaceId:t});return null==e?void 0:e.billingData}),[n,t,i])}var w=()=>n(987427);function j(e,t){const n=(0,s().O$)(e),r=(0,x().V)()??1,d=(0,f().O)(),c=(0,o().l)({spaceId:d}),u=(0,s().K8)((()=>(0,l().eJ)({billingData:c})),[c]),[{value:p}]=(0,i().Yb)((()=>a().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);return!!p&&("failed"!==p.type&&(!!p.data.isEligible&&(!!n&&(!!c&&(!Boolean((0,m().KH)(c,"plan"))&&(u&&1===r))))))}var P=()=>n(314907),B=()=>n(86089)},558094:(e,t,n)=>{n.d(t,{X:()=>o});n(296540);var r=()=>n(807683),i=()=>n(137465),a=n(474848);function o(e){const{product:t}=e,n=function(e){switch(e){case"free":case"student":case"personal":return i().Q.free.originalImage;case"plus":return i().Q.plus.originalImage;case"business":return i().Q.business.originalImage;case"enterprise":return i().Q.enterprise.originalImage;case"ai":return i().Q.ai.originalImage;case"sites_custom_hostnames":return i().Q.sites_custom_hostnames.originalImage;default:return}}(t);return n?(0,a.jsx)(r().Ay,{src:n.path,style:{width:49,height:52}}):null}},585312:(e,t,n)=>{n.d(t,{q:()=>x});var r=()=>n(624119),i=(r(),n(296540),()=>n(484714)),a=()=>n(852507),o=()=>n(847249),s=()=>n(959013),l=()=>n(252105),d=()=>n(84817),c=()=>n(710149),u=()=>n(351360),p=()=>n(506090),g=()=>n(34699),m=()=>n(414402),h=()=>n(471725),f=n(474848);function x(e){const{modalId:t}=e,n=(0,o().O$)(h().D),d=(0,i().v3)();(0,a().w)((()=>{h().D.setState(!0)}));const c={defaultValues:{billingDetails:(0,o().K8)((()=>{const e=u().default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])},terms:{card:"never"}};return(0,f.jsxs)(g().iy,{title:n?(0,f.jsx)(m().y,{labelOnly:!0}):(0,f.jsx)(s().sA,{id:"subscriptions.checkout.paymentMethod.title",defaultMessage:"Payment method"}),children:[n?(0,f.jsx)(y,{}):null,(0,f.jsx)(r().PaymentElement,{options:c,onChange:e=>{l().C3(d,{event:e,modal_id:t}),p().A.update((e=>{if(!e.open)return e;const{paymentData:t,...n}=e;return n}))},onReady:()=>h().D.setState(!1)})]})}function y(){return(0,f.jsxs)(d().Y1,{gap:12,children:[(0,f.jsxs)(d().Y1,{direction:"horizontal",gap:12,children:[(0,f.jsx)(c().A,{style:{width:"50%",height:60,borderRadius:6}}),(0,f.jsx)(c().A,{style:{width:"50%",height:60,borderRadius:6}})]}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{})]})}},601203:(e,t,n)=>{n.d(t,{Kz:()=>C,Qe:()=>v,dn:()=>b,gM:()=>k,jO:()=>S,qu:()=>A});n(898992),n(354520),n(581454);var r=()=>n(251111),i=()=>n(762433),a=()=>n(643819),o=()=>n(622963),s=()=>n(496603),l=()=>n(534177),d=()=>n(449506),c=()=>n(780054),u=()=>n(640653),p=()=>n(351360),g=()=>n(506090),m=()=>n(134217),h=()=>n(830140),f=()=>n(430395),x=()=>n(981046),y=()=>n(749240);async function v(e){var t;let{environment:n,billingData:a,billingInterval:s,vatId:c,addOn:h,onlyShowAddOn:f}=e;const v=g().A.state,b=y().subscriptionDataStoreInstance.state;if(!v.open||!b)return;const S=(null==a?void 0:a.address)??v.temporaryAddress;if(!(0,r().Z)(S))return;g().A.update((e=>({...e,calculatingTax:!0})));const A=s??v.temporaryBillingInterval??"year",C=h??v.addOnFeature,k=f??v.onlyShowAddOn,w=null===(t=p().default.state.currentSpaceStore)||void 0===t?void 0:t.id;if(!w)return;const j=await(0,u().Pu)({environment:n,spaceId:w})??1,{planAmount:P,promoInfo:B,accountBalance:M}=(0,m().TQ)({memberCount:j,promo:v.appliedPromo,currencyCode:x().A.selectedCurrencyCode,data:b,addOnFeature:C,onlyShowAddOn:k,subscriptionTier:v.subscriptionTier,taxAmount:v.taxAmount,calculatingTax:v.calculatingTax,billingInterval:A,coupon:v.coupon}),T=Math.max(0,P-B.amount+M),_=[v.subscriptionTier,v.addOnFeature].map((e=>{switch(e){case void 0:return;case"ai":case"sites_custom_hostnames":return e;default:return(0,o()._y)(e)}})).map((e=>{const t=x().A.getPrice(n,(t=>t.product===e&&t.billingInterval===s));return null==t?void 0:t.result})).map(I).filter(l().O9),W=await d().callApi({eventName:"calculateTax",environment:n,data:{address:S,lineItems:_,price:T,vatId:c??v.vatApplicable?v.temporaryVatCode:void 0,customerId:(0,i().Rz)(a)}});if("failed"===W.type)g().A.update((e=>({...e,taxAmount:void 0,calculatingTax:!1})));else{const e=W.data;e.valid?g().A.update((t=>({...t,taxAmount:e.taxAmount,calculatingTax:!1,taxCalculationError:void 0}))):g().A.update((t=>({...t,taxAmount:void 0,calculatingTax:!1,taxCalculationError:e.error})))}}async function b(e,t){var n;const o=f().A.state,s=y().subscriptionDataStoreInstance.state;if(!o.open||!s)return;const l=o.temporaryAddress;if(!(0,r().Z)(l))return;f().A.update((e=>({...e,calculatingTax:!0})));const c=(null===(n=o.totalUpgradeCost)||void 0===n?void 0:n.amount)||0,u=await d().callApi({eventName:"calculateTax",environment:e,data:{address:l,price:c,vatId:o.vatApplicable?o.temporaryVatCode:void 0,customerId:(0,i().Rz)(t)}});if("failed"===u.type)f().A.update((e=>({...e,taxAmount:void 0,calculatingTax:!1})));else{const e=u.data;e.valid?f().A.update((t=>({...t,taxAmount:a().W.fromValue({amount:e.taxAmount,currencyCode:x().A.selectedCurrencyCode}),calculatingTax:!1,taxCalculationError:void 0}))):f().A.update((t=>({...t,taxAmount:void 0,calculatingTax:!1,taxCalculationError:e.error})))}}async function S(e){const{environment:t,priceForTaxCalculation:n,address:r,customerId:i,vatId:a}=e,o=h().A.state,s=await d().callApi({eventName:"calculateTax",environment:t,data:{address:r,customerId:i,vatId:a,price:n}});if("failed"===s.type);else{const e=s.data;e.valid&&o.open&&h().A.update((t=>({...t,tax:Math.max(0,e.taxAmount)})))}}async function A(e){const{environment:t,billingData:n,stripeData:a,taxableAmount:o,lineItems:s}=e,{address:l}=null!=n&&n.address?{address:null==n?void 0:n.address}:e,c=(null==a?void 0:a.vatId)??(n?(0,i().t_)(n,"vat"):void 0);if(!l||!(0,r().Z)(l))return;const u=(0,i().Rz)(n),p=await d().callApi({eventName:"calculateTax",environment:t,data:{address:l,price:o.amount,vatId:c,customerId:u,lineItems:s}});if("failed"===p.type)return;const g=p.data;return g.valid?g.taxAmount:void 0}function I(e){if(!e)return;if(void 0===e.unitAmount)return;const t=c().A.pricing[e.product];return"productId"in t?{amount:e.unitAmount.amount,productId:t.productId}:void 0}function C(e){const t=c().A.pricing[e.price.product];if("productId"in t)return{amount:e.price.unitAmount.amount*e.quantity,productId:t.productId}}function k(e){let{line:t,defaultProductId:n=c().A.pricing.plus.productId}=e;const r=(0,s().xu)(t.discount_amounts??[],"amount"),i=t.price?"string"==typeof(a=t.price.product)?a:a.id:n;var a;return{amount:t.amount-r,productId:i}}},614415:(e,t,n)=>{n.d(t,{Wx:()=>o,fM:()=>r,l9:()=>i,sM:()=>a});const r=new(n(645873).O2)("framer-motion",(async()=>await Promise.all([n.e(44711),n.e(53321),n.e(31895),n.e(37043)]).then(n.bind(n,492869))));function i(e){return e.useAnimate()}function a(e){return e.useAnimation()}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.useInView(...n)}},662866:(e,t,n)=>{n.d(t,{_:()=>s});n(296540);var r=()=>n(959013),i=()=>n(125565),a=()=>n(843878),o=n(474848);function s(){return(0,o.jsx)(a().Ay,{children:(0,o.jsx)(i().A,{isSmall:!0,style:{textAlign:"center"},children:(0,o.jsx)(r().sA,{id:"spaceSubscriptionPlans.offlineMessage",defaultMessage:"Please go online to manage your plan."})})})}},677195:(e,t,n)=>{n.d(t,{R:()=>i});n(296540);var r=n(474848);const i=(0,n(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,r.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},714300:(e,t,n)=>{n.d(t,{l:()=>l});var r=()=>n(484714),i=()=>n(847249),a=()=>n(176983),o=()=>n(596513),s=()=>n(324561);function l(e){let{spaceId:t}=e;const n=(0,r().v3)(),l=(0,a().J)();return(0,i().K8)((()=>{if(!t||!l)return;const e=o().t.getData(n,{spaceId:t});return(0,s().a9)(e)}),[n,t,l],{useDeepEqual:!0})}},716583:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(296540),i=()=>n(100622),a=()=>n(284371),o=()=>n(135552),s=n(474848);const l=function(e){const{children:t,isMobile:l,textSize:d,shouldUseDivider:c,style:u,styleKey:p}=e,{WindowSizeStore:g}=(0,n(484714).v3)(),[m,h,f]=(0,n(847249).K8)((()=>[g.getSafePaddingLeftCSS(10),g.getSafePaddingLeftCSS(14),g.getSafePaddingRightCSS(14)]),[g]),x=(0,r.useMemo)((()=>l?"small"!==d?a().J.UIRegular.mobile:a().J.UISmall.mobile:"small"!==d?a().J.UIRegular.desktop:a().J.UISmall.desktop),[l,d]),y=(0,r.useMemo)((()=>void 0===d?1.2:l?"small"!==d?a().K_.UIRegular.mobile:a().K_.UISmall.mobile:"small"!==d?a().K_.UIRegular.desktop:a().K_.UISmall.desktop),[l,d]),v=(0,n(401497).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!l&&{padding:"0px 12px"},...l&&{paddingLeft:h,paddingRight:f},fontSize:x,lineHeight:y,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${i().Ay.halfWhite}`}:{minHeight:44}},[`colorStyle__${o().q.Red}`]:{color:i().Ay.white,background:i().Ay.red,...l&&{justifyContent:"flex-start"}},[`colorStyle__${o().q.Blue}`]:{color:i().Ay.white,fill:i().Ay.white,background:i().Ay.blue,...l&&{paddingLeft:m,paddingRight:14}},[`colorStyle__${o().q.Beige}`]:{background:e.beigeBannerBackground,paddingLeft:l?12:18,paddingRight:l?14:16},[`colorStyle__${o().q.White}`]:{background:e.contentBackground,color:e.text.tertiary,fill:e.lightIconColor,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${o().q.Purple}`]:{background:"#CA59FF",color:i().Ay.white,fill:i().Ay.white},[`colorStyle__${o().q.LightRed}`]:{background:e.accentColors.red[100],color:e.accentColors.red[500]},[`colorStyle__${o().q.Yellow}`]:{background:e.accentColors.yellow[100],color:e.accentColors.yellow[600]},[`colorStyle__${o().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${o().q.ImportNotification}`]:{color:e.accentColors.uiBlue[600],fill:e.lightIconColor,background:e.accentColors.blue[30],height:48},[`colorStyle__${o().q.LightBlue}`]:{color:i().Ay.blue,fill:i().Ay.blue,background:e.lightBlueBannerBackground},[`colorStyle__${o().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.contrastPrimary,background:e.tooltipBackground}})),[l,m,h,f,c,x,y]),b=p?`colorStyle__${p}`:"colorStyle__default";return(0,s.jsx)("div",{style:{...v.bannerStyle,...v[b],...u},children:t})}},730764:(e,t,n)=>{n.d(t,{w:()=>b});n(898992),n(737550);var r=n(296540),i=()=>n(484714),a=()=>n(847249),o=()=>n(401497),s=()=>n(166386),l=()=>n(959013),d=()=>n(449506),c=()=>n(554509),u=()=>n(719147),p=()=>n(836251),g=()=>n(47170),m=()=>n(506090),h=()=>n(906195),f=()=>n(981046),x=()=>n(284371),y=n(474848);const v=function(){const e=(0,o().IS)((e=>({discountDescription:{alignItems:"center",color:e.text.secondary,fontSize:12,lineHeight:x().K_.UISmall.desktop}})),[]);return(0,y.jsx)("div",{style:e.discountDescription,children:(0,y.jsx)(l().sA,{id:"spaceSubscriptionSettings.orderOptions.estimatedPriceWarning",defaultMessage:"The final amount due may be impacted by prorations and member changes since your last invoice."})})};function b(e){const{products:t,showTrialEndDisclaimer:n,showProductTerms:r=!0}=e,i=(0,o().IS)((()=>({termsOfService:{display:"flex",flexDirection:"column",gap:12}})),[]),l=(0,a().K8)((()=>f().A.state.selectedCurrencyCode),[]),d=t.includes("ai"),u=t.some((e=>"ai"!==e)),p=void 0!==l&&"USD"!==l,g=(0,a().K8)((()=>{var e;return m().A.state.open?null===(e=m().A.state)||void 0===e?void 0:e.coupon:void 0}),[]),x=(0,h().D)()&&t.includes("plus")&&(0,s().u6)(g);return(0,y.jsx)(c().D,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,y.jsxs)("div",{style:i.termsOfService,children:[n?(0,y.jsx)(A,{}):null,r?(0,y.jsx)(S,{hasAi:d,hasPlan:u}):null,u&&x&&(0,y.jsx)(w,{}),p?(0,y.jsx)(j,{currencyCode:l}):null]})})}function S(e){let{hasAi:t,hasPlan:n}=e;return(0,y.jsxs)(y.Fragment,{children:[t&&!n?(0,y.jsx)(I,{}):null,t&&n?(0,y.jsx)(C,{}):null,!t&&n?(0,y.jsx)(k,{}):null]})}function A(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"spaceSubscriptionUpgradeModal.trialWillEndToday.message",defaultMessage:"Upgrading will end your trial and your workspace will be billed immediately."})})}function I(){const e=function(){const e=(0,i().v3)(),t=(0,g().O)(),[n,a]=(0,r.useState)();return(0,r.useEffect)((()=>{async function n(){var n;if(!t)return!1;const r=await d().callApi({eventName:"getSpaceMembershipUpdates",environment:e,data:{spaceId:t}});if("failed"===r.type)return!1;const i=!1===(null===(n=r.data[0])||void 0===n?void 0:n.isProcessed);a(!!i)}n()}),[e,t]),n}();return(0,y.jsxs)("div",{children:[(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.aiOnly",defaultMessage:"By continuing, you agree to the <aiTerms>Notion AI Product Specific Terms</aiTerms>.",values:{br:(0,y.jsx)("br",{}),aiTerms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("ai.terms"),external:!0,children:e})}}),e?(0,y.jsx)(v,{}):null]})}function C(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planWithAi",defaultMessage:"By continuing, you agree to the <terms>Notion Terms and Conditions</terms> and <aiTerms>Notion AI Product Specific Terms</aiTerms>.",values:{br:(0,y.jsx)("br",{}),terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms"),external:!0,children:e}),aiTerms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("ai.terms"),external:!0,children:e})}})})}function k(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planOnly",defaultMessage:"By continuing, you agree to the <terms>Notion Terms and Conditions</terms>.",values:{terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms"),external:!0,children:e})}})})}function w(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planOnlyResurrection",defaultMessage:"Enjoy 50% off your first 3 months of billing, then standard rates apply. <learnMore>Learn more</learnMore>",values:{learnMore:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("resurrectionLearnMore"),external:!0,children:e})}})})}function j(e){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.currencyRateWarning",defaultMessage:"<terms>Learn about FX rates</terms>. Rates will refresh throughout the billing period.",values:{terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms.currency.fxRates"),external:!0,children:e})}})})}},749356:(e,t,n)=>{n.d(t,{VY:()=>p,Qm:()=>g,z6:()=>u,OC:()=>f,L6:()=>m,Zc:()=>x,x3:()=>h});var r=()=>n(857639),i=()=>n(386164);const a={plans_page:["lic_25","lic_50","resurrection_offer","ai_fifty_percent_upgrade"],sidebar_upsell:["lic_25","lic_50"]};var o=()=>n(502800),s=()=>n(449506),l=()=>n(901389),d=()=>n(989423),c=()=>n(351360);async function u(e,t){var n;const{spaceId:r,offerCampaign:i}=t;if(!r||!i||null===(n=c().default.state.currentSpaceStore)||void 0===n||!n.canAdmin())return;const a=await s().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:r,offerCampaign:i}});return"failed"!==a.type&&"offer"in a.data&&a.data.offer?a.data.offer:void 0}async function p(e){const{environment:t,spaceId:n,offerCampaign:r,entrypoint:i}=e,a=await s().callApi({eventName:"applyCustomerOffer",environment:t,data:{spaceId:n,offerCampaign:r,entrypoint:i??"unknown"}});if("failed"!==a.type)return a;l().Qg(a)}async function g(e,t){const n=await s().callApi({eventName:"applyCustomerOffer",environment:e,data:{...t}});if("failed"!==n.type)return n;l().Qg(n)}async function m(e){const{environment:t,spaceId:n,offerCampaign:r}=e;return void 0!==await u(t,{spaceId:n,offerCampaign:r})}async function h(e){var t;const{environment:n,hasReceived:a,offerType:l,newPlan:d,coupon:u}=e,p=null===(t=c().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId();if(!p)return;const g=await s().callApi({eventName:"updateCustomerOffer",environment:n,data:{spaceId:p,hasReceived:a,offerType:l,newPlan:d,coupon:u},headers:(0,i().WS)({cellId:void 0,spaceId:p})});"failed"===g.type&&r().log({level:"error",from:"offerActions",type:"updateLegacyCustomerOfferFailed",error:(0,o().convertErrorToLog)(g.error)})}async function f(e,t,n){const r=function(e){if(a.hasOwnProperty(e))return a[e]}(n);if(r)for(const i of r){const n=await u(e,{spaceId:t,offerCampaign:i});if((null==n?void 0:n.campaign)===i)return n}}function x(e){let{environment:t,spaceName:n,offerCampaign:r}=e;if(n)switch(r){case"lic_25":case"lic_50":(0,d().WU)(t,"lic_offer_eligible","lic_offer_eligible",3600,{workspace_name:n,lic_25:"lic_25"===r,lic_50:"lic_50"===r});break;case"resurrection_offer":(0,d().WU)(t,"resurrection_offer_eligible","resurrection_offer_eligible",3600,{workspace_name:n});break;default:return}}},843878:(e,t,n)=>{n.d(t,{AL:()=>a,Ay:()=>s,J_:()=>o});n(296540);var r=()=>n(802790),i=n(474848);function a(e){return e?18:60}function o(){return(0,i.jsx)(r().A,{size:37})}const s=function(e){let{children:t,controlRow:r,bannerText:o,controlRowPaddingTopBottom:s,removeBoxShadow:l,contentPaddingLeftRight:d,controlRowPaddingLeftRight:c,getPaddingTopBottom:u,disableScroller:p,maxWidth:g,centerContent:m}=e;const h=(0,n(484714).v3)(),{device:f}=h,x=u?u():f.isMobile?18:36,y=(0,n(401497).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:g??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:d??a(f.isMobile),paddingRight:d??a(f.isMobile),paddingTop:o?15:x,paddingBottom:o?22:x,...m?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??a(f.isMobile),paddingRight:c??a(f.isMobile),paddingTop:s,paddingBottom:s,boxShadow:l?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:a(f.isMobile),paddingRight:a(f.isMobile)},childrenWithoutScroller:{paddingTop:x,paddingBottom:x},controlRowWithoutScroller:{paddingTop:s,paddingBottom:s,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[g,d,f.isMobile,o,x,c,s,l,m]);return p?(0,i.jsxs)("div",{style:y.containerWithoutScroller,children:[(0,i.jsx)("div",{style:y.childrenWithoutScroller,children:t}),r&&(0,i.jsx)("div",{style:y.controlRowWithoutScroller,children:r})]}):(0,i.jsxs)("div",{style:y.containerWithScroller,children:[o&&(0,i.jsx)(n(716583).A,{styleKey:n(135552).q.Blue,isMobile:!1,children:o}),(0,i.jsx)(n(2143).H,{type:n(756279).A.All,style:y.scroller,children:t}),r&&(0,i.jsx)("div",{style:y.controlRowWithScroller,children:r})]})}},854418:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(296540),i=()=>n(484714),a=()=>n(449506);function o(){const e=(0,i().v3)(),[t,n]=(0,r.useState)();return(0,r.useEffect)((()=>{!async function(){const t=await a().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===t.type)return;const r=t.data;n(r)}()}),[e]),t}},906195:(e,t,n)=>{n.d(t,{D:()=>f});var r=n(296540),i=()=>n(484714),a=()=>n(847249),o=()=>n(786508),s=()=>n(166386),l=()=>n(449506),d=()=>n(640653),c=()=>n(58293),u=()=>n(351360),p=()=>n(749356),g=()=>n(714300),m=()=>n(762433),h=()=>n(807778);function f(){const e=(0,i().v3)(),t=(0,c().r)(),n=null==t?void 0:t.id,f=(0,g().l)({spaceId:n}),[x,y]=(0,r.useState)(!1),{currentSpaceStore:v}=(0,a().K8)((()=>{const{currentSpaceStore:e}=u().default.state;return{currentSpaceStore:e}}),[]),b=(0,a().K8)((()=>v?(0,d().GK)(e,v):void 0),[v,e]),S=function(e){return(0,a().K8)((()=>(0,h().vv)()&&Boolean("free"===(0,m().AI)(e))),[e])}(f),A=(0,a().K8)((()=>null==t?void 0:t.canAdmin()),[t]);return(0,r.useEffect)((()=>{!async function(){if(S&&n&&A)try{const t=await l().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:n,offerCampaign:"resurrection_offer"}});if("failed"===t.type)return;if("offer"in t.data){const n=(0,o().RS)(t.data.offer);(0,s().u6)(n)&&(y(!0),b&&(0,p().Zc)({environment:e,spaceName:b,offerCampaign:"resurrection_offer"}))}}catch(t){return}}()}),[e,n,S,b,A]),x}},987427:(e,t,n)=>{n.d(t,{W:()=>a});var r=n(296540),i=()=>n(854418);function a(){const e=(0,i().t)(),[t,n]=(0,r.useState)();return(0,r.useEffect)((()=>{n(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}}}]);