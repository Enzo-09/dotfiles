"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[53179],{265665:(e,t,o)=>{o.d(t,{j:()=>c});var r=o(296540),n=()=>o(484714),a=()=>o(401497),i=()=>o(284371),s=()=>o(859428);var l=()=>o(962730),d=o(474848);function c(e){let{children:t,style:o,tooltipStyle:c,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,n().Y0)(),f=(0,r.useRef)(null),m=function(e){const[t,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const r="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;o(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==r||r.observe(t),()=>null==r?void 0:r.unobserve(t)}),[]),t}(f),g=(0,a().IS)((()=>({overflowText:{...i().RC,...o}})),[o]);return(0,d.jsx)(s().A,{delayThreshold:500,placement:u,textWrap:!0,style:c,forceVisibleState:!(p||!m)&&void 0,renderTooltip:()=>m?t:void 0,render:e=>(0,d.jsx)("div",{ref:f,style:g.overflowText,...e,children:t})})}},484595:(e,t,o)=>{o.d(t,{A:()=>s,p:()=>a});var r=o(296540),n=o(474848);const a=8;function i(e,t){let{isSelected:r}=e;const{radioButtonStyle:i,dotStyle:s}=(0,o(401497).IS)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:a,background:r?e.blueColor:e.whiteButtonBackground,border:r?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e.text.contrastPrimary,transition:"opacity 100ms ease-out",opacity:r?1:0}})),[r]);return(0,n.jsx)("div",{ref:t,style:i,children:(0,n.jsx)("div",{style:s})})}const s=r.forwardRef(i)},603815:(e,t,o)=>{o.d(t,{A$:()=>S,JQ:()=>x,Vn:()=>C,s4:()=>A});o(16280),o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949),o(581454);var r=()=>o(857639),n=()=>o(585515),a=()=>o(577449),i=()=>o(388821),s=()=>o(179034),l=()=>o(545285),d=()=>o(534177),c=()=>o(449506),u=()=>o(780054),p=()=>o(989423),f=()=>o(870618),m=()=>o(303626),g=()=>o(14307),h=()=>o(245865),v=()=>o(540758),b=()=>o(670631),k=()=>o(508496),y=()=>o(571963),w=()=>o(603815),B=()=>o(108944);async function C(e){const{environment:t,request:o,abortSignal:r,prefetchCacheKey:n,headers:a}=e;return(0,y().updateLoadCachedPageChunkCalledAt)(),g().isConnected()||g().isConnecting()?c().callApi({eventName:"loadCachedPageChunkV2",environment:t,data:o,abortSignal:r,prefetchCacheKey:n,headers:a}):c().callApi({eventName:"loadPageChunkV2",environment:t,data:o,abortSignal:r,prefetchCacheKey:n,headers:a})}async function A(e){const{mode:t,environment:o,request:d,isFirstChunk:c,abortSignal:g}=e,h={...d,limit:30,cursor:d.cursor||{stack:[]},baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName};if("inMemoryAndDiskCacheWithInexactPreload"===t&&(await w().A$(o,{id:d.page.id,table:s().ev}),null!=g&&g.aborted))throw new Error("Abort signal received");const k=i().RecordMapWithRole.create(),y=[];let B=!1;const C=new Set,A=await n().T(h,a().h.fromMonomorphicFunctionUnsafe((async e=>{const r=await f().h7({environment:o,pointer:e,abortSignal:g,useInMemoryCacheOnly:"inMemoryOnly"===t});if(null!=g&&g.aborted)throw new Error("Abort signal received");if(r)return k.setModelAndRole(e,r.model,r.role),r.model;if("inMemoryOnly"===t)throw new Error(`Record not found: ${e.table},${e.id}`);if((0,l().u)(e)&&!C.has(e.id)&&c){if(void 0===b().A.state.offlinePages)return y.push(e),void(B=!0);if(void 0===b().A.state.offlinePages||!v().Bd(d.page.id))throw new Error(`Record not found: ${e.table},${e.id}`);y.push(e)}})),((e,t,o,r)=>{m().N.enableLogging&&console.log(`Spidering from ${e.table}:${e.id} to ${t.table}:${t.id} (${o})`),null!=r&&r.suppressErrorOnClient&&C.add(t.id)}));if(B&&(await b().A.waitUntil((()=>void 0!==b().A.state.offlinePages)),!v().Bd(d.page.id))){const[e]=y;throw new Error(`Record not found: ${e.table},${e.id}`)}if(y.length>0&&(0,p().LM)({eventName:"offline_page_was_missing_records_in_cache",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((e=>{(0,p().u4)({environment:o,event:{eventName:"offline_page_was_missing_records_in_cache",eventProperties:{}},opts:{sampling:{behavior:"decided",sampleDecision:e}}}),e&&r().log({level:"error",from:"loadingHelpers",type:"offlinePageWasMissingRecordsInCache",data:{pageId:d.page.id,missingRecords:y}})})),null!=g&&g.aborted)throw new Error("Abort signal received");return{recordMap:k.toJson(),cursor:A.cursorValue}}async function S(e,t){const o=e.currentUser.id;if(!o||!e.defaultRecordCache.persistedRecordCache)return Promise.resolve(void 0);(await e.defaultRecordCache.persistedRecordCache.getPageBlocksByParent({page:t,userId:o})).forEach((t=>{e.defaultRecordCache.inMemoryRecordCache.setRecord({pointer:t.pointer,userId:t.userId},t.value),e.defaultRecordCache.inMemoryRecordCache.emitRecord(t.pointer,[]),h().unsubscribeAfterDelay({environment:e,pointer:t.pointer,userId:t.userId})}))}function x(e){if(!k().default.checkGate({gateName:"load_page_chunk_omit_existing_record_versions"}))return;const t=i().RecordMapPolymorphic.create();let o=0;const r=()=>o>=50,n=e=>{"space"!==(null==e?void 0:e.table)&&(r()||e&&void 0===t.get(e.pointer)&&(t.set(e.pointer,e.getVersion()),o++))};if(e.isReady())for(const i of(0,B().E)(e))n(i);if(e.userId){const t=e.environment.defaultRecordCache.inMemoryRecordCache.data.getUserRecordMap(e.userId);n(t.getModel({table:"notion_user",id:e.userId}));let o=0;for(const e of t.getPointersByTable("notion_user")){if(r()||o>=10)break;o++,n(t.getModel(e))}}const a=Array.from(t).map((e=>{let{pointer:t,value:o}=e;if(void 0!==o)return{pointer:t,version:o}})).filter(d().O9);return a.length?a:void 0}},618968:(e,t,o)=>{o.r(t),o.d(t,{TopbarFavoriteButton:()=>x});var r=o(296540),n=()=>o(484714),a=()=>o(847249),i=()=>o(401497),s=()=>o(877788),l=o(474848);const d={viewBox:"0 0 20 20",svg:(0,l.jsx)("path",{d:"M10.594 2.83a.625.625 0 0 0-1.188 0L7.899 7.468H3.025a.625.625 0 0 0-.367 1.13L6.6 11.462l-1.506 4.636a.625.625 0 0 0 .962.699L10 13.932l3.943 2.865a.625.625 0 0 0 .962-.699L13.4 11.462l3.943-2.865a.625.625 0 0 0-.367-1.13H12.1z"})},c=(0,o(340498).wt)("starFill",d);var u=()=>o(959013),p=()=>o(778417),f=()=>o(751156),m=()=>o(989423),g=()=>o(38337),h=()=>o(245128),v=()=>o(963589),b=()=>o(869562),k=()=>o(962730),y=()=>o(285790),w=()=>o(35392),B=()=>o(859428),C=()=>o(573792),A=()=>o(863059);const S=(0,u().YK)({isBookmarkedMessage:{defaultMessage:"Favorited",id:"topbar.favoriteButton.activeTitle"},isNotBookmarkedMessage:{defaultMessage:"Favorite",id:"topbar.favoriteButton.title"},isBookmarkedTooltip:{defaultMessage:"Remove from your favorites",id:"topbar.favoriteButton.activeTooltip1"},isNotBookmarkedTooltip:{defaultMessage:"Add to your favorites",id:"topbar.favoriteButton.tooltip1"}});function x(e){let{spaceViewStore:t,store:o,iconStyle:d,buttonStyle:w,showKeyboardShortcut:x,useDefaultTooltipPlacement:M,isTablet:_}=e;const I=(0,n().v3)(),P=(0,u().tz)(),j=(0,a().K8)((()=>!!t&&(0,h().A)({spaceViewStore:t,pageId:o.id})),[t,o]),T=j?c:s().w,L=(0,r.useMemo)((()=>j?()=>function(e,t,o){if(!o)return;p().IU({environment:t}),m().vd(t,"unbookmark",{from:"topbar"}),f().createAndCommit({userAction:"TopbarFavoriteButton.handleUnbookmarkClick",environment:t,canUndo:!0,perform:t=>{b().unbookmarkPage({spaceViewStore:o,store:e,transaction:t})}})}(o,I,t):()=>function(e,t,o){if(!o)return;p().IU({environment:t}),m().vd(t,"bookmark",{from:"topbar"}),f().createAndCommit({userAction:"TopbarFavoriteButton.handleBookmarkClick",environment:t,canUndo:!0,perform:t=>{b().bookmarkPage({spaceViewStore:o,store:e,transaction:t})}})}(o,I,t)),[j,o,I,t]),N=(0,v().X)("tablet_refresh_gate"),$=(0,A().gQ)(),E=(0,i().IS)((e=>({icon:{..._&&N?$.tabletIcon:$.icon,...j?{fill:e.topbarFavorite}:void 0,...d},button:{...$.iconButton,...w}})),[$.icon,$.tabletIcon,$.iconButton,j,d,w,_,N]),O=(0,i().IS)((e=>({iconContainer:(0,C().aD)(e).iconContainer})),[]);return(0,l.jsx)(B().A,{placement:M?void 0:k().W.Bottom,originGap:I.device.isElectronWindows?10:void 0,renderTooltip:()=>(0,l.jsx)(R,{isBookmarked:j,showKeyboardShortcut:x}),render:e=>(0,l.jsx)(y().A,{...e,className:g().ZEs,icon:T,style:_?O.iconContainer:E.button,iconStyle:E.icon,onClick:L,ariaLabel:P.formatMessage(j?S.isBookmarkedMessage:S.isNotBookmarkedMessage)})})}function R(e){let{isBookmarked:t,showKeyboardShortcut:o}=e;const r=(0,i().DP)();return(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("div",{children:(0,l.jsx)(u().sA,{...t?S.isBookmarkedTooltip:S.isNotBookmarkedTooltip})}),o&&(0,l.jsx)(w().A,{style:{color:r.text.contrastSecondary},name:"toggleFavorite"})]})}},873892:(e,t,o)=>{o.r(t),o.d(t,{TopbarSubmitPostButton:()=>v});var r=o(296540),n=()=>o(484714),a=()=>o(847249),i=()=>o(401497),s=()=>o(959013),l=()=>o(284371),d=()=>o(435009),c=()=>o(184966),u=()=>o(732800),p=()=>o(659915),f=()=>o(661945),m=()=>o(704152),g=()=>o(204063),h=o(474848);function v(e){const{store:t}=e,o=(0,n().v3)(),v=(0,n().Y0)(),b=(0,r.useCallback)((()=>{t&&d().aX(o)}),[o,t]),k=(0,r.useCallback)((()=>{c().tt({environment:o,draftPostStore:t,onSubmitPost:b,from:"full_page_topbar"})}),[o,t,b]),y=(0,r.useCallback)((()=>{t&&(0,p().s)(t)?f().A.setState({isOpen:!0}):k()}),[t,k]),w=(0,a().K8)((()=>f().A.state.isOpen),[]),B=(0,i().IS)((e=>({postButtonMobile:{display:"flex",alignItems:"center",height:32,paddingLeft:12,paddingRight:12,marginRight:16,fontWeight:l().Wy.medium,color:e.text.primary,background:e.tint.regular,borderRadius:16},postButtonDesktop:{marginLeft:2}})),[]);return(0,h.jsxs)(h.Fragment,{children:[v.isMobile?(0,h.jsx)(m().A,{onClick:y,style:B.postButtonMobile,children:(0,h.jsx)(s().sA,{id:"posts.postButton.label",defaultMessage:"Post"})}):(0,h.jsx)(g().A,{onClick:y,style:B.postButtonDesktop,children:(0,h.jsx)(s().sA,{id:"posts.postButton.label",defaultMessage:"Post"})}),(0,h.jsx)(u().A,{postStore:t,isOpen:w,onDismiss:()=>f().A.setState({isOpen:!1}),onConfirm:()=>{f().A.setState({isOpen:!1}),k()}})]})}},877788:(e,t,o)=>{o.d(t,{w:()=>n});o(296540);const r={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M10 2.399c.27 0 .51.174.594.432l1.507 4.636h4.874a.625.625 0 0 1 .367 1.13L13.4 11.462l1.506 4.636a.625.625 0 0 1-.962.699L10 13.932l-3.943 2.865a.625.625 0 0 1-.962-.699L6.6 11.462 2.658 8.597a.625.625 0 0 1 .367-1.13h4.874L9.406 2.83A.625.625 0 0 1 10 2.399m0 2.647L8.948 8.285a.625.625 0 0 1-.595.432H4.95l2.754 2c.22.16.31.442.227.7l-1.052 3.238 2.755-2.001a.625.625 0 0 1 .734 0l2.755 2-1.052-3.237a.625.625 0 0 1 .227-.7l2.754-2h-3.405a.625.625 0 0 1-.594-.432z"})},n=(0,o(340498).wt)("star",r)}}]);