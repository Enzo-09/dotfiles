"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[11097,15529,15961,47381,90871,98942],{6208:(e,t,o)=>{o.d(t,{L:()=>d,y:()=>l});var n=()=>o(847249),r=()=>o(798880),i=()=>o(959013),a=()=>o(351360),s=()=>o(630116);function l(e){const t=(0,i().tz)();return(0,n().K8)((()=>{const{currentSpaceStore:o}=a().default.state;if(!o||!e)return;return s().LU.createChildStore(o,{table:r().oo,id:e}).getDisplayName(t)}),[t,e])}function d(){const e=(0,i().tz)();return(0,n().K8)((()=>{const{currentUserStore:t}=a().default.state,o=null!=t&&t.isDefined()?t.getModel():void 0;return o?o.getDisplayName(e):void 0}),[e])}},24184:(e,t,o)=>{o.d(t,{e:()=>n});const n=(0,o(340498).xh)("arrowCounterClockwise",{default:{loader:()=>o.e(79311).then(o.bind(o,579311))},small:{loader:()=>o.e(49121).then(o.bind(o,449121))},mini:{loader:()=>o.e(48591).then(o.bind(o,248591))},large:{loader:()=>o.e(95490).then(o.bind(o,873109))}})},27716:(e,t,o)=>{o.d(t,{D_:()=>k,Ft:()=>w,HN:()=>x,MA:()=>y,Sk:()=>b,Yn:()=>_,e9:()=>h,eJ:()=>C,su:()=>S});o(944114),o(898992),o(672577),o(737550);var n=()=>o(326215),r=()=>o(762433),i=()=>o(47273),a=()=>o(979340),s=()=>o(959013),l=()=>o(972435),d=()=>o(324561);const c=(0,s().YK)({cancellationError:{id:"midtermSubscriptionHelpers.cancellationFailed",defaultMessage:"There was an error attempting to cancel your pending changes. Please try again."},unableToCancelError:{id:"midtermSubscriptionHelpers.unableToCancel",defaultMessage:"We cannot cancel your scheduled changes right now. Please contact support for more help."},cancellationSuccess:{id:"midtermSubscriptionHelpers.cancellationSucceeded",defaultMessage:"Pending changes have been canceled"},invalidSubscriptionId:{id:"midtermSubscriptionHelpers.invalidSubscriptionId",defaultMessage:"Unable to cancel your pending changes. Something was wrong with your pending subscription changes."}});function u(e){return(0,a().dL)(e)?"free":(0,a().wb)(e)?"education":(0,a().sP)(e)?"singlePlayerPlus":(0,a().$P)(e)?"plus":(0,a().tL)(e)?"business":(0,a().OX)(e)?"enterprise":"legacy"}const p=(0,s().YK)({freePlan:{defaultMessage:"Free Plan",id:"freePlan.title"},educationPlusPlan:{defaultMessage:"Education Plus Plan",id:"educationPlusPlan.title"},plusPlan:{defaultMessage:"Plus Plan",id:"plusPlan.title"},businessPlan:{id:"businessPlan.title",defaultMessage:"Business Plan"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"legacyPlan.label"}}),m={free:{planTitle:p.freePlan},singlePlayerPlus:{planTitle:p.plusPlan},education:{planTitle:p.educationPlusPlan},plus:{planTitle:p.plusPlan},business:{planTitle:p.businessPlan},enterprise:{planTitle:p.enterprisePlan},legacy:{planTitle:p.legacyPlan}},g=(0,s().YK)({notionAI:{defaultMessage:"Notion AI",id:"notionAI.title"},removeAI:{defaultMessage:"Remove AI",id:"notionAI.remove.title"}}),f=(0,s().YK)({month:{defaultMessage:"Monthly billing",id:"billingInterval.monthly"},year:{defaultMessage:"Annual billing",id:"billingInterval.annual"}});function h(){return l().A.formatMessage(c.unableToCancelError)}function y(){return l().A.formatMessage(c.cancellationSuccess)}function v(e){var t;const o=null==e||null===(t=e.subscription)||void 0===t?void 0:t.pending;if(!o)return;const n=(0,r().PP)(e),a=(0,r().lQ)(e);return{oldTier:(0,i().Gf)(n)??"free",newTier:(0,i().Gf)(a)??"free",oldAIAddOn:(0,i().V_)(n).find((e=>"ai"===e)),newAIAddOn:(0,i().V_)(a).find((e=>"ai"===e)),oldInterval:(0,i().yw)(n),newInterval:(0,i().yw)(a),phaseOneEndDate:o.startDate}}function b(e){const t=v(e);return!(!t||!t.newInterval)&&t.oldInterval!==t.newInterval}function x(e){const t=v(e);return!!t&&t.oldTier!==t.newTier}function S(e){const t=v(e),o=[];if(!t)return{scheduledChanges:o,periodEndDate:null};const{newTier:n,oldTier:r,oldAIAddOn:i,newAIAddOn:a,oldInterval:s,newInterval:d,phaseOneEndDate:c}=t;var p,h;return r!==n&&o.push(function(e,t){const o=u(e),n=l().A.formatMessage(m[o].planTitle);if(!t)return"";const r=u(t);return`${n} → ${l().A.formatMessage(m[r].planTitle)}`}(r,n)),i!==a&&o.push((p=i,h=a,`${l().A.formatMessage(p?g.notionAI:g.removeAI)} → ${l().A.formatMessage(h?g.notionAI:g.removeAI)}`)),s!==d&&o.push(function(e,t){return e&&t?`${l().A.formatMessage("month"===e?f.month:f.year)} → ${l().A.formatMessage("month"===t?f.month:f.year)}`:""}(s,d)),{scheduledChanges:o,periodEndDate:c}}function w(e,t){if(!e)return;const o=(0,r().PP)(e).items,n=(0,r().lQ)(e).items;var i;return(0,r().HO)(o,n).some((e=>{let[o,n]=e;return(0,r().IE)(o??n)===t&&o&&!n}))?null===(i=e.subscription)||void 0===i||null===(i=i.pending)||void 0===i?void 0:i.startDate:void 0}function k(e){if(!e)return;var t;return 0===(0,r().lQ)(e).items.length?null===(t=e.subscription)||void 0===t||null===(t=t.pending)||void 0===t?void 0:t.startDate:void 0}function C(e){let{billingData:t}=e;const o=(0,d().a9)(t);if(!o)return!1;if((0,r().et)(t))return!1;const n=(0,r().bO)(o),i=(0,r().N8)(null==o?void 0:o.subscription);return!n&&!i}function _(e){const t=(0,r().V9)(e),o=(0,r().ji)(e).length>0;return!t||(!n().xd.includes(t)||!(!o||!n().iV.includes(t)))}},33218:(e,t,o)=>{o.d(t,{UQ:()=>m,gL:()=>f});o(16280),o(898992),o(672577),o(803949);var n=()=>o(651124),r=()=>o(792071),i=()=>o(688728),a=()=>o(369186),s=()=>o(475140),l=()=>o(235692),d=()=>o(778781),c=()=>o(696706),u=()=>o(896628),p=()=>o(751156);function m(e){let{environment:t,transaction:o,layoutStore:n,position:l,updatedModule:d,sessionId:c}=e;const u=i().Zm[l.area],m=n.getRawModules();if("form_conditional_modules"===u){const e=null==m?void 0:m[u];if(!(null==e?void 0:e[l.moduleId]))throw new Error("Unable to find module being updated.");return void p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:r().N4X.updateModuleInArea({pointer:n.pointer,area:u,module:(0,a().Lv)(d)})})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const g=(0,s().LC)(m,(e=>e.id===l.moduleId));if(!g||g.area!==u)throw new Error("Unable to find module being updated.");p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:r().N4X.updateModuleInArea({pointer:n.pointer,module:(0,a().Lv)(d),..."views_main_tab_modules"===g.area?{area:g.area,viewId:g.viewId}:{area:g.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function g(e){var t,o,n;let{collectionStore:r,layoutStore:i}=e;const a=new Map,s=r.getFormat(),l=[...null===(t=i.getModules())||void 0===t?void 0:t.page_main,...null===(o=i.getModules())||void 0===o?void 0:o.page_details],c=new Map;null===(n=s.property_visibility)||void 0===n||n.forEach((e=>{c.set(e.property,e)})),l.forEach((e=>{if(!(0,d()._Q)(e))return(0,d().gx)(e)?(a.set(e.propertyId,{property:e.propertyId}),void c.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),c.set(e,{property:e,visibility:"show"})}))}));const u=r.getNormalizedPropertyGroups();var p;u?u.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(p=s.collection_page_properties)||void 0===p||p.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(c.values())}}function f(e){let{environment:t,transaction:o,collectionStore:i,layoutStore:a}=e;const{propertiesFormat:s,propertyVisibility:m}=g({collectionStore:i,layoutStore:a});p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),o=a.getFormat(),g=a.firstModuleOfType("viewsMain");g&&(0,d().y6)(g)&&t.find((e=>c().L3.isEqual(e,g.collection_view_block_pointer)))&&p().applyOperation({transaction:e,store:a,operation:r().N4X.removeBlockChild(a.pointer,g.collection_view_block_pointer.id)});const f=null==o?void 0:o.previousViewsMainCollectionViewBlockPointer,h=f&&t.find((e=>c().L3.isEqual(e,f)));h&&p().applyOperation({transaction:e,store:a,operation:r().N4X.removeBlockChild(a.pointer,h.id)}),p().applyOperation({transaction:e,store:a,operation:r().N4X.setModulesByAreas(a.pointer,(0,l().K5)())}),p().applyOperation({transaction:e,store:a,operation:r().N4X.deleteFormat(a.pointer)});const y=i.getFormat(),{page_section_visibility:v}=y;u().zA({stores:[i],update:{property_groups:void 0,collection_page_properties:s,property_visibility:m,...v?{page_section_visibility:n().Zi}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},51194:(e,t,o)=>{o.d(t,{a:()=>i});var n=o(296540),r=()=>o(525128);function i(){const e=(0,n.useRef)(!1);return(0,r().E)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},56565:(e,t,o)=>{o.r(t),o.d(t,{WorkflowTemplatesOnboardingModalWithErrorBoundary:()=>Co});var n=o(296540),r=()=>o(484714),i=()=>o(847249),a=()=>o(534177),s=()=>o(938090),l=()=>o(84817),d=()=>o(107683),c=()=>o(58283),u=()=>o(951710),p=()=>o(555822),m=()=>o(112995),g=()=>o(989423),f=()=>o(963589),h=()=>o(691298),y=()=>o(896326),v=()=>o(458097),b=(o(898992),o(354520),o(581454),()=>o(203066)),x=()=>o(153321),S=()=>o(401497),w=()=>o(663077),k=()=>o(919709),C=()=>o(959013),_=o(474848);function M(){const e=(0,S().IS)((()=>({badge:{marginLeft:6,display:"inline"}})),[]);return(0,_.jsx)(o(464708).A,{style:e.badge,content:(0,_.jsx)(C().sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})}var I=()=>o(710149),A=()=>o(664565),j=()=>o(58293),P=()=>o(102777),T=()=>o(110165),B=()=>o(725614),R=()=>o(285790),D=()=>o(545805),L=()=>o(524702),E=()=>o(38337),W=()=>o(847743),N=()=>o(301421),F=(o(16280),o(672577),o.n(o(794148))),O=()=>o(449506),z=()=>o(687681),H=()=>o(436572),G=()=>o(623580),V=()=>o(7674),K=()=>o(342461);const U=(0,C().YK)({sendFeedbackButton:{id:"setupGenerator.sendFeedbackButton",defaultMessage:"Send feedback"},feedbackPlaceholder:{id:"setupGenerator.feedbackPlaceholder",defaultMessage:"Share your feedback"},submitSuccess:{id:"setupGenerator.submitSuccess",defaultMessage:"Your feedback has been submitted, thanks!"}});function $(e){const{onSubmit:t}=e,o=(0,C().tz)(),[r,i]=(0,n.useState)(""),a=(0,n.useCallback)((()=>{t(r),H().D6({label:o.formatMessage(U.submitSuccess)})}),[r,o,t]);return(0,_.jsx)(V().tf,{header:(0,_.jsx)(V().YA,{iconAndTitle:(0,_.jsx)("div",{style:{padding:"0 24px"},children:(0,_.jsx)(V().ZQ,{iconGroup:z().u,title:(0,_.jsx)(C().sA,{id:"setupGenerator.feedbackModal.title",defaultMessage:"How can we improve this result?"})})}),description:(0,_.jsx)(C().sA,{id:"setupGenerator.feedbacModal.description",defaultMessage:"Your feedback helps Notion AI improve. The messages from your chat, the search results, and your feedback will be sent to Notion to help improve Notion AI."})}),footer:(0,_.jsx)(V().aO,{layout:"vertical",primaryButtons:[{label:o.formatMessage(U.sendFeedbackButton),onClick:a,isDisabled:0===r.length}]}),children:(0,_.jsx)(l().Y1,{padding:2,children:(0,_.jsx)(G().A,{placeholder:o.formatMessage(U.feedbackPlaceholder),textarea:!0,focusInitial:!0,value:r,onChange:e=>i(e.target.value)})})})}function Q(e){const{traceId:t,spaceId:o,transcript:a}=e??{},[s,l]=(0,n.useState)(void 0),c=(0,i().O$)(v().A),u=(0,r().v3)(),p=a.find((e=>"config"===e.type));if(!p)throw new Error("No config step found");return[s,(0,n.useCallback)((async e=>{if(l(e),void 0!==e&&(F()(c.open,"Trying to submit feedback while modal is not open"),(0,g().u4)({environment:u,event:{eventName:"workflow_template_onboarding_feedback",eventProperties:{feedback_type:e,...(0,y().gM)(c)}}})),o&&(O().callApi({eventName:"saveInferenceTranscriptFeedback",environment:u,data:{spaceId:o,type:p.value.type,traceId:t,feedbackType:e,userComment:void 0}}),"thumbs_down"===e)){const e=await async function(){return await(0,K().showAsyncModal)((e=>(0,_.jsx)(d().s,{isOpen:e.isOpen,onDismiss:e.onDismiss,onClosed:e.onClosed,areaConstraint:{width:{type:"fixed",length:400}},render:()=>(0,_.jsx)($,{onSubmit:e.resolve})})))}();e&&O().callApi({eventName:"saveInferenceTranscriptFeedback",environment:u,data:{spaceId:o,type:p.value.type,traceId:t,feedbackType:"thumbs_down",userComment:e}})}}),[u,o,t,p,c])]}var Y=()=>o(24184),q=()=>o(340498);const Z=(0,q().xh)("handThumbsDown",{default:{loader:()=>o.e(65728).then(o.bind(o,765728))},small:{loader:()=>o.e(66230).then(o.bind(o,243849))},mini:{loader:()=>o.e(34526).then(o.bind(o,534526))},large:{loader:()=>o.e(28366).then(o.bind(o,528366))}}),J=(0,q().xh)("handThumbsDownFill",{default:{loader:()=>o.e(56051).then(o.bind(o,756051))},small:{loader:()=>o.e(64477).then(o.bind(o,864477))},mini:{loader:()=>o.e(3723).then(o.bind(o,503723))},large:{loader:()=>o.e(78113).then(o.bind(o,978113))}}),X=(0,q().xh)("handThumbsUp",{default:{loader:()=>o.e(68563).then(o.bind(o,168563))},small:{loader:()=>o.e(48861).then(o.bind(o,548861))},mini:{loader:()=>o.e(60747).then(o.bind(o,860747))},large:{loader:()=>o.e(19617).then(o.bind(o,619617))}}),ee=(0,q().xh)("handThumbsUpFill",{default:{loader:()=>o.e(68748).then(o.bind(o,668748))},small:{loader:()=>o.e(13450).then(o.bind(o,113450))},mini:{loader:()=>o.e(58034).then(o.bind(o,658034))},large:{loader:()=>o.e(32594).then(o.bind(o,332594))}});var te=()=>o(460292),oe=()=>o(859428),ne=()=>o(962730);const re=(0,C().YK)({negativeFeedbackTooltip:{defaultMessage:"Share negative feedback with Notion",id:"setupGenerator.negativeFeedbackTooltip"},positiveFeedbackTooltip:{defaultMessage:"Share positive feedback with Notion",id:"setupGenerator.positiveFeedbackTooltip"},retry:{defaultMessage:"Revert",id:"setupGenerator.retry"}});function ie(e){const{value:t,onChange:o,canRetry:n,onClickRetry:r,variantName:i}=e,a=(0,C().tz)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(ae,{type:"thumbs_up",isSelected:"thumbs_up"===t,variantName:i,iconGroup:"thumbs_up"===t?ee:X,onClick:o}),(0,_.jsx)(ae,{type:"thumbs_down",isSelected:"thumbs_down"===t,variantName:i,iconGroup:"thumbs_down"===t?J:Z,onClick:o}),n?(0,_.jsx)(oe().A,{renderTooltip:()=>(0,_.jsx)("div",{children:(0,_.jsx)(C().sA,{...re.retry})}),placement:ne().W.Bottom,render:e=>(0,_.jsx)(R().A,{onClick:r,icon:()=>(0,_.jsx)(te().Q,{iconGroup:Y().e,variantName:i,colorName:"secondary"}),ariaLabel:a.formatMessage(re.retry),...e})}):null]})}function ae(e){const{type:t,onClick:o,isSelected:r,iconGroup:i,variantName:s}=e,l=(0,C().tz)(),d=(0,n.useCallback)((()=>{o(r?void 0:t)}),[o,r,t]),c=(0,n.useMemo)((()=>l.formatMessage(function(e){switch(e){case"thumbs_up":return re.positiveFeedbackTooltip;case"thumbs_down":return re.negativeFeedbackTooltip;default:(0,a().HB)(e)}}(t))),[l,t]);return(0,_.jsx)(oe().A,{renderTooltip:()=>(0,_.jsx)("div",{children:c}),placement:ne().W.Bottom,render:e=>(0,_.jsx)(R().A,{onClick:d,icon:()=>(0,_.jsx)(te().Q,{iconGroup:i,variantName:s,colorName:r?"uiBluePrimary":"secondary"}),ariaLabel:c,...e})})}const se={page:!0,bot:!0,team:!0,reminder:!0,date:!0,user:!0,group:!0,heading:!0,templateVariable:!0,formulaContextVariable:!0},le={type:"none"};function de(e){const{onSubmit:t,value:o,onChange:i,canPressEnter:a,canRetry:s,feedbackArgs:l,onClickRetry:d,onFocus:c,onBlur:u,onClickStop:p,isBusy:m,hideChatFeedback:g}=e,f=(0,r().v3)(),h=(0,C().tz)(),y=function(){const e=20,t=24;return(0,S().IS)((o=>{const n={boxShadow:o.inputBoxShadow,backgroundColor:o.surface.elevated,borderRadius:16,padding:"8px 8px 8px 12px",gap:"4px 8px",display:"flex",flexShrink:0,overflow:"hidden",height:"100%"};return{oneLineInput:{...n,flexDirection:"row",alignItems:"center",borderRadius:50},multiLineInput:{...n,display:"grid",gridTemplate:"1fr auto"},textWrapper:{paddingRight:4,flexGrow:1,display:"flex",fontSize:14,minWidth:0,overflow:"auto"},textContainer:{maxWidth:"100%",width:"100%",flexGrow:1,minWidth:0,height:"100%"},buttonWrapper:{minHeight:22,display:"flex",justifyContent:"flex-end",alignItems:"center",flexShrink:0,marginLeft:"auto"},icon:{height:e,width:e},stopIcon:{height:e,width:e,fill:o.icon.primary},button:{pointerEvents:"auto",height:Math.max(e,t),width:Math.max(e,t),borderRadius:"100%"}}}),[])}(),{store:v,setValue:b}=(0,W().AI)({initialValue:o,onChange:i});(0,n.useEffect)((()=>{const e=v.getValue();o!==e&&b(o)}),[o,b,v]);const x=(0,k().q4_)(o).length,w=!(0,k().w9s)(o),[M,I]=Q(l),A=(0,n.useCallback)((()=>{B().clear({environment:f}),null==u||u()}),[f,u]),j=(0,n.useMemo)((()=>h.formatMessage({id:"setupGenerator.followUp.placeholder",defaultMessage:"Add or make changes..."})),[h]),F=(0,n.useCallback)((e=>{if(e.target===e.currentTarget){const t=N().n.findEditableWithStore(v);t&&t.handleClick(e)}}),[v]),O=x>=35;return(0,_.jsx)(D().A,{debugName:"AiFollowUpInput",capture:!0,children:(0,_.jsxs)("div",{className:E().CCX,style:O?y.multiLineInput:y.oneLineInput,onClick:F,children:[(0,_.jsx)("div",{style:y.textWrapper,children:(0,_.jsx)(L().A,{inPageFind:le,style:y.textContainer,store:v,disabled:m,disabledMentionTypes:se,placeholder:j,disableSlashCommands:!0,disableEmbedMenu:!0,disableEmojiCommands:!0,disableComment:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableSuggestEdit:!0,disableUpDownArrows:!0,disableEnter:!w||!a||m,onEnter:t,pasteBehavior:"inline",onFocus:c,onBlur:A})}),(0,_.jsxs)("div",{style:y.buttonWrapper,children:[w||m||g?null:(0,_.jsx)(ie,{value:M,onChange:I,onClickRetry:d,canRetry:s,variantName:"small"}),w&&!m?(0,_.jsx)(R().A,{icon:P().b,onClick:t,isBlue:w,disabled:!w,ariaLabel:h.formatMessage({id:"aiFollowUpInput.submit",defaultMessage:"Submit"}),style:y.button,iconStyle:y.icon}):null,m?(0,_.jsx)(R().A,{icon:T().L,onClick:p,iconStyle:y.stopIcon,ariaLabel:h.formatMessage({id:"aiFollowUpInput.stop",defaultMessage:"Stop"}),style:y.button}):null]})]})})}var ce=()=>o(747902);const ue=(0,C().YK)({default:{id:"setupGenerator.loading.default",defaultMessage:"Designing database"},addingProperty:{id:"setupGenerator.loading.addingProperty",defaultMessage:"Adding {propertyName}"},addingView:{id:"setupGenerator.loading.addingView",defaultMessage:"Adding {viewName}"},addingPages:{id:"setupGenerator.loading.addingPages",defaultMessage:"Adding pages"}});function pe(e){const{statusLabel:t}=e,o=(0,C().tz)();let n;switch(null==t?void 0:t.type){case"default":n=o.formatMessage(ue.default);break;case"addingProperty":n=o.formatMessage(ue.addingProperty,{propertyName:t.propertyName});break;case"addingView":n=o.formatMessage(ue.addingView,{viewName:t.viewName});break;case"addingPages":n=o.formatMessage(ue.addingPages);break;default:return null}return(0,_.jsx)(ce().N,{styleName:"UITitle-22px/Semibold",text:n,animate:!0})}var me=()=>o(265665),ge=()=>o(972435);const fe=(0,C().YK)({featureTemplateRequired:{id:"featureTemplateRequired",defaultMessage:"This is required"}});function he(e){let{template:t,isRequired:o,...n}=e;const r=o?ge().A.formatMessage(fe.featureTemplateRequired):void 0;return(0,_.jsx)(oe().A,{...n,disableTooltip:void 0===r,renderTooltip:()=>r})}var ye=()=>o(913454),ve=()=>o(317053),be=()=>o(493823);function xe(e){let{children:t,isSelected:o,disabled:n,onClick:r,tooltipEvents:i,style:a}=e;const s=(0,S().IS)((e=>({button:{fontSize:14,paddingLeft:12,paddingRight:12,borderRadius:24,color:e.text.primary,boxShadow:`0 0 0 1px ${e.stroke.primary}`,...o&&{boxShadow:`0 0 0 1.5px ${e.stroke.uiBluePrimary}`,background:e.buttonBackground},...a},buttonHovered:{...o?{boxShadow:`0 0 0 1.5px ${e.stroke.uiBluePrimary}`,background:e.outlineBlueButtonHoveredBackground}:{boxShadow:`0 0 0 1px ${e.stroke.input}`,background:e.buttonHoveredBackground}}})),[o,a]);return(0,_.jsx)(be().p,{...i,style:s.button,disabled:n,disabledFeedback:!0,onClick:r,hoveredStyle:s.buttonHovered,children:t})}var Se=()=>o(712341);function we(e){const t=(0,r().v3)(),{isPhone:o}=(0,r().Y0)(),a=(0,i().O$)(v().A),s=(0,j().r)(),d=null==s?void 0:s.id,{hideChatFeedback:c}=e.overrides??{},u=(0,S().IS)((()=>({grid:{flex:"1 0 0",display:"grid",gridTemplateRows:"1fr auto",position:"relative",maxHeight:"100%",overflowY:"auto"},features:{},feedbackInput:{display:"flex",flexDirection:"column",minHeight:30,maxHeight:120,flexShrink:0,marginTop:o?-125:void 0}})),[o]),p=(0,i().K8)((()=>{if(a.open)return a.setupGenerator}),[a]),m=(0,n.useCallback)((e=>{!(0,k().w9s)(e)?(0,ve().setFollowUpInputFocused)(!0):(0,ve().setFollowUpInputFocused)(!1),null==p||p.setPrompt(e)}),[p]),f=(0,i().K8)((()=>{var e;return null==p||null===(e=p.store)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.feedbackArgs}),[p]),h=(0,i().K8)((()=>{if(a.open)return p&&f&&a.collectionTemplate&&a.collectionTemplate.isAiGenerated}),[f,a,p]),b=(0,i().K8)((()=>(null==p?void 0:p.store.state.isBusy)??!1),[p]),x=(0,i().K8)((()=>{var e;return b?null==p||null===(e=p.store.state)||void 0===e?void 0:e.progress:void 0}),[p,b]),w=(0,n.useCallback)((()=>{(0,ve().retryAiSetup)(o)}),[o]),C=(0,n.useCallback)((()=>{a.open&&((0,g().u4)({environment:t,event:{eventName:"workflow_template_onboarding_follow_up",eventProperties:{...(0,y().gM)(a)}}}),null==p||p.submitPrompt({from:"follow-up"}))}),[t,a,p]),M=(0,i().K8)((()=>null==p?void 0:p.store.state.prompt),[p]),I=(0,n.useCallback)((()=>{null==p||p.stopGenerating()}),[p]),A=(0,i().K8)((()=>{var e;return p?(null===(e=p.store.state.transcriptTree)||void 0===e||null===(e=e.toNodes())||void 0===e?void 0:e.filter((e=>"setup"===e.value.type)))??[]:[]}),[p]),P=(0,i().K8)((()=>A.length<5),[A]),T=(0,i().K8)((()=>A.length>=2),[A]);return a.open&&d&&a.collectionTemplate?(0,_.jsxs)(l().Y1,{direction:"vertical",height:"fill",gap:10,children:[(0,_.jsx)(ke,{setupGeneratorProgress:x}),(0,_.jsx)("div",{style:u.grid,children:(0,_.jsx)(Pe,{contentStyle:{padding:"5px 2px"},children:(0,_.jsx)("div",{style:u.features,children:(0,_.jsx)(Ce,{featureTemplateSelections:a.userCustomizations.featureTemplateSelections,isSetupGeneratorBusy:b,...(0,y().OX)(a)})})})}),h&&f?(0,_.jsx)("div",{style:u.feedbackInput,children:P?(0,_.jsx)(de,{canPressEnter:!0,canRetry:T,onClickRetry:w,onSubmit:C,onClickStop:I,value:M,onChange:m,feedbackArgs:f,isBusy:b,hideChatFeedback:c}):null}):null]}):null}function ke(e){const{setupGeneratorProgress:t}=e;return t?(0,_.jsx)(pe,{statusLabel:t.statusLabel}):(0,_.jsx)(Se().aZ,{caption:(0,_.jsx)(C().sA,{id:"workflowTemplatesOnboardingModal.selectFeatures",defaultMessage:"Select features to turn on or off"})})}function Ce(e){let{featureTemplateSelections:t,isSetupGeneratorBusy:o,...r}=e;const{collectionTemplate:a}=r,s=(0,i().K8)((()=>(0,w().A6)(a,ye().globalWorkflowTemplates)),[a]),l=(0,n.useMemo)((()=>(0,y().UA)({collectionViewTemplates:s,featureTemplateSelections:t})),[s,t]);return(0,_.jsx)(_e,{featureTemplateSelections:l,templateOnboardingState:r,isLoading:o})}function _e(e){const t=(0,r().v3)(),{isLoading:o,featureTemplateSelections:n,templateOnboardingState:i}=e,a=(0,S().IS)((()=>({pillsSection:{display:"flex",flexWrap:"wrap",gap:12,isolation:"isolate"}})),[]),s=(0,A().j)(1e3);return(0,_.jsx)("div",{style:a.pillsSection,children:(0,_.jsx)(b().N,{mode:"popLayout",children:n.map(((e,r)=>(0,_.jsx)(Me,{index:r,featureTemplateSelectionsToShow:n,featureSelection:e,isRequired:!1,isLoading:o,shouldAnimate:s,toggleFeatureTemplateSelection:e=>(0,ve().toggleFeatureSelectionInPreview)({template:e,environment:t}),...i},r)))})})}const Me=(0,n.forwardRef)((function(e,t){const{featureTemplateSelectionsToShow:o,featureSelection:n,isRequired:i,isLoading:a,toggleFeatureTemplateSelection:s,index:l,shouldAnimate:d,...c}=e,u=(0,r().v3)(),p=n.template;return(0,_.jsx)(he,{template:p,alignment:ne().C.Start,isRequired:i,render:e=>(0,_.jsx)(je,{ref:t,template:p,index:l,isSelected:n.selected,tooltipEvents:e,disabled:i,isLoading:a,shouldAnimate:d,onClick:()=>{(0,g().u4)({environment:u,event:{eventName:"workflow_template_onboarding_feature_select",eventProperties:{selecting:n.selected?"deselecting":"selecting",feature_template_id:p.templateId,feature_template_type:p.type,previously_selected_feature_template_ids:o.filter((e=>e.selected)).map((e=>e.template.templateId)),step:"features",...(0,y().gM)(c)}}}),s(p)}})})})),Ie={type:"spring",damping:25,stiffness:250},Ae={...Ie,delay:.1},je=(0,n.forwardRef)((function(e,t){const{template:n,isSelected:r,isLoading:i,disabled:a,onClick:s,tooltipEvents:l,index:d,shouldAnimate:c}=e,u=(0,S().IS)((e=>({icon:{marginRight:6,fill:r?e.text.uiBluePrimary:e.mediumIconColor},overflowTooltip:{maxWidth:250},selectButton:{maxWidth:"100%"},wrapper:{background:e.surface.wash,borderRadius:24,position:"relative",maxWidth:"100%",willChange:"transform",zIndex:void 0!==d?100-d:void 0},shimmerArea:{pointerEvents:"none"},shimmer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:24,boxShadow:`0 0 0 1px ${e.stroke.secondary}`}})),[r,d]);return(0,_.jsxs)(x().P.div,{ref:t,style:u.wrapper,layout:!0,transition:Ie,initial:!!c&&{x:-50,opacity:.5},animate:{x:0,opacity:1},exit:{scale:.5,opacity:0},children:[(0,_.jsx)(x().P.div,{initial:!!c&&{opacity:0},animate:{opacity:i?0:1},transition:Ae,children:(0,_.jsxs)(xe,{tooltipEvents:l,disabled:a,isSelected:r,onClick:s,style:u.selectButton,children:[(0,_.jsx)(o(902842).z,{iconStyle:u.icon,template:n}),(0,_.jsx)(me().j,{tooltipStyle:u.overflowTooltip,placement:ne().W.Right,children:(0,ye().getWorkflowTemplateName)(n)}),"ai_inference"in n.value&&(0,_.jsx)(M,{})]})}),(0,_.jsx)(x().P.div,{initial:!1,animate:{opacity:i?1:0},transition:Ae,style:i?{}:u.shimmerArea,children:(0,_.jsx)(I().A,{style:u.shimmer})})]})}));function Pe(e){let{children:t,fadeHeight:o=30,contentStyle:r={}}=e;const i=(0,n.useRef)(null),[a,s]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),c=(0,S().IS)((e=>({content:{height:"100%",overflowY:"auto",...r},fadeTop:{position:"absolute",top:0,left:0,right:0,height:o,background:`linear-gradient(to bottom, ${e.surface.wash}, transparent)`,pointerEvents:"none",opacity:a?1:0,willChange:"opacity",transition:"opacity 0.3s"},fadeBottom:{position:"absolute",bottom:0,left:0,right:0,height:o,background:`linear-gradient(to top, ${e.surface.wash}, transparent)`,pointerEvents:"none",opacity:l?1:0,willChange:"opacity",transition:"opacity 0.3s"}})),[r,o,a,l]),u=(0,n.useCallback)((()=>{if(!i.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:o}=i.current;s(e>0),d(e<t-o-1)}),[i]);return(0,n.useEffect)((()=>{const e=i.current;if(e)return e.addEventListener("scroll",u),window.addEventListener("resize",u),u(),()=>{e.removeEventListener("scroll",u),window.removeEventListener("resize",u)}}),[u,i]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{ref:i,style:c.content,children:t}),(0,_.jsx)("div",{style:c.fadeTop}),(0,_.jsx)("div",{style:c.fadeBottom})]})}o(18107),o(967357),o(737550);var Te=()=>o(833744),Be=()=>o(852507),Re=()=>o(921756),De=()=>o(148307),Le=()=>o(632625),Ee=()=>o(126818);const We=(0,q().xh)("circle",{default:{loader:()=>o.e(56780).then(o.bind(o,256780))},small:{loader:()=>o.e(63882).then(o.bind(o,163882))},mini:{loader:()=>o.e(21042).then(o.bind(o,621042))},large:{loader:()=>o.e(55570).then(o.bind(o,555570))}});var Ne=()=>o(212050),Fe=()=>o(525884),Oe=()=>o(284371),ze=()=>o(995062),He=()=>o(704152),Ge=()=>o(760217),Ve=()=>o(364280),Ke=()=>o(135221),Ue=()=>o(939740),$e=()=>o(554509),Qe=()=>o(89924),Ye=()=>o(235921),qe=()=>o(581495),Ze=()=>o(640653),Je=()=>o(154152);const Xe=n.forwardRef((function(e,t){const{placeholder:o,value:r,onChange:i,onSubmit:a,canPressEnter:s}=e,l=(0,C().tz)(),d=function(){const e=20,t=24;return(0,S().IS)((o=>({input:{display:"flex",maxWidth:"100%",flexFlow:"column",boxShadow:o.inputBoxShadow,backgroundColor:o.surface.elevated,borderRadius:16,overflow:"inherit",padding:12,gap:"4px 0"},buttonWrapper:{position:"absolute",right:8,bottom:8},stopIcon:{fill:o.icon.primary},icon:{height:e,width:e},button:{pointerEvents:"auto",height:Math.max(e,t),width:Math.max(e,t),borderRadius:"100%"}})),[])}(),c=(0,n.useContext)(qe().eh),u=!(0,k().w9s)(r),p=null==r?void 0:r.map((e=>(0,k().N8A)(e))).join("");return(0,_.jsx)("div",{style:{position:"relative"},children:(0,_.jsxs)(D().A,{debugName:"AiPromptInput",capture:!0,onEsc:c,priority:1,children:[(0,_.jsx)(G().A,{ref:t,textarea:!0,textareaSubmitOnEnter:!0,autosize:!0,autosizeMinHeight:75,autosizeMaxHeight:240,style:d.input,onChange:e=>{i((0,k().x9d)(e.target.value))},onSubmit:()=>{u&&s&&a()},value:p,placeholder:l.formatMessage(o)}),(0,_.jsx)("div",{style:d.buttonWrapper,children:(0,_.jsx)(R().A,{icon:P().b,onClick:()=>{},isBlue:u,disabled:!u,ariaLabel:l.formatMessage({id:"aiPromptInput.submit",defaultMessage:"Submit"}),onMouseDown:e=>{e.preventDefault(),a()},style:d.button,iconStyle:d.icon})})]})})}));var et=()=>o(351360),tt=()=>o(3486);const ot=(0,C().YK)({workPromptPlaceholder:{id:"setupGenerator.workPromptPlaceholder",defaultMessage:"Make a customer feedback tracker with priority levels, status, and assignee..."},personalSchoolPromptPlaceholder:{id:"setupGenerator.personalSchoolPromptPlaceholder",defaultMessage:"Make a subscription tracker with cost, subscription type, and renewal date... "}});function nt(e,t){if("new_user_onboarding"===e)switch(t){case"personal":case"school":return ot.personalSchoolPromptPlaceholder;default:return ot.workPromptPlaceholder}return ot.workPromptPlaceholder}const rt={duration:0},it={duration:.7,ease:"anticipate"},at={type:"spring",stiffness:150,damping:20,delay:1};function st(e){const t=(0,n.useContext)(qe().eh),o=(0,i().K8)((()=>v().A.state),[]),r=(0,i().K8)((()=>o.open?o.version:void 0),[o]),s=(0,i().K8)((()=>(0,ye().getIsSetupGeneratorEnabled)()||r&&(0,a().Xk)(Re().N,r)),[r]);return(0,i().K8)((()=>o.open?o.setupGenerator:void 0),[o])&&s?o.open?(0,_.jsx)(dt,{overrides:e.overrides}):null:(0,_.jsx)(yt,{onClickClose:t})}function lt(e){const t=(0,i().K8)((()=>(0,ye().getIsSetupGeneratorEnabled)()),[]),o=(0,n.useContext)(qe().eh),r=(0,i().K8)((()=>v().A.state),[]),a=(0,i().K8)((()=>r.open?r.setupGenerator:void 0),[r]),s=(0,i().K8)((()=>{var e;return(null==a||null===(e=a.store.state)||void 0===e?void 0:e.progress)??{databases:{},statusLabel:{type:"default"},steps:[]}}),[a]),l=Object.values(s.databases).at(0),d=(null==l?void 0:l.databaseName)??"",c=(null==l?void 0:l.iconName)??"pencil";return a&&t?r.open?(0,_.jsx)(pt,{collectionName:d,collectionIcon:`/icons/${c}_gray.svg`,progress:s,overrides:e.overrides}):null:(0,_.jsx)(yt,{onClickClose:o})}function dt(e){const t=(0,C().tz)(),o=(0,r().v3)(),{hideCornerButton:a=!1,...s}=e.overrides??{},{isPhone:d}=(0,r().Y0)(),c=(0,i().K8)((()=>v().A.state),[]),u=(0,i().K8)((()=>{if(c.open)return c.setupGenerator}),[c]),p=(0,i().K8)((()=>null==u?void 0:u.store.state.prompt),[u]),m=(0,n.useCallback)((async()=>{u&&c.open&&await(0,Je().z)({setupGenerator:u,environment:o,parentStore:c.parentStore,allowNavigateToAppBuilder:"land_on_app_from_new_user_onboarding"!==c.origin&&void 0,isPhone:d})}),[u,o,c,d]),g=(0,i().K8)((()=>{var e;return null===(e=et().default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(t)}),[t]);return c.open&&u?(0,_.jsxs)(_.Fragment,{children:[a?null:(0,_.jsx)(Se().Dr,{modalState:c}),(0,_.jsx)(l().Y1,{width:"fill",height:"fill",align:"top-center",padding:d?"96px 32px 32px":"32px",style:d?{minHeight:"100vh"}:void 0,children:(0,_.jsx)(ct,{currentUserName:g,prompt:p,onChange:u.setPrompt,onSubmit:m,overrides:s})})]}):null}function ct(e){const{currentUserName:t,prompt:o,onChange:a,onSubmit:s,overrides:d}=e,{isPhone:c}=(0,r().Y0)(),[u,p]=(0,n.useState)({type:"pills"}),m=(0,S().IS)((e=>({text:{textAlign:"center",textWrap:"balance"},subtitle:{color:e.text.tertiary,textWrap:void 0,marginTop:-6}})),[]),g=(0,i().K8)((()=>v().A.state),[]),f=(0,i().K8)((()=>{if(g.open)return g.setupGenerator}),[g]),h=(0,i().K8)((()=>{var e;return null===(e=Ye().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType}),[]),y=(0,n.useCallback)((e=>{var t;a(e),(0,k().w9s)(e)?p({type:"pills"}):("pills"!==u.type||(0,k().w9s)(e))&&("subprompts"!==u.type||!e||(0,k().w9s)(e)||(t=e,u.selectedPill.subprompts.some((e=>St(t,e)))))||p({type:"pills"})}),[a,u]),b=(0,n.useRef)(null);(0,Be().w)((()=>{var e;null==f||f.trackSessionStarted(),null===(e=b.current)||void 0===e||e.focus()})),(0,Te().L)({active:!0,closeHandler:()=>{p({type:"pills"})},ref:b,excludedSelectors:["[role='button']"]});const w=(0,n.useCallback)((e=>{var t;let{pill:o,prompt:n}=e;null===(t=b.current)||void 0===t||t.focus(),p({type:"subprompts",selectedPill:o}),a(n)}),[a]),M=(0,n.useMemo)((()=>(0,_.jsxs)("div",{style:{position:"relative"},children:[(0,_.jsx)(vt,{onClick:w,hidden:"pills"!==u.type}),"subprompts"===u.type?(0,_.jsx)(xt,{userPrompt:o,subprompts:u.selectedPill.subprompts,onSelection:e=>{a(e),s()}}):null]})),[w,a,s,o,u]);return g.open?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(l().Y1,{height:"fill",align:c?"top-center":"center",gap:32,children:[(0,_.jsxs)(l().Y1,{gap:12,align:"top-center",width:c?350:"new_user_onboarding"===g.origin?500:400,style:m.text,children:[(0,_.jsx)(x().P.div,{layoutId:"assistant-face",transition:rt,layout:"position",children:(0,_.jsx)(ze().AssistantAnimatedFaceInner,{sizeVariant:"large",highLevelState:"idle",includeBoxShadow:!0})}),(0,_.jsx)($e().D,{styleName:"UITitle-22px/Semibold",children:"land_on_app_from_new_user_onboarding"===g.origin?(0,_.jsx)(C().sA,{id:"setupGenerator.greetingForNewSpaces",defaultMessage:"Hey there! Welcome to Notion. What do you want to build today?"}):"new_user_onboarding"===g.origin?(0,_.jsx)(C().sA,{id:"setupGenerator.greetingWithinOnboardingNewUser",defaultMessage:"What can Notion build for you?"}):(0,_.jsx)(C().sA,{id:"setupGenerator.greeting",defaultMessage:"What do you want to build today?",values:{currentUserName:t}})}),"new_user_onboarding"===g.origin&&(0,_.jsx)($e().D,{styleName:"UITitle-22px/Semibold",style:m.subtitle,children:(0,_.jsx)(C().sA,{id:"setupGenerator.greetingWithinOnboardingNewUser.subtitle",defaultMessage:"Describe your idea or start with a template"})})]}),(0,_.jsxs)(l().Y1,{direction:"vertical",gap:4,width:c?350:450,children:[(0,_.jsx)(Xe,{ref:b,placeholder:nt(g.origin,h),value:o,onChange:y,onSubmit:s,canPressEnter:!0}),(0,_.jsx)("div",{children:M})]})]}),null!=d&&d.hideLearnMore?null:(0,_.jsx)(ut,{})]}):null}function ut(){const e=(0,C().tz)(),{isPhone:t}=(0,r().Y0)(),o=(0,S().IS)((e=>({button:{position:"absolute",top:t?48:20,right:20,zIndex:1,height:26,paddingLeft:5,paddingRight:5},icon:{width:18,height:18,fill:e.icon.secondary}})),[t]);return(0,_.jsx)(oe().A,{placement:ne().W.Left,renderTooltip:()=>(0,_.jsx)("span",{children:e.formatMessage(ft.help)}),render:t=>(0,_.jsx)(R().A,{...t,ariaLabel:e.formatMessage(ft.help),icon:Fe().A,style:o.button,iconStyle:o.icon,href:"https://www.notion.com/help/autofill#create-a-database-with-notion-ai",external:!0})})}function pt(e){const{collectionName:t,collectionIcon:o,progress:n}=e,{hideCornerButton:r=!1}=e.overrides??{},a=(0,i().K8)((()=>v().A.state),[]),s=null==n?void 0:n.statusLabel,d=(0,S().IS)((e=>({container:{borderRadius:12,border:`1px solid ${e.stroke.secondary}`,backgroundColor:"dark"===e.mode?e.popoverWaxPaperBackground:void 0,backgroundImage:`url(${De().A.images.workflowTemplates.bgDotsPng})`,backgroundRepeat:"repeat",backgroundSize:"70px 70px",backgroundPosition:"0% 0%",backgroundBlendMode:"multiply",position:"absolute",userSelect:"none",inset:0,zIndex:10},header:{opacity:.6,paddingBottom:20,borderBottom:`1px solid ${e.stroke.primary}`},columns:{display:"grid",gridTemplateColumns:"3fr 2fr 2fr",gap:45},shimmer:{width:"50%",height:9,borderRadius:5},shimmerWide:{width:"100%",height:9,borderRadius:5}})),[]),c=(0,S().DP)();return a.open?(0,_.jsxs)(_.Fragment,{children:[r||"ai_chat"===a.origin?null:(0,_.jsx)(Se().Dr,{modalState:a}),(0,_.jsx)(Se().Cx,{sidebar:(0,_.jsxs)(l().Y1,{direction:"vertical",gap:36,children:[(0,_.jsxs)(l().Y1,{direction:"vertical",gap:12,children:[(0,_.jsx)(x().P.div,{layoutId:"assistant-face",layout:"position",transition:it,children:(0,_.jsx)(ze().AssistantAnimatedFaceInner,{sizeVariant:"large",highLevelState:"writing",includeBoxShadow:!0})}),(0,_.jsx)(x().P.div,{initial:{opacity:0},animate:{opacity:1},transition:it,children:(0,_.jsx)(pe,{statusLabel:s})})]}),(0,_.jsx)(x().P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:at,children:(0,_.jsx)(gt,{steps:(null==n?void 0:n.steps)??[]})})]}),preview:(0,_.jsx)(x().P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:at,style:{width:"100%",height:"100%",position:"relative"},children:(0,_.jsxs)(l().Y1,{direction:"vertical",height:"fill",width:"fill",padding:"36px 38px",style:d.container,gap:30,children:[(0,_.jsxs)(l().Y1,{direction:"horizontal",align:"center-left",gap:12,height:50,style:d.header,children:[(0,_.jsx)(Le().p,{icon:o,size:20,theme:c}),(0,_.jsx)($e().D,{styleName:"UITitle-22px/Semibold",children:t})]}),(0,_.jsx)("div",{style:d.columns,children:Array.from({length:3}).map(((e,t)=>(0,_.jsxs)(l().Y1,{direction:"vertical",gap:25,children:[(0,_.jsx)(I().A,{style:d.shimmer}),Array.from({length:5}).map(((e,t)=>(0,_.jsx)(I().A,{style:d.shimmerWide},t)))]},t)))})]})})})]}):null}function mt(e){const{status:t}=e,o=(0,S().IS)((()=>({loadingDotsContainer:{width:24,height:24,gap:3},loadingDot:{width:5,height:5}})),[]);switch(t){case"idle":return(0,_.jsx)(te().Q,{iconGroup:We,variantName:"large",colorName:"tertiary"});case"in_progress":return(0,_.jsx)(Ke().A,{isTriColored:!0,styleParentContainer:o.loadingDotsContainer,style:o.loadingDot});case"completed":return(0,_.jsx)(te().Q,{iconGroup:Ee().g,variantName:"large",colorName:"tertiary"});default:(0,a().HB)(t)}}function gt(e){const{steps:t}=e,o=(0,S().IS)((e=>({separator:{width:1,height:12,background:e.stroke.primary}})),[]);return(0,_.jsx)(l().Y1,{direction:"vertical",gap:2,children:t.map(((e,r)=>{const i=r===t.length-1;return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(ht,{step:e}),i?void 0:(0,_.jsx)(l().Y1,{width:24,align:"center",children:(0,_.jsx)("div",{style:o.separator})})]},r)}))})}const ft=(0,C().YK)({creatingDatabase:{id:"setupGenerator.progress.createDatabase",defaultMessage:"Creating database"},addingProperties:{id:"setupGenerator.progress.addProperties",defaultMessage:"Adding properties"},addingViews:{id:"setupGenerator.progress.addViews",defaultMessage:"Adding views"},addingPages:{id:"setupGenerator.progress.addPages",defaultMessage:"Adding pages"},help:{id:"setupGenerator.promptInput.learnMore",defaultMessage:"Learn more in help center"}});function ht(e){const{step:t}=e,o=(0,C().tz)();let n;switch(t.type){case"createDatabases":n=o.formatMessage(ft.creatingDatabase);break;case"addProperties":n=o.formatMessage(ft.addingProperties);break;case"addViews":n=o.formatMessage(ft.addingViews);break;case"addPages":n=o.formatMessage(ft.addingPages);break;default:return null}return(0,_.jsxs)(l().Y1,{direction:"horizontal",align:"center-left",gap:6,children:[(0,_.jsx)(mt,{status:t.status}),(0,_.jsx)($e().D,{styleName:"UIRegular-14px/Medium",colorName:"in_progress"===t.status?"primary":"tertiary",children:n})]})}function yt(e){const{onClickClose:t}=e;return(0,_.jsxs)(_.Fragment,{children:[t?(0,_.jsx)(Se().n9,{iconFn:Ne().u,onClick:t}):null,(0,_.jsx)(l().Y1,{height:"fill",width:"fill",align:"center",children:(0,_.jsx)($e().D,{styleName:"UIRegular-14px/Regular",children:(0,_.jsx)(C().sA,{id:"setupGenerator.notAvailable",defaultMessage:"This feature is not available."})})})]})}function vt(e){let{onClick:t,hidden:o}=e;const n=(0,i().K8)((()=>"team"===(0,Ze().p3)().intent?It:Rt),[]),r=(0,S().IS)((()=>({container:{marginTop:12,display:"flex",flexWrap:"wrap",justifyContent:"center",gap:8,...o?{visibility:"hidden"}:{}}})),[o]);return(0,_.jsx)("div",{style:r.container,children:n.map((e=>{const o=ge().A.formatMessage(e.title);return(0,_.jsx)(bt,{iconString:e.icon,title:o,onClick:()=>t({pill:e,prompt:(0,k().x9d)(o)})},e.key)}))})}function bt(e){let{onClick:t,iconString:o,title:n}=e;const r=(0,S().DP)(),i=(0,S().IS)((e=>({icon:{fill:(0,tt().d)(o,e).icon.primary,marginRight:2},pill:{display:"flex",alignItems:"center",padding:"6px 14px 6px 10px",width:"fit-content",borderRadius:100,fontSize:14,fontWeight:Oe().Wy.medium,background:e.assistantTintedActionButtonBackground},pillHover:{background:e.tint.regular,cursor:"pointer"}})),[o]),a=(0,_.jsx)(Le().p,{icon:o,size:16,style:i.icon,theme:r});return(0,_.jsx)(He().A,{onClick:t,style:i.pill,hoveredStyle:i.pillHover,children:(0,_.jsxs)(Ve().fI,{gap:4,alignItems:"center",children:[a,n]})})}function xt(e){let{userPrompt:t,subprompts:o,onSelection:n}=e;const r=(0,S().IS)((e=>{const t={padding:8};return{container:{fontSize:14,position:"absolute",top:0,width:"100%"},subpromptItem:{...t,boxShadow:`-1px 10px 0px -9px ${e.stroke.secondary}`},subpromptItemLast:{...t},gray:{color:e.text.tertiary}}}),[]);return(0,_.jsx)("div",{style:r.container,children:(0,_.jsx)(Ue().Ay,{type:Ue().Oh.Vertical,initialFocus:0,sections:[{key:"subprompts",render:e=>(0,_.jsx)(Qe().A,{...e,style:{gap:0}}),items:o.filter((e=>!t||St(t,e))).map((e=>({key:e.id,action:()=>{const t=ge().A.formatMessage(e,{gray:e=>e});n((0,k().x9d)(t))},render:t=>(0,_.jsx)(Ge().A,{...t,style:t.focused||t.isBeforeFocused?r.subpromptItemLast:r.subpromptItem,role:"button",title:(0,_.jsx)(C().sA,{...e,values:{gray:e=>(0,_.jsx)("span",{style:r.gray,children:e})}})})})))}]})})}function St(e,t){const o=e.map((e=>(0,k().N8A)(e))).join("").trim();return ge().A.formatMessage(t,{gray:e=>e}).toUpperCase().includes(o.toUpperCase())}const wt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.makeAPlan",defaultMessage:"Make a plan"},option1:{id:"setupGenerator.suggestionPill.makeAPlan.option1",defaultMessage:"<gray>Make a plan</gray> for a product roadmap"},option2:{id:"setupGenerator.suggestionPill.makeAPlan.option2",defaultMessage:"<gray>Make a plan</gray> for a marketing campaign"},option3:{id:"setupGenerator.suggestionPill.makeAPlan.option3",defaultMessage:"<gray>Make a plan</gray> for an upcoming event"},option4:{id:"setupGenerator.suggestionPill.makeAPlan.option4",defaultMessage:"<gray>Make a plan</gray> for hiring new team members"}}),kt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.manageTasks",defaultMessage:"Manage tasks"},option1:{id:"setupGenerator.suggestionPill.manageTasks.option1",defaultMessage:"<gray>Manage tasks</gray> for a website redesign"},option2:{id:"setupGenerator.suggestionPill.manageTasks.option2",defaultMessage:"<gray>Manage tasks</gray> for engineering sprints"},option3:{id:"setupGenerator.suggestionPill.manageTasks.option3",defaultMessage:"<gray>Manage tasks</gray> for content production"},option4:{id:"setupGenerator.suggestionPill.manageTasks.option4",defaultMessage:"<gray>Manage tasks</gray> for a product launch"}}),Ct=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.collectFeedback",defaultMessage:"Collect feedback"},option1:{id:"setupGenerator.suggestionPill.collectFeedback.option1",defaultMessage:"<gray>Collect feedback</gray> on customer satisfaction"},option2:{id:"setupGenerator.suggestionPill.collectFeedback.option2",defaultMessage:"<gray>Collect feedback</gray> on feature requests"},option3:{id:"setupGenerator.suggestionPill.collectFeedback.option3",defaultMessage:"<gray>Collect feedback</gray> on service quality"},option4:{id:"setupGenerator.suggestionPill.collectFeedback.option4",defaultMessage:"<gray>Collect feedback</gray> on a new product launch"}}),_t=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.trackPipeline",defaultMessage:"Track pipeline"},option1:{id:"setupGenerator.suggestionPill.trackPipeline.option1",defaultMessage:"<gray>Track pipeline</gray> for sales leads"},option2:{id:"setupGenerator.suggestionPill.trackPipeline.option2",defaultMessage:"<gray>Track pipeline</gray> for hiring candidates"},option3:{id:"setupGenerator.suggestionPill.trackPipeline.option3",defaultMessage:"<gray>Track pipeline</gray> for content production"},option4:{id:"setupGenerator.suggestionPill.trackPipeline.option4",defaultMessage:"<gray>Track pipeline</gray> for partnership deals"}}),Mt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.runCampaign",defaultMessage:"Run campaign"},option1:{id:"setupGenerator.suggestionPill.runCampaign.option1",defaultMessage:"<gray>Run campaign</gray> for a product launch"},option2:{id:"setupGenerator.suggestionPill.runCampaign.option2",defaultMessage:"<gray>Run campaign</gray> for an email marketing push"},option3:{id:"setupGenerator.suggestionPill.runCampaign.option3",defaultMessage:"<gray>Run campaign</gray> for an event promotion"},option4:{id:"setupGenerator.suggestionPill.runCampaign.option4",defaultMessage:"<gray>Run campaign</gray> for a fundraising effort"}}),It=[{key:"make-a-plan",title:wt.primary,icon:"/icons/calendar_green.svg",subprompts:[wt.option1,wt.option2,wt.option3,wt.option4]},{key:"manage-tasks",title:kt.primary,icon:"/icons/checkmark-square_blue.svg",subprompts:[kt.option1,kt.option2,kt.option3,kt.option4]},{key:"collect-feedback",title:Ct.primary,icon:"/icons/inbox_orange.svg",subprompts:[Ct.option1,Ct.option2,Ct.option3,Ct.option4]},{key:"track-pipeline",title:_t.primary,icon:"/icons/chart_purple.svg",subprompts:[_t.option1,_t.option2,_t.option3,_t.option4]},{key:"run-campaign",title:Mt.primary,icon:"/icons/megaphone_yellow.svg",subprompts:[Mt.option1,Mt.option2,Mt.option3,Mt.option4]}],At=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.journalEntries",defaultMessage:"Journal entries"},option1:{id:"setupGenerator.suggestionPill.journalEntries.option1",defaultMessage:"<gray>Journal entries</gray> about daily reflections"},option2:{id:"setupGenerator.suggestionPill.journalEntries.option2",defaultMessage:"<gray>Journal entries</gray> about gratitude practices"},option3:{id:"setupGenerator.suggestionPill.journalEntries.option3",defaultMessage:"<gray>Journal entries</gray> about personal growth"},option4:{id:"setupGenerator.suggestionPill.journalEntries.option4",defaultMessage:"<gray>Journal entries</gray> about travel experiences"}}),jt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.manageLists",defaultMessage:"Manage lists"},option1:{id:"setupGenerator.suggestionPill.manageLists.option1",defaultMessage:"<gray>Manage lists</gray> for grocery shopping"},option2:{id:"setupGenerator.suggestionPill.manageLists.option2",defaultMessage:"<gray>Manage lists</gray> of books to read"},option3:{id:"setupGenerator.suggestionPill.manageLists.option3",defaultMessage:"<gray>Manage lists</gray> of gift ideas"},option4:{id:"setupGenerator.suggestionPill.manageLists.option4",defaultMessage:"<gray>Manage lists</gray> of travel destinations"}}),Pt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.trackHabits",defaultMessage:"Track habits"},option1:{id:"setupGenerator.suggestionPill.trackHabits.option1",defaultMessage:"<gray>Track habits</gray> for daily workouts"},option2:{id:"setupGenerator.suggestionPill.trackHabits.option2",defaultMessage:"<gray>Track habits</gray> for reading more books"},option3:{id:"setupGenerator.suggestionPill.trackHabits.option3",defaultMessage:"<gray>Track habits</gray> for learning a new skill"},option4:{id:"setupGenerator.suggestionPill.trackHabits.option4",defaultMessage:"<gray>Track habits</gray> for improving sleep quality"}}),Tt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.setGoals",defaultMessage:"Set goals"},option1:{id:"setupGenerator.suggestionPill.setGoals.option1",defaultMessage:"<gray>Set goals</gray> for financial savings"},option2:{id:"setupGenerator.suggestionPill.setGoals.option2",defaultMessage:"<gray>Set goals</gray> for fitness milestones"},option3:{id:"setupGenerator.suggestionPill.setGoals.option3",defaultMessage:"<gray>Set goals</gray> for personal learning"},option4:{id:"setupGenerator.suggestionPill.setGoals.option4",defaultMessage:"<gray>Set goals</gray> for work-life balance"}}),Bt=(0,C().YK)({primary:{id:"setupGenerator.suggestionPill.saveMemories",defaultMessage:"Save memories"},option1:{id:"setupGenerator.suggestionPill.saveMemories.option1",defaultMessage:"<gray>Save memories</gray> from vacations and trips"},option2:{id:"setupGenerator.suggestionPill.saveMemories.option2",defaultMessage:"<gray>Save memories</gray> from family gatherings"},option3:{id:"setupGenerator.suggestionPill.saveMemories.option3",defaultMessage:"<gray>Save memories</gray> from major life milestones"},option4:{id:"setupGenerator.suggestionPill.saveMemories.option4",defaultMessage:"<gray>Save memories</gray> from concerts and events"}}),Rt=[{key:"journal-entries",title:At.primary,icon:"/icons/book_blue.svg",subprompts:[At.option1,At.option2,At.option3,At.option4]},{key:"manage-lists",title:jt.primary,icon:"/icons/checklist_green.svg",subprompts:[jt.option1,jt.option2,jt.option3,jt.option4]},{key:"track-habits",title:Pt.primary,icon:"/icons/trophy_yellow.svg",subprompts:[Pt.option1,Pt.option2,Pt.option3,Pt.option4]},{key:"set-goals",title:Tt.primary,icon:"/icons/target_orange.svg",subprompts:[Tt.option1,Tt.option2,Tt.option3,Tt.option4]},{key:"save-memories",title:Bt.primary,icon:"/icons/camera_purple.svg",subprompts:[Bt.option1,Bt.option2,Bt.option3,Bt.option4]}];var Dt=()=>o(584262);function Lt(e){return"land_on_app_from_new_user_onboarding"===e||"new_user_onboarding"===e}var Et=()=>o(591779),Wt=()=>o(179034),Nt=()=>o(116225),Ft=()=>o(872539),Ot=()=>o(857783),zt=()=>o(279047),Ht=()=>o(2143),Gt=()=>o(828634),Vt=()=>o(211716),Kt=()=>o(981084),Ut=()=>o(756279),$t=()=>o(630116),Qt=()=>o(17090),Yt=()=>o(253141),qt=()=>o(897119),Zt=()=>o(678553),Jt=()=>o(449552),Xt=()=>o(614505),eo=()=>o(16006),to=()=>o(898808);const oo=18,no=16;function ro(e){let{store:t,style:o,textStyle:n}=e;const r=(0,S().IS)((e=>({iconAndTitle:{display:"flex",alignItems:"center",gap:4,overflow:"hidden",...o},lockIcon:{width:no,height:no,margin:(oo-no)/2,fill:e.icon.primary},text:{flexShrink:1,overflow:"hidden",...n}})),[o,n]),s=(0,i().K8)((()=>{if(t instanceof $t().SL)return(0,Jt().g)(r.lockIcon);const e=null==t?void 0:t.getIcon();return t instanceof $t().Bv?(0,_.jsx)(Xt().B,{icon:e,disabled:!0,isEmptyPage:!1,size:oo}):t instanceof $t().h4?(0,_.jsx)(to().x,{store:t,disabled:!0,size:oo}):void(0,a().HB)(t)}),[t,r.lockIcon]);return(0,_.jsxs)("div",{style:r.iconAndTitle,children:[s,(0,_.jsx)($e().D,{styleName:"UIRegular-14px/Regular",colorName:"primary",customStyles:r.text,children:t instanceof $t().SL?(0,_.jsx)(C().sA,{id:"workflowTemplatesOnboardingModalLocationPicker.privateLocationName",defaultMessage:"Private"}):(0,_.jsx)(eo().A,{store:t})})]})}function io(e){let{currentParentStore:t,onSelect:r,onDismiss:s}=e;const l=(0,C().tz)(),[d,c]=(0,n.useState)(""),u=(0,n.useMemo)((()=>{const e=new(o(757695).default)("scrolledToTop");return e.setState(!0),e}),[]),p=(0,i().K8)((()=>{var e;const n=et().default.state.currentSpaceStore,r=et().default.state.currentSpaceViewStore,i=null===(e=et().default.state.currentUserStore)||void 0===e?void 0:e.id;if(!r||!n||!i)return[];const a=o(634157).A.getJoinedTeamStores({userId:i,spaceStore:n}).filter((e=>e.canAddOrRemoveTopLevelPages())),s=(0,Ze().IL)(n)?a:[n,...a],l=s.findIndex((e=>e.id===t.id&&e.table===t.table));if(-1===l)return s;const d=s[l];return[d,...s.filter((e=>e!==d))]}),[t.id,t.table]),m=(0,i().K8)((()=>0===d.length?p:(0,o(778078).Ay)(d,p,(e=>e instanceof $t().SL?l.formatMessage({id:"workflowTemplatesOnboardingModalLocationPickerMenu.private",defaultMessage:"Private"}):e instanceof $t().h4?e.getName()??"":void(0,a().HB)(e)))),[d,p,l]),g=(0,n.useCallback)((e=>{u.setState(0===e.currentTarget.scrollTop)}),[u]),f=(0,n.useCallback)((e=>{const t=m.find((t=>t.id===e.key));t&&r(t)}),[m,r]),h=(0,S().IS)((e=>({input:{marginTop:6},inputInner:{fontSize:12},menuItemTextWrapper:{display:"flex",alignItems:"center",minHeight:28,marginLeft:10,marginRight:12},locationTitle:{gap:10},overfilteredLabel:{fill:e.text.secondary,paddingBottom:12}})),[]),y=(0,n.useMemo)((()=>[m.length>0?lo({filteredLocations:m,currentParentStore:t,onSelect:r,locationTitleStyle:h.locationTitle,menuItemTextWrapperStyle:h.menuItemTextWrapper}):so({intl:l,overfilteredLabelStyle:h.overfilteredLabel})]),[m,t,r,h.locationTitle,h.menuItemTextWrapper,h.overfilteredLabel,l]);return(0,_.jsx)(o(928600).A,{menuType:o(722872).gu.Popup,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o(419357).Ay,{style:h.input,inputStyle:h.inputInner,itemMarginLeft:8,itemMarginRight:8,focusInitial:!0,value:d,onChange:e=>c(e.target.value),placeholder:l.formatMessage({id:"workflowTemplatesOnboardingModalLocationPickerMenu.searchInputPlaceholder",defaultMessage:"Add to..."})}),(0,_.jsx)(ao,{isScrolledToTopStore:u})]}),onClickOutside:s,maxHeight:210,width:252,onScroll:g,children:(0,_.jsx)(Ue().Ay,{type:Ue().Oh.Vertical,initialFocus:0,onAccept:f,sections:y})})}function ao(e){let{isScrolledToTopStore:t}=e;const o=(0,i().O$)(t),n=(0,S().IS)((e=>({divider:{height:1,overflow:"visible",boxShadow:`inset 0 0 0 1px ${e.lightDividerColor}`,opacity:o?0:1,transition:"opacity 0.1s ease-in-out"}})),[o]);return(0,_.jsx)("div",{style:n.divider})}function so(e){let{intl:t,overfilteredLabelStyle:o}=e;return{key:"empty",items:[{key:"noMatchingLocationsItem",render:e=>(0,_.jsx)(Zt().Ay,{...e,title:t.formatMessage({id:"workflowTemplatesOnboardingModalLocationPickerMenu.noLocations",defaultMessage:"No matching teamspaces found"}),style:o}),action:()=>{}}],render:e=>(0,_.jsx)(Qe().A,{...e,disableDesktopPadding:!0})}}function lo(e){let{filteredLocations:t,currentParentStore:o,onSelect:n,locationTitleStyle:r,menuItemTextWrapperStyle:i}=e;return{key:"section",items:t.map((e=>({key:e.id,render:t=>(0,_.jsx)(Ge().A,{...t,textWrapperStyle:i,isChecked:e.id===o.id&&e.table===o.table,title:(0,_.jsx)(ro,{store:e,style:r})}),action:()=>n(e)}))),render:e=>(0,_.jsx)(Qe().A,{...e,disableDesktopPadding:!1})}}const co=n.memo(io);function uo(e){let{currentSelectedStore:t,onSelect:r}=e;const[i,a]=(0,n.useState)(!1),s=(0,n.useCallback)((e=>{r(e),a(!1)}),[r]),l=(0,n.useCallback)((()=>a(!1)),[]),d=(0,n.useCallback)((()=>a(!0)),[]),c=(0,S().IS)((e=>({originContainer:{display:"flex",alignItems:"center",gap:2,maxWidth:300},originText:{fontWeight:Oe().Wy.medium},addToLabel:{flexShrink:0},button:{width:"max-content",display:"flex",alignItems:"center",gap:4,padding:4,height:24,flexShrink:1,overflow:"hidden"},icon:{width:12,height:12,fill:e.text.tertiary}})),[]);return t?(0,_.jsxs)("div",{style:c.originContainer,children:[(0,_.jsx)($e().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",customStyles:c.addToLabel,children:(0,_.jsx)(C().sA,{id:"workflowTemplatesOnboardingModalLocationPicker.addTo",defaultMessage:"Add to"})}),(0,_.jsx)(qt().Ay,{open:i,popupType:qt().nl.Popup,placementToOrigin:ne().W.Bottom,alignmentToOrigin:ne().C.Start,onDismiss:l,origin:(0,_.jsxs)(be().p,{style:c.button,onClick:d,children:[(0,_.jsx)(ro,{store:t,textStyle:c.originText}),(0,o(668725).b)(c.icon)]}),render:()=>(0,_.jsx)(co,{currentParentStore:t,onSelect:s,onDismiss:l}),trapFocus:!0})]}):null}const po=n.memo(uo);var mo=()=>o(793863),go=()=>o(992032);function fo(e){let{parentStore:t,searchQuery:o,handleSearchQueryChange:a,handleTopbarSizeChange:s,scrollerStore:d}=e;const c=(0,C().tz)(),{isPhone:u}=(0,r().Y0)(),p=(0,f().X)("mobile_discovery_modal_gate"),m=t.table===Wt().ev?void 0:t,g=(0,n.useCallback)((e=>{v().A.update((t=>{if(!1===t.open||"pre_signup_build_with_ai"===t.version)throw new Error("Component should not render for pre-signup version");return{...t,parentStore:e}}))}),[]),h=(0,n.useContext)(qe().eh),y=(0,S().IS)((e=>({topbar:{position:"absolute",top:0,zIndex:2,padding:"16px 24px",width:"100%",display:"grid",gap:24,gridTemplateColumns:`minmax(${m?123:0}px, 1fr) minmax(0, 296px) minmax(0, 1fr)`},topbarMobile:{position:"absolute",top:50,zIndex:2,padding:"16px 16px 12px 19px",width:"100%",display:"flex",flexDirection:"column",gap:14},topbarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},closeButton:{width:u&&p?28:18,height:u&&p?28:18,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.accentColors.translucentGray[75],flexShrink:0},closeButtonHovered:{background:e.accentColors.translucentGray[200]},closeIcon:{width:10,color:e.icon.secondary,stroke:e.icon.secondary,strokeWidth:.5},locationPickerWrapper:{overflow:"hidden"},input:{width:"100%",padding:"8px 12px",background:e.accentColors.washGlass[0],borderRadius:10},divider:{position:"absolute",bottom:0,width:"100%",overflow:u&&p?"hidden":void 0}})),[m,u,p]),b=(0,i().K8)((()=>{const e=v().A.state;return!!e.open&&(Lt(e.origin)&&e.setupGenerator)}),[]);return(0,_.jsx)(Gt().EE,{onSizeChange:s,children:u&&p?(0,_.jsxs)("div",{style:y.topbarMobile,children:[(0,_.jsxs)("div",{style:y.topbarHeader,children:[m&&(0,_.jsx)("div",{style:y.locationPickerWrapper,children:(0,_.jsx)(po,{currentSelectedStore:m,onSelect:g})}),(0,_.jsx)(He().A,{style:y.closeButton,hoveredStyle:y.closeButtonHovered,onClick:h,children:(0,Ne().u)(y.closeIcon)})]}),(0,_.jsx)(G().A,{focusInitial:!u,value:o,onChange:a,style:y.input,placeholder:c.formatMessage({id:"workflowTemplatesOnboardingModal.searchPlaceholder",defaultMessage:"Search"})}),(0,_.jsx)("div",{style:y.divider,children:(0,_.jsx)(zt().A,{type:"top",scrollerStore:d})})]}):(0,_.jsxs)("div",{style:y.topbar,children:[(0,_.jsxs)(l().Y1,{direction:"horizontal",gap:16,align:"center-left",children:[(0,_.jsx)(He().A,{style:y.closeButton,hoveredStyle:y.closeButtonHovered,onClick:h,children:(0,Ne().u)(y.closeIcon)}),m&&(0,_.jsx)("div",{style:y.locationPickerWrapper,children:(0,_.jsx)(po,{currentSelectedStore:m,onSelect:g})})]}),b?null:(0,_.jsx)(G().A,{focusInitial:!0,value:o,onChange:a,style:y.input,placeholder:c.formatMessage({id:"workflowTemplatesOnboardingModal.searchPlaceholder",defaultMessage:"Search"})}),(0,_.jsx)("div",{style:y.divider,children:(0,_.jsx)(zt().A,{type:"top",scrollerStore:d})})]})})}let ho=0;function yo(e){let{modalState:t}=e;const o=(0,r().v3)(),a=(0,C().tz)(),{isPhone:s}=(0,r().Y0)(),d=(0,f().X)("mobile_discovery_modal_gate"),[c,u]=(0,n.useState)(ho),p=(0,i().uB)(void 0,Qt().A),m=(0,n.useCallback)((e=>{const t=s&&d?154:e.height;ho=t,u(t)}),[s,d]),h=t.collectionTemplatesSearchQuery??"";!function(e){let{environment:t,searchQuery:o}=e;const r=(0,Et().lW)(o,500,((e,t)=>e===t)),a=(0,i().K8)((()=>v().A.state.open?(0,mo().oA)():[]),[]);(0,n.useEffect)((()=>{const{state:e}=v().A;if(!e.open)return;if(e.flowId!==vo.flowId&&(vo={query:"",flowId:e.flowId}),vo.query===r)return;const o=vo.query.length??0,n=r.length>0,i=o>0;(0,g().u4)({environment:t,event:{eventName:"template_picker_search_changed",eventProperties:{...(0,y().gM)(e),type:n?i?"search_edited":"search_started":"search_ended",shown_templates_for_search:n?(0,mo().Mq)(r,a).map((e=>e.templateId)):void 0}}}),vo={query:r,flowId:e.flowId}}),[t,r,a])}({environment:o,searchQuery:h});const b=(0,S().IS)((e=>{const o=`\n\t\t\tlinear-gradient(\n\t\t\t\tto bottom,\n\t\t\t\ttransparent ${c+1}px,\n\t\t\t\twhite ${c+1.1}px\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\tto left,\n\t\t\t\tblack 16px,\n\t\t\t\ttransparent 17px\n\t\t\t)`;return{container:{maskImage:o,WebkitMaskImage:o,maskSize:"100% 100%",WebkitMaskSize:"100% 100%",maskPosition:"0 0",WebkitMaskPosition:"0 0",maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"new_user_onboarding"===t.origin?12:c},content:{maxWidth:"calc(100% - 32px)",paddingBottom:16}}}),[t.origin,c]),x=(0,n.useCallback)((e=>{v().A.setState({...t,collectionTemplatesSearchQuery:e.target.value})}),[t]),w=(0,n.useCallback)((async e=>{const{title:n}=e??{},r=function(e){let{environment:t,parentStore:o,title:n}=e;const{currentSpaceStore:r,currentSpaceViewStore:i}=et().default.state;if(r&&i){if(o instanceof $t().h4)return Ft().A5({environment:t,from:"team_workflow_templates_onboarding_modal",spaceStore:r,spaceViewStore:i,teamStore:o,andNavigate:!0,appendOrPrepend:"append",title:n});if(o instanceof $t().SL){const e="private",o="workflow_templates_onboarding_modal";return Nt().u4({name:"page_created",args:{type:e,from:o}}),Ft().SE({environment:t,spaceStore:r,spaceViewStore:i,type:e,outlinerItemFrom:o,title:n})}}}({environment:o,parentStore:t.parentStore,title:n});if(!r)return;const i=await r;i&&(v().A.close({type:"accepted_new_page",newPageTitle:n,blockId:i.id}),(0,g().u4)({environment:o,event:{eventName:"template_picker_empty_item_selected",eventProperties:{...(0,y().gM)(t),type:"page",created_block_id:i.id,created_block_type:i.getType()}}}))}),[o,t]),M=(0,f().X)("workflow_container"),I=(0,n.useCallback)((e=>{var n;t.open&&(!t.existingCollectionInfo||M?t.parentStore&&(0,Yt().my)({environment:o,parentStore:t.parentStore,collectionViewBlockStore:null===(n=t.existingCollectionInfo)||void 0===n?void 0:n.collectionViewBlockStore,title:null==e?void 0:e.title,onFinish:n=>{(0,g().u4)({environment:o,event:{eventName:"template_picker_empty_item_selected",eventProperties:{...(0,y().gM)(t),type:"database",created_block_id:n.id,created_block_type:n.getType()}}}),Ot().uK({environment:o,store:n,visitType:Vt().ig.Link,pageVisitSource:Dt().y8.Create,redirect:!0}),v().A.close({type:"accepted_empty_collection",newCollectionTitle:null==e?void 0:e.title,blockId:n.id})}}):v().A.close({type:"accepted_empty_collection",newCollectionTitle:null==e?void 0:e.title,blockId:t.existingCollectionInfo.collectionViewBlockStore.id}))}),[o,t,M]),A=(0,n.useCallback)(((e,t)=>{(0,ve().handleSelectTemplateFromOnboardingModal)({environment:o,template:e,analyticsArgs:t})}),[o]),j=(0,Kt().U)("marketplace_workflow_templates_onboarding_modal",{forceOpenInNewTab:!0}),P=(0,n.useMemo)((()=>({onSelectTemplate:A,onAddEmptyPage:w,onAddEmptyDatabase:I,onMarketplaceClick:j})),[A,w,I,j]),T=(0,i().K8)((()=>{if(t.open)return t.setupGenerator}),[t]),B=(0,i().K8)((()=>null==T?void 0:T.store.state.prompt),[T]),R="collection_settings_create_view_source"!==(D=t.origin)&&"collection_settings_create_view_source_inline"!==D&&"new_page_pills"!==D;var D;const L=Lt(t.origin)&&T,E=(0,i().K8)((()=>{var e;return null===(e=et().default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(a)}),[a]),W=(0,i().K8)((()=>"new_user_onboarding"===t.origin&&"ai_onboarding_phase_2_5"===Ye().A.state.flowName),[t.origin]),N=(0,n.useCallback)((async()=>{if(T){var e;if(W)T.setPrompt((0,k().x9d)(`${(0,k().RQ)(T.store.state.prompt).map((e=>(0,k().N8A)(e))).join("")}\n\nThis is for a ${null===(e=Ye().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType} user.`));await(0,Je().z)({setupGenerator:T,environment:o,parentStore:t.parentStore,allowNavigateToAppBuilder:"new_user_onboarding"!==t.origin,isPhone:s})}}),[T,W,o,t.parentStore,t.origin,s]);return(0,n.useEffect)((()=>{"new_user_onboarding"===t.origin&&(null==T||T.setPrompt(void 0),t.parentStore&&"new_user_template_onboarding"!==t.version&&v().A.setState({...t,version:"new_user_template_onboarding"}))}),[t,t.origin,T]),t.parentStore?(0,_.jsxs)(_.Fragment,{children:["new_user_onboarding"!==t.origin&&(0,_.jsx)(fo,{parentStore:t.parentStore,searchQuery:h,scrollerStore:p,handleSearchQueryChange:x,handleTopbarSizeChange:m}),(0,_.jsx)(Ht().H,{type:Ut().A.Y,store:p,style:b.container,children:(0,_.jsxs)(l().Y1,{width:620,style:b.content,children:[L?(0,_.jsx)(ct,{currentUserName:E,prompt:B,onChange:null==T?void 0:T.setPrompt,onSubmit:N,overrides:{hideSuggestionPills:!0,hideLearnMore:!0}}):null,0===h.length?(0,_.jsx)(go().oI,{parentStore:t.parentStore,showEmptyPageButton:R,onPromptSubmit:e=>{null==T||T.setPrompt((0,k().x9d)(e)),N()},...P}):(0,_.jsx)(mo().H,{query:h,showEmptyPageButton:R,...P})]})})]}):null}let vo={query:"",flowId:void 0};o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);var bo=()=>o(682146);function xo(){var e;const t=(0,i().O$)(v().A),o=(0,r().v3)(),{isPhone:a}=(0,r().Y0)(),s=(0,i().K8)((()=>t.open&&t.collectionTemplate?(0,y().OX)(t):null),[t]),d=(0,n.useCallback)((e=>{v().A.updatePreviewFocusViewTemplateId(e)}),[]),c=(0,S().IS)((e=>({grid:{position:"relative",flex:"1 0 0",maxHeight:a?"72%":"100%",overflowY:"auto"}})),[a]);return s&&t.open?(0,_.jsxs)(l().Y1,{direction:"vertical",height:"fill",gap:10,children:[(0,_.jsx)(Se().aZ,{caption:(0,_.jsx)(C().sA,{id:"workflowTemplatesOnboardingModal.selectViews",defaultMessage:"Select how you prefer to see your {collectionName}",values:{collectionName:null===(e=t.collectionTemplate)||void 0===e?void 0:e.value.targetCollection.name}})}),(0,_.jsx)("div",{style:c.grid,children:(0,_.jsx)(Pe,{contentStyle:{padding:"5px 2px"},children:(0,_.jsx)(So,{toggleViewSelection:e=>{(0,ve().toggleFeatureSelectionInPreview)({template:e,environment:o})},updatePreviewFocusViewTemplateId:d,...s})})})]}):null}function So(e){let{toggleViewSelection:t,updatePreviewFocusViewTemplateId:o,...n}=e;const a=(0,r().v3)(),{collectionTemplate:s,userCustomizations:l}=n,d=(0,S().DP)(),c=(0,i().K8)((()=>ye().globalWorkflowTemplates.allOfType({templateIds:s.value.templateItems.map((e=>e.pointer)),type:"collection_view"})),[s]),u=(0,i().K8)((()=>{const e=l.featureTemplateSelections.filter((e=>"collection_view"===e.template.type&&e.selected));return e.length>0?e[0].template.templateId:void 0}),[l]),p=(0,i().K8)((()=>1===l.featureTemplateSelections.filter((e=>e.selected&&"collection_view"===e.template.type)).length),[l]),m=(0,S().IS)((e=>({views:{display:"flex",flexDirection:"column",gap:12,padding:2},button:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",gap:8,justifyContent:"left",height:52,borderRadius:14,cursor:"pointer",fontSize:14,padding:16,lineHeight:"20px",color:e.text.primary,fontWeight:Oe().Wy.medium},baseIconStyle:{flexShrink:0,height:20,width:20},overflowTooltip:{maxWidth:250}})),[]);return u?(0,_.jsx)("div",{style:m.views,children:c.map(((e,r)=>{const i=l.featureTemplateSelections.find((t=>t.template.templateId===e.templateId)),{name:s,type:u,format:f}=e.value,h=Boolean(null==i?void 0:i.selected),v="required"===(null==i?void 0:i.optionality)||p&&h,b=null==f?void 0:f.collection_view_icon;return(0,_.jsxs)(xe,{isSelected:h,style:m.button,onClick:()=>{var r;if(v)return;const i=!h,s=new Set(l.featureTemplateSelections.filter((e=>e.selected)).map((e=>e.template.templateId)));(0,g().u4)({environment:a,event:{eventName:"workflow_template_onboarding_feature_select",eventProperties:{selecting:i?"selecting":"deselecting",previously_selected_feature_template_ids:[...s],feature_template_id:e.templateId,feature_template_type:e.type,step:"viewsSelection",...(0,y().gM)(n)}}}),t(e);const d=(null===(r=n.previewCollectionInfo)||void 0===r?void 0:r.focusViewTemplateId)===e.templateId;if(i)o(e.templateId);else if(d){var u;const t=null===(u=c.find((t=>s.has(t.templateId)&&t.templateId!==e.templateId)))||void 0===u?void 0:u.templateId;o(t)}},children:[b?(0,_.jsx)(Le().p,{theme:d,icon:b,style:{...m.baseIconStyle,...h&&{fill:d.text.uiBluePrimary}},size:m.baseIconStyle.width}):bo().ZU[u]({...m.baseIconStyle,...h&&{fill:d.text.uiBluePrimary}}),(0,_.jsx)(me().j,{tooltipStyle:m.overflowTooltip,placement:ne().W.Right,children:s})]},r)}))}):null}function wo(e){let{display:t="modal",overrides:o}=e;const m=(0,i().O$)(v().A),b=(0,r().v3)(),x=(0,f().X)("mobile_discovery_modal_gate");(0,h().A)({shouldPreserveTextSelection:m.open,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0}),(0,n.useEffect)((()=>{m.open&&s().H6.CollectionViewBlock.load()}),[m.open]);const S=(0,n.useCallback)((()=>{if(!m.open)return;const e=m.setupGenerator;e&&e.trackSessionEnded({reason:"dismissed"}),(0,g().u4)({environment:b,event:{eventName:"workflow_template_onboarding_dismissed",eventProperties:{...(0,y().gM)(m),step:(0,y().hq)(m),dismissed_by:"click_outside"}}})}),[m,b]),w=(0,i().K8)((()=>m.open?(0,y().hq)(m):void 0),[m]),k=(0,n.useCallback)((()=>{v().A.close({type:"canceled"})}),[]),C=(0,n.useMemo)((()=>({width:{type:"fixed",length:1e3},height:{type:"fixed",length:650}})),[]),M=(0,c().FT)({minimumOutsideSpacing:(0,p().a)({partial:{},defaultLength:80})}),I=(0,u().e)([M,{width:{type:"fill"},height:{type:"fill"}}]);return w&&m.open?"content_only"===t?(0,_.jsx)(_o,{currentModalStep:w,overrides:{...o??{},hideCornerButton:!0}}):"embedded"===t?(0,_.jsx)(c().LE,{areaConstraint:I,isSizeTransitionAnimated:!0,children:(0,_.jsx)(c().wC.Consumer,{children:e=>{let{constrainedSize:t}=e;return(0,_.jsx)(l().Y1,{style:t,children:(0,_.jsx)(_o,{currentModalStep:w,overrides:{...o??{},hideCornerButton:!0}})})}})}):"modal"===t?(0,_.jsx)(d().s,{isOpen:!0,areaConstraint:e=>{let{displayMode:t}=e;return"phone"===t&&x?{height:{type:"fill"},width:{type:"fill"}}:C},onDismiss:S,onClosed:k,backgroundAppearance:"wash",keyboardAreaPriority:1,render:e=>{let{sizeRange:t}=e;return(0,_.jsx)(l().Y1,{style:t,children:(0,_.jsx)(_o,{currentModalStep:w,overrides:o})})}}):void(0,a().HB)(t):null}function ko(e){let{children:t}=e;return(0,_.jsx)(m().K,{fallback:()=>null,from:"WorkflowTemplatesOnboardingModal",children:t})}function Co(e){return(0,_.jsx)(ko,{children:(0,_.jsx)(wo,{...e})})}function _o(e){let{currentModalStep:t,overrides:o}=e;const n=(0,i().K8)((()=>v().A.state),[]);if(!n.open)return null;switch(t){case"templateSelection":return(0,_.jsx)(yo,{modalState:n});case"setupGeneratorInput":return(0,_.jsx)(st,{overrides:o});case"setupGeneratorBuilding":return(0,_.jsx)(lt,{overrides:o});case"features":return(0,_.jsx)(Se().If,{overrides:o,children:(0,_.jsx)(we,{overrides:o})});case"viewsSelection":return(0,_.jsx)(Se().If,{overrides:o,children:(0,_.jsx)(xo,{})});default:(0,a().HB)(t)}}},86089:(e,t,o)=>{o.d(t,{o:()=>d});var n=o(296540),r=()=>o(484714),i=()=>o(847249),a=()=>o(351360),s=()=>o(779795),l=()=>o(981046);function d(){const e=(0,r().v3)(),{spaceId:t,isGuest:o}=(0,i().K8)((()=>{const e=a().default.state.currentSpaceStore,t=null==e?void 0:e.getPublicSpaceData();return{spaceId:null==e?void 0:e.id,isGuest:"none"===(null==t?void 0:t.role)}}),[]);return(0,n.useEffect)((()=>{t&&!o&&(0,s().$W)({environment:e,spaceId:t})}),[e,t,o]),(0,i().K8)((()=>l().A.state.prices),[])}},102777:(e,t,o)=>{o.d(t,{b:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("sendArrow",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.79883 18.5894C14.6216 18.5894 18.5894 14.6216 18.5894 9.79883C18.5894 4.96777 14.6216 1 9.79053 1C4.95947 1 1 4.96777 1 9.79883C1 14.6216 4.96777 18.5894 9.79883 18.5894ZM9.79883 14.3062C9.20947 14.3062 8.76953 13.9077 8.76953 13.3433V9.69922L8.86914 8.00586L8.25488 8.84424L7.3916 9.81543C7.23389 10.0063 6.98486 10.1143 6.72754 10.1143C6.21289 10.1143 5.84766 9.75732 5.84766 9.25928C5.84766 8.99365 5.92236 8.79443 6.12158 8.58691L8.96045 5.61523C9.19287 5.35791 9.4585 5.2417 9.79883 5.2417C10.1309 5.2417 10.4048 5.36621 10.6372 5.61523L13.4761 8.58691C13.667 8.79443 13.75 8.99365 13.75 9.25928C13.75 9.75732 13.3848 10.1143 12.8618 10.1143C12.6128 10.1143 12.3638 10.0063 12.2061 9.81543L11.3428 8.86914L10.7202 7.99756L10.8281 9.69922V13.3433C10.8281 13.9077 10.3799 14.3062 9.79883 14.3062Z"})})},103975:(e,t,o)=>{o.d(t,{M:()=>p});o(296540);var n=()=>o(484714),r=()=>o(847249),i=()=>o(430483),a=()=>o(270483),s=()=>o(783793),l=()=>o(645873);const d=new(l().O2)("assistantAnimatedFace",(()=>Promise.all([o.e(32257),o.e(15961)]).then(o.bind(o,995062))));var c=o(474848);function u(e){const{sizeVariant:t,highLevelState:o,includeBoxShadow:n,onMouseEnter:r}=e,{value:i}=(0,l().fJ)(d);if(!i)return(0,c.jsx)(s().o,{variant:t,wrapWithPadding:!1});const a=i.AssistantAnimatedFace,u=i.AssistantAnimatedFaceInner;return o?(0,c.jsx)(u,{sizeVariant:t,highLevelState:o,includeBoxShadow:n??!1,onMouseEnter:r}):(0,c.jsx)(a,{sizeVariant:t,includeBoxShadow:n??!1,onMouseEnter:r})}function p(e){const{variant:t,highLevelState:o,includeBoxShadow:l}=e,d=(0,n().Y0)(),p=(0,r().K8)((()=>i().zD.shouldShowAnimatedAssistantFace(d)),[d]),m=(0,r().O$)(i().ts);return o||p?(0,c.jsx)(u,{sizeVariant:t,highLevelState:o,includeBoxShadow:l}):m?(0,c.jsx)(s().o,{variant:t}):(0,c.jsx)(a().g,{variant:t})}},105819:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>r});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},r=(0,o(340498).wt)("pencilLine",n)},108414:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().default{getInitialState(){return{open:!1}}}const r=new n},110165:(e,t,o)=>{o.d(t,{L:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("squareStop",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.79469 18.5894C8.59333 18.5894 7.46094 18.3595 6.39753 17.8996C5.33986 17.4398 4.40579 16.8046 3.5953 15.9941C2.78481 15.1836 2.14963 14.2495 1.68978 13.1919C1.22993 12.1284 1 10.9961 1 9.79469C1 8.59333 1.22993 7.46381 1.68978 6.40615C2.14963 5.34274 2.78193 4.40579 3.58667 3.5953C4.39717 2.78481 5.33124 2.14963 6.3889 1.68978C7.45232 1.22993 8.5847 1 9.78607 1C10.9874 1 12.1198 1.22993 13.1832 1.68978C14.2466 2.14963 15.1836 2.78481 15.9941 3.5953C16.8046 4.40579 17.4398 5.34274 17.8996 6.40615C18.3595 7.46381 18.5894 8.59333 18.5894 9.79469C18.5894 10.9961 18.3595 12.1284 17.8996 13.1919C17.4398 14.2495 16.8046 15.1836 15.9941 15.9941C15.1836 16.8046 14.2466 17.4398 13.1832 17.8996C12.1256 18.3595 10.9961 18.5894 9.79469 18.5894ZM7.44944 13.028H12.1399C12.4159 13.028 12.6314 12.9504 12.7866 12.7952C12.9476 12.64 13.028 12.4245 13.028 12.1486V7.42357C13.028 7.15341 12.9476 6.94073 12.7866 6.78553C12.6314 6.63033 12.4159 6.55273 12.1399 6.55273H7.44944C7.17353 6.55273 6.9551 6.63033 6.79415 6.78553C6.63895 6.94073 6.56135 7.15341 6.56135 7.42357V12.1486C6.56135 12.4245 6.63895 12.64 6.79415 12.7952C6.9551 12.9504 7.17353 13.028 7.44944 13.028Z"})})},112527:(e,t,o)=>{o.r(t),o.d(t,{getLegacyStripeAppearance:()=>C,getStripe:()=>x,injectStripe:()=>b,optionalPaymentMethodIdGivenPaymentData:()=>I,optionalStripeTokenGivenPaymentData:()=>M,stripeElementLocaleGivenNotionLocale:()=>S,translateStripeError:()=>k,useElementsOptions:()=>w});var n=()=>o(624119),r=()=>o(37458),i=o(296540),a=()=>o(484714),s=()=>o(847249),l=()=>o(401497),d=()=>o(402390);var c=()=>o(798880),u=()=>o(807487),p=()=>o(534177),m=()=>o(284371),g=()=>o(780054),f=()=>o(351360),h=()=>o(508496),y=o(474848);let v=null;function b(e){return function(t){const[o]=i.useState(x);return(0,y.jsx)(n().Elements,{stripe:o,children:(0,y.jsx)(n().ElementsConsumer,{children:o=>{let{stripe:n,elements:r}=o;const i={...t,stripe:n,elements:r};return(0,y.jsx)(e,{...i})}})})}}async function x(){return v||(r().loadStripe.setLoadParameters({advancedFraudSignals:!1}),v=(0,r().loadStripe)(g().A.stripe.key)),v}function S(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function w(e){const t=(0,l().DP)(),o=(0,a().v3)(),{type:n}=e,r="setup"===n||"subscription"===n?e.currency:void 0,g="subscription"===n?e.amount:void 0,y=(0,s().K8)((()=>{var e;return(null===(e=f().default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||d().q}),[]),v=(0,s().K8)((()=>"KRW"===r&&function(e){const{experimentService:t,actor:o}=e;return t.checkGate({actor:o,gateName:"kr_card_payment_method"})}({experimentService:h().default,actor:{table:c().oo,id:o.currentUser.id??""}})),[o.currentUser,r]);return(0,i.useMemo)((()=>{const e=function(e){const t=_(e.text.primary),o=_(e.text.secondary),n=_(e.text.tertiary),r=_(e.text.uiRedPrimary),i=_(e.text.uiBluePrimary),a=_(e.icon.contrast),s=_(e.whiteButtonBackground);return{labels:"above",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"12px",spacingGridColumn:"12px",spacingUnit:"4px",spacingTab:"6px",colorPrimary:t,colorPrimaryText:t,colorText:t,colorTextSecondary:o,colorTextPlaceholder:n,colorIcon:t,colorIconCheckmark:a,colorDanger:r,colorBackground:s,colorIconTabHover:t,colorIconTabSelected:i,colorIconChevronDown:t,fontFamily:m().Tf.sans,fontWeightLight:`${m().Wy.light}`,fontWeightNormal:`${m().Wy.regular}`,fontWeightMedium:`${m().Wy.medium}`,fontWeightBold:`${m().Wy.medium}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"500",lineHeight:"16px",color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground},".Tab:focus":{boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:t,boxShadow:"none",outline:"none"},".Tab--selected:hover":{backgroundColor:e.whiteButtonBackground,color:t},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"7px 8px",backgroundColor:e.surface.wash,boxShadow:`0 0 0 1px ${e.stroke.primary}`,border:"none",color:t},".Input--invalid":{color:t,boxShadow:e.outlineRedInputBoxShadow},".Input:focus":{color:t,boxShadow:e.outlineBlueInputBoxShadow},".Label":{fontSize:"12px",lineHeight:"15px",fontWeight:"500",letterSpacing:"-0.154px",color:o,marginBottom:"8px"},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:r},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:t},".PickerItem:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--selected:hover":{boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:t},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:o,fontSize:"10px",fontWeight:"400",lineHeight:"13px",letterSpacing:"0.12px"},".CheckboxLabel":{color:t,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:t,fontWeight:"400",padding:"4px 8px"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:t},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",padding:"16px"},".Icon":{fill:t}}}}(t),o={appearance:e,locale:S(y)},i={paymentMethodTypes:(0,u().VV)({currency:r,isKrCardFeatureGateEnabled:v})};switch(n){case"address":return o;case"setup":return{...o,...i,currency:null==r?void 0:r.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...o,...i,amount:g,currency:null==r?void 0:r.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session",loader:"never"};default:(0,p().HB)(n)}}),[t,y,r,v,n,g])}function k(e,t){if(!t.code)return t.message||"";switch(t.code){case"invalid_expiry_year_past":return e.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return e.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,t){switch(t){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(e,t.decline_code);default:return t.message||""}}function C(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:m().Tf.sans,fontWeightLight:`${m().Wy.light}`,fontWeightNormal:`${m().Wy.regular}`,fontWeightMedium:`${m().Wy.medium}`,fontWeightBold:`${m().Wy.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"510",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary}}}}function _(e){const[t,o,n,r]=e.match(/[\d.]+/g)??[];return t&&o&&n&&r&&1===parseInt(r)?`rgb(${t}, ${o}, ${n})`:e}function M(e){return"stripeToken"===(null==e?void 0:e.type)?e.value:void 0}function I(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}},115562:(e,t,o)=>{o.d(t,{W:()=>l});o(296540);var n=()=>o(819121),r=()=>o(401497),i=()=>o(955825),a=()=>o(677195),s=o(474848);function l(e){const{selectorSize:t="normal",...o}=e,{disabled:l,checked:d}=o,[c,u]=(0,n().A)(),p=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===i?15:11,height:"large"===i?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===i?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===i?18:void 0,height:"large"===i?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===i?12:10,height:"large"===i?12:10,ariaHidden:!0}})),[i,t,o,n])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...o}),(0,s.jsx)("span",{...(0,i().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},135221:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);const r=function(e){let{style:t,styleParentContainer:r,isTriColored:i}=e;const a=(0,o(959013).tz)();return(0,n.jsxs)("div",{"aria-valuetext":a.formatMessage({id:"loadingDots.label",defaultMessage:"Loading..."}),role:"progressbar",className:"loading-dots",style:{...r},children:[(0,n.jsx)("div",{className:"loading-dot",style:{...t,...i&&{backgroundColor:"#F6C050"}}}),(0,n.jsx)("div",{className:"loading-dot",style:{...t,...i&&{backgroundColor:"#ED6A5F"}}}),(0,n.jsx)("div",{className:"loading-dot",style:{...t,...i&&{backgroundColor:"#5F9CDB"}}})]})}},141273:(e,t,o)=>{o.d(t,{g:()=>l});var n=o(296540),r=()=>o(484714),i=()=>o(47170),a=()=>o(749356),s=()=>o(985315);function l(e){var t;const o=(0,r().v3)(),[l,d]=(0,n.useState)(),c=(0,i().O)(),u=(null===(t=(0,s().g)({spaceId:c}))||void 0===t?void 0:t.length)??0;return(0,n.useEffect)((()=>{!async function(){c&&d(await(0,a().L6)({environment:o,spaceId:c,offerCampaign:e}))}()}),[o,c,e,u]),l}},141966:(e,t,o)=>{o.d(t,{H:()=>a,l:()=>s});var n=()=>o(842599),r=()=>o(351360),i=()=>o(508496);function a(e,t){return t?48:e?32:18}function s(){var e;if(i().default.checkGate({gateName:"ks_dev_settings"}))return!1;const t=null===(e=r().default.state.currentUserStore)||void 0===e?void 0:e.getEmail();return"makenotion.com"===(0,n().zN)(t??"")}},146535:(e,t,o)=>{e.exports=o.p+"d96dbdbbe0581121.gif"},149375:(e,t,o)=>{o.d(t,{v:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},155185:(e,t,o)=>{o.d(t,{I:()=>a,_:()=>i});const n={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},r={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},173019:(e,t,o)=>{o.d(t,{r:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},183819:(e,t,o)=>{o.d(t,{q:()=>c});var n=()=>o(847249),r=()=>o(762433),i=()=>o(534177),a=()=>o(640653),s=()=>o(240865),l=()=>o(58293),d=()=>o(527059);function c(){const e=(0,l().r)(),t=(0,d().lh)({spaceId:null==e?void 0:e.id}),o=(0,r().N8)(null==t?void 0:t.subscription),c=(0,d().Wo)(),u=(0,n().K8)((()=>e&&(0,a().hT)(e)),[e]),p=(0,s().V)()??1;if(o)return"sales_assisted";return!((0,i().Vq)(p)&&p>=100)&&!c||u?"self_serve":"sales_eligible"}},198048:(e,t,o)=>{o.d(t,{C:()=>a});var n=o(296540),r=()=>o(51194),i=()=>o(610104);function a(){const e=(0,r().a)(),[t,o]=(0,n.useState)(0),a=(0,n.useCallback)((()=>{e.current&&o(t+1)}),[t]);return[(0,n.useCallback)((()=>i().Gt.postRender(a)),[a]),t]}},200277:(e,t,o)=>{o.d(t,{$:()=>p,N:()=>c});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(430670),o(581454);var n=()=>o(428045),r=()=>o(663077),i=()=>o(496603),a=()=>o(534177),s=()=>o(299545),l=()=>o(913454),d=()=>o(204067);function c(e,t){const o=(0,d().Xg)(e,t),n=new Set(function(e){const t=e.getParentBlockStore();if(null==t||!t.isDefined())return[];return(null==t?void 0:t.getCollectionViewStores().map((e=>e.getName())).filter(a().O9))??[]}(t));return function(e){const t=new Set(e.map((e=>e.templateId))),o=[];for(const n of e)o.push(...u(n).filter((e=>!t.has(e))).map((e=>l().globalWorkflowTemplates.fromId(e))).filter(r().bz).filter((e=>!(0,r().Sz)(e))));return o}(o).filter((e=>"collection_view"!==e.type||!n.has(e.value.name??"")))}function u(e){return"compound"===e.type||"collection"===e.type?e.value.templateItems.filter((e=>"optionalDefaultOn"===e.optionality||"optionalDefaultOff"===e.optionality)).map((e=>e.pointer)):[]}function p(e){let{persona:t,parentStore:o}=e;const r=t?(0,n().Qf)({persona:t}):[],a=l().globalWorkflowTemplates.allOfType({templateIds:r??[],type:"collection"}),d=i().hS(function(e){let{collectionTemplates:t,parentStore:o}=e;if(!o)return t;if((0,s().Yu)(o))return t;const n=(0,s().$R)(o)?o.getTeamPageStores():o.getContentStores(),r=new Set((0,i().oE)(n.flatMap((e=>{var t;return(null===(t=e.getCollectionStores())||void 0===t?void 0:t.map((e=>e.getWorkflowTemplateId())))??[]})))),a=[],l=[];for(const i of t)r.has(i.templateId)?a.push(i):l.push(i);return[...l,...a]}({collectionTemplates:[...a,...l().globalWorkflowTemplates.allOfType({templateIds:(0,n().dj)(),type:"collection"})],parentStore:o}),(e=>e.templateId));return d}},203066:(e,t,o)=>{o.d(t,{N:()=>d});var n=o(296540);class r extends n.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function i({children:e,isPresent:t}){const o=(0,n.useId)(),i=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)((()=>{const{width:e,height:n,top:r,left:s}=a.current;if(t||!i.current||!e||!n)return;i.current.dataset.motionPopId=o;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${o}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${n}px !important;\n            top: ${r}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),n.createElement(r,{isPresent:t,childRef:i,sizeRef:a},n.cloneElement(e,{ref:i}))}const a=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:l,presenceAffectsLayout:d,mode:c})=>{const u=(0,o(328601).M)(s),p=(0,n.useId)(),m=(0,n.useMemo)((()=>({id:p,initial:t,isPresent:r,custom:l,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))})),d?void 0:[r]);return(0,n.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[r]),n.useEffect((()=>{!r&&!u.size&&a&&a()}),[r]),"popLayout"===c&&(e=n.createElement(i,{isPresent:r},e)),n.createElement(o(786719).t.Provider,{value:m},e)};function s(){return new Map}const l=e=>e.key||"";const d=({children:e,custom:t,initial:r=!0,onExitComplete:i,exitBeforeEnter:s,presenceAffectsLayout:d=!0,mode:c="sync"})=>{(0,o(285238).V)(!s,"Replace exitBeforeEnter with mode='wait'");const u=(0,n.useContext)(o(29473).L).forceRender||(0,o(198048).C)()[0],p=(0,o(51194).a)(),m=function(e){const t=[];return n.Children.forEach(e,(e=>{(0,n.isValidElement)(e)&&t.push(e)})),t}(e);let g=m;const f=(0,n.useRef)(new Map).current,h=(0,n.useRef)(g),y=(0,n.useRef)(new Map).current,v=(0,n.useRef)(!0);if((0,o(525128).E)((()=>{v.current=!1,function(e,t){e.forEach((e=>{const o=l(e);t.set(o,e)}))}(m,y),h.current=g})),(0,o(757491).l)((()=>{v.current=!0,y.clear(),f.clear()})),v.current)return n.createElement(n.Fragment,null,g.map((e=>n.createElement(a,{key:l(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:d,mode:c},e))));g=[...g];const b=h.current.map(l),x=m.map(l),S=b.length;for(let o=0;o<S;o++){const e=b[o];-1!==x.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===c&&f.size&&(g=[]),f.forEach(((e,o)=>{if(-1!==x.indexOf(o))return;const r=y.get(o);if(!r)return;const s=b.indexOf(o);let v=e;if(!v){const e=()=>{f.delete(o);const e=Array.from(y.keys()).filter((e=>!x.includes(e)));if(e.forEach((e=>y.delete(e))),h.current=m.filter((t=>{const n=l(t);return n===o||e.includes(n)})),!f.size){if(!1===p.current)return;u(),i&&i()}};v=n.createElement(a,{key:l(r),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:d,mode:c},r),f.set(o,v)}g.splice(s,0,v)})),g=g.map((e=>{const t=e.key;return f.has(t)?e:n.createElement(a,{key:l(e),isPresent:!0,presenceAffectsLayout:d,mode:c},e)})),n.createElement(n.Fragment,null,f.size?g:g.map((e=>(0,n.cloneElement)(e))))}},208993:(e,t,o)=>{o.d(t,{W:()=>p});o(296540);var n=()=>o(401497),r=()=>o(246760),i=()=>o(84817),a=()=>o(704152),s=()=>o(460292),l=()=>o(554509),d=()=>o(859428),c=()=>o(962730),u=o(474848);function p(e){let{tooltipTitle:t,tooltipDescription:o,buttonProps:n,iconSize:a="small",iconColorName:p="tertiary",tooltipWidth:g}=e;return(0,u.jsx)(d().A,{placement:c().W.Top,style:g?{width:g}:void 0,renderTooltip:()=>(0,u.jsxs)(i().Y1,{gap:2,direction:"vertical",children:[(0,u.jsx)(l().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),o?(0,u.jsx)(l().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:o}):null]}),render:e=>(0,u.jsx)(m,{buttonProps:n,...e,children:(0,u.jsx)(s().Q,{iconGroup:r().G,colorName:p,variantName:a})}),textWrap:Boolean(g)})}function m(e){let{children:t,buttonProps:o,...r}=e;const i=(0,n().IS)((()=>({button:{borderRadius:2}})),[]);return o?(0,u.jsx)(a().A,{style:i.button,...o,...r,children:t}):(0,u.jsx)("span",{...r,children:t})}},235692:(e,t,o)=>{o.d(t,{K5:()=>p,Vp:()=>c,_u:()=>d,oP:()=>m,wC:()=>l,xN:()=>u});o(898992),o(354520),o(581454);var n=()=>o(183558),r=()=>o(155185),i=()=>o(778781),a=()=>o(369186);const s={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},l={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},d={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyLabels:"hide",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},c={page_main:[],page_details:[],form_layout_schema:[],person_profile_page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"recent_activity",type:"recentActivity"}],person_profile_page_details:[{id:"collaborators",type:"collaborators"},{id:"teamspaces",type:"teamspaces"}]};function u(e){return(0,a().jr)({modulesByArea:s,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function p(){return{page_layout_schema:(0,a().ke)(s.page_main).map((e=>{if(!(0,i().cn)(e))return(0,r().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().ke)(s.page_details).map((e=>{if(!(0,i().cn)(e))return(0,r().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0}}function m(e,t){const o=void 0===t?[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e},{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0,form_layout_schema:[{id:(0,n().Ay)(),type:"cover"},{id:(0,n().Ay)(),type:"formTitle"},...o,{id:(0,n().Ay)(),type:"formSubmit"}]}}},237843:(e,t,o)=>{o.d(t,{z:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("bookClosed",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.59766 14.8662C3.2583 14.8662 2.55371 14.1616 2.55371 12.8096L2.55371 3.21191C2.55371 1.84082 3.2583 1.12988 4.6167 1.12988L11.377 1.12988C12.7354 1.12988 13.4399 1.84717 13.4399 3.21191L13.4399 10.2642C13.4399 10.9053 13.186 11.2163 12.875 11.502C12.0752 12.2573 12.2339 13.3364 13.0146 13.6792C13.2495 13.7871 13.4399 13.9966 13.4399 14.2759C13.4399 14.6123 13.186 14.8662 12.856 14.8662L4.59766 14.8662ZM11.269 2.37402L5.43555 2.37402L5.43555 10.5562L11.7007 10.5562C12.0181 10.5562 12.1958 10.3848 12.1958 10.0737L12.1958 3.28809C12.1958 2.69775 11.8848 2.37402 11.269 2.37402ZM3.79785 10.7783C4.01367 10.6641 4.25488 10.5879 4.54053 10.5625L4.54053 2.38672C4.04541 2.44385 3.79785 2.75488 3.79785 3.28809L3.79785 10.7783ZM4.75635 13.6855L11.4214 13.6855C11.085 13.1079 11.0469 12.3843 11.3579 11.7178C11.2944 11.7241 11.231 11.7305 11.1611 11.7305L4.80713 11.7305C4.14062 11.7305 3.73437 12.1367 3.73437 12.7017C3.73437 13.3047 4.0835 13.6855 4.75635 13.6855Z"})})},240865:(e,t,o)=>{o.d(t,{V:()=>i});var n=()=>o(847249),r=()=>o(351360);function i(){return(0,n().K8)((()=>{const{currentSpaceStore:e}=r().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},246760:(e,t,o)=>{o.d(t,{G:()=>n});const n=(0,o(340498).xh)("questionMarkCircled",{default:{loader:()=>o.e(35839).then(o.bind(o,835839))},small:{loader:()=>o.e(83633).then(o.bind(o,183633))},mini:{loader:()=>o.e(58431).then(o.bind(o,658431))},large:{loader:()=>o.e(38405).then(o.bind(o,838405))}})},261164:(e,t,o)=>{o.d(t,{o:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("arrowRightRounded",{viewBox:"0 0 16 13",svg:(0,n.jsx)("path",{d:"M15.3828 6.85156C15.3828 7.09635 15.2917 7.3099 15.1094 7.49219L9.95312 12.6328C9.77083 12.8099 9.5651 12.8984 9.33594 12.8984C9.09635 12.8984 8.89583 12.8203 8.73438 12.6641C8.57812 12.5078 8.5 12.3125 8.5 12.0781C8.5 11.9583 8.52083 11.8464 8.5625 11.7422C8.60938 11.638 8.67188 11.5469 8.75 11.4688L10.5 9.70312L13.4141 7.04688L13.6875 7.54688L10.9766 7.70312H1.48438C1.22396 7.70312 1.01302 7.625 0.851562 7.46875C0.695312 7.30729 0.617188 7.10156 0.617188 6.85156C0.617188 6.59635 0.695312 6.39062 0.851562 6.23438C1.01302 6.07292 1.22396 5.99219 1.48438 5.99219H10.9766L13.6875 6.15625L13.4141 6.66406L10.5 4L8.75 2.22656C8.67188 2.14844 8.60938 2.0599 8.5625 1.96094C8.52083 1.85677 8.5 1.74219 8.5 1.61719C8.5 1.38281 8.57812 1.1875 8.73438 1.03125C8.89583 0.875 9.09635 0.796875 9.33594 0.796875C9.45052 0.796875 9.5599 0.820312 9.66406 0.867188C9.76823 0.914062 9.86719 0.984375 9.96094 1.07812L15.1094 6.21094C15.2917 6.39323 15.3828 6.60677 15.3828 6.85156Z"})})},265665:(e,t,o)=>{o.d(t,{j:()=>c});var n=o(296540),r=()=>o(484714),i=()=>o(401497),a=()=>o(284371),s=()=>o(859428);var l=()=>o(962730),d=o(474848);function c(e){let{children:t,style:o,tooltipStyle:c,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,r().Y0)(),m=(0,n.useRef)(null),g=function(e){const[t,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const n="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;o(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(m),f=(0,i().IS)((()=>({overflowText:{...a().RC,...o}})),[o]);return(0,d.jsx)(s().A,{delayThreshold:500,placement:u,textWrap:!0,style:c,forceVisibleState:!(p||!g)&&void 0,renderTooltip:()=>g?t:void 0,render:e=>(0,d.jsx)("div",{ref:m,style:f.overflowText,...e,children:t})})}},270483:(e,t,o)=>{o.d(t,{g:()=>s});o(296540);var n=()=>o(654601),r=()=>o(278589),i=o(474848);const a=16/(0,r().N)("small");function s(e){const{variant:t}=e,o=function(e){return(0,r().N)(e)*a}(t);return(0,i.jsx)(i.Fragment,{children:(0,n().X)({width:o,pointerEvents:"none"})})}},274570:(e,t,o)=>{o.r(t),o.d(t,{clockIcon:()=>i,iconDefinition:()=>r});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.625 5.725a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 1 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,o(340498).wt)("clock",r)},279047:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(296540),r=()=>o(847249),i=()=>o(401497),a=()=>o(141333),s=o(474848);const l=4;function d(e){let{scrollerStore:t,type:o,dividerColor:d,errorMargin:c=l}=e;const u=(0,r().K8)((()=>t.state.elementRef),[t]),p=(0,a().Xg)(u),m=(0,a().CR)(u),g=(0,a().sj)(u),f=(0,a().yE)(u),h=(0,a().o7)(u),y=(0,a().HJ)(u),v=(0,n.useMemo)((()=>{if(!t)return!1;switch(o){case"top":return Math.round(f)>c;case"bottom":return Math.abs(Math.round(f)-(m-h))>c;case"left":return Math.round(g)>c;case"right":return Math.abs(Math.round(g)-(p-y))>c}}),[t,o,c,p,m,g,f,h,y]),b="left"===o||"right"===o,x=(0,i().IS)((e=>({divider:{flexShrink:0,boxShadow:v?b?`1px 0 0 ${d??e.regularDividerColor}`:`0 1px 0 ${d??e.regularDividerColor}`:"0 0 0 transparent",transition:"box-shadow 300ms",...b?{width:1,height:"100%",marginLeft:-1}:{height:1,width:"100%",marginTop:-1},zIndex:99}})),[b,v,d]);return(0,s.jsx)("div",{style:x.divider})}},299177:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().default{getInitialState(){return{}}}const r=new n;o(604341).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const i=r},311578:(e,t,o)=>{o.d(t,{Ay:()=>p,Dv:()=>s,Uj:()=>l,nZ:()=>c});o(898992),o(354520),o(296540);var n=()=>o(582676),r=()=>o(959013),i=o(474848);const a="other",s={exec:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.exec",defaultMessage:"Executive (C-level / VP)"}),dept_lead:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.dept_lead",defaultMessage:"Department lead"}),team_manager:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.team_manager",defaultMessage:"Team manager"}),member:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.member",defaultMessage:"Team member"}),solo:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.solo",defaultMessage:"Solo-preneur / Freelancer"}),personal:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.personal",defaultMessage:"Using Notion just for myself"})},l={creative:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.creative",defaultMessage:"Creative"}),founder_or_ceo:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.founderCeo",defaultMessage:"Founder / CEO"}),internal_communication:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.internalCommunication",defaultMessage:"Internal Communication"}),eng:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.eng",defaultMessage:"Engineering"}),product_design:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.productDesign",defaultMessage:"Product Design"}),project_or_program_management:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.projectProgramMgmt",defaultMessage:"Project / Program Management"}),product:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.question.product",defaultMessage:"Product Management"}),marketing:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.marketing",defaultMessage:"Marketing"}),sales:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.sales",defaultMessage:"Sales"}),support:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.support",defaultMessage:"Customer Service"}),finance:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.finance",defaultMessage:"Finance"}),hr:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.hr",defaultMessage:"Human Resources"}),it_admin:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.itAdmin",defaultMessage:"IT Admin"}),knowledge_management:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.knowledgeManagement",defaultMessage:"Knowledge Management"}),operations:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.operations",defaultMessage:"Operations"}),educator:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.educator",defaultMessage:"Educator"}),other:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.otherWorkType",defaultMessage:"Other"}),student:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.student",defaultMessage:"Student"})},d={docs:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.wikis",defaultMessage:"Create a knowledge base / wiki"}),notes:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.notes",defaultMessage:"Write notes"}),project:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.project",defaultMessage:"Manage projects"}),goals:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.goals",defaultMessage:"Track company goals and OKRs"}),ai:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.question.ai",defaultMessage:"Create and find content with AI"}),other:(0,i.jsx)(r().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.otherUseType",defaultMessage:"Other"})},c={"1_10":(0,i.jsx)(r().sA,{id:"OnboardingSurvey.companySize.question.1_10",defaultMessage:"1-10"}),"10_49":(0,i.jsx)(r().sA,{id:"OnboardingSurvey.companySize.question.10_49",defaultMessage:"10-50"}),"50_99":(0,i.jsx)(r().sA,{id:"OnboardingSurvey.companySize.question.50_99",defaultMessage:"50-100"}),"100_299":(0,i.jsx)(r().sA,{id:"OnboardingSurvey.companySize.question.100_299",defaultMessage:"100-300"}),"300_999":(0,i.jsx)(r().sA,{id:"OnboardingSurvey.companySize.question.300_999",defaultMessage:"300-1000"}),"1000_5000":(0,i.jsx)(r().sA,{id:"OnboardingSurvey.companySize.question.1000_5000",defaultMessage:"1000-5000"}),"5000+":(0,i.jsx)(r().sA,{id:"OnboardingSurvey.companySize.question.5000+",defaultMessage:"5000+"})},u={student:(0,i.jsx)(r().sA,{id:"OnboardingEducationSurvey.educationRole.question.student",defaultMessage:"Student"}),"faculty member":(0,i.jsx)(r().sA,{id:"OnboardingEducationSurvey.educationRole.question.facultyMember",defaultMessage:"Faculty member"}),"staff member":(0,i.jsx)(r().sA,{id:"OnboardingEducationSurvey.educationRole.question.staffMember",defaultMessage:"Staff member"}),other:(0,i.jsx)(r().sA,{id:"OnboardingEducationSurvey.educationRole.question.otherEducationRole",defaultMessage:"I'm not using Notion for education"})};const p=(0,r().j4)((function(e){let{question:t,questionType:n,title:a,randomizeSelectionOrder:p,className:f,width:h,placeholder:y,disabled:v,onSelect:b,invalid:x,styles:S,focus:w}=e;const k=(0,o(401497).DP)(),C=(0,o(484714).v3)(),{device:_}=C;let M={};"role"===n&&(M=s),"work"===n&&(M=l),"use"===n&&(M=d),"companySize"===n&&(M=c),"educationRole"===n&&(M=u);const I={menuTitle:a,items:m(M,p,C.currentUser.id),width:h||300,disabled:v||!1,getKey:e=>e,selectedItem:n,originGap:4,onSelect:e=>{b(e)},renderItem:e=>(0,i.jsx)(o(760217).A,{title:M[e.key],...e,className:`${f}-${e.key}`}),renderOrigin:e=>(0,i.jsxs)(o(864943).A,{...e,size:"lg",style:{...g(C,k),...x&&{border:`1px solid ${o(100622).Ay.red}`},...S},className:f,focused:w,children:[(0,i.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,i.jsx)(o(125565).A,{isMobile:_.isMobile,isSecondaryColor:!Boolean(t),style:_.isMobile?{fontSize:15}:{},children:t?M[t]:y||(0,i.jsx)(r().sA,{defaultMessage:"Select response",id:"PersonaCollectionModal.selectQuestion.label"})})}),(0,o(715862).e)({width:10,fill:k.lightIconColor})]})};return(0,i.jsx)(o(933117).A,{...I},"persona")}));function m(e,t,o){const r=Object.keys(e);if(!t)return r;const i=(0,n().Nx)(o);return r.filter((e=>e!==a)).sort((()=>i()-.5)).concat(r.filter((e=>e===a)))}function g(e,t){const{device:o}=e;return{height:o.isMobile?40:32,padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:o.isMobile?10:6,border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${t.outlineButtonBorder}`,background:t.surface.wash}}},314907:(e,t,o)=>{o.d(t,{E:()=>i});var n=()=>o(847249),r=()=>o(134217);function i(e){return(0,n().K8)((()=>r().Fq(e.state)),[e])}},324561:(e,t,o)=>{o.d(t,{Gi:()=>g,OD:()=>c,Q7:()=>m,UU:()=>f,_3:()=>p,a9:()=>u,f_:()=>d});var n=()=>o(484714),r=()=>o(847249),i=()=>o(857639),a=()=>o(762433),s=()=>o(596513),l=()=>o(714300);function d(e){let{spaceId:t}=e;const o=(0,n().v3)();return(0,r().K8)((()=>{if(t)return s().t.getData(o,{spaceId:t})}),[o,t])}function c(e){let{environment:t,spaceId:o}=e;return o?s().t.awaitData(t,{spaceId:o}):Promise.resolve(void 0)}function u(e){if("admin"===(null==e?void 0:e.type))return e}function p(e){let{spaceId:t}=e;return u((0,l().l)({spaceId:t}))}function m(e,t,o){if(!t)return 0;const n=(0,a().yB)({spaceId:e,logFunction:i().log.bind(i()),billingData:t});return n?Math.max(n,o):0}function g(e){var t;const o=null===(t=(0,a().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!o)return;const n=o.unitAmount,r="year"===o.billingInterval?12:1;return{amount:n.amount/r,currencyCode:n.currencyCode}}function f(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},328347:(e,t,o)=>{o.d(t,{h:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("globe2",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},344482:(e,t,o)=>{o.d(t,{A:()=>r});o(898992),o(672577);class n extends(()=>o(959180))().A{findTableHeaderCell(e,t){return this.find((o=>o.collectionContextStore===e&&o.property===t))}}const r=new n},380048:(e,t,o)=>{o.d(t,{I:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},390527:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>T,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>k,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>w,MAX_RECURRENCE_INTERVAL:()=>y,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>v,RRULE_WEEKDAYS_MAP:()=>h,adjustedStartDateIfPossible:()=>_,areRecurrenceSchedulesEqual:()=>E,convertFromUnpersistedRecurrenceConfig:()=>L,convertToUnpersistedRecurrenceConfig:()=>B,getFormattedEndCondition:()=>P,getFormattedNextRecurrenceTime:()=>j,getNewEndTimestamp:()=>R,getNextDateUtc:()=>A,getRecurrenceAfter:()=>M,isRunningBetweenMidnightAnd3AM:()=>I,isValidRecurrenceInterval:()=>b,isValidRecurrenceNumberOfRuns:()=>x,rruleFromRecurrence:()=>S,templateAncestorsViolateRecurrenceNesting:()=>C});o(898992),o(354520),o(581454);var n=()=>o(244641);o(944114);function r(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];if(0===o.length)return e.map((e=>[e]));const i=[];for(const a of e)i.push(...r(o[0],...o.slice(1)).map((e=>[a,...e])));return i}var i=()=>o(496603),a=()=>o(534177),s=()=>o(720665),l=()=>o(597777),d=()=>o(869190),c=()=>o(416504),u=()=>o(402390);class p extends(()=>o(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var m=()=>o(912720);const g=(0,o(959013).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12–3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),f={day:p.DAILY,week:p.WEEKLY,month:p.MONTHLY,year:p.YEARLY},h={MO:p.MO,TU:p.TU,WE:p.WE,TH:p.TH,FR:p.FR,SA:p.SA,SU:p.SU},y=99,v=999;function b(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=y}function x(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=v}function S(e){const{start_date:t,frequency:o,interval:n,weekdays:i,timezone:s,hour:d,minute:c}=e,u="week"===o&&i?i.map((e=>h[e])):void 0,m={};return(0,a().O9)(e.end_condition)&&("date"===e.end_condition.type?m.until=(0,l().eU)(e.end_condition.end_at):"number"===e.end_condition.type?m.count=e.end_condition.number_of_occurrences:(0,a().HB)(e.end_condition)),"month"===e.frequency&&(0,a().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?m.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?m.byweekday=r(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,o]=e;return h[t].nth(o)})):(0,a().HB)(e.monthly_restriction)),new p({freq:f[o],dtstart:(0,l().eU)(t),interval:n,byweekday:u,tzid:s,byhour:d??0,byminute:c??0,bysecond:0,...m})}const w=1,k=1;function C(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),n=e.length,r=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,i=n>w,a=o.length>=k;return{violatesConstraint:i||a,templateNestingExceedsMaxDepth:i,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:n,immediateAncestorRecurrenceType:r}}function _(e){var t;const{recurrence:o,afterDate:r}=e;if("number"===(null===(t=o.end_condition)||void 0===t?void 0:t.type)||o.start_date>=r)return o;let i=n().c9.fromMillis(o.start_date,{zone:"utc"});const a=n().c9.fromMillis(r,{zone:"utc"});switch(o.frequency){case"year":{const e=Math.floor(a.diff(i,"years").years/o.interval);i=i.plus({years:e*o.interval});break}case"month":{const e=Math.floor(a.diff(i,"months").months/o.interval);i=i.plus({months:e*o.interval});break}case"week":{const e=Math.floor(a.diff(i,"weeks").weeks/o.interval);i=i.plus({weeks:e*o.interval});break}case"day":{const e=Math.floor(a.diff(i,"days").days/o.interval);i=i.plus({days:e*o.interval});break}}return{...o,start_date:(0,l().DH)(i.toMillis())}}function M(e){const{recurrence:t,afterDate:o}=e;if((0,m().wt)(t)){const e=(0,l().l1)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=S(_({recurrence:t,afterDate:o})).after((0,l().eU)(o));if(!e)return;return(0,l().h1)(e)}}function I(e){return 0===e.hour||1===e.hour||2===e.hour}function A(e){return S(e).after((0,l().eU)((0,l().Rz)()))||void 0}function j(e){const{recurrence:t,intl:o}=e,r=A(L(t));if(!r)return;const i=I(t),a=n().c9.fromJSDate(r).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,u().H)(o)).setZone(t.timezone),s=(0,d().Yq)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(i)return o.formatMessage(g.dateBetweenMidnightAnd3AM,{date:s});{let e=a.toLocaleString(n().c9.TIME_SIMPLE);return t.timezone!==(0,c().P)()&&(e+=` ${a.toFormat("ZZZZ")}`),o.formatMessage(g.dateAtTime,{date:s,time:e})}}function P(e,t){return(0,a().O9)(e)?"number"===e.type?t.formatMessage(g.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,d().Yq)({date:n().c9.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,a().HB)(e):t.formatMessage(g.noEndCondition)}const T=100;function B(e){return{...e,start_date:(0,l().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().l1)(e.end_condition.end_at)}:(0,a().HB)(e.end_condition):void 0}}function R(e,t,o){return e.plus(o-t)}function D(e,t){const o=n().c9.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Rz)(o.toJSDate())}}function L(e){return{...e,start_date:(0,l().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?D(e,e.end_condition):(0,a().HB)(e.end_condition):void 0}}function E(e,t){const o=i().fN(e,(e=>void 0!==e)),n=i().fN(t,(e=>void 0!==e));return i().n4(o,n)}},399762:(e,t,o)=>{o.d(t,{O:()=>d,q:()=>c});o(296540);var n=()=>o(401497),r=()=>o(100622),i=()=>o(284371),a=()=>o(288722),s=()=>o(881690),l=o(474848);function d(e){const{value:t,color:o,format:d,showEllipsis:c,onClickRemove:u,showRemoveButton:p,isSingle:m,shouldShrink:g,hideTooltip:f,description:h,tooltipPlacement:y,...v}=e,b=(0,n().DP)(),x=(0,n().IS)((e=>({token:{...c&&i().RC}})),[c]),{textColor:S,backgroundColor:w}=(0,r().LD)(b,o);return t?(0,l.jsx)(s().A,{format:d,value:(0,l.jsx)(a().A,{children:t}),description:h,onClickRemove:u,showRemoveButton:p,isSingle:m,color:S,backgroundColor:w,shouldShrink:g,tooltipPlacement:y,showTooltip:f?"never":"overflow",style:x.token,...v}):null}function c(e){const{value:t,color:o,format:d,showEllipsis:c,onClickRemove:u,showRemoveButton:p,isSingle:m,shouldShrink:g,groupColor:f,tooltipPlacement:h,description:y,hideTooltip:v,...b}=e,x=(0,n().DP)(),S=(0,n().IS)((()=>({token:{...c&&i().RC}})),[c]);if(!t)return null;const{textColor:w,backgroundColor:k}=(0,r().LD)(x,o??f??"gray");let C;return C=o||(f||"gray"),(0,l.jsx)(s().A,{format:d,value:(0,l.jsx)(a().A,{children:t}),description:y,onClickRemove:u,showRemoveButton:p,isSingle:m,color:w,backgroundColor:k,shouldShrink:g,showTooltip:v?"never":"overflow",style:S.token,isRound:!0,showColoredDot:C,tooltipPlacement:h,...b})}},406533:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>r,questionMarkCircleIcon:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},i=(0,o(340498).wt)("questionMarkCircle",r)},406574:(e,t,o)=>{o.d(t,{Ub:()=>a,Wd:()=>s,a_:()=>l});var n=()=>o(796756),r=()=>o(59424),i=()=>o(235921);function a(e){const{environment:t,onboardingState:o,surveyResponse:a}=e,s={...o,planTypeAndSurveyInfo:{...o.planTypeAndSurveyInfo,planType:a}};return n().ut(t,{...(0,r().getContextualizedOnboardingAnalyticsData)({onboardingState:s,spaceJoinOrCreate:"create",environment:t}),planType:a}),i().A.setState(s),s}function s(e){const{onboardingState:t,surveyResponse:o}=e,n={...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,collaborativeIntent:o}};return i().A.setState(n),n}function l(e){var t;const{environment:o,onboardingState:a,surveyResponse:s}=e,l={...a,planTypeAndSurveyInfo:{...a.planTypeAndSurveyInfo,surveyResponses:{...null===(t=a.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userPersona:s}}};return n().N3(o,{...(0,r().getContextualizedOnboardingAnalyticsData)({onboardingState:l,environment:o}),persona:s}),i().A.setState(l),l}},417555:(e,t,o)=>{o.d(t,{A:()=>c});o(296540);var n=()=>o(799288),r=()=>o(784892),i=()=>o(738418),a=()=>o(695608),s=()=>o(534177),l=()=>o(698449),d=o(474848);const c=function(e){let{isStrikedThrough:t,backgroundColor:c,onClickRemove:u,target:p,disabled:m,showInfoIcon:g,style:f,shouldWrap:h}=e;const y=(0,o(484714).v3)(),v=(0,o(959013).tz)(),{device:b}=y,x=(0,o(847249).K8)((()=>function(e){let t,{target:o,intl:r,showInfoIcon:c}=e;switch(o.type){case"newUser":t=o.value.email.trim();break;case"existingUser":t=(0,a().c6)(r,o.value);break;case"bot":t=(0,n().Hg)(o.value);break;case"group":t=(0,l().Pf)({intl:r,groupName:o.value.name});break;default:(0,s().HB)(o)}return c?(u=t,(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i().G)({marginRight:4,width:14,height:14}),u]})):t;var u}({target:p,intl:v,showInfoIcon:g})),[p,v,g]);return(0,d.jsx)(o(881690).A,{showRemoveButton:!0,isSingle:!0,isStrikedThrough:t,backgroundColor:c,format:b.isMobile?r().NY.Large:r().NY.Medium,onClickRemove:e=>function(e,t,o){e.stopPropagation(),t(o)}(e,u,p),disabled:m,disabledFeedback:!0,value:x,style:f,shouldWrap:h})}},422540:(e,t,o)=>{o.d(t,{$0:()=>h,Fx:()=>k,Ge:()=>m,I3:()=>u,Kj:()=>S,PP:()=>C,TK:()=>_,Yy:()=>c,aE:()=>M,cQ:()=>w,kH:()=>g,m7:()=>p,nq:()=>b,nv:()=>y,tj:()=>f});o(898992),o(354520),o(737550);var n=()=>o(496603),r=()=>o(534177),i=()=>o(970013),a=()=>o(651124),s=()=>o(349835),l=()=>o(390066);(0,r().u0)((e=>(0,r().O9)(e)&&(0,r().O9)(e.target)&&(0,r().O9)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target,custom_message:e.custom_message}}:{false:e}));const d={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1},c={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function u(e){return Boolean(d[e.type]&&!(0,i().UU)(e)&&(!(0,i().$M)(e)||void 0===(0,i().om)(e)))}function p(e){const{collectionFormat:t,collectionSchema:o,filter:s,sort:d,sourcePropertyIds:c}=e,p=(c??(0,r().uv)(o)).filter(((t,n,r)=>{const a=o[t];return!(!a||!u(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,i().o2)(e.spaceId,a))&&(!s||s([t,a],n,o)))}));if(0===p.length)return[];if(!t||!1===d)return p;const m=(0,l().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(p,(e=>m.findIndex((t=>t.property===e))))}function m(e){const{collectionFormat:t,collectionSchema:o,sort:s}=e,d=(0,r().uv)(o).filter(((e,t,n)=>{const r=o[e];return!(!r||!(0,i().JY)(r))}));if(0===d.length)return[];if(!t||!1===s)return d;const c=(0,l().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(d,(e=>c.findIndex((t=>t.property===e))))}function g(e){return e.type===s().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===s().M9.TokenExpected?{type:e.type,token:e.token}:e.type===s().uW.MissingSchemaPropertyOnThisRow||e.type===s().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===s().uW.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===s().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===s().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===s().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===s().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node}:e.type===s().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===s().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===s().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===s().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===s().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const f={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,geo_point:!1};function h(e){return Boolean(f[e.type])}function y(e){const{collectionFormat:t,collectionSchema:o,filter:s,sort:d}=e,c=(0,r().uv)(o).filter(((e,t,n)=>{var r;const a=o[e];return!(!a||!f[a.type])&&((!(0,i().$M)(a)||null===(r=(0,i().om)(a))||void 0===r||!r.auto_update_on_edit)&&(!s||s([e,a],t,o)))}));if(0===c.length)return[];if(!t||!1===d)return c;const u=(0,l().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(c,(e=>u.findIndex((t=>t.property===e))))}const v={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function b(e){return v[e.type]}const x={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function S(e){return x[e.type]}function w(e){return 0===e}function k(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function C(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function _(e){const{collectionSchema:t,property:o,type:n}=e,r=null==t?void 0:t[o];return!r||("action"===n?!u(r):!f[r.type])}function M(e){let{automationTrigger:t,collectionSchema:o}=e;if("event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:n,source:i,relativeDate:a}=t.event;if(void 0===i)return!1;const s="some"===n.type&&n.some,l="all"===n.type&&n.all;if((s||l||[]).some((e=>C({collectionSchema:o,property:e.property})||_({collectionSchema:o,property:e.property,type:"trigger"}))))return!1;const d="some"===n.type&&(!(0,r().O9)(n.some)||0===n.some.length),c="all"===n.type&&(!(0,r().O9)(n.all)||0===n.all.length);if(!e&&("none"===n.type||d||c)&&!a)return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},447934:(e,t,o)=>{o.d(t,{$L:()=>M,Fv:()=>D,HD:()=>L,V_:()=>T,bV:()=>B,jP:()=>P,nh:()=>j,w8:()=>R});o(16280),o(18107),o(967357),o(898992),o(354520);var n=()=>o(206267),r=()=>o(792071),i=()=>o(688728),a=()=>o(475140),s=()=>o(235692),l=()=>o(924329),d=()=>o(778781),c=()=>o(144081),u=()=>o(334261),p=()=>o(661920),m=()=>o(435009),g=()=>o(751156),f=()=>o(799832),h=()=>o(492414),y=()=>o(594794),v=()=>o(869562),b=()=>o(351360),x=()=>o(712505),S=()=>o(630116),w=()=>o(263711),k=()=>o(640868),C=()=>o(204521),_=()=>o(33218);function M(e){let{environment:t,transaction:o,collectionStore:n,userId:i,modules:a}=e;const l=(0,y().zP)({environment:t,spaceId:n.getSpaceId(),table:c().zx}),d=S().sk.createChildStore(n,l),{model:u,operations:[p]}=r().wfN.create({pointer:l,parent:n.pointer,createdByUserId:i,modules:a??(0,s().K5)()});g().applyOperation({transaction:o,store:d,operation:p});const m=r().BnK.setLayout(n.pointer,l);return g().applyOperation({transaction:o,store:n,operation:m}),{model:u,store:d}}function I(e){let t;return e?t=e:x().default.state.open&&x().default.state.targetStore?t=x().default.state.targetStore:b().default.state.mainEditorCurrentBlockStore&&(t=b().default.state.mainEditorCurrentBlockStore),t}function A(e){v().setUpdateExpand({environment:e,isExpanded:!1,from:"keyboard_default",saveDetailsSidebarPreference:!1}),p().VN({environment:e,from:"open_page_layout_editor",preventAnimation:!0})}function j(e){var t,o;let{environment:r,blockStore:i,collectionStore:a,collectionViewStore:s,from:l,initialSelectedModuleType:d}=e;const c=function(e){var t;let o=I(e);if(null!==(t=o)&&void 0!==t&&t.isCollectionView()){const e=(0,f().U)(o);o=e?e.resultsInViewOrder(1).at(0):void 0}return o}(i),u=window.location.href;A(r);const p=n().JW();w().g.setState({isOpen:!0,mode:"layout-editor",collectionStore:a,pageStore:c,siteRootBlockStore:void 0,sessionId:p,initialSelectedModuleId:null==c||null===(t=c.getAssociatedCollectionStore())||void 0===t||null===(t=t.getLayoutStore())||void 0===t||null===(t=t.getModel())||void 0===t||null===(t=t.firstRawModuleOfType(d??"titleWithIcon"))||void 0===t?void 0:t.id,urlOnOpen:u}),(0,C().Ko)({environment:r,from:l,context:"layout",sessionId:p,collectionId:null==a?void 0:a.id,existingLayoutId:null==a||null===(o=a.getLayoutStore())||void 0===o?void 0:o.id,collectionViewId:null==s?void 0:s.id})}function P(e){let{environment:t,store:o,siteRootBlockStore:r,from:i}=e;const a=I(o);A(t);const s=n().JW();w().g.setState({isOpen:!0,mode:"site-settings-editor",pageStore:a,siteRootBlockStore:r,sessionId:s}),(0,C().Ko)({environment:t,context:"site",from:i,sessionId:s,collectionId:void 0,existingLayoutId:void 0})}function T(e){let{slideBlockStore:t}=e;const o=t.getNavigableBlockStore(),r=n().JW();w().g.setState({isOpen:!0,mode:"presentation",pageStore:o,currentSlideStore:t,sessionId:r}),window.document.documentElement.requestFullscreen()}function B(e){let{environment:t,pageStore:o,slideBlockStore:n}=e;w().g.setState({isOpen:!1});const r=(0,h().Ay)({store:o,scrollToBlockId:n.id,pageVisitSource:void 0});m().oo({environment:t,url:r}),window.document.fullscreenElement&&window.document.exitFullscreen()}function R(e){w().g.getState().isOpen&&D(e)}function D(e){let{environment:t}=e;const o=w().g.getState();if(!o.isOpen)throw new Error("Cannot close page layout editor. Page layout editor is not open.");"layout-editor"===o.mode&&o.urlOnOpen&&window.location.href!==o.urlOnOpen&&m().aX(t),w().g.setState({isOpen:!1})}function L(e){var t;let{environment:o,transaction:n,property:r,layoutStore:s}=e;const c=w().g.getSessionId(),p=null===(t=s.getModel())||void 0===t?void 0:t.getRawModules(),m=s.getCollectionModel();if(!p||!m)return;const g=S().md.createChildStore(s,m.pointer),f=(0,a().yn)(p,(e=>"titleWithIcon"===e.type));if(f&&(0,d().Mj)(f.module)){var h;const{module:e,position:t}=f,a={...e,type:"titleWithIcon",propertyIds:null===(h=e.propertyIds)||void 0===h?void 0:h.filter((e=>e!==r))};(0,_().UQ)({environment:o,sessionId:c,transaction:n,layoutStore:s,position:{area:(0,i().Fw)(t.area),moduleId:e.id},updatedModule:(0,l().X)(a)})}const y=(0,a().LP)(p,(e=>"property"===e.type&&e.propertyId===r));for(const{module:a,position:l}of y){const e=a.id,t=(0,i().Fw)(l.area);(0,k().U)({environment:o,sessionId:c,transaction:n,layoutStore:s,position:{area:t,moduleId:e}})}const v=m.getFormat().collection_page_sections;if(v){const e=v.filter((e=>e.section!==r));u().LK({store:g,pageSectionFormats:e,transaction:n,environment:o})}}},462424:(e,t,o)=>{o.d(t,{i:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("exercise",{viewBox:"0 0 17 16",svg:(0,n.jsx)("path",{d:"M9.25 3C9.25 2.2275 9.7275 1.75 10.5 1.75C11.2725 1.75 11.75 2.2275 11.75 3C11.75 3.7725 11.2725 4.25 10.5 4.25C9.7275 4.25 9.25 3.7725 9.25 3ZM10.8775 7.185C11.37 7.77 11.985 8.5 13.5 8.5V7.25C12.565 7.25 12.275 6.905 11.8325 6.38C11.315 5.765 10.67 5 9 5C6.5875 5 5.205 6.2825 4.25 8.19L5.3675 8.75C6.06 7.365 6.795 6.665 7.8025 6.3925L6.565 8.8675C6.0925 9.815 5.3875 10.25 4.33 10.25H3.25V11.75H4.33C6.005 11.75 7.1275 11.065 7.8825 9.585C8.5425 10.085 10.5175 11.7425 11.075 14L12.4975 13.525C11.945 11.285 10.3625 9.6625 9.34 8.8125L10.405 6.685C10.57 6.8275 10.715 6.9975 10.875 7.1875L10.8775 7.185Z"})})},465364:(e,t,o)=>{o.d(t,{$N:()=>j,D5:()=>P,GB:()=>M,M9:()=>C,Pt:()=>A,eW:()=>I,jo:()=>T,v7:()=>_});o(944114),o(898992),o(803949),o(581454);var n=()=>o(244641),r=()=>o(787626),i=()=>o(713998),a=()=>o(597777),s=()=>o(604995),l=()=>o(416504),d=()=>o(519831),c=()=>o(496603),u=()=>o(534177),p=()=>o(299709),m=()=>o(317001),g=()=>o(520861),f=()=>o(878060),h=()=>o(44729),y=()=>o(246826),v=()=>o(319975),b=()=>o(519839),x=()=>o(695625),S=()=>o(397248),w=()=>o(630116),k=()=>o(747671);function C(e){const{environment:t,droppedStores:o,duplicate:i,calendarBy:c,transaction:u,collectionContextStore:f,duplicateActions:y}=e,v=n().c9.fromMillis(e.startOfDay);let x=!0;for(const n of o){const t=e.collectionStore?e.collectionStore:(0,b().Dj)({store:n,collectionContextStore:f});if(n.getParentTable()===d().Vl||!t){x=!1;break}h().X$({childStore:n,parentStore:t,transaction:u})||(x=!1)}const S=(0,g().T)({environment:t,droppedStores:o,duplicate:i,transaction:u,collectionStore:e.collectionStore,duplicateActions:y});for(const n of S){const o=e.collectionStore?e.collectionStore:(0,b().Dj)({store:n,collectionContextStore:f});if(!o)continue;const i=o.getMappedProperty(c),d=n.getPropertyStore(i),g=(0,r().b)(d.getValue())||s().Ec((0,l().P)()),h=s().kW(g,(0,l().P)()),y=v.toFormat(s().tr);let S;if("date"===h.type||"datetime"===h.type)S={...h,start_date:y};else{const e=s().AA(h,(0,l().P)());if(!e.end)return;const t={...h,start_date:y},o=s().AA(t,(0,l().P)()).start.diff(e.start,"days"),n=e.end.plus(o).toFormat(s().tr);S={...h,start_date:y,end_date:n}}const w=s().kW(S,a().$K(g)||(0,l().P)());(0,m().j)({environment:t,store:n,collectionStore:o,collectionContextStore:f,shouldCoerce:!0,groupsPointer:[],transaction:u,alreadyMovedToCollection:x}),P({environment:t,type:"dateValue",propertyId:i,store:n,transaction:u,dateValue:w}),(0,p().E)({environment:t,collectionContextStore:f,block_id:n.id,property:i,property_type:"date",from:"calendar"})}}function _(e){const{calendarStore:t,direction:o,targetStore:n}=e;t.setState({...t.state,isDragging:!0,targetStore:n,direction:o,temporaryValue:void 0})}function M(e){const{calendarStore:t,x:o,y:i,calendarBy:d}=e,u=t.state;if(u.isDragging){const e=(0,r().b)(u.targetStore.getPropertyStore(d).getValue());if(!e)return;const p=s().kW(e,(0,l().P)()),m=u.temporaryValue||e,g=s().kW(m,(0,l().P)()),f=[];u.dayStoreMap.forEach(((e,t)=>{f.push({store:e,timestamp:t})}));const h=f.find((e=>{let{store:t}=e;const n=x().T.getRectFromStore(t);return Boolean(n&&S().ux(n,o,i))}));let y;if(h){const e=n().c9.fromMillis(h.timestamp),t=e.endOf("day"),o=e.toFormat(s().tr);if(p){const r=s().AA(p,(0,l().P)());if(u.direction===k().Q.Left)if(n().IX.fromDateTimes(e,t).contains(r.start))y=p;else{let e;e="datetimerange"===p.type||"daterange"===p.type?{...p,start_date:o,end_date:p.end_date}:"datetime"===p.type?{type:"datetimerange",start_date:o,start_time:p.start_time,end_date:p.start_date,end_time:p.start_time,time_zone:p.time_zone,reminder:p.reminder}:{type:"daterange",start_date:o,end_date:p.start_date,reminder:p.reminder};const t=s().AA(e,(0,l().P)());y=!r.end&&t.start>r.start||r.end&&t.start>r.end?g:e}else if(r.end?n().IX.fromDateTimes(e,t).contains(r.end):n().IX.fromDateTimes(e,t).contains(r.start))y=p;else{let e;e="date"===p.type?{...p,type:"daterange",end_date:o}:"datetime"===p.type?{...p,type:"datetimerange",end_date:o,end_time:"00:00"}:{...p,end_date:o};const t=s().AA(e,(0,l().P)());y=t.end&&t.end<t.start?g:e}}}if(y&&!c().n4(g,y)){const e=s().kW(y,a().$K(m)||(0,l().P)());t.setState({...u,temporaryValue:e})}}}function I(e){const{environment:t,calendarStore:o,calendarBy:n,transaction:r}=e,i=o.state;i.isDragging&&i.temporaryValue&&(P({type:"dateValue",environment:t,dateValue:i.temporaryValue,propertyId:n,store:i.targetStore,transaction:r}),o.setState({...o.state,isDragging:!1}))}function A(e){const{calendarStore:t}=e,o=t.state;o.isDragging&&t.setState({...o,isDragging:!1})}function j(e){const{environment:t,store:o,collectionStore:r,collectionContextStore:a,startDayOfWeek:d,transaction:c}=e,u=a.dateRangeStartStore.state,p=(0,l().P)(),g=a.normalizedQueryStore.state;if(!g||!g.calendar_by)return;const f=(null==r?void 0:r.getMappedProperty(g.calendar_by))??g.calendar_by,h=s().hp(u,d,p),v=h.startOf("month"),b=h.endOf("month"),x=n().c9.now().startOf("day");let S;return S=n().IX.fromDateTimes(v,b).contains(x)?s().p6(x.valueOf(),p):s().p6(s().iB(u,d,p).valueOf(),p),y().zv({store:o.getPropertiesStore(),data:{[f]:i().m5(S)},transaction:c}),(0,m().j)({environment:t,store:o,collectionStore:r,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:c}),o}function P(e){const{environment:t,store:o,propertyId:n,transaction:r}=e;let a;"timestamp"===e.type?a=s().p6(e.timestampMs.valueOf(),(0,l().P)()):"dateValue"===e.type?a=e.dateValue:(0,u().HB)(e);const d=o.getPropertyValue(n),c=i().m5(a);y().zv({store:o.getPropertiesStore(),data:{[n]:c},transaction:r}),f().O({environment:t,store:o,dateProperty:{id:n,oldValue:d,newValue:c}})}function T(e){const{environment:t,collectionStore:o,calendarBy:n,store:r,insertStores:i,collectionContextStore:a,transaction:s}=e,l=r.getPropertyStore(n).getValue();for(const d of i)(0,m().j)({environment:t,store:d,collectionStore:o,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:s}),v().R9({environment:t,store:d.getPropertyStore(n),value:l,transaction:s});return i.map((e=>w().Bv.createChildStore(o,e.pointer)))}},477093:(e,t,o)=>{o.d(t,{Vs:()=>I,gj:()=>M,v4:()=>A,hX:()=>P,oH:()=>j});o(16280);var n=()=>o(110192),r=()=>o(857639),i=()=>o(416504),a=()=>o(206267),s=()=>o(854150),l=()=>o(529316),d=()=>o(797573),c=()=>o(919709),u=()=>o(946141),p=()=>o(449506),m=()=>o(413677),g=()=>o(751156),f=()=>o(972435),h=()=>o(45359),y=()=>o(37433),v=()=>o(274511),b=()=>o(406792),x=()=>o(632709),S=()=>o(351360),w=()=>o(630116),k=()=>o(108414),C=()=>o(519831);var _=()=>o(848237);async function M(e){let{environment:t,name:o,description:n,icon:r,accessLevel:i,isDefault:a,flowId:l,createTeamHome:d,teamPermissionRole:c,spacePermissionRole:m,members:g,settings:f}=e;const{currentSpaceStore:h}=S().default.getState();if(!h)throw new Error("currentSpaceStore does not exist");const y=b().default.mark("client_create_team_latency"),v=h.id,x=await p().callApi({eventName:"createTeam",environment:t,data:{spaceId:v,name:o,description:n,icon:r,isDefault:a,accessLevel:i,teamPermissionRole:c,spacePermissionRole:m,members:g,settings:f}});if("failed"===x.type)return void(0,_().O)(x);const{teamId:k}=x.data,M=w().h4.createChildStore(h,{table:s().yK,id:k,spaceId:v});await M.load();const I=null==M?void 0:M.getChannelStore();return await(null==I?void 0:I.load()),async function(e){const{environment:t,channelStore:o,parentStore:n}=e,r=null==o?void 0:o.getSpaceId(),i=o&&r&&{id:o.id,table:C().Vl,spaceId:r},a=n&&i&&w().md.createChildStore(n,i),s=o&&o.isReady()&&!o.isDefined()&&o.canEdit();if(!o||!n||!a)return;const l=o.getSpaceId();if(l&&s){const e=await p().callApi({eventName:"createCollectionViewBlockForPosts",environment:t,data:{spaceId:l,parentId:n.pointer.id,parentTable:n.pointer.table,channelId:o.id}});if("failed"===e.type)throw e.error;if("success"===e.type){const{collectionViewBlockId:t}=e.data}}}({environment:t,channelStore:I,parentStore:M}),d&&T({environment:t,teamStore:M}),u()._P(t,{store:M,flowId:l}),b().default.measure(y,{environment:t}),M}function I(e){var t;let{environment:o,page:n}=e;const r=a().JW(),i=(null===(t=n.getParentPointer())||void 0===t?void 0:t.table)!==s().yK?"page_to_team_nested":"page_to_team";u().H8(o,{from:i,flowId:r}),k().A.setState({open:!0,pageStore:n,flowId:r})}async function A(e){var t;let{environment:o,page:n,flowId:r,intl:a}=e;const{accessLevel:l,spacePermissionRole:d,teamPermissionRole:u,members:p}=(0,y().getAccessLevelAndPermissionsForTeamCreatedFromPage)(n),m=(n.isDefined()?n.getModel().getRenderTitle({intl:a,userTimeZone:(0,i().P)(),getRecordModel:n.getRecordModel}):void 0)??c().q4_(n.getTitleValue()),f=await M({environment:o,name:m,icon:null===(t=n.getIcon())||void 0===t?void 0:t.icon,accessLevel:l,isDefault:!1,description:"",flowId:r,createTeamHome:!1,teamPermissionRole:u,spacePermissionRole:d,members:p});if(!f)return;const{currentSpaceViewStore:h}=S().default.state;if(!h)return;const b=await(0,v().U)();g().createAndCommit({userAction:"teamActions.movePageToCreatedTeam",environment:o,canUndo:!0,perform:e=>{b({environment:o,currentSpaceViewStore:h,transaction:e,teamStore:f,action:"move",value:{type:s().yK,id:f.id},targets:[n],location:{type:"append"}})}}),(0,_().F2)({environment:o,teamId:f.id,tab:x().p.Members,from:"create_team_from_page"}),await new Promise((e=>setTimeout((()=>(0,_().Mh)({teamStore:f,environment:o})),100)))}async function j(e){let{environment:t,name:o,description:n,icon:r,flowId:i,trackCreateTeamComplete:a}=e;const{currentSpaceStore:l}=S().default.getState();if(!l)throw new Error("currentSpaceStore does not exist");const d=l.id,c=await p().callApi({eventName:"enableTeams",environment:t,data:{spaceId:d,defaultTeamName:o,defaultTeamIcon:r,defaultTeamDescription:n}});if("failed"===c.type)return void(0,_().O)(c);const{teamId:m}=c.data,g=w().h4.createChildStore(l,{table:s().yK,id:m,spaceId:d});return await g.load(),await T({environment:t,teamStore:g}),u().b0(t,{spaceId:d,store:g,flowId:i}),a&&m&&u()._P(t,{store:g,flowId:i}),g}async function P(e){var t;let{environment:o,teamStore:r,from:i,buttonPopupStore:s}=e;if(!o.currentUser.id)return!1;const l=a().JW(),d=r.isDefault(),c=r.getTeamAccessLevel();if(d)return!1;const p=r.getName(),m=await M({environment:o,name:(0,n().Q)(p||""),description:"",icon:r.getRawIcon(),accessLevel:c,isDefault:d,createTeamHome:!0,teamPermissionRole:null===(t=r.getTeamPermission())||void 0===t?void 0:t.role,spacePermissionRole:r.getSpacePermissionRole(),members:[],settings:r.getSettings(),flowId:l});return!!m&&(u().KK(o,{store:m,from:i}),(0,_().L0)({environment:o,teamStore:m,shouldScroll:!0}),(0,_().F2)({environment:o,teamId:m.id,tab:x().p.General,from:"duplicate_team",buttonPopupStore:s}),new Promise((e=>setTimeout(e,500))).then((()=>{(0,h().jH)(p)})),!0)}async function T(e){const{environment:t,teamStore:o}=e,n=S().default.state.currentSpaceStore,i=S().default.state.currentSpaceViewStore;if(!n||!i)return r().log({level:"error",from:"teamActions",type:"createHomepageOnTeamCreation-SpaceOrSpaceViewStoreError"}),!1;const a=(s=f().A.getIntl(),(0,d().B)(l().wA.teamsHomepage,s));var s;return!!(await m().createTemplateInstance({environment:t,item:a,spaceStore:n,spaceViewStore:i,useMinimalTemplates:!1,type:"inTeam",teamStore:o,from:"homepage_team",isOnboarding:!1}))||(r().log({level:"error",from:"teamActions",type:"createHomepageOnTeamCreation-PageNotCreated"}),!1)}},505108:(e,t,o)=>{o.d(t,{a:()=>m});var n=o(296540),r=()=>o(401497),i=()=>o(534177),a=()=>o(284371),s=()=>o(84817),l=()=>o(819121),d=()=>o(955825),c=o(474848);function u(e){const{disabled:t,checked:o,selectorSize:n}=e,[i,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.outlineBlueInputBoxShadow}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===i?14:18,height:"small"===i?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,i])}({checked:o,disabled:t,isFocusVisible:a,selectorSize:n});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:i,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>o(554509);const m=n.forwardRef((function(e,t){let{additionalContent:o,description:i,isDisabled:l,isSelected:d,label:u,name:p,onChange:m,width:h="fill",selectorSize:y="normal",selectAlignXAxis:v="left",selectAlignYAxis:b="center",selectType:x="checkbox",style:S,supportText:w,value:k,colorName:C,alignAdditionalContent:_,...M}=e;const I=(0,n.useId)(),A=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:i}=e;return(0,r().IS)((e=>{const r=t&&!o?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:i??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${r}`,...!o&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,i])}({isSelected:d,isDisabled:l,selectAlignYAxis:b,alignAdditionalContent:_}),j=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===b?"top-left":"center-left",gap:12,width:h,children:[(0,c.jsx)("div",{style:A.selectorWrapper,children:(0,c.jsx)(f,{id:I,selectType:x,name:p,value:k,onChange:m,isSelected:d,selectorSize:y,isDisabled:l,...M})}),(0,c.jsx)(g,{colorName:C,description:i,label:u,selectorSize:y,supportText:w,isDisabled:l})]}),P=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===b?"top-center":"center",gap:12,children:[(0,c.jsx)(g,{colorName:C,description:i,label:u,selectorSize:y,supportText:w,isDisabled:l}),(0,c.jsx)("div",{style:{...A.selectorWrapper,...A.rightAlignSelectorWrapper},children:(0,c.jsx)(f,{id:I,selectType:x,name:p,value:k,onChange:m,selectorSize:y,isSelected:d,isDisabled:l,...M})})]}),T=o?(0,c.jsx)("div",{style:A.additionalContentWrapper,children:o}):null;return(0,c.jsx)("label",{ref:t,style:{...A.container,...S},htmlFor:I,children:"left"===v?(0,c.jsxs)(c.Fragment,{children:[j,T]}):(0,c.jsxs)(c.Fragment,{children:[T,P]})})}));function g(e){const{description:t,label:o,supportText:n,selectorSize:r,isDisabled:a,colorName:l}=e;let d;return"large"===r?d="Page-Content/Text-Block":"normal"===r||void 0===r?d="Body-13px/Medium":"small"===r?d="Body-12px/Regular":(0,i().HB)(r),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:o}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),n?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:n}):null]})}function f(e){const{selectType:t,selectorSize:n="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:m,...g}=e,f=(0,r().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:m,selectorSize:n,...g});case"checkbox":return(0,c.jsx)("div",{style:f.checkboxWrapper,children:(0,c.jsx)(o(115562).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:m,selectorSize:n,...g})});default:(0,i().HB)(t)}}},509657:(e,t,o)=>{o.d(t,{a:()=>n().a});var n=()=>o(505108)},520861:(e,t,o)=>{o.d(t,{T:()=>r});o(944114),o(898992),o(908872);var n=()=>o(415651);function r(e){const{environment:t,collectionStore:o,duplicate:r,droppedStores:i,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:d}=i.reduce(((e,t)=>(r||t.getAssociatedCollectionId()!==(null==o?void 0:o.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...n().MS({environment:t,droppedStores:d,duplicate:r,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},525884:(e,t,o)=>{o.d(t,{A:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8.65 8.25a.625.625 0 1 0 0 1.25h.725v3.25H8.65a.625.625 0 1 0 0 1.25h2.7a.625.625 0 1 0 0-1.25h-.725V8.875A.625.625 0 0 0 10 8.25zM10.7 6.3a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,o(340498).wt)("infoCircle",r)},527059:(e,t,o)=>{o.d(t,{lh:()=>a().l,bw:()=>d,UL:()=>w,lI:()=>_,IU:()=>I,Wo:()=>M().W,EF:()=>A().E,o2:()=>j().o});var n=()=>o(484714),r=()=>o(187174),i=()=>o(449506);var a=()=>o(714300),s=()=>o(847249),l=()=>o(27716);function d(e){return(0,s().K8)((()=>(0,l().eJ)({billingData:e})),[e])}var c=o(296540),u=()=>o(786508),p=()=>o(166386),m=()=>o(58293),g=()=>o(762433),f=()=>o(640653),h=()=>o(47170),y=()=>o(240865),v=()=>o(351360),b=()=>o(324561),x=()=>o(10984),S=()=>o(141273);function w(e){const t=(0,n().v3)(),[o,r]=(0,c.useState)(!1),a=function(e){const t=(0,S().g)("ai_fifty_percent_upgrade"),o=(0,h().O)(),n=(0,b().f_)({spaceId:o}),r=(0,g().eh)(n,"ai"),i=(0,y().V)();return(0,s().K8)((()=>{const o=t&&!r&&(0,x().wb)()&&1===i,n=(0,f().aB)(v().default.state.currentSpaceStore);return Boolean(o&&(!n||"sidebar"!==e||n>=7))}),[t,r,i,e])}(e),l=(0,m().r)(),d=(0,s().K8)((()=>null==l?void 0:l.canAdmin()),[l]),w=(0,s().K8)((()=>null==l?void 0:l.getSpaceId()),[l]);return(0,c.useEffect)((()=>{!async function(){if(a&&w&&d)try{const o=await i().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:w,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===o.type)return;if("offer"in o.data){var e;const t=(0,u().RS)(null===(e=o.data)||void 0===e?void 0:e.offer);r((0,p().J5)(t))}}catch(o){return}}()}),[t,a,w,d]),o}var k=()=>o(176983),C=()=>o(975971);function _(e){let{spaceId:t}=e;const o=(0,n().v3)(),r=(0,k().J)();return(0,s().K8)((()=>{if(!t||!r)return;const e=C().A.getData(o,{spaceId:t});return null==e?void 0:e.billingData}),[o,t,r])}var M=()=>o(987427);function I(e,t){const o=(0,s().O$)(e),n=(0,y().V)()??1,d=(0,h().O)(),c=(0,a().l)({spaceId:d}),u=(0,s().K8)((()=>(0,l().eJ)({billingData:c})),[c]),[{value:p}]=(0,r().Yb)((()=>i().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);return!!p&&("failed"!==p.type&&(!!p.data.isEligible&&(!!o&&(!!c&&(!Boolean((0,g().KH)(c,"plan"))&&(u&&1===n))))))}var A=()=>o(314907),j=()=>o(86089)},546461:(e,t,o)=>{o.d(t,{EC:()=>w,To:()=>S,YC:()=>k,or:()=>x,u:()=>b});o(16280);var n=o(296540),r=()=>o(484714),i=()=>o(847249),a=()=>o(496506),s=()=>o(322867),l=()=>o(959013),d=()=>o(534177),c=()=>o(813297),u=()=>o(862292),p=()=>o(698331),m=()=>o(645873),g=()=>o(190019),f=()=>o(76190),h=o(474848);const y=new WeakMap,v=(0,n.createContext)({automationStore:void 0,contextType:void 0,defined:!1,typecheckResult:void 0});v.displayName="AutomationContext";function b(e){const{automationStore:t,children:o,contextType:n}=e,b=(0,r().v3)(),x=(0,l().tz)(),{value:S}=(0,m().fJ)(u().T.formulas),{value:w}=(0,m().fJ)(c().QV.automationTypecheck),k=(0,f().n)(t),C=(0,i().K8)((()=>{if(!S)return{error:new(s().N9)("Missing formulas dependency")};if(!w)return{error:new(s().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:o,automationTypecheckModule:n,contextType:r,formulasModule:i,intl:s,isSubscribed:l}=e,c=y.get(o);if(c)return c;{const e=new(a().default)((()=>{const e=o.getTriggerType();let a=r;return(0,d().O9)(e)&&(0,p().x2)(e)&&(a=(0,p().H8)(e)),(0,g().Z)({environment:t,automationStore:o,automationTypecheckModule:n,contextType:a,formulasModule:i,intl:s,isSubscribed:l})}),{debugName:"automationContextTypecheckResultCachedStore"});return y.set(o,e),e}}({environment:b,automationStore:t,automationTypecheckModule:w,contextType:n,formulasModule:S,intl:x,isSubscribed:k});return e.state}),[b,t,w,n,S,x,k]);return(0,h.jsx)(v.Provider,{value:{automationStore:t,typecheckResult:C,contextType:n,defined:!0},children:o})}function x(e){const{automationStore:t,children:o}=e,n=(0,i().K8)((()=>{var e;return null===(e=t.getTrigger())||void 0===e?void 0:e.type}),[t]);return(0,h.jsx)(b,{automationStore:t,contextType:(0,p().H8)(n??"event"),children:o})}function S(e){var t;return null===(t=y.get(e))||void 0===t?void 0:t.state}function w(){const e=n.useContext(v);if(!1===e.defined)throw new Error("No automation context found!");return e}function k(){return n.useContext(v)}},560686:(e,t,o)=>{o.d(t,{ZK:()=>r,aC:()=>i,lO:()=>a});var n=()=>o(496603);function r(e){if(n().sb(e).length<=3)return{success:!1,reason:{type:"password_too_consistent"}};if(e.length>=15)return{success:!0};if(e.length<8)return{success:!1,reason:{type:"password_too_short"}};const t=i(e),o=a(e);return t&&o?{success:!0}:t||o?o?t?{success:!1,reason:{type:"password_too_short"}}:{success:!1,reason:{type:"password_missing_letter"}}:{success:!1,reason:{type:"password_missing_number"}}:{success:!1,reason:{type:"password_missing_letter_and_number"}}}function i(e){return e.match(/[a-z]/i)}function a(e){return e.match(/\d/)}},575154:(e,t,o)=>{o.d(t,{q:()=>u});o(898992),o(354520),o(581454);var n=()=>o(847249),r=()=>o(663077),i=()=>o(496603),a=()=>o(863987),s=()=>o(793863),l=()=>o(200277),d=()=>o(640653),c=()=>o(580101);function u(e){let{parentStore:t,returnAllTemplates:o}=e;const u=(0,n().K8)((()=>{const e=a().A.getState();return((null==e?void 0:e.templatesWithRowIds)??[]).map((e=>e.template)).filter((e=>(0,r().Xq)(e,"collection")))}),[],{useDeepEqual:!0}),p=(0,n().K8)((()=>{c().A.getState();const e=(0,d().p3)().function;return e&&(0,r().AU)(e)?e:void 0}),[]),m=(0,n().K8)((()=>(0,l().$)({persona:p,parentStore:t})),[p,t],{useDeepEqual:!0});return(0,n().K8)((()=>(0,i().hS)([...u,...m,...o?(0,s().oA)():[]],(e=>e.templateId))),[u,m,o])}},580101:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().default{getInitialState(){}}const r=new n},598985:(e,t,o)=>{o.d(t,{J:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("templatesNewColored",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{fill:"#FFB110",fillRule:"evenodd",d:"M6.014 16.338a4.429 4.429 0 004.429-4.48H8.88c-.254 0-.512 0-.732-.018a2.26 2.26 0 01-.86-.226 2.24 2.24 0 01-.979-.979 2.26 2.26 0 01-.226-.86 9.471 9.471 0 01-.018-.731V7.48a4.44 4.44 0 014.179 3.111 4.431 4.431 0 00-8.659 1.318 4.43 4.43 0 004.43 4.43z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#097FE8",d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 01.828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.019 1.019 0 01-.414-.718c-.035-.329.197-.73.66-1.532l2.028-3.512z"}),(0,n.jsx)("path",{fill:"#F64932",fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.379c.57 0 .855 0 1.073.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 00-1.521.109c-.46.204-.75.56-.94.83a13.31 13.31 0 00-.594.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1.018 1.018 0 01-.445-.445c-.11-.218-.11-.503-.11-1.074V4.63z",clipRule:"evenodd"})]})})},603815:(e,t,o)=>{o.d(t,{A$:()=>_,JQ:()=>M,Vn:()=>k,s4:()=>C});o(16280),o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949),o(581454);var n=()=>o(857639),r=()=>o(585515),i=()=>o(577449),a=()=>o(388821),s=()=>o(179034),l=()=>o(545285),d=()=>o(534177),c=()=>o(449506),u=()=>o(780054),p=()=>o(989423),m=()=>o(870618),g=()=>o(303626),f=()=>o(14307),h=()=>o(245865),y=()=>o(540758),v=()=>o(670631),b=()=>o(508496),x=()=>o(571963),S=()=>o(603815),w=()=>o(108944);async function k(e){const{environment:t,request:o,abortSignal:n,prefetchCacheKey:r,headers:i}=e;return(0,x().updateLoadCachedPageChunkCalledAt)(),f().isConnected()||f().isConnecting()?c().callApi({eventName:"loadCachedPageChunkV2",environment:t,data:o,abortSignal:n,prefetchCacheKey:r,headers:i}):c().callApi({eventName:"loadPageChunkV2",environment:t,data:o,abortSignal:n,prefetchCacheKey:r,headers:i})}async function C(e){const{mode:t,environment:o,request:d,isFirstChunk:c,abortSignal:f}=e,h={...d,limit:30,cursor:d.cursor||{stack:[]},baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName};if("inMemoryAndDiskCacheWithInexactPreload"===t&&(await S().A$(o,{id:d.page.id,table:s().ev}),null!=f&&f.aborted))throw new Error("Abort signal received");const b=a().RecordMapWithRole.create(),x=[];let w=!1;const k=new Set,C=await r().T(h,i().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await m().h7({environment:o,pointer:e,abortSignal:f,useInMemoryCacheOnly:"inMemoryOnly"===t});if(null!=f&&f.aborted)throw new Error("Abort signal received");if(n)return b.setModelAndRole(e,n.model,n.role),n.model;if("inMemoryOnly"===t)throw new Error(`Record not found: ${e.table},${e.id}`);if((0,l().u)(e)&&!k.has(e.id)&&c){if(void 0===v().A.state.offlinePages)return x.push(e),void(w=!0);if(void 0===v().A.state.offlinePages||!y().Bd(d.page.id))throw new Error(`Record not found: ${e.table},${e.id}`);x.push(e)}})),((e,t,o,n)=>{g().N.enableLogging&&console.log(`Spidering from ${e.table}:${e.id} to ${t.table}:${t.id} (${o})`),null!=n&&n.suppressErrorOnClient&&k.add(t.id)}));if(w&&(await v().A.waitUntil((()=>void 0!==v().A.state.offlinePages)),!y().Bd(d.page.id))){const[e]=x;throw new Error(`Record not found: ${e.table},${e.id}`)}if(x.length>0&&(0,p().LM)({eventName:"offline_page_was_missing_records_in_cache",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((e=>{(0,p().u4)({environment:o,event:{eventName:"offline_page_was_missing_records_in_cache",eventProperties:{}},opts:{sampling:{behavior:"decided",sampleDecision:e}}}),e&&n().log({level:"error",from:"loadingHelpers",type:"offlinePageWasMissingRecordsInCache",data:{pageId:d.page.id,missingRecords:x}})})),null!=f&&f.aborted)throw new Error("Abort signal received");return{recordMap:b.toJson(),cursor:C.cursorValue}}async function _(e,t){const o=e.currentUser.id;if(!o||!e.defaultRecordCache.persistedRecordCache)return Promise.resolve(void 0);(await e.defaultRecordCache.persistedRecordCache.getPageBlocksByParent({page:t,userId:o})).forEach((t=>{e.defaultRecordCache.inMemoryRecordCache.setRecord({pointer:t.pointer,userId:t.userId},t.value),e.defaultRecordCache.inMemoryRecordCache.emitRecord(t.pointer,[]),h().unsubscribeAfterDelay({environment:e,pointer:t.pointer,userId:t.userId})}))}function M(e){if(!b().default.checkGate({gateName:"load_page_chunk_omit_existing_record_versions"}))return;const t=a().RecordMapPolymorphic.create();let o=0;const n=()=>o>=50,r=e=>{"space"!==(null==e?void 0:e.table)&&(n()||e&&void 0===t.get(e.pointer)&&(t.set(e.pointer,e.getVersion()),o++))};if(e.isReady())for(const a of(0,w().E)(e))r(a);if(e.userId){const t=e.environment.defaultRecordCache.inMemoryRecordCache.data.getUserRecordMap(e.userId);r(t.getModel({table:"notion_user",id:e.userId}));let o=0;for(const e of t.getPointersByTable("notion_user")){if(n()||o>=10)break;o++,r(t.getModel(e))}}const i=Array.from(t).map((e=>{let{pointer:t,value:o}=e;if(void 0!==o)return{pointer:t,version:o}})).filter(d().O9);return i.length?i:void 0}},614415:(e,t,o)=>{o.d(t,{Wx:()=>a,fM:()=>n,l9:()=>r,sM:()=>i});const n=new(o(645873).O2)("framer-motion",(async()=>await Promise.all([o.e(44711),o.e(53321),o.e(31895),o.e(37043)]).then(o.bind(o,492869))));function r(e){return e.useAnimate()}function i(e){return e.useAnimation()}function a(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return e.useInView(...o)}},633961:(e,t,o)=>{o.d(t,{F:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("people",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m11,12c0-3.09,1.91-5,5-5s5,1.91,5,5-1.91,5-5,5-5-1.91-5-5Zm37,5c3.09,0,5-1.91,5-5s-1.91-5-5-5-5,1.91-5,5,1.91,5,5,5Zm4.75,14.5l1.76-3.53,4.01,8.03,4.47-2.24-3.57-7.13c-2.27-4.54-5.1-6.63-11.43-6.63s-9.16,2.09-11.43,6.63l-3.57,7.13,4.47,2.24,4.01-8.03,1.76,3.53-6.25,12.5h7v12h8v-12h7l-6.25-12.5Zm-30.17-3.39l3.95,7.89,4.47-2.24-3.57-7.13c-2.27-4.54-5.1-6.63-11.43-6.63s-9.16,2.09-11.43,6.63l-3.57,7.13,4.47,2.24,3.95-7.89c.38-.76.82-1.11,1.58-1.11v8l-7,21h6.32l5.68-17.03,5.68,17.03h6.32l-7-21v-8c.76,0,1.2.35,1.58,1.11Z"})})},640868:(e,t,o)=>{o.d(t,{U:()=>p});o(16280);var n=()=>o(31503),r=()=>o(454984),i=()=>o(688728),a=()=>o(475140),s=()=>o(789280),l=()=>o(778781),d=()=>o(751156),c=()=>o(204521),u=()=>o(658616);function p(e){let{environment:t,transaction:o,layoutStore:p,position:m,sessionId:g,beforePerformDeleteModule:f}=e;const h=p.getModules();if(!h)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const y=(0,a().EX)(h,(e=>e.id===m.moduleId)),v=(0,n().Cg)({moduleId:null==y?void 0:y.module.id,modulesByArea:p.getModules()}).length;if(!y)return;const{module:b,position:x}=y;if(!(0,s().Fe)(b))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var S;(d().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:n,moduleToDelete:a,beforePerformDeleteModule:s}=e;s&&s(t);(0,l().V6)(a)&&(0,u().deleteViewsModuleDependencies)({layoutStore:o,viewsModule:a,transaction:t});if("form_conditional_modules"===n.area){const e=r().N4.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:a});for(const n of e)d().applyOperation({transaction:t,store:o,operation:n})}else{const e="views_main_tab_modules"===n.area?{area:n.area,viewId:n.viewId}:{area:i().Zm[n.area]};d().applyOperation({transaction:t,store:o,operation:r().N4.deleteModuleInArea({...e,pointer:o.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:p,moduleLocation:x,moduleToDelete:b,beforePerformDeleteModule:f})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),g)&&c().PS({environment:t,module:b,sessionId:g,collectionId:null===(S=p.getCollectionModel())||void 0===S?void 0:S.id,layoutId:p.id,context:(0,i().We)(m.area),area:m.area,depth:v})}},658616:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>a});var n=()=>o(220719),r=()=>o(44729),i=()=>o(630116);function a(e){const{layoutStore:t,viewsModule:o,transaction:a}=e,s=(0,n().o9)(i().Bv.createChildStore(t,o.collection_view_block_pointer));r().zz({childStore:s,parentStore:t,transaction:a})}},677195:(e,t,o)=>{o.d(t,{R:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},687681:(e,t,o)=>{o.d(t,{u:()=>n});const n=(0,o(340498).xh)("pencilLine",{default:{loader:()=>o.e(92668).then(o.bind(o,105819))},small:{loader:()=>o.e(92668).then(o.bind(o,523389))},fill:{loader:()=>o.e(92668).then(o.bind(o,71287))},fillSmall:{loader:()=>o.e(92668).then(o.bind(o,396654))}},["compose","edit","write","create"])},691298:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(296540),r=()=>o(502438),i=()=>o(24157);const a=function(e){let{shouldPreserveTextSelection:t,shouldPreserveBlockSelection:a,shouldRestoreSelection:s,onClearSelection:l}=e;const d=(0,o(484714).v3)(),c=(0,n.useRef)(t),u=(0,n.useRef)(""),p=(0,n.useRef)({selectionState:null,textSelectionState:null}),m=(0,n.useCallback)((()=>p.current),[]),g=(0,n.useCallback)((()=>{u.current=window.location.href,i().default.hasSelection()&&(p.current.textSelectionState=i().default.cloneState()),o(725614).clear({preventDismissMobileKeyboard:!0,environment:d}),a&&(r().default.isSelected()&&(p.current.selectionState=r().default.cloneState()),o(778417).IU({preventDismissMobileKeyboard:!0,environment:d}))}),[d,a]),f=(0,n.useCallback)((()=>{p.current={selectionState:null,textSelectionState:null},u.current="",null==l||l()}),[l]),h=(0,n.useCallback)((()=>{const{selectionState:e,textSelectionState:t}=p.current;window.location.href===u.current&&(t&&"mode"in t&&"editing"===t.mode&&i().default.setState({...i().default.state,...t}),a&&e&&r().default.setState({...r().default.state,...e})),f()}),[f,a]);return(0,o(852507).l)((()=>{c.current=t,t&&g()})),(0,n.useEffect)((()=>(c.current&&!t?s?h():f():!c.current&&t&&g(),c.current=t,()=>{s?h():f()})),[t,f,h,g,s]),{clearSavedSelection:f,restoreSavedSelection:h,getSavedSelection:m}}},698331:(e,t,o)=>{o.d(t,{$X:()=>i,H8:()=>a,x2:()=>r});var n=()=>o(534177);function r(e){return"event"===e||"recurrence"===e}function i(e){const t=e.getTrigger();return(0,n().O9)(t)&&r(t.type)}function a(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,n().HB)(e)}},714300:(e,t,o)=>{o.d(t,{l:()=>l});var n=()=>o(484714),r=()=>o(847249),i=()=>o(176983),a=()=>o(596513),s=()=>o(324561);function l(e){let{spaceId:t}=e;const o=(0,n().v3)(),l=(0,i().J)();return(0,r().K8)((()=>{if(!t||!l)return;const e=a().t.getData(o,{spaceId:t});return(0,s().a9)(e)}),[o,t,l],{useDeepEqual:!0})}},716583:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(296540),r=()=>o(100622),i=()=>o(284371),a=()=>o(135552),s=o(474848);const l=function(e){const{children:t,isMobile:l,textSize:d,shouldUseDivider:c,style:u,styleKey:p}=e,{WindowSizeStore:m}=(0,o(484714).v3)(),[g,f,h]=(0,o(847249).K8)((()=>[m.getSafePaddingLeftCSS(10),m.getSafePaddingLeftCSS(14),m.getSafePaddingRightCSS(14)]),[m]),y=(0,n.useMemo)((()=>l?"small"!==d?i().J.UIRegular.mobile:i().J.UISmall.mobile:"small"!==d?i().J.UIRegular.desktop:i().J.UISmall.desktop),[l,d]),v=(0,n.useMemo)((()=>void 0===d?1.2:l?"small"!==d?i().K_.UIRegular.mobile:i().K_.UISmall.mobile:"small"!==d?i().K_.UIRegular.desktop:i().K_.UISmall.desktop),[l,d]),b=(0,o(401497).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!l&&{padding:"0px 12px"},...l&&{paddingLeft:f,paddingRight:h},fontSize:y,lineHeight:v,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${r().Ay.halfWhite}`}:{minHeight:44}},[`colorStyle__${a().q.Red}`]:{color:r().Ay.white,background:r().Ay.red,...l&&{justifyContent:"flex-start"}},[`colorStyle__${a().q.Blue}`]:{color:r().Ay.white,fill:r().Ay.white,background:r().Ay.blue,...l&&{paddingLeft:g,paddingRight:14}},[`colorStyle__${a().q.Beige}`]:{background:e.beigeBannerBackground,paddingLeft:l?12:18,paddingRight:l?14:16},[`colorStyle__${a().q.White}`]:{background:e.contentBackground,color:e.text.tertiary,fill:e.lightIconColor,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${a().q.Purple}`]:{background:"#CA59FF",color:r().Ay.white,fill:r().Ay.white},[`colorStyle__${a().q.LightRed}`]:{background:e.accentColors.red[100],color:e.accentColors.red[500]},[`colorStyle__${a().q.Yellow}`]:{background:e.accentColors.yellow[100],color:e.accentColors.yellow[600]},[`colorStyle__${a().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${a().q.ImportNotification}`]:{color:e.accentColors.uiBlue[600],fill:e.lightIconColor,background:e.accentColors.blue[30],height:48},[`colorStyle__${a().q.LightBlue}`]:{color:r().Ay.blue,fill:r().Ay.blue,background:e.lightBlueBannerBackground},[`colorStyle__${a().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.contrastPrimary,background:e.tooltipBackground}})),[l,g,f,h,c,y,v]),x=p?`colorStyle__${p}`:"colorStyle__default";return(0,s.jsx)("div",{style:{...b.bannerStyle,...b[x],...u},children:t})}},725649:(e,t,o)=>{function n(e){return!(!e||"askUserToPick"in e)}function r(e){if(!e||!("askUserToPick"in e))return e}function i(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}o.d(t,{DK:()=>r,K$:()=>n,j6:()=>i})},737497:(e,t,o)=>{e.exports=o.p+"5c61be7d1ab58977.gif"},742117:(e,t,o)=>{o.d(t,{V:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("chevronRight",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},747671:(e,t,o)=>{o.d(t,{Q:()=>n,a:()=>r});let n=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class r extends(()=>o(757695))().default{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},747902:(e,t,o)=>{o.d(t,{N:()=>s});var n=()=>o(153321),r=(o(296540),()=>o(401497)),i=()=>o(554509),a=o(474848);function s(e){const{text:t,styleName:o,animate:s,colorName:l,fadedColorName:d}=e,c=function(e){const{colorName:t="primary",fadedColorName:o="quaternary"}=e;return(0,r().IS)((e=>{const n=e.text[o],r=e.text[t],i={backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundColor:n,backgroundSize:"200% 100%",backgroundRepeat:"repeat",userSelect:"none",backgroundImage:`linear-gradient(to right, var(--shimmer-text-faded-color) 0%, ${r} 50%, var(--shimmer-text-faded-color) 100%)`,transition:"--shimmer-text-faded-color 0.25s ease-in-out, background-color 0.25s ease-in-out"};return{animated:{...i,"--shimmer-text-faded-color":n},static:{...i,"--shimmer-text-faded-color":r}}}),[t,o])}({colorName:l,fadedColorName:d});return s?(0,a.jsx)(i().D,{styleName:o,children:(0,a.jsx)(n().P.div,{style:s?c.animated:c.static,animate:{backgroundPosition:["200% 50%","0% 50%"]},transition:{ease:"linear",duration:1.5,repeat:1/0},children:t})}):(0,a.jsx)(i().D,{styleName:o,children:t})}},757491:(e,t,o)=>{o.d(t,{l:()=>r});var n=o(296540);function r(e){return(0,n.useEffect)((()=>()=>e()),[])}},762447:(e,t,o)=>{o.d(t,{R:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("target",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m36,32c0,2.21-1.79,4-4,4s-4-1.79-4-4,1.79-4,4-4,4,1.79,4,4Zm20,0c0,13.25-10.75,24-24,24s-24-10.75-24-24,10.75-24,24-24,24,10.75,24,24Zm-6,0c0-9.94-8.06-18-18-18s-18,8.06-18,18,8.06,18,18,18,18-8.06,18-18Zm-4,0c0,7.73-6.27,14-14,14s-14-6.27-14-14,6.27-14,14-14,14,6.27,14,14Zm-6,0c0-4.42-3.58-8-8-8s-8,3.58-8,8,3.58,8,8,8,8-3.58,8-8Z"})})},789280:(e,t,o)=>{o.d(t,{Fe:()=>i,wm:()=>a});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},r={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},793863:(e,t,o)=>{o.d(t,{H:()=>A,Mq:()=>P,oA:()=>j});o(581454);var n=o(296540),r=()=>o(484714),i=()=>o(847249),a=()=>o(401497),s=()=>o(428045),l=()=>o(47966),d=()=>o(571731),c=()=>o(598985),u=()=>o(919709),p=()=>o(959013),m=()=>o(778078),g=()=>o(496603),f=()=>o(939740),h=()=>o(554509),y=()=>o(89924),v=()=>o(902842),b=()=>o(913454),x=()=>o(317053),S=()=>o(458097),w=()=>o(84817),k=()=>o(115512),C=o(474848);const _=n.forwardRef(((e,t)=>{const{icon:n,label:i,description:s,...l}=e,{isPhone:d}=(0,r().Y0)(),c=(0,a().IS)((e=>({button:{width:"100%",borderRadius:12,margin:0,...(0,k().nl)({width:1,color:e.stroke.input})},hovered:d?{}:{background:e.modalBackground,...(0,k().nl)({width:2,color:e.stroke.uiBlueSecondary})},pressed:{background:e.modalBackground,...(0,k().nl)({width:2,color:e.stroke.uiBluePrimary})},templateIcon:{marginTop:s?2:0},enterIcon:{width:16,justifySelf:"end",color:e.icon.tertiary}})),[s,d]);return(0,C.jsx)(o(760217).A,{...l,buttonStyle:c.button,hoveredStyle:c.hovered,pressedStyle:c.pressed,itemMarginLeft:0,itemMarginRight:0,ref:t,title:(0,C.jsxs)(w().Y1,{direction:"horizontal",align:s?"top-left":"center-left",gap:12,padding:"12px 14px",children:[(0,C.jsx)("div",{style:c.templateIcon,children:n}),(0,C.jsxs)(w().Y1,{gap:4,children:[(0,C.jsx)(h().D,{styleName:"UIRegular-14px/Medium",children:i}),s&&(0,C.jsx)(h().D,{styleName:"UIRegular-14px/Regular",colorName:"secondary",children:s})]}),l.focused&&(0,o(356596).K)(c.enterIcon)]})})}));_.displayName="SearchResultButton";var M=()=>o(992032);function I(e){const{template:t,label:o,description:n}=e;return(0,C.jsx)(_,{icon:(0,C.jsx)(v().z,{template:t,size:18}),label:o??t.value.targetCollection.name,description:n??t.description,...e})}function A(e){let{query:t,onSelectTemplate:o,onAddEmptyPage:m,onAddEmptyDatabase:v,onMarketplaceClick:w,showEmptyPageButton:k}=e;const A=(0,i().K8)((()=>(0,b().getIsSetupGeneratorEnabled)()),[]),{isPhone:T}=(0,r().Y0)(),B=(0,a().IS)((e=>({optionIcon:{height:16,width:"auto",color:e.icon.secondary},section:{gap:8,padding:"0 0 8px 0"},sectionTitle:{padding:"16px 0 0 0",marginTop:0,marginBottom:4}})),[]),R=function(e){const t=(0,i().K8)((()=>j()),[]);return(0,n.useMemo)((()=>P(e,t)),[e,t])}(t),D=(0,i().K8)((()=>b().globalWorkflowTemplates.fromIdOfType({templateId:s().MH,type:"collection"})),[]),L=R.map((e=>({key:e.templateId,render:t=>{let{ref:o,...n}=t;return(0,C.jsx)(I,{template:e,...n})},action:()=>o(e,{type:"suggested_template",allOrderedTemplateIds:R.map((e=>e.templateId))})}))),E=(0,n.useMemo)((()=>A?{key:s().MH,render:e=>{let{ref:o,...n}=e;return(0,C.jsx)(I,{template:D,label:(0,C.jsx)(p().sA,{id:"workflowTemplatesOnboardingModal.searchResults.buildWithAiLabel",defaultMessage:"Build “{searchQuery}” with AI",values:{searchQuery:t}}),description:(0,C.jsx)(p().sA,{id:"workflowTemplatesOnboardingModal.searchResults.buildWithAiDescription",defaultMessage:"Use AI to generate a tailored setup"}),...n})},action:async()=>{o(D,{type:"ai_generated_template"});const e=S().A.state;if(!e.open||!e.setupGenerator)return;e.setupGenerator.store.setState({...e.setupGenerator.store.state,prompt:(0,u().x9d)(t)}),(0,x().moveToNextOnboardingStep)(T);await e.setupGenerator.submitPrompt({from:"initial-input"})&&(0,x().moveToNextOnboardingStep)(T)}}:void 0),[A,D,t,o,T]),W=(0,n.useMemo)((()=>(0,g().oE)([k?{key:"new-page",render:e=>(0,C.jsx)(_,{icon:(0,l().Y)(B.optionIcon),label:(0,C.jsx)(p().sA,{id:"workflowTemplatesOnboardingModal.searchResults.newPage",defaultMessage:"New “{searchQuery}” page",values:{searchQuery:t}}),...e}),action:()=>m({title:t})}:void 0,{key:"new-database",render:e=>(0,C.jsx)(_,{icon:(0,d().J)(B.optionIcon),label:(0,C.jsx)(p().sA,{id:"workflowTemplatesOnboardingModal.searchResults.newDatabase",defaultMessage:"New “{searchQuery}” database",values:{searchQuery:t}}),...e}),action:()=>v({title:t})},{key:"marketplace",render:e=>(0,C.jsx)(_,{icon:(0,c().J)(B.optionIcon),label:M().Ac,...e}),action:e=>w(e.event)}])),[k,B.optionIcon,t,m,v,w]),N=(0,n.useMemo)((()=>[{key:"collection-templates",items:(0,g().oE)([...L,E]),render:e=>(0,C.jsx)(y().A,{title:(0,C.jsx)(h().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:(0,C.jsx)(p().sA,{id:"workflowTemplatesOnboardingModal.searchResults.topResults",defaultMessage:"Top results"})}),style:B.section,desktopTitleStyle:B.sectionTitle,mobileTitleStyle:B.sectionTitle,...e})},{key:"more-options",items:W,render:e=>(0,C.jsx)(y().A,{title:(0,C.jsx)(h().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:(0,C.jsx)(p().sA,{id:"workflowTemplatesOnboardingModal.searchResults.moreOptions",defaultMessage:"More options"})}),style:B.section,desktopTitleStyle:B.sectionTitle,mobileTitleStyle:B.sectionTitle,...e})}]),[L,E,W,B]);return(0,C.jsx)(f().Ay,{initialFocus:0,type:f().Oh.Vertical,sections:N})}function j(){const e=g().sb([...(0,s().dj)(),...(0,s().Lh)()]);return b().globalWorkflowTemplates.allOfType({templateIds:e,type:"collection"})}function P(e,t){return(0,m().Ay)(e,t,(e=>`${e.value.targetCollection.name} ${e.description}`),{minThreshold:m().qR,normalizeFuzzyScore:!0})}},806638:(e,t,o)=>{o.d(t,{P:()=>i});var n=()=>o(427704),r=()=>o(435009);function i(e){const{environment:t}=e;r().oo({environment:t,url:n().JZ.marketplace,redirect:!1})}},843878:(e,t,o)=>{o.d(t,{AL:()=>i,Ay:()=>s,J_:()=>a});o(296540);var n=()=>o(802790),r=o(474848);function i(e){return e?18:60}function a(){return(0,r.jsx)(n().A,{size:37})}const s=function(e){let{children:t,controlRow:n,bannerText:a,controlRowPaddingTopBottom:s,removeBoxShadow:l,contentPaddingLeftRight:d,controlRowPaddingLeftRight:c,getPaddingTopBottom:u,disableScroller:p,maxWidth:m,centerContent:g}=e;const f=(0,o(484714).v3)(),{device:h}=f,y=u?u():h.isMobile?18:36,v=(0,o(401497).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:m??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:d??i(h.isMobile),paddingRight:d??i(h.isMobile),paddingTop:a?15:y,paddingBottom:a?22:y,...g?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??i(h.isMobile),paddingRight:c??i(h.isMobile),paddingTop:s,paddingBottom:s,boxShadow:l?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:i(h.isMobile),paddingRight:i(h.isMobile)},childrenWithoutScroller:{paddingTop:y,paddingBottom:y},controlRowWithoutScroller:{paddingTop:s,paddingBottom:s,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[m,d,h.isMobile,a,y,c,s,l,g]);return p?(0,r.jsxs)("div",{style:v.containerWithoutScroller,children:[(0,r.jsx)("div",{style:v.childrenWithoutScroller,children:t}),n&&(0,r.jsx)("div",{style:v.controlRowWithoutScroller,children:n})]}):(0,r.jsxs)("div",{style:v.containerWithScroller,children:[a&&(0,r.jsx)(o(716583).A,{styleKey:o(135552).q.Blue,isMobile:!1,children:a}),(0,r.jsx)(o(2143).H,{type:o(756279).A.All,style:v.scroller,children:t}),n&&(0,r.jsx)("div",{style:v.controlRowWithScroller,children:n})]})}},851979:(e,t,o)=>{o.d(t,{h:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("eye",{viewBox:"0 0 32 32",svg:(0,n.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},854418:(e,t,o)=>{o.d(t,{t:()=>a});var n=o(296540),r=()=>o(484714),i=()=>o(449506);function a(){const e=(0,r().v3)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{!async function(){const t=await i().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===t.type)return;const n=t.data;o(n)}()}),[e]),t}},856952:(e,t,o)=>{o.d(t,{Ay:()=>g,le:()=>m,sA:()=>p});var n=o(296540),r=()=>o(484714),i=()=>o(847249),a=()=>o(401497),s=()=>o(496603),l=()=>o(722872),d=()=>o(623580),c=()=>o(545805),u=o(474848);const p="20px";let m=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e[e.Geopoint=6]="Geopoint",e}({});const g=n.forwardRef((function(e,t){const{disabled:n,value:r,message:i,right:a,showClearButton:l,format:d,focus:p,dontShowBorderBottom:m,showBorder:g,style:f,onClick:h,inputAndTokenWrapRightStyle:y,tokens:v,hideInput:b,onRemoveLastToken:x,onKeyDown:w,onChange:k,focusInitial:C,focusAfterAnimation:_,preventScrollOnFocus:M,inputFullWidth:I,inputDivStyle:A,inputStyle:j,rightWrapStyle:P,tokenWrapStyle:T,type:B,placeholder:R,onEmptySubmit:D,onSubmit:L,textarea:E,autoComplete:W,onClearButtonClick:N,inputElementAttributes:F,suppressFocusRing:O,onFocus:z,onBlur:H}=e;return(0,u.jsx)(c().A,{debugName:"TokenInputMenuItem",capture:!n,onLeft:s().D_,onRight:s().D_,onSelectAll:s().D_,onRedo:s().D_,onUndo:s().D_,onToggleBold:s().D_,onToggleItalics:s().D_,onToggleCode:s().D_,onCut:s().D_,onCopy:s().D_,onPaste:s().D_,onKeypress:s().D_,children:(0,u.jsx)(c().A,{debugName:"TokenInputMenuItem",capture:!n&&r.length>0,onDelete:s().D_,onBackspace:s().D_,children:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:i?4:void 0},children:[(0,u.jsx)(S,{ref:t,right:a,showClearButton:l,format:d,focus:p,dontShowBorderBottom:m,disabled:n,showBorder:g,style:f,rightWrapStyle:P,onClick:h,inputAndTokenWrapRightStyle:y,tokens:v,hideInput:b,value:r,onRemoveLastToken:x,onKeyDown:w,onChange:k,focusInitial:C,focusAfterAnimation:_,preventScrollOnFocus:M,inputFullWidth:I,inputDivStyle:A,inputStyle:j,type:B,placeholder:R,onEmptySubmit:D,onSubmit:L,textarea:E,autoComplete:W,onClearButtonClick:N,inputElementAttributes:F,suppressFocusRing:O,onFocus:z,onBlur:H,tokenWrapStyle:T}),i&&(0,u.jsx)(o(125565).A,{isSmall:!0,children:i})]})})})}));function f(e){return e===m.Group}function h(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden",fontSize:14,minHeight:28,padding:4,borderRadius:6}}function y(e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${e.regularDividerColor}`,fontSize:16,background:e.popoverBackground}}const v={borderRadius:4};function b(e){return{[m.Select]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Person]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Relation]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Group]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.FilterValue]:{desktopWrapStyleOverride:{padding:"4px 6px",boxShadow:e.inputBoxShadow,background:e.inputBackground},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Geopoint]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:v,inputDivDesktopFocusStyle:{}},[m.Share]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}const x=n.forwardRef((function(e,t){let{tokens:o,disabled:i,value:s,onRemoveLastToken:l,onKeyDown:c,onChange:p,focus:m,focusInitial:g,focusAfterAnimation:f,preventScrollOnFocus:h,format:y,inputFullWidth:v,inputDivStyle:b,inputStyle:x,type:S,placeholder:w,onEmptySubmit:C,onSubmit:_,textarea:M,autoComplete:I,inputMenuItemStore:A,onFocus:j,onBlur:P,inputElementAttributes:T,suppressFocusRing:B}=e;const R=(0,a().DP)(),D=(0,r().v3)(),L=(0,n.useCallback)((e=>{"Backspace"===e.key&&0===s.length&&l(),c&&c(e)}),[s,l,c]),E=(0,n.useCallback)((e=>{0===s.length&&C&&C(),_&&_(e)}),[s,C,_]),W=(0,n.useCallback)((()=>{A.setState({focused:!1}),null==P||P()}),[A,P]),N=(0,n.useCallback)((()=>{A.setState({focused:!0}),null==j||j()}),[A,j]),F=0===o.length;return(0,u.jsx)(d().A,{disabled:i,format:d().C.Transparent,onKeyDown:L,onChange:p,value:s,focus:m,focusInitial:g,focusAfterAnimation:f,preventScrollOnFocus:h,style:k(y,D,R,v,b),inputStyle:x||{height:D.device.isMobile?24:20},size:1,ref:t,type:S,placeholder:F?w:"",onSubmit:E,onFocus:N,onBlur:W,textarea:M,autoComplete:I,inputElementAttributes:T,suppressFocusRing:B})})),S=n.forwardRef((function(e,t){const{right:s,showClearButton:d,format:c,focus:p,dontShowBorderBottom:m,disabled:g,showBorder:v,style:S,onClick:k,inputAndTokenWrapRightStyle:C,tokenWrapStyle:_,tokens:M,hideInput:I,value:A,onRemoveLastToken:j,onKeyDown:P,onChange:T,focusInitial:B,focusAfterAnimation:R,preventScrollOnFocus:D,inputFullWidth:L,inputDivStyle:E,inputStyle:W,rightWrapStyle:N,type:F,placeholder:O,onEmptySubmit:z,onSubmit:H,textarea:G,autoComplete:V,onClearButtonClick:K,onFocus:U,onBlur:$,inputElementAttributes:Q,suppressFocusRing:Y}=e,q=(0,a().DP)(),Z=(0,r().v3)(),J=(0,n.useContext)(l().xu),[X,ee]=n.useState(!1),te=(0,i().uB)(void 0,o(995444).A);(0,o(852507).l)((()=>{(p||B)&&te.setState({focused:!0})})),(0,n.useEffect)((()=>{D&&ee(!0),void 0!==p&&te.setState({focused:p})}),[p,te,D]);const oe=(0,i().K8)((()=>te.state.focused),[te]),ne=(0,n.useRef)(null),[re,ie]=(0,o(819121).A)(),ae=(0,o(93583).A)(t,ne,re),se=(0,n.useCallback)((()=>{var e;g||(null===(e=ne.current)||void 0===e||e.focus(),null==k||k())}),[g,k,ne]),le="combobox"===(null==Q?void 0:Q.role)&&ie&&!Y,de=function(e){let{environment:t,theme:o,format:n,focus:r,dontShowBorderBottom:a,disabled:s,showBorder:d,menuContext:c,showFocusRing:u}=e;return(0,i().K8)((()=>{const{WindowSizeStore:e}=t,i=b(o)[n];return t.device.isMobile?{...y(o),paddingTop:14,paddingBottom:14,paddingLeft:(null==c?void 0:c.menuType)!==l().gu.Popup?e.getSafePaddingLeftCSS(16):16,paddingRight:(null==c?void 0:c.menuType)!==l().gu.Popup?e.getSafePaddingRightCSS(16):16,...a&&{borderBottom:"none"}}:{...h(o,s),...i.desktopWrapStyleOverride,...d&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...d&&r&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...r&&i.inputDivDesktopFocusStyle,...u&&{boxShadow:o.outlineBlueInputBoxShadow}}}),[s,a,t,r,n,null==c?void 0:c.menuType,d,o,u])}({environment:Z,theme:q,format:c,focus:p,dontShowBorderBottom:m,disabled:g,showBorder:v,menuContext:J,showFocusRing:le}),{inputElementAttributes:ce,wrapperElementAttributes:ue}=(0,n.useMemo)((()=>{if("combobox"===(null==Q?void 0:Q.role)){const{role:e,"aria-expanded":t,"aria-haspopup":o,"aria-controls":n,"aria-orientation":r,...i}=Q;return{inputElementAttributes:i,wrapperElementAttributes:{role:e,"aria-expanded":t,"aria-haspopup":o,"aria-controls":n,"aria-orientation":r}}}return{inputElementAttributes:Q,wrapperElementAttributes:{}}}),[Q]);return!Z.device.isMobile||s||d?(0,u.jsxs)(o(2143).H,{type:o(756279).A.All,style:{...de,flexWrap:"nowrap",...S},onClick:se,...ue,children:[(0,u.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,..._,...s||d?C:null},children:[M,!I&&(0,u.jsx)(x,{ref:ae,tokens:M,disabled:g,value:A,onRemoveLastToken:j,onKeyDown:P,onChange:T,focus:p,focusInitial:B,focusAfterAnimation:R,preventScrollOnFocus:X,format:c,inputFullWidth:L,inputDivStyle:E,inputStyle:W,type:F,placeholder:O,onEmptySubmit:z,onSubmit:H,textarea:G,autoComplete:V,inputMenuItemStore:te,onFocus:U,onBlur:$,inputElementAttributes:ce,suppressFocusRing:Y})]}),s||d?(0,u.jsx)("div",{style:{flexShrink:0,...N},children:(0,u.jsx)(w,{showClearButton:d,right:s,onClearButtonClick:K,tokens:M,value:A})}):null]}):(0,u.jsxs)("div",{style:{...de,flexWrap:"nowrap",...S},onClick:se,tabIndex:-1,role:"none",...ue,children:[(0,u.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,gap:6,overflow:"hidden",marginRight:f(c)?6:0},children:[M,!I&&(0,u.jsx)(x,{ref:ae,tokens:M,disabled:g,value:A,onRemoveLastToken:j,onKeyDown:P,onChange:T,focus:p,focusInitial:B,focusAfterAnimation:R,format:c,inputFullWidth:L,inputDivStyle:E,inputStyle:W,type:F,placeholder:O,onEmptySubmit:z,onSubmit:H,textarea:G,autoComplete:V,inputMenuItemStore:te,onFocus:U,onBlur:$,inputElementAttributes:ce,suppressFocusRing:Y})]}),(0,u.jsx)(o(594739).A,{show:oe})]})}));function w(e){let{showClearButton:t,right:n,onClearButtonClick:i,tokens:s,value:l}=e;const d=(0,o(959013).tz)(),c=(0,a().DP)(),p=(0,r().v3)(),{isMobile:m}=p.device;return n?(0,u.jsx)(u.Fragment,{children:n}):t&&(s.length>0||l.length>0)?(0,u.jsx)(o(704152).A,{"aria-label":d.formatMessage({id:"tokenInputMenuItem.clearButton",defaultMessage:"Clear"}),onClick:i,style:{flexShrink:0,flexGrow:0,borderRadius:m?24:20,marginTop:2},children:(0,o(931121).J)({width:m?16:14,height:m?16:14,fill:c.lightIconColor})}):null}function k(e,t,o,n,r){return{flexGrow:1,flexShrink:1,flexBasis:n?"100%":60,minWidth:60,width:"auto",lineHeight:p,...t.device.isMobile?{margin:"0 8px 0 0"}:b(o)[e].inputDivDesktopStyle,...r}}},888325:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>n})},899086:(e,t,o)=>{o.d(t,{j:()=>x,w:()=>b});var n=o(296540),r=()=>o(401497),i=()=>o(554283),a=()=>o(278589),s=()=>o(200424);const l=o.p+"f3a1c2555bc7b26c.gif",d=o.p+"8ab52115da3e3fbd.gif";const c=o.p+"160f5613d44c23ea.gif",u=o.p+"b68268645067ada1.gif",p=o.p+"fce2247087f1d227.gif",m=o.p+"896e2255367f2b04.gif";var g=o(474848);const f={dark:[o(146535),c,p],light:[o(737497),u,m]},h=new(o(999752).O)(1);function y(e){let{isDarkMode:t,onAssetChange:o}=e;const n=f[t?"dark":"light"],r=Math.floor(Math.random()*n.length);h.enqueue((async()=>{o({type:"animated",asset:n[r]}),await new Promise((e=>setTimeout(e,7e3))),o({type:"static",asset:s()})})).catch((e=>{console.error(`Error showing animated asset: ${e}`)}))}function v(e){const[t,o]=(0,n.useState)({type:"static",asset:s()}),i="dark"===(0,r().DP)().mode;(0,n.useEffect)((()=>{const e=setInterval((()=>{y({isDarkMode:i,onAssetChange:o})}),3e4);return()=>{clearInterval(e),h.cancel()}}),[i]);const a=(0,n.useMemo)((()=>i?l:d),[i]);return(0,n.useMemo)((()=>"animated"===t.type?t.asset:e&&Math.random()<=.1?a:(e&&y({isDarkMode:i,onAssetChange:o}),t.asset)),[a,t,i,e])}function b(e){const{sizeVariant:t,onMouseEnter:o}=e,n=(0,r().IS)((e=>{const o=(0,a().N)(t);return{faceImgWrap:{width:o,height:o,borderRadius:"100%",background:e.assistantCornerButtonBackground,overflow:"hidden"},faceImg:{height:o,width:o}}}),[t]),[s,l]=(0,i().B)(),d=v(l);return(0,g.jsx)("div",{ref:s,style:n.faceImgWrap,onMouseEnter:o,children:(0,g.jsx)("img",{style:n.faceImg,src:d,alt:"Notion AI face"})})}function x(e){const{sizeVariant:t}=e,o=(0,r().IS)((e=>{const o=(0,a().N)(t);return{faceImgWrap:{width:o,height:o,borderRadius:"100%",background:e.assistantCornerButtonBackground,overflow:"hidden"},faceImg:{height:o,width:o}}}),[t]),n=v(!0);return(0,g.jsx)("div",{style:o.faceImgWrap,children:(0,g.jsx)("img",{style:o.faceImg,src:n,alt:"Notion AI face"})})}},904789:(e,t,o)=>{o.d(t,{R:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12 8.875c.345 0 .625.28.625.625v1.875H14.5a.625.625 0 1 1 0 1.25h-1.875V14.5a.625.625 0 1 1-1.25 0v-1.875H9.5a.625.625 0 1 1 0-1.25h1.875V9.5c0-.345.28-.625.625-.625"}),(0,n.jsx)("path",{d:"M4.5 2.375A2.125 2.125 0 0 0 2.375 4.5V12c0 1.174.951 2.125 2.125 2.125h1.625v1.625c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125v-7.5a2.125 2.125 0 0 0-2.125-2.125h-1.625V4.5A2.125 2.125 0 0 0 12 2.375zm8.375 3.75H8.25A2.125 2.125 0 0 0 6.125 8.25v4.625H4.5A.875.875 0 0 1 3.625 12V4.5c0-.483.392-.875.875-.875H12c.483 0 .875.392.875.875zm-5.5 2.125c0-.483.392-.875.875-.875h7.5c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875z"})]})},i=(0,o(340498).wt)("squareOnSquarePlus",r)},920495:(e,t,o)=>{o.d(t,{n:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M13.3 14.25a.55.55 0 0 1-.55.55h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 .55.55m-.55-1.95a.55.55 0 1 0 0-1.1h-5.5a.55.55 0 0 0 0 1.1z"}),(0,n.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.121c0-.563-.224-1.104-.622-1.502L11.63 2.997a2.13 2.13 0 0 0-1.502-.622zM5.375 4.5c0-.483.392-.875.875-.875h3.7V6.25A2.05 2.05 0 0 0 12 8.3h2.625v7.2a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875zm8.691 2.7H12a.95.95 0 0 1-.95-.95V4.184z"})]})},i=(0,o(340498).wt)("page",r)},933117:(e,t,o)=>{o.d(t,{A:()=>m});o(944114),o(898992),o(803949),o(581454);var n=o(296540),r=()=>o(484714),i=()=>o(496603),a=()=>o(722872),s=()=>o(406699),l=()=>o(928600),d=()=>o(939740),c=()=>o(480095),u=()=>o(89924),p=o(474848);const m=function(e){let{renderOrigin:t,onClick:n,items:i,getKey:a,renderItem:l,selectedItem:d,onSelect:c,dontCloseParentOnSelect:u,mobileActionSheet:m,menuTitle:g,width:h,minWidth:y,disabled:v,originGap:b,buttonPopupStore:x,sameWidthAsOrigin:S}=e;const w=(0,r().v3)(),k=(0,o(847249).uB)(x,o(463830).A),{device:C}=w,_=(0,o(963589).X)("db_ux_mobile");return(0,p.jsx)(s().Ay,{popupType:C.isMobile?_?s().z7.BottomSheet:s().z7.SlideUp:s().z7.Popup,bottomSheetInitialState:"half",renderOrigin:t,buttonPopupStore:k,placementToOrigin:o(700250).UV.Bottom,onClick:n,render:e=>(0,p.jsx)(f,{parent:e,items:i,getKey:a,renderItem:l,selectedItem:d,onSelect:c,dontCloseParentOnSelect:u,mobileActionSheet:m,menuTitle:g,width:h,minWidth:y}),disabled:v,originGap:b,sameWidthAsOrigin:S})};function g(e,t,o,r,i,a,s,l){return{key:0,render:e=>(0,n.createElement)(u().A,{...e,key:t,topBorder:t>0}),items:e.map((e=>({key:r(e),render:t=>i({...t,value:e,key:r(e),selectedItem:a}),action:()=>{!function(e,t,o){t!==e&&o(e)}(e,a,s),l||o.close()}})))}}function f(e){let{parent:t,items:o,getKey:n,renderItem:s,selectedItem:u,onSelect:m,dontCloseParentOnSelect:f,mobileActionSheet:h,menuTitle:y,width:v,minWidth:b}=e;const x=(0,r().v3)(),{device:S}=x,w=[];if(function(e){return e.length>0&&e[0]instanceof Array}(o))o.forEach(((e,o)=>{const r=g(e,o,t,n,s,u,m,f);w.push(r)}));else{const e=g(o,0,t,n,s,u,m,f);w.push(e)}const k=(0,p.jsx)(d().Ay,{type:d().Oh.Vertical,initialFocus:i().SL(i().Bq(o),(e=>i().n4(e,u))),sections:w});let C;return C=S.isMobile?h?{menuType:a().gu.ActionSheet}:{menuType:a().gu.Modal,title:y,right:(0,p.jsx)(c().DoneMenuText,{}),onClickRight:t.close}:{menuType:a().gu.Popup,width:v||160,minWidth:b},(0,p.jsx)(l().A,{...C,children:k})}},981084:(e,t,o)=>{o.d(t,{U:()=>c});var n=o(296540),r=()=>o(484714),i=()=>o(427704),a=()=>o(435009),s=()=>o(652617),l=()=>o(989423),d=()=>o(806638);function c(e,t){const o=(0,r().v3)(),{isPhone:c}=(0,r().Y0)(),u=(0,n.useContext)(s().e);return(0,n.useCallback)((n=>{if((0,l().u4)({environment:o,event:{eventName:e,eventProperties:{}}}),c)null==u||u(),a().oo({environment:o,url:"/nativetab/templates",redirect:!0});else{const e="click"===n.type&&(n.metaKey||n.ctrlKey);(null==t?void 0:t.forceOpenInNewTab)||e?a().oo({environment:o,url:i().JZ.marketplace,openInNew:"tab",makeTabActive:!e&&o.device.isDesktop}):(0,d().P)({environment:o})}}),[o,e,t,c,u])}},987427:(e,t,o)=>{o.d(t,{W:()=>i});var n=o(296540),r=()=>o(854418);function i(){const e=(0,r().t)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{o(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}},992032:(e,t,o)=>{o.d(t,{VJ:()=>N,oI:()=>K,Ac:()=>V});o(581454);var n=o(296540),r=()=>o(484714),i=()=>o(847249),a=()=>o(401497),s=()=>o(428045),l=()=>o(261164),d=()=>o(237843),c=()=>o(366295),u=()=>o(47966),p=()=>o(571731),m=()=>o(598985),g=()=>o(959013),f=()=>o(496603),h=()=>o(197190),y=()=>o(493823),v=()=>o(554509),b=()=>o(480599),x=()=>o(186787),S=()=>o(235921),w=()=>o(989423),k=()=>o(227440),C=()=>o(508496),_=()=>o(913454),M=()=>o(575154),I=()=>o(349379),A=()=>o(896326),j=()=>o(458097),P=()=>o(84817),T=()=>o(704152),B=()=>o(3486),R=o(474848);function D(e){let{template:t,onSelect:r,index:i}=e;const s=(0,n.useCallback)((()=>r(t)),[r,t]),l=(0,a().IS)((e=>{const o=(0,B().d)(t.value.targetCollection.icon,e);return{button:{borderRadius:N,border:`1px solid ${o.stroke.secondary}`,overflow:"hidden"},buttonInner:{borderRadius:N,background:`${o.fill.tertiary}`},buttonHovered:{background:`${o.fill.secondary}`},textContainer:{padding:"20px 20px 10px",color:o.text.primary},description:{marginTop:2,color:o.text.primary,opacity:.6,textWrap:"balance"},outerImageContainer:{overflow:"visible",position:"relative",height:108,width:"calc(100% - 22px)",marginLeft:22,marginTop:-4},imageContainer:{position:"absolute",top:0,transition:"top 0.2s ease",width:"100%",height:"100%",marginTop:4,lineHeight:0,borderRadius:"6px 0",overflow:"hidden",background:e.modalBackground,boxShadow:"dark"===e.mode?`0 0 0 1px ${e.stroke.secondary}`:`0px 0px 0px 1px ${e.stroke.secondary}, 0px 2px 4px -1px rgba(0, 0, 0, 0.06), 0px 12px 32px -6px rgba(0, 0, 0, 0.12)`}}}),[t.value.targetCollection.icon]);return(0,R.jsx)(T().A,{style:l.button,hoveredStyle:l.buttonHovered,wrapperDivStyle:l.buttonInner,ariaLabel:t.value.targetCollection.name,onClick:s,children:(0,R.jsxs)(P().Y1,{gap:"auto",height:"fill",children:[(0,R.jsxs)("div",{style:l.textContainer,children:[(0,R.jsx)(v().D,{styleName:"UIRegular-14px/Medium",children:t.value.targetCollection.name}),(0,R.jsx)(v().D,{styleName:"UISmall-12px/Regular",customStyles:l.description,children:t.description})]}),(0,R.jsx)("div",{style:l.outerImageContainer,children:(0,R.jsx)("div",{style:l.imageContainer,children:(0,R.jsx)(o(92924).i,{template:t,index:i})})})]})})}const L=n.memo(D);function E(e){let{title:t,description:r,onSelect:i,icon:s,iconFn:l}=e;const d=(0,n.useCallback)((()=>i()),[i]),c=(0,a().IS)((e=>{const t=(0,B().d)(s,e);return{button:{borderRadius:N,border:`1px solid ${t.stroke.secondary}`,overflow:"hidden"},buttonInner:{borderRadius:N,background:`${t.fill.tertiary}`},buttonHovered:{background:`${t.fill.secondary}`},textContainer:{padding:"16px 20px",color:t.text.primary,gap:4,display:"flex",flexDirection:"column"},description:{marginTop:2,color:t.text.primary,opacity:.6,textWrap:"balance"},icon:{height:16,width:16}}}),[s]);return(0,R.jsx)(T().A,{style:c.button,hoveredStyle:c.buttonHovered,wrapperDivStyle:c.buttonInner,onClick:d,children:(0,R.jsx)(P().Y1,{gap:"auto",height:"fill",children:(0,R.jsxs)("div",{style:c.textContainer,children:[(0,R.jsx)(o(8980).I,{icon:l,style:c.icon}),(0,R.jsx)(v().D,{styleName:"UIRegular-14px/Medium",children:t}),(0,R.jsx)(v().D,{styleName:"UISmall-12px/Regular",customStyles:c.description,children:r})]})})})}const W=n.memo(E),N=12,F={};function O(e){let{iconFn:t,iconColorName:o,label:n,onClick:r}=e;const i=(0,a().IS)((e=>({button:{padding:"16px 18px",borderRadius:N,borderWidth:1,borderStyle:"solid",borderColor:"dark"===e.mode?e.stroke.secondary:e.stroke.primary},hovered:{background:e.buttonHoveredBackground,borderColor:e.accentColors.translucentGray[100]},icon:{height:19,width:"auto",color:o?e.icon[o]:void 0,marginBottom:8}})),[o]);return(0,R.jsxs)(h().A,{style:i.button,hoveredStyle:i.hovered,onClick:r,children:[(0,R.jsx)("div",{children:t(i.icon)}),(0,R.jsx)(v().D,{styleName:"UIRegular-14px/Medium",children:n})]})}function z(e){let{iconFn:t,iconColorName:o,label:n,onClick:r}=e;const i=(0,a().IS)((e=>({button:{padding:"5px 12px",display:"flex",gap:8,justifyContent:"center",alignItems:"center",borderRadius:20,color:e.text.secondary},icon:{height:19,width:"auto",color:o?e.icon[o]:void 0,marginBottom:0}})),[o]);return(0,R.jsxs)(h().A,{style:i.button,onClick:r,children:[(0,R.jsx)("div",{children:t(i.icon)}),(0,R.jsx)(v().D,{styleName:"UIRegular-14px/Regular",children:n})]})}const H=16,G=4,V=(0,R.jsx)(g().sA,{id:"workflowTemplatesOnboardingModal.button.marketplace",defaultMessage:"More in Marketplace"});function K(e){let{parentStore:t,onAddEmptyPage:o,onAddEmptyDatabase:d,onSelectTemplate:h,onMarketplaceClick:P,showEmptyPageButton:T,onPromptSubmit:B}=e;const D=(0,r().v3)(),E=(0,i().K8)((()=>j().A.getShouldShowExpandedTemplateList()),[]),N=(0,M().q)({parentStore:t,returnAllTemplates:E}),K=(0,i().K8)((()=>j().A.state.open&&"new_user_onboarding"===j().A.state.origin),[]),Q=(0,i().K8)((()=>j().A.state.open&&("land_on_app_from_new_user_onboarding"===j().A.state.origin||K)),[K]),Y=(0,n.useMemo)((()=>K?N.slice(0,G):E?N:function(e){let{arr:t,min:o}=e;if(t.length<=o)return[...t];return t.slice(0,2*Math.floor(t.length/2))}({arr:N,min:1})),[N,E,K]),q=(0,i().K8)((()=>(0,_().getIsSetupGeneratorEnabled)()&&!Q&&k().A.state.online),[Q]),Z=K,J=!E,X=(0,n.useCallback)((()=>{j().A.setShouldShowExpandedTemplateList(!0),j().A.state.open&&(0,w().u4)({environment:D,event:{eventName:"template_picker_show_more_templates_clicked",eventProperties:(0,A().gM)(j().A.state)}})}),[D]),ee=(0,a().IS)((e=>({container:{width:"100%",maxWidth:560+H,alignSelf:"center",alignItems:"center"},basicButtonGrid:{display:"grid",gridTemplateColumns:`repeat(auto-fit, minmax(calc((100% - ${2*H}px) / 3), 1fr))`,maxWidth:"100%",gap:H,marginTop:H,marginBottom:2*H},newUserOnboardingButtons:{display:"flex",gap:4,margin:`${H}px auto 40px auto`,justifyContent:"center"},templateButtonGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:H,marginTop:K?36:18},skipButtonContainer:{marginTop:24,display:"flex",justifyContent:"center"},skipOnboardingButton:{maxWidth:200,display:"flex",alignItems:"center",justifyContent:"center"},showMoreButton:{marginTop:H,height:32,paddingLeft:12,paddingRight:12},marketplaceButton:{padding:"6px 8px 6px 6px",height:32,marginTop:H},marketplaceIcon:{height:19,width:"auto",color:e.icon.secondary,marginRight:10},arrowRightIcon:{height:10,width:"auto",color:e.icon.secondary,marginLeft:6}})),[K]);(0,n.useEffect)((()=>{const{state:e}=j().A;e.open&&void 0!==e.flowId&&!F[e.flowId]&&((0,I().DF)({environment:D,eventProperties:{collection_template_ids_shown:Y.map((e=>e.templateId)),...(0,A().gM)(e)}}),F[e.flowId]=!0)}),[Y,D]);const te=(0,n.useCallback)((()=>{h(_().globalWorkflowTemplates.fromIdOfType({templateId:s().MH,type:"collection"}),{type:"ai_generated_template"})}),[h]),oe=(0,n.useCallback)((e=>{h(e,{type:"suggested_template",allOrderedTemplateIds:Y.map((e=>e.templateId))})}),[h,Y]),ne=Q?z:O,re=(0,f().oE)([T?(0,R.jsx)(ne,{iconFn:u().Y,iconColorName:"secondary",label:(0,R.jsx)(g().sA,{id:"workflowTemplatesOnboardingModal.button.emptyPage",defaultMessage:"Empty page"}),onClick:o},"emptyPage"):void 0,(0,R.jsx)(ne,{iconFn:p().J,iconColorName:"secondary",label:(0,R.jsx)(g().sA,{id:"workflowTemplatesOnboardingModal.button.emptyDatabase",defaultMessage:"Empty database"}),onClick:d},"emptyDatabase"),q?(0,R.jsx)(ne,{iconFn:c().L,label:(0,R.jsx)(g().sA,{id:"workflowTemplatesOnboardingModal.button.buildWithAi",defaultMessage:"Build with AI"}),onClick:te},"buildWithAi"):void 0]),ie=(0,i().K8)((()=>{var e;return null===(e=S().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType}),[]),ae=(0,i().K8)((()=>K&&("personal"===ie||"school"===ie)),[K,ie]),se=(0,i().K8)((()=>K&&"ai_onboarding_phase_2_5"===S().A.state.flowName&&"ai_step_in_onboarding_with_skip"===C().default.getEligibleGroup({experimentId:"ai_first_onboarding_phase_two_point_five",defaultGroup:"control"})),[K]);return(0,R.jsxs)("div",{style:ee.container,children:[!K&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{style:Q?ee.newUserOnboardingButtons:ee.basicButtonGrid,children:re}),(0,R.jsx)(v().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:(0,R.jsx)(g().sA,{defaultMessage:"Suggested",id:"workflowTemplatesOnboardingModal.templateSelection.heading"})})]}),(0,R.jsx)("div",{style:ee.templateButtonGrid,children:ae?("personal"===ie?U:$).map(((e,t)=>(0,R.jsx)(W,{title:e.title,description:e.description,onSelect:()=>{null==B||B(e.prompt),j().A.state.open&&(0,I().ux)({environment:D,eventProperties:{selected_index:t,personal_school_template_name:e.title,...(0,A().gM)(j().A.state)}})},icon:e.icon,iconFn:e.iconFn},t))):Y.map(((e,t)=>(0,R.jsx)(L,{template:e,onSelect:oe,index:t},e.templateId)))}),Z?null:J?(0,R.jsx)(y().p,{style:ee.showMoreButton,onClick:X,children:(0,R.jsx)(v().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:(0,R.jsx)(g().sA,{id:"workflowTemplatesOnboardingModalSelectionLanding.seeMore",defaultMessage:"More templates"})})}):(0,R.jsxs)(y().p,{style:ee.marketplaceButton,onClick:P,children:[(0,m().J)(ee.marketplaceIcon),(0,R.jsx)(v().D,{styleName:"UIRegular-14px/Medium",colorName:"secondary",children:V}),(0,l().o)(ee.arrowRightIcon)]}),se&&(0,R.jsx)("div",{style:ee.skipButtonContainer,children:(0,R.jsx)(y().p,{style:{...ee.skipOnboardingButton},isGray:!0,onClick:async()=>{await(0,b().skipStage)({environment:D,currentStage:x().contextualizedOnboardingStageByStageName.app_builder,onboardingState:S().A.state})},children:(0,R.jsx)(g().sA,{defaultMessage:"No thanks, I’ll try later",id:"contextualizedOnboarding.skipAppBuilder.label"})})})]})}const U=[{title:"To-Do List",description:"Track and organize your daily tasks",icon:"/icons/checkbox_gray.svg",type:"personal",prompt:"\n\t\t\tMake me a to-do list template with fields for task name, description, due date, priority level, and status (Not Started/In Progress/Done). \n\nInclude: A kanban board view grouped by status, a calendar view to see tasks by due date, and add a table view sorted by priority and due date.\n\nSample content should be focused on personal user use cases. No business or work type vernacular.\n\t\t\t",iconFn:o(716934).W},{title:"Project Tracker",description:"Manage your personal or work projects",icon:"/icons/target_gray.svg",type:"school",prompt:"\n\t\tMake me a project management template with fields for project name, description, start date, end date, status (Planning/In Progress/Completed), and priority. \n\nUse a multi-select column to tag projects with relevant categories. Create a kanban board view for projects, a timeline view to visualize project timelines, and a table view for projects filtered by category.\n\nSample content should be focused on personal user use cases. No business or work type vernacular.\n\t\t\t",iconFn:o(762447).R},{title:"Entertainment and Media",description:"Keep track of your favorite media",icon:"/icons/play_gray.svg",type:"personal",prompt:"\n\t\t\tMake me a media tracking template with fields for title, media type (Movie/TV Show/Book/Podcast), genre, release date, status (Want to Watch/In Progress/Completed), rating, and personal notes. \n\nInclude: a table view sorted by rating, a gallery view with cover images, a kanban board grouped by status, and a view filtered by each media type.\n\nSample content should be focused on personal user use cases. No business or work type vernacular.",iconFn:d().z},{title:"Habit Tracker",description:"Monitor and track your daily habits",icon:"/icons/chart-line_gray.svg",type:"personal",prompt:"\n\t\t\tMake me a habit tracking template with fields for habit name, category, frequency (Daily/Weekly/Monthly), target goal, current streak, and a checkbox for each day of the month. \n\nInclude: a calendar view to check off habits each day, a table view grouped by category, and a gallery view showing progress charts for each habit. \n\nAdd a formula field to calculate completion rate.\n\nSample content should be focused on personal user use cases. No business or work type vernacular.\n\t\t\t",iconFn:o(462424).i}],$=[{title:"Class Notes",description:"Organize your study materials and notes",icon:"/icons/pencil_gray.svg",type:"school",prompt:"Make me a template for taking class notes, with fields for the class name, date, topic, and the actual notes content.\n\nPlease include both a table view and a page view that shows the full notes.\n\nSample content should be focused on student user use cases. No business or work type vernacular.",iconFn:o(173019).r},{title:"Schedule Planner",description:"Track your schedule and assignments",icon:"/icons/calendar_gray.svg",type:"school",prompt:"Make me a template for tracking my class assignments, with fields for the class name, assignment name, due date, status, and priority. \n\nPlease include both a calendar view and a table view sorted by due date.\n\nSample content should be focused on student user use cases. No business or work type vernacular.",iconFn:o(563884).k},{title:"Research Planner",description:"Organize research papers and citations",icon:"/icons/book_gray.svg",type:"school",prompt:"Make me a template for organizing research papers and sources, with fields for the title, author, publication date, citation, summary, and key findings. \n\nPlease include a gallery view to easily browse papers.\n\nSample content should be focused on student user use cases. No business or work type vernacular.",iconFn:d().z},{title:"Group Projects",description:"Track group assignments and deadlines",icon:"/icons/people_gray.svg",type:"school",prompt:"\n\t\tMake me a template for managing group projects, with fields for task name, assignee, due date, status, and priority. \n\nPlease include a kanban board view to track task progress and a calendar view for deadlines.\n\nSample content should be focused on student user use cases. No business or work type vernacular.",iconFn:o(633961).F}]},995062:(e,t,o)=>{o.r(t),o.d(t,{AssistantAnimatedFace:()=>I,AssistantAnimatedFaceInner:()=>A});o(18107),o(967357);var n=()=>o(303848),r=()=>o(244641),i=o(296540),a=()=>o(624919),s=()=>o(847249),l=()=>o(401497),d=()=>o(604341),c=()=>o(592328),u=()=>o(336811),p=()=>o(999752),m=()=>o(763824),g=()=>o(534177),f=()=>o(631611),h=()=>o(295169),y=()=>o(337567),v=()=>o(865241),b=()=>o(998109),x=()=>o(846955),S=()=>o(278589),w=()=>o(783793);const k=o.p+"bc69e69669ca365b.riv",C=["Base_Idle","Idle A","Idle B","Idle C"];var _=o(474848);n().RuntimeLoader.setWasmUrl(o(390654));const M=!1;function I(e){const{sizeVariant:t,includeBoxShadow:o,onMouseEnter:n}=e,r=function(){const e=(0,f().jw)().isWriter,t=(0,s().K8)((()=>{const t=e?(0,y().K1)():h().default.getActiveSession();if(!t)return"idle";const o=t.evaluator.getTranscript().at(-1);if(o&&"observation"===o.type&&"error"===o.observationType)return"error";const n=t.isStreaming();if(!n)return"idle";const r=t.getCombinedSteps().at(-1),i="assistantSearch"===(null==r?void 0:r.type)||"assistantShowSearchResults"===(null==r?void 0:r.type),a="assistantLoading"===(null==r?void 0:r.type)||"human"===(null==r?void 0:r.type);return"groupedEditCard"===(null==r?void 0:r.type)?"writing":i?"searching":a?"thinking":n?"writing":"idle"}),[e]);return(0,i.useEffect)((()=>{M&&j("HighLevelState","Pink",t)}),[t]),t}();return(0,_.jsx)(b().n,{step:"ai_assistant",isFullWidth:!1,highlightStyle:{borderRadius:"100%"},children:(0,_.jsx)(A,{sizeVariant:t,includeBoxShadow:o,highLevelState:r,onMouseEnter:n})})}function A(e){const{sizeVariant:t,highLevelState:o,includeBoxShadow:r,onMouseEnter:f}=e,[h,y]=(0,i.useState)(!1),b=(0,i.useCallback)((()=>{y(!0)}),[]),{onStateChange:I,waitUntilState:A,animationState:P}=function(){const e=(0,i.useRef)("Idle B"),t=(0,i.useMemo)((()=>new(c().A)),[]),o=(0,i.useCallback)((o=>{if(Array.isArray(o.data)&&1===o.data.length){const n=o.data[0];M&&j("State change","DarkGreen",n),e.current=n,t.emit(n)}}),[t]),n=(0,i.useCallback)((()=>new Promise((e=>{const o=n=>{t.removeListener(o),e(n)};t.addListener(o)}))),[t]),r=(0,i.useCallback)((async t=>{(await m().nQ(2e3,(async()=>{for(;!t(e.current);)await n()})())).timeout&&(0,a().NK)("Timed out while waiting for an assistant face state change.")}),[n]);return{animationState:e,waitUntilState:r,onStateChange:o}}(),{rive:T,RiveComponent:B}=(0,n().useRive)({src:k,stateMachines:["Main"],autoplay:!0,onAdvance:b,onStateChange:I});!function(e){const t=(0,s().K8)((()=>v().A.state.isVisible),[]),o=(0,i.useCallback)((()=>{null==e||e.startRendering()}),[e]),n=(0,i.useCallback)((()=>{null==e||e.stopRendering()}),[e]);(0,i.useEffect)((()=>{t?o():n()}),[t,n,o])}(T);const R=function(e){const t=(0,i.useMemo)((()=>{const t=null==e?void 0:e.stateMachineInputs("Main"),o=new Map;if(!t)return o;for(const e of t)o.set(e.name,e);return o}),[e]);(0,i.useEffect)((()=>{(0,d().exposeDebugValue)("AssistantAnimatedFaceTriggers",t)}),[t]);const o=(0,u().T)(),n=(0,i.useCallback)((e=>{var n;o.current&&(M&&j("Firing trigger","MediumBlue",e),null===(n=t.get(e))||void 0===n||n.fire())}),[o,t]);return n}(T),D=(0,i.useMemo)((()=>new(p().O)(1)),[]);(0,i.useEffect)((()=>{D.enqueue((async()=>{"writing"===o?R("WritingInTrigger"):"idle"===o?(await async function(){"Writing_In"===P.current&&await A((e=>"Writing_Loop"===e)),"Writing_Loop"===P.current&&(R("WritingOutTrigger"),await A((e=>(0,g().Xk)(C,e)))),"Thinking_In"!==P.current&&"Thinking_Loop"!==P.current||(R("ThinkingOutTrigger"),await A((e=>(0,g().Xk)(C,e)))),"Searching_In"===P.current&&await A((e=>"Searching_Loop"===e)),"Searching_Loop"===P.current&&(R("SearchingOutTrigger"),await A((e=>(0,g().Xk)(C,e))))}(),R("IdleTrigger")):"searching"===o?R("SearchingInTrigger"):"thinking"===o?R("ThinkingInTrigger"):"error"===o?R("ErrorTrigger"):(0,g().HB)(o)}))}),[o,R,A,D,P]);const L=(0,l().IS)((e=>{const o=(0,S().N)(t);return{wrap:{width:o,height:o,...r&&{boxShadow:e.shadowXS,borderRadius:"100%"},position:"relative"},faceImg:{position:"absolute",height:o,width:o},staticFace:{position:"absolute",left:0,top:0}}}),[t,r]);return(0,_.jsxs)("div",{style:L.wrap,onMouseEnter:e=>{e.stopPropagation(),null==f||f(e),setTimeout((()=>x().default.dismissTourTutorial()),400)},children:[(0,_.jsx)(B,{style:L.faceImg,onMouseEnter:()=>{Math.random()<.1&&R("GreetingTrigger")}}),!h&&(0,_.jsx)(w().o,{variant:t,wrapWithPadding:!0,style:L.staticFace,shadowVariant:r?"strong":"none"})]})}function j(e,t){const o=r().c9.local().toFormat("HH:mm:ss.SSS");for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];console.log(`%c[${o}] %c${e}:`,"color: Grey;",`color: ${t}; font-weight: bold;`,...i)}}}]);