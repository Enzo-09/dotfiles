"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[56264],{27716:(e,t,n)=>{n.d(t,{D_:()=>I,Ft:()=>x,HN:()=>b,MA:()=>y,Sk:()=>S,Yn:()=>P,e9:()=>v,eJ:()=>w,su:()=>A});n(944114),n(898992),n(672577),n(737550);var a=()=>n(326215),s=()=>n(762433),r=()=>n(47273),i=()=>n(979340),o=()=>n(959013),l=()=>n(972435),d=()=>n(324561);const c=(0,o().YK)({cancellationError:{id:"midtermSubscriptionHelpers.cancellationFailed",defaultMessage:"There was an error attempting to cancel your pending changes. Please try again."},unableToCancelError:{id:"midtermSubscriptionHelpers.unableToCancel",defaultMessage:"We cannot cancel your scheduled changes right now. Please contact support for more help."},cancellationSuccess:{id:"midtermSubscriptionHelpers.cancellationSucceeded",defaultMessage:"Pending changes have been canceled"},invalidSubscriptionId:{id:"midtermSubscriptionHelpers.invalidSubscriptionId",defaultMessage:"Unable to cancel your pending changes. Something was wrong with your pending subscription changes."}});function u(e){return(0,i().dL)(e)?"free":(0,i().wb)(e)?"education":(0,i().sP)(e)?"singlePlayerPlus":(0,i().$P)(e)?"plus":(0,i().tL)(e)?"business":(0,i().OX)(e)?"enterprise":"legacy"}const m=(0,o().YK)({freePlan:{defaultMessage:"Free Plan",id:"freePlan.title"},educationPlusPlan:{defaultMessage:"Education Plus Plan",id:"educationPlusPlan.title"},plusPlan:{defaultMessage:"Plus Plan",id:"plusPlan.title"},businessPlan:{id:"businessPlan.title",defaultMessage:"Business Plan"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"legacyPlan.label"}}),p={free:{planTitle:m.freePlan},singlePlayerPlus:{planTitle:m.plusPlan},education:{planTitle:m.educationPlusPlan},plus:{planTitle:m.plusPlan},business:{planTitle:m.businessPlan},enterprise:{planTitle:m.enterprisePlan},legacy:{planTitle:m.legacyPlan}},f=(0,o().YK)({notionAI:{defaultMessage:"Notion AI",id:"notionAI.title"},removeAI:{defaultMessage:"Remove AI",id:"notionAI.remove.title"}}),g=(0,o().YK)({month:{defaultMessage:"Monthly billing",id:"billingInterval.monthly"},year:{defaultMessage:"Annual billing",id:"billingInterval.annual"}});function v(){return l().A.formatMessage(c.unableToCancelError)}function y(){return l().A.formatMessage(c.cancellationSuccess)}function h(e){var t;const n=null==e||null===(t=e.subscription)||void 0===t?void 0:t.pending;if(!n)return;const a=(0,s().PP)(e),i=(0,s().lQ)(e);return{oldTier:(0,r().Gf)(a)??"free",newTier:(0,r().Gf)(i)??"free",oldAIAddOn:(0,r().V_)(a).find((e=>"ai"===e)),newAIAddOn:(0,r().V_)(i).find((e=>"ai"===e)),oldInterval:(0,r().yw)(a),newInterval:(0,r().yw)(i),phaseOneEndDate:n.startDate}}function S(e){const t=h(e);return!(!t||!t.newInterval)&&t.oldInterval!==t.newInterval}function b(e){const t=h(e);return!!t&&t.oldTier!==t.newTier}function A(e){const t=h(e),n=[];if(!t)return{scheduledChanges:n,periodEndDate:null};const{newTier:a,oldTier:s,oldAIAddOn:r,newAIAddOn:i,oldInterval:o,newInterval:d,phaseOneEndDate:c}=t;var m,v;return s!==a&&n.push(function(e,t){const n=u(e),a=l().A.formatMessage(p[n].planTitle);if(!t)return"";const s=u(t);return`${a} → ${l().A.formatMessage(p[s].planTitle)}`}(s,a)),r!==i&&n.push((m=r,v=i,`${l().A.formatMessage(m?f.notionAI:f.removeAI)} → ${l().A.formatMessage(v?f.notionAI:f.removeAI)}`)),o!==d&&n.push(function(e,t){return e&&t?`${l().A.formatMessage("month"===e?g.month:g.year)} → ${l().A.formatMessage("month"===t?g.month:g.year)}`:""}(o,d)),{scheduledChanges:n,periodEndDate:c}}function x(e,t){if(!e)return;const n=(0,s().PP)(e).items,a=(0,s().lQ)(e).items;var r;return(0,s().HO)(n,a).some((e=>{let[n,a]=e;return(0,s().IE)(n??a)===t&&n&&!a}))?null===(r=e.subscription)||void 0===r||null===(r=r.pending)||void 0===r?void 0:r.startDate:void 0}function I(e){if(!e)return;var t;return 0===(0,s().lQ)(e).items.length?null===(t=e.subscription)||void 0===t||null===(t=t.pending)||void 0===t?void 0:t.startDate:void 0}function w(e){let{billingData:t}=e;const n=(0,d().a9)(t);if(!n)return!1;if((0,s().et)(t))return!1;const a=(0,s().bO)(n),r=(0,s().N8)(null==n?void 0:n.subscription);return!a&&!r}function P(e){const t=(0,s().V9)(e),n=(0,s().ji)(e).length>0;return!t||(!a().xd.includes(t)||!(!n||!a().iV.includes(t)))}},34293:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var a=()=>n(959013),s=()=>n(824160),r=n(474848);function i(e){return(0,r.jsx)(s().A,{...e,children:"membership_admin"===e.role?(0,r.jsx)(a().sA,{id:"spacePermissionsSettings.user.membershipAdmin",defaultMessage:"Membership admin"}):(0,r.jsx)(a().sA,{id:"spacePermissionsSettings.user.workspaceOwner",defaultMessage:"Workspace owner"})})}},86089:(e,t,n)=>{n.d(t,{o:()=>d});var a=n(296540),s=()=>n(484714),r=()=>n(847249),i=()=>n(351360),o=()=>n(779795),l=()=>n(981046);function d(){const e=(0,s().v3)(),{spaceId:t,isGuest:n}=(0,r().K8)((()=>{const e=i().default.state.currentSpaceStore,t=null==e?void 0:e.getPublicSpaceData();return{spaceId:null==e?void 0:e.id,isGuest:"none"===(null==t?void 0:t.role)}}),[]);return(0,a.useEffect)((()=>{t&&!n&&(0,o().$W)({environment:e,spaceId:t})}),[e,t,n]),(0,r().K8)((()=>l().A.state.prices),[])}},108414:(e,t,n)=>{n.d(t,{A:()=>s});class a extends(()=>n(757695))().default{getInitialState(){return{open:!1}}}const s=new a},266324:(e,t,n)=>{n.d(t,{A:()=>P});var a=n(296540),s=()=>n(112452),r=()=>n(959013),i=()=>n(284371),o=()=>n(962730),l=()=>n(285790),d=()=>n(859428),c=()=>n(484714),u=()=>n(847249),m=()=>n(401497),p=()=>n(449506),f=()=>n(901389),g=()=>n(436572),v=()=>n(7674),y=()=>n(107683),h=()=>n(49210),S=()=>n(84817),b=()=>n(364280),A=()=>n(554509),x=()=>n(453697),I=n(474848);function w(e){let{spaceId:t,userStore:n,onDismiss:s,onSubmit:i}=e;const o=(0,c().v3)(),l=n.id,d=(0,r().tz)(),y=(0,u().K8)((()=>n.getDisplayName(d)),[n,d]),h=(0,m().IS)((e=>({secondaryIcon:{fill:e.icon.uiBlueSecondary},primaryIcon:{fill:e.icon.uiBluePrimary},title:{color:e.text.primary,textAlign:"center",fontSize:17,fontWeight:500,lineHeight:"22px"}})),[]),w=(0,a.useCallback)((async()=>{const e=await p().callApi({eventName:"recoverUserContentInSpace",environment:o,data:{spaceId:t,userId:l}});if("failed"===e.type)throw f().Qg(e),e;i(),s(),g().D6({label:(0,I.jsx)(r().sA,{id:"restoreAccessModal.snackbarMessage",defaultMessage:"Initiated restoration of access for{nbsp}{displayName}",values:{displayName:(0,I.jsx)("b",{children:y}),nbsp:(0,I.jsx)(I.Fragment,{children:" "})}})})}),[o,t,l,y,s,i]);return(0,I.jsx)(v().tf,{header:(0,I.jsx)(v().YA,{iconAndTitle:(0,I.jsxs)(S().Y1,{align:"top-center",gap:9,children:[(0,I.jsx)(x().A,{userStore:n,size:40}),(0,I.jsx)("div",{style:h.title,children:(0,I.jsx)(r().sA,{defaultMessage:"Restore access",id:"restoreAccessModal.title"})})]}),description:(0,I.jsx)(r().sA,{id:"restoreAccessModal.subtitle",defaultMessage:"Restore additional access for members who were removed and re-added within the last 30 days"})}),footer:(0,I.jsx)(v().aO,{layout:"vertical",primaryButtons:[{buttonType:"primary",label:(0,I.jsx)(r().sA,{defaultMessage:"Restore access",id:"restoreAccessModal.restoreButton"}),onClick:w}],secondaryButtons:[{buttonType:"secondary",label:(0,I.jsx)(r().sA,{defaultMessage:"Cancel",id:"restoreAccessModal.cancelButton"}),onClick:s}]}),children:(0,I.jsxs)(b().VP,{gap:24,children:[(0,I.jsx)(A().D,{styleName:"Body-14px/Regular",colorName:"primary",customStyles:{textAlign:"center"},children:(0,I.jsx)(r().sA,{id:"restoreAccessModal.contextDescription",defaultMessage:"<b>{displayName}</b> already has access to their private pages",values:{b:e=>(0,I.jsx)("b",{children:e}),displayName:y}})}),(0,I.jsx)(A().D,{styleName:"Body-14px/Regular",colorName:"primary",customStyles:{textAlign:"center"},children:(0,I.jsx)(r().sA,{id:"restoreAccessModal.actionDescription",defaultMessage:"Would you like to restore <b>{displayName}</b>'s access to their shared pages, groups, and teamspaces?",values:{b:e=>(0,I.jsx)("b",{children:e}),displayName:y}})})]})})}function P(e){let{spaceId:t,userStore:n,onSubmit:a}=e;const i=(0,r().tz)();return(0,I.jsx)(d().A,{placement:o().W.Right,renderTooltip:()=>(0,I.jsx)(j,{}),render:e=>(0,I.jsx)(l().A,{icon:s()._,ariaLabel:i.formatMessage({id:"restoreAccessButton.aria",defaultMessage:"Restore access"}),onClick:()=>async function(e,t,n){return await h().T.showAsyncModal((a=>(0,I.jsx)(y().s,{isOpen:a.isOpen,onDismiss:a.onDismiss,onClosed:a.onClosed,areaConstraint:{width:{type:"fixed",length:380}},render:()=>(0,I.jsx)(w,{spaceId:e,userStore:t,onDismiss:a.onDismiss,onSubmit:n})})))}(t,n,a),...e})})}function j(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{fontWeight:i().Wy.semibold},children:(0,I.jsx)(r().sA,{id:"userCell.restoreAccessTooltip.label",defaultMessage:"Restore access to teamspaces, groups, and shared pages"})}),(0,I.jsx)("div",{children:(0,I.jsx)(r().sA,{id:"userCell.restoreAccessTooltip.description",defaultMessage:"Only available if a member was removed and re-added in the last 30 days"})})]})}},314907:(e,t,n)=>{n.d(t,{E:()=>r});var a=()=>n(847249),s=()=>n(134217);function r(e){return(0,a().K8)((()=>s().Fq(e.state)),[e])}},378815:(e,t,n)=>{n.d(t,{C:()=>s});n(296540);const a={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M10.875 2.924c0-.441-.392-.799-.875-.799s-.875.358-.875.799v11.964L5.22 10.98a.875.875 0 0 0-1.24 1.24l5.4 5.4a.875.875 0 0 0 1.238 0l5.4-5.4a.875.875 0 1 0-1.238-1.238l-3.906 3.907z"})},s=(0,n(340498).wt)("arrowStraightDownFill",a)},380048:(e,t,n)=>{n.d(t,{I:()=>s});n(296540);var a=n(474848);const s=(0,n(340498).wt)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},477093:(e,t,n)=>{n.d(t,{Vs:()=>T,gj:()=>j,v4:()=>M,hX:()=>C,oH:()=>_});n(16280);var a=()=>n(110192),s=()=>n(857639),r=()=>n(416504),i=()=>n(206267),o=()=>n(854150),l=()=>n(529316),d=()=>n(797573),c=()=>n(919709),u=()=>n(946141),m=()=>n(449506),p=()=>n(413677),f=()=>n(751156),g=()=>n(972435),v=()=>n(45359),y=()=>n(37433),h=()=>n(274511),S=()=>n(406792),b=()=>n(632709),A=()=>n(351360),x=()=>n(630116),I=()=>n(108414),w=()=>n(519831);var P=()=>n(848237);async function j(e){let{environment:t,name:n,description:a,icon:s,accessLevel:r,isDefault:i,flowId:l,createTeamHome:d,teamPermissionRole:c,spacePermissionRole:p,members:f,settings:g}=e;const{currentSpaceStore:v}=A().default.getState();if(!v)throw new Error("currentSpaceStore does not exist");const y=S().default.mark("client_create_team_latency"),h=v.id,b=await m().callApi({eventName:"createTeam",environment:t,data:{spaceId:h,name:n,description:a,icon:s,isDefault:i,accessLevel:r,teamPermissionRole:c,spacePermissionRole:p,members:f,settings:g}});if("failed"===b.type)return void(0,P().O)(b);const{teamId:I}=b.data,j=x().h4.createChildStore(v,{table:o().yK,id:I,spaceId:h});await j.load();const T=null==j?void 0:j.getChannelStore();return await(null==T?void 0:T.load()),async function(e){const{environment:t,channelStore:n,parentStore:a}=e,s=null==n?void 0:n.getSpaceId(),r=n&&s&&{id:n.id,table:w().Vl,spaceId:s},i=a&&r&&x().md.createChildStore(a,r),o=n&&n.isReady()&&!n.isDefined()&&n.canEdit();if(!n||!a||!i)return;const l=n.getSpaceId();if(l&&o){const e=await m().callApi({eventName:"createCollectionViewBlockForPosts",environment:t,data:{spaceId:l,parentId:a.pointer.id,parentTable:a.pointer.table,channelId:n.id}});if("failed"===e.type)throw e.error;if("success"===e.type){const{collectionViewBlockId:t}=e.data}}}({environment:t,channelStore:T,parentStore:j}),d&&D({environment:t,teamStore:j}),u()._P(t,{store:j,flowId:l}),S().default.measure(y,{environment:t}),j}function T(e){var t;let{environment:n,page:a}=e;const s=i().JW(),r=(null===(t=a.getParentPointer())||void 0===t?void 0:t.table)!==o().yK?"page_to_team_nested":"page_to_team";u().H8(n,{from:r,flowId:s}),I().A.setState({open:!0,pageStore:a,flowId:s})}async function M(e){var t;let{environment:n,page:a,flowId:s,intl:i}=e;const{accessLevel:l,spacePermissionRole:d,teamPermissionRole:u,members:m}=(0,y().getAccessLevelAndPermissionsForTeamCreatedFromPage)(a),p=(a.isDefined()?a.getModel().getRenderTitle({intl:i,userTimeZone:(0,r().P)(),getRecordModel:a.getRecordModel}):void 0)??c().q4_(a.getTitleValue()),g=await j({environment:n,name:p,icon:null===(t=a.getIcon())||void 0===t?void 0:t.icon,accessLevel:l,isDefault:!1,description:"",flowId:s,createTeamHome:!1,teamPermissionRole:u,spacePermissionRole:d,members:m});if(!g)return;const{currentSpaceViewStore:v}=A().default.state;if(!v)return;const S=await(0,h().U)();f().createAndCommit({userAction:"teamActions.movePageToCreatedTeam",environment:n,canUndo:!0,perform:e=>{S({environment:n,currentSpaceViewStore:v,transaction:e,teamStore:g,action:"move",value:{type:o().yK,id:g.id},targets:[a],location:{type:"append"}})}}),(0,P().F2)({environment:n,teamId:g.id,tab:b().p.Members,from:"create_team_from_page"}),await new Promise((e=>setTimeout((()=>(0,P().Mh)({teamStore:g,environment:n})),100)))}async function _(e){let{environment:t,name:n,description:a,icon:s,flowId:r,trackCreateTeamComplete:i}=e;const{currentSpaceStore:l}=A().default.getState();if(!l)throw new Error("currentSpaceStore does not exist");const d=l.id,c=await m().callApi({eventName:"enableTeams",environment:t,data:{spaceId:d,defaultTeamName:n,defaultTeamIcon:s,defaultTeamDescription:a}});if("failed"===c.type)return void(0,P().O)(c);const{teamId:p}=c.data,f=x().h4.createChildStore(l,{table:o().yK,id:p,spaceId:d});return await f.load(),await D({environment:t,teamStore:f}),u().b0(t,{spaceId:d,store:f,flowId:r}),i&&p&&u()._P(t,{store:f,flowId:r}),f}async function C(e){var t;let{environment:n,teamStore:s,from:r,buttonPopupStore:o}=e;if(!n.currentUser.id)return!1;const l=i().JW(),d=s.isDefault(),c=s.getTeamAccessLevel();if(d)return!1;const m=s.getName(),p=await j({environment:n,name:(0,a().Q)(m||""),description:"",icon:s.getRawIcon(),accessLevel:c,isDefault:d,createTeamHome:!0,teamPermissionRole:null===(t=s.getTeamPermission())||void 0===t?void 0:t.role,spacePermissionRole:s.getSpacePermissionRole(),members:[],settings:s.getSettings(),flowId:l});return!!p&&(u().KK(n,{store:p,from:r}),(0,P().L0)({environment:n,teamStore:p,shouldScroll:!0}),(0,P().F2)({environment:n,teamId:p.id,tab:b().p.General,from:"duplicate_team",buttonPopupStore:o}),new Promise((e=>setTimeout(e,500))).then((()=>{(0,v().jH)(m)})),!0)}async function D(e){const{environment:t,teamStore:n}=e,a=A().default.state.currentSpaceStore,r=A().default.state.currentSpaceViewStore;if(!a||!r)return s().log({level:"error",from:"teamActions",type:"createHomepageOnTeamCreation-SpaceOrSpaceViewStoreError"}),!1;const i=(o=g().A.getIntl(),(0,d().B)(l().wA.teamsHomepage,o));var o;return!!(await p().createTemplateInstance({environment:t,item:i,spaceStore:a,spaceViewStore:r,useMinimalTemplates:!1,type:"inTeam",teamStore:n,from:"homepage_team",isOnboarding:!1}))||(s().log({level:"error",from:"teamActions",type:"createHomepageOnTeamCreation-PageNotCreated"}),!1)}},527059:(e,t,n)=>{n.d(t,{lh:()=>i().l,bw:()=>d,UL:()=>x,lI:()=>P,IU:()=>T,Wo:()=>j().W,EF:()=>M().E,o2:()=>_().o});var a=()=>n(484714),s=()=>n(187174),r=()=>n(449506);var i=()=>n(714300),o=()=>n(847249),l=()=>n(27716);function d(e){return(0,o().K8)((()=>(0,l().eJ)({billingData:e})),[e])}var c=n(296540),u=()=>n(786508),m=()=>n(166386),p=()=>n(58293),f=()=>n(762433),g=()=>n(640653),v=()=>n(47170),y=()=>n(240865),h=()=>n(351360),S=()=>n(324561),b=()=>n(10984),A=()=>n(141273);function x(e){const t=(0,a().v3)(),[n,s]=(0,c.useState)(!1),i=function(e){const t=(0,A().g)("ai_fifty_percent_upgrade"),n=(0,v().O)(),a=(0,S().f_)({spaceId:n}),s=(0,f().eh)(a,"ai"),r=(0,y().V)();return(0,o().K8)((()=>{const n=t&&!s&&(0,b().wb)()&&1===r,a=(0,g().aB)(h().default.state.currentSpaceStore);return Boolean(n&&(!a||"sidebar"!==e||a>=7))}),[t,s,r,e])}(e),l=(0,p().r)(),d=(0,o().K8)((()=>null==l?void 0:l.canAdmin()),[l]),x=(0,o().K8)((()=>null==l?void 0:l.getSpaceId()),[l]);return(0,c.useEffect)((()=>{!async function(){if(i&&x&&d)try{const n=await r().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:x,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===n.type)return;if("offer"in n.data){var e;const t=(0,u().RS)(null===(e=n.data)||void 0===e?void 0:e.offer);s((0,m().J5)(t))}}catch(n){return}}()}),[t,i,x,d]),n}var I=()=>n(176983),w=()=>n(975971);function P(e){let{spaceId:t}=e;const n=(0,a().v3)(),s=(0,I().J)();return(0,o().K8)((()=>{if(!t||!s)return;const e=w().A.getData(n,{spaceId:t});return null==e?void 0:e.billingData}),[n,t,s])}var j=()=>n(987427);function T(e,t){const n=(0,o().O$)(e),a=(0,y().V)()??1,d=(0,v().O)(),c=(0,i().l)({spaceId:d}),u=(0,o().K8)((()=>(0,l().eJ)({billingData:c})),[c]),[{value:m}]=(0,s().Yb)((()=>r().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);return!!m&&("failed"!==m.type&&(!!m.data.isEligible&&(!!n&&(!!c&&(!Boolean((0,f().KH)(c,"plan"))&&(u&&1===a))))))}var M=()=>n(314907),_=()=>n(86089)},592674:(e,t,n)=>{n.d(t,{A:()=>s});const a=new(n(848776).U)((e=>{let{spaceId:t}=e;return t}),(async function(e,t){var a;let{spaceId:s}=t;const r=await Promise.resolve().then(n.bind(n,449506)),i=await r.callApi({eventName:"getInternalDomains",environment:e,data:{spaceId:s}});return"success"===i.type?null===(a=i.data)||void 0===a?void 0:a.internalDomainsWithInfo:void 0}));n(604341).exposeDebugValue("InternalDomainsStore",a);const s=a},623742:(e,t,n)=>{n.d(t,{A:()=>y,v:()=>v});var a=n(296540),s=()=>n(847249),r=()=>n(310442),i=()=>n(824862),o=()=>n(798880),l=()=>n(959013),d=()=>n(534177),c=()=>n(256863),u=()=>n(125565),m=()=>n(453697),p=()=>n(351360),f=n(474848);function g(e){const{actorStore:t,avatar:n,isLarge:a}=e,s=a?32:28;return t?t.table===i().GP?(0,f.jsx)(c().A,{botStore:t,size:s}):t.table===o().oo?(0,f.jsx)(m().A,{userStore:t,size:s}):t.table===r().yj?(0,f.jsx)(m().A,{userStore:void 0,size:s}):void(0,d().HB)(t):n?(0,f.jsx)(m().A,{avatar:n,size:s}):(0,f.jsx)(m().A,{userStore:void 0,size:s})}function v(e){return"membership_admin"===e?"membership_admin":"editor"===e||"admin"===e?"admin":"none"===e||"guest"===e?"guest":"team_level_guest"===e?"team_level_guest":void("member"!==e&&"read_and_write"!==e&&"no_access"!==e&&"not_in_space"!==e&&e&&(0,d().HB)(e))}const y=function(e){const t=(0,l().tz)(),{actorStore:r,avatar:i,containerStyle:d,id:c,spaceRole:m,avatarBadge:v,caption:y,isLarge:h,restorationStatus:S,hideRolePill:b}=e,A=!b&&("admin"===m||"membership_admin"===m),x="guest"===m||"team_level_guest"===m,I=!b&&x,w=(0,s().K8)((()=>r?r.getDisplayName(t):null==i?void 0:i.name),[r,i,t]),P=(0,s().K8)((()=>{const{currentUserStore:e}=p().default.state;return!!e&&(!!r&&e.id===r.id)}),[r]),j=(0,n(401497).IS)((e=>({titleYouIndicator:{color:e.text.secondary}})),[]),T=(0,s().K8)((()=>Boolean(y)?y:r?r.getDetail():null==i?void 0:i.email),[y,r,i]),M=(0,s().O$)(p().AppStoreCurrentSpaceStore),_=(0,s().K8)((()=>(0,n(663590).FI)()),[]),[C,D]=(0,a.useState)(!1);return(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",maxWidth:h?"unset":300,marginLeft:h&&!_?2:0,...d},children:[(0,f.jsxs)("div",{style:{position:"relative",...!h&&{height:28,width:28}},children:[(0,f.jsx)(g,{actorStore:r,avatar:i,isLarge:h}),v]}),(0,f.jsxs)("div",{style:{minWidth:0,marginLeft:h?10:6,marginRight:h?10:6},children:[(0,f.jsxs)("div",{id:c,style:{display:"flex",gap:4},children:[(0,f.jsx)(u().A,{children:P?(0,f.jsx)(l().sA,{id:"cellMemberAvatar.displayName.title",defaultMessage:"{userFullDisplayName} <youIndicatorText>(You)</youIndicatorText>",values:{userFullDisplayName:w,youIndicatorText:e=>(0,f.jsx)("span",{style:j.titleYouIndicator,children:e})}}):w}),A&&(0,f.jsx)(n(34293).A,{role:m}),I&&(0,f.jsx)(n(919172).Q,{labelType:m,shouldUseTabStyle:_}),M&&S&&(0,f.jsx)(n(881753).A,{spaceStore:M,restorationStatus:S,didAttemptRecovery:C})]}),(0,f.jsx)(u().A,{isSmall:!0,style:{display:"flex"},children:(0,f.jsx)(u().A,{isSmall:!0,children:T})})]}),!x&&!C&&M&&(null==r?void 0:r.table)===o().oo&&w&&"canBeRestored"===(null==S?void 0:S.status)&&(0,f.jsx)(n(266324).A,{userStore:r,spaceId:M.id,onSubmit:()=>D(!0)})]})}},854418:(e,t,n)=>{n.d(t,{t:()=>i});var a=n(296540),s=()=>n(484714),r=()=>n(449506);function i(){const e=(0,s().v3)(),[t,n]=(0,a.useState)();return(0,a.useEffect)((()=>{!async function(){const t=await r().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===t.type)return;const a=t.data;n(a)}()}),[e]),t}},881753:(e,t,n)=>{n.d(t,{A:()=>g});n(296540);var a=()=>n(662303),s=()=>n(847249),r=()=>n(401497),i=()=>n(869190),o=()=>n(959013),l=()=>n(284371),d=()=>n(777092),c=()=>n(962730),u=()=>n(464708),m=()=>n(859428),p=()=>n(125565),f=n(474848);function g(e){let{spaceStore:t,restorationStatus:n,didAttemptRecovery:a}=e;const s=y();return(0,f.jsx)(m().A,{placement:c().W.Bottom,renderTooltip:()=>(0,f.jsx)(v,{spaceStore:t,restorationStatus:n,didAttemptRecovery:a}),render:e=>(0,f.jsx)("div",{...e,children:(0,f.jsx)(u().A,{content:(0,f.jsx)(p().A,{style:s.recentlyReaddedText,children:(0,f.jsx)(o().sA,{id:"userCell.recentlyReadded.label",defaultMessage:"Recently re-added"})}),style:s.recentlyReaddedBadge})})})}function v(e){let{spaceStore:t,restorationStatus:n,didAttemptRecovery:r}=e;const l=y(),{displayName:c,displayTime:u}=function(e){let{spaceStore:t,restorationStatus:n}=e;const r="restored"===n.status?{table:n.restoredByTable,id:n.restoredById,spaceId:t.id}:void 0,l=r?(0,d().JQ)({parentStore:t,pointer:r}):void 0,c=(0,o().tz)(),{displayName:u}=(0,s().K8)((()=>({displayName:null==l?void 0:l.getDisplayName(c)})),[l,c]),m="restored"===n.status?(0,i().W_)(n.restoredTime,"medium_with_time",a().locale):void 0;return{displayName:u,displayTime:m}}({spaceStore:t,restorationStatus:n});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{style:l.tooltipFirstLine,children:(0,f.jsx)(o().sA,{id:"userCell.recentlyReaddedTooltip.label",defaultMessage:"Member was removed and re-added within the last 30 days"})}),r&&(0,f.jsx)("div",{style:l.tooltipSecondLine,children:(0,f.jsx)(o().sA,{id:"userCell.recentlyReaddedTooltip.inProgress.description",defaultMessage:"Restoration of access is in progress",values:{displayName:c,displayTime:u}})}),!r&&c&&u&&(0,f.jsx)("div",{style:l.tooltipSecondLine,children:(0,f.jsx)(o().sA,{id:"userCell.recentlyReaddedTooltip.description",defaultMessage:"{displayName} restored their access on {displayTime}",values:{displayName:c,displayTime:u}})})]})}function y(){return(0,r().IS)((e=>({recentlyReaddedBadge:{background:e.fill.blueSecondary,marginLeft:0,maxWidth:"max-content"},recentlyReaddedText:{color:e.text.bluePrimary,fontSize:l().J.UISmall.desktop,fontStyle:"normal",fontWeight:400,lineHeight:"15px"},tooltipFirstLine:{color:e.text.contrastPrimary,fontWeight:l().Wy.semibold},tooltipSecondLine:{color:e.text.contrastSecondary}})),[])}},987427:(e,t,n)=>{n.d(t,{W:()=>r});var a=n(296540),s=()=>n(854418);function r(){const e=(0,s().t)(),[t,n]=(0,a.useState)();return(0,a.useEffect)((()=>{n(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}}}]);