"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[49222],{43492:(e,t,i)=>{i.r(t),i.d(t,{MobileActionBar:()=>K});var o=i(296540),n=()=>i(662303),a=()=>i(395361),l=()=>i(484714),s=()=>i(792485),r=()=>i(847249),c=()=>i(401497),d=()=>i(700500),u=()=>i(668725),m=()=>i(340498),g=i(474848);const b=(0,m().wt)("indentDown",{viewBox:"0 0 30 30",svg:(0,g.jsx)("path",{d:"M24,15l-1.406-1.406L16,20.188V2h-2v18.188l-6.594-6.594L6,15l9,9L24,15z M2,26v2h26v-2H2z"})});const p=(0,m().wt)("moveUp",{viewBox:"0 0 30 30",svg:(0,g.jsx)("path",{d:"M14,5.813V24h2V5.813l6.594,6.594L24,11l-9-9l-9,9l1.406,1.406L14,5.813z M2,26v2h26v-2H2z"})}),v=(0,m().wt)("redo",{viewBox:"0 0 16 16",svg:(0,g.jsx)("path",{d:"M1.45117 10.6826C1.45117 13.4102 3.24219 15.208 6.29785 15.208H7.93848C8.38281 15.208 8.69727 14.873 8.69727 14.4629C8.69727 14.0459 8.38281 13.7109 7.93848 13.7109H6.3457C4.14453 13.7109 2.92773 12.4053 2.92773 10.6211C2.92773 8.84375 4.14453 7.59277 6.3457 7.59277H10.7002L12.2793 7.52441L11.0762 8.53613L9.31934 10.252C9.18262 10.3887 9.10059 10.5527 9.10059 10.7715C9.10059 11.1953 9.39453 11.5029 9.83203 11.5029C10.0234 11.5029 10.2285 11.4141 10.3721 11.2705L14.3027 7.40137C14.46 7.25098 14.542 7.05273 14.542 6.84766C14.542 6.64258 14.46 6.4375 14.3027 6.29395L10.3721 2.4248C10.2285 2.28125 10.0234 2.19238 9.83203 2.19238C9.39453 2.19238 9.10059 2.5 9.10059 2.91699C9.10059 3.14258 9.18262 3.30664 9.31934 3.43652L11.0762 5.15234L12.2793 6.1709L10.7002 6.10254H6.38672C3.2832 6.10254 1.45117 7.96875 1.45117 10.6826Z"})});var y=()=>i(948352),f=()=>i(959013),h=()=>i(284371),A=()=>i(328523),k=()=>i(132867),x=()=>i(495262),S=()=>i(862292),T=()=>i(986260),M=()=>i(600871),C=()=>i(231722),w=()=>i(906537),B=()=>i(140862),I=()=>i(962730),P=()=>i(195613),_=()=>i(574012),j=()=>i(75368),R=()=>i(205682),U=()=>i(502438),D=()=>i(24157),L=()=>i(704152),N=()=>i(897119),E=()=>i(213799),q=()=>i(720263),F=()=>i(236228),V=()=>i(777849),O=()=>i(780243);const H=42;function K(e){const{stores:t,position:i,currentBlockStore:u}=e,m=(0,l().v3)(),b=(0,s().S)(),p=(0,l().Y0)(),v=p.isMobileNative,y=p.isSmallPhone,j=(0,B().A)(!0),K=(0,r().K8)((()=>T().rV(m,u,null==b?void 0:b.publicEditModeStore.state)),[m,u,null==b?void 0:b.publicEditModeStore]),le=(0,r().K8)((()=>m.WindowSizeStore.state),[m]),se=(0,c().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"0 8px",whiteSpace:"nowrap"},actionButton:{height:"100%",width:"100%",fontSize:15,display:"flex",boxShadow:i===M().nh.Bottom?e.bottomActionBarShadow:e.shadowMD,backgroundColor:e.keyboardActionBarBackground,paddingLeft:v?le.paddingLeftCSS:0,paddingRight:v?le.paddingRightCSS:0},item:{display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:y?8:10,paddingRight:y?8:10,borderRight:`1px solid ${e.regularDividerColor}`,whiteSpace:"nowrap",height:H,flexShrink:0,flexGrow:0,flexBasis:"auto",color:e.text.primary,minWidth:y?42:44},minorItem:{width:34,justifyContent:"center"},itemBorderLeft:{borderLeft:`1px solid ${e.regularDividerColor}`},selectionLinkSpan:{borderBottom:`1px solid ${e.linkDecorationColor}`},actionMenu:{flexGrow:1,flexShrink:1,marginRight:-1,display:"flex",overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch"}})),[i,v,le,y]),re=(0,r().K8)((()=>m.device.isMobileBrowser?t.store.state.isOpen:K.shouldShow),[m,t,K]),ce=(0,r().K8)((()=>_().A.mobileNativeBottomPadding(m)),[m]),de=(0,r().K8)((()=>T().ou({environment:m,store:u})),[m,u]),ue=(0,r().K8)((()=>T().BT(t.ignoreSelectionAreaStore,m.TextSelectionCompositionStore,u,!1)),[t,m,u]),{canTriggerTextActions:me,canTriggerCommentAction:ge,canTriggerBlockActions:be,hasMultiBlockSelection:pe,currentSelection:ve}=(0,r().K8)((()=>{const e=T().xr(b&&b.publicEditModeStore.state,u),t=u.canComment(),i=!ue&&T().nC(b&&b.publicEditModeStore.state),o=D().default.state;return{canTriggerTextActions:e,canTriggerCommentAction:t,canTriggerBlockActions:i,hasMultiBlockSelection:"editing"===o.mode&&!(0,C().KP)(o.multiSelection),currentSelection:U().default.state.stores[0]}}),[b,u,ue]),ye=((0,r().K8)((()=>{const e=D().default.state;if("editing"===e.mode){const t=e.multiSelection.end;return{scrollTop:P().A.state.scrollTop_DEPRECATED,editing:!0,store:t.store.id,selection:t}}return{scrollTop:P().A.state.scrollTop_DEPRECATED,editing:!1}}),[]),(0,a().Y)((()=>A().cW(m)),500)),fe=(0,o.useRef)(null),he=(0,o.useRef)(void 0),Ae=(0,o.useRef)(!1);(0,o.useLayoutEffect)((()=>{if(v)K.shouldShow!==Ae.current&&(Ae.current=K.shouldShow,fe.current&&(fe.current.scrollLeft=0));else{const e=t.store.state.isOpen;K.shouldShow?e?void 0!==he.current&&(window.clearTimeout(he.current),he.current=void 0):(t.store.setState({...t.store.state,isOpen:!0}),fe.current&&(fe.current.scrollLeft=0)):e&&void 0===he.current&&(he.current=window.setTimeout((()=>{he.current=void 0,t.store.setState({...t.store.state,isOpen:!1})}),200))}}),[m,v,K.shouldShow,t.store]);const ke=(0,r().K8)((()=>({canIndent:k().v6(ve),canUnindent:k().mE(ve)})),[ve]),xe=(0,r().K8)((()=>{let e=!1,t=!1;const i=u.getType();if(i){const o=u.getFormat();(0,d().pD)(i,o)||(e=!0),(0,d().Q3)(i)||(t=!0)}return R().A.state.isOpen&&(e=!1),{canTriggerCommentAction:e,canTriggerMentionAction:t}}),[u]),Se=(0,r().K8)((()=>({canUndo:x().BB(),canRedo:x().fH()})),[]),Te=()=>{const{canTriggerCommentAction:e,canTriggerMentionAction:i}=xe;return(0,g.jsxs)("div",{ref:fe,style:se.actionMenu,onScroll:ye,children:[(0,g.jsxs)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,...!y&&{paddingLeft:12,paddingRight:12}},onClick:()=>{t.store.setState({...t.store.state,isInsertOpen:!0}),ae("insert",m)},disabled:!be,children:[$,(0,g.jsx)(G,{})]}),(0,g.jsxs)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,fontWeight:h().Wy.medium},onClick:e=>{t.store.setState({...t.store.state,isTurnIntoOpen:!0}),ae("turn_into",m)},disabled:!be,children:[(0,g.jsx)(f().sA,{defaultMessage:"Turn into",id:"mobileActionBar.turnInto.buttonTitle"}),(0,g.jsx)(G,{})]}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,...j,style:se.item,onClick:()=>T().FN(m),disabled:!i,children:(0,g.jsx)("span",{style:{fontSize:19,lineHeight:1,fontWeight:h().Wy.medium,marginBottom:m.device.isAndroid?4:0},children:"@"})}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.item,onClick:async()=>{const e=await S().T.formulas.load();T().aI(m,"mobile_action_bar",e)},disabled:!e,children:Q}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.item,onClick:()=>T().zc(m),disabled:!be,children:J}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.item,onClick:()=>T()._Y(m),disabled:!be,children:X}),(0,g.jsxs)("div",{style:{...se.item,paddingLeft:6,paddingRight:6},children:[(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!be||!ke.canUnindent,onClick:()=>T().u7(m),children:W}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!ke.canIndent,onClick:()=>T().lS(m),children:Z}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!be,onClick:()=>T().FP(m),children:ee}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!be,onClick:()=>T().cM(m),children:te})]}),(0,g.jsxs)("div",{style:{...se.item,paddingLeft:6,paddingRight:6},children:[(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!Se.canUndo,onClick:()=>T().RA(m),children:ie}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!Se.canRedo,onClick:()=>T().xT(m),children:oe})]}),(0,g.jsxs)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,fontWeight:h().Wy.medium},onClick:e=>{t.store.setState({...t.store.state,isColorOpen:!0}),ae("color",m)},disabled:!be,children:[(0,g.jsx)(f().sA,{defaultMessage:"Color",id:"mobileActionBar.color.buttonTitle"}),(0,g.jsx)(G,{})]}),(0,g.jsxs)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,fontWeight:h().Wy.medium},onClick:()=>T().al(m),disabled:!be,children:[(0,g.jsx)(f().sA,{defaultMessage:"More",id:"mobileActionBar.more.buttonTitle"}),(0,g.jsx)(G,{})]})]})},Me=()=>(0,g.jsxs)("div",{style:se.actionButton,children:[de?(0,g.jsx)(z,{itemStyle:se.item,actionMenuStyle:se.actionMenu}):ue?(0,g.jsxs)("div",{style:se.actionMenu,onScroll:ye,children:[ge&&!R().A.state.isOpen&&(0,g.jsx)(q().A,{style:se.item,blockStore:ve,iconOnly:!1}),(0,g.jsx)(F().A,{type:"b",style:se.item,onClick:()=>ae("bold",m),disabled:!me,children:(0,g.jsx)("span",{style:{fontWeight:h().Wy.semibold},children:(0,g.jsx)(f().sA,{defaultMessage:"B",id:"mobileActionBar.bold.symbol"})})}),(0,g.jsx)(F().A,{type:"i",style:se.item,onClick:()=>ae("italic",m),disabled:!me,children:(0,g.jsx)("span",{style:{fontStyle:"italic",fontWeight:h().Wy.semibold},children:(0,g.jsx)(f().sA,{defaultMessage:"i",id:"mobileActionBar.italic.symbol"})})}),(0,g.jsx)(F().A,{type:"_",style:se.item,onClick:()=>ae("underline",m),disabled:!me,children:(0,g.jsx)("span",{style:{textDecoration:"underline"},children:(0,g.jsx)(f().sA,{defaultMessage:"U",id:"mobileActionBar.underline.symbol"})})}),(0,g.jsx)(F().A,{type:"s",style:se.item,onClick:()=>ae("strike_through",m),disabled:!me,children:(0,g.jsx)("span",{style:{textDecoration:"line-through"},children:(0,g.jsx)(f().sA,{defaultMessage:"S",id:"mobileActionBar.strikeThrough.symbol"})})}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.button,disabled:!ke.canUnindent,onClick:()=>T().u7(m),children:W}),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.button,disabled:!ke.canIndent,onClick:()=>T().lS(m),children:Z}),(0,g.jsx)(F().A,{type:"c",style:se.item,onClick:()=>ae("code",m),disabled:!me,children:(0,g.jsx)("span",{style:{fontFamily:h().vc(n().locale).githubMono},children:(0,g.jsx)(f().sA,{defaultMessage:"Code",id:"mobileActionBar.code.symbol"})})}),(0,g.jsx)(O().A,{style:se.item,disabled:!me||pe,children:(0,g.jsx)("span",{style:se.selectionLinkSpan,children:(0,g.jsx)(f().sA,{defaultMessage:"Link",id:"mobileActionBar.link.symbol"})})}),(0,g.jsx)(V().A,{onClick:()=>ae("equation",m),disabled:!me||pe,style:se.item,children:Y}),(0,g.jsx)(E().A,{style:se.item,disabled:!me})]}):Te(),(0,g.jsx)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,...se.itemBorderLeft,borderRight:"none"},onClick:()=>T().EZ(t,m),children:ne})]});if(i===M().nh.Bottom)return(0,g.jsx)("div",{style:{position:"absolute",bottom:ce,left:0,height:H,width:"100%",pointerEvents:re?"auto":"none",opacity:re?1:0,transform:re?"translateY(0)":`translateY(${H}px)`,transition:"opacity 120ms ease-out, transform 120ms ease-out"},children:Me()});{const e=w().getSelectionRect();if(!e)return null;const t=document.body.getBoundingClientRect(),i={...e,left:10,top:e.top+10-t.top};return(0,g.jsx)(N().Ay,{popupType:v?N().nl.SlideUp:N().nl.Popup,open:re,preventBlockRenderQueueOnEnter:!0,placementToOrigin:I().W.Bottom,alignmentToOrigin:I().C.Start,originRect:i,disableMouseCapture:!0,keepFocus:!0,render:()=>(0,g.jsx)("div",{style:{height:H,borderRadius:4,overflow:"hidden"},children:Me()})})}}function z(e){let{itemStyle:t,actionMenuStyle:i}=e;const o=(0,l().v3)();return(0,g.jsx)("div",{style:i,children:(0,g.jsxs)(L().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...t,borderRight:"none",fontWeight:h().Wy.medium},onClick:e=>{j().A.setState({open:!0}),ae("templates",o)},children:[(0,y().M)({width:20,marginRight:8}),(0,g.jsx)(f().sA,{defaultMessage:"Choose a template...",id:"mobileActionBar.templates.buttonTitle"}),(0,g.jsx)(G,{})]})})}function G(){const e=(0,c().IS)((e=>({chevron:{width:10,marginLeft:4,fill:e.lightIconColor}})),[]);return(0,u().b)(e.chevron)}const W=b({width:18,height:18,transform:"rotate(90deg)",position:"relative",left:1}),Z=b({width:18,height:18,transform:"rotate(-90deg)",position:"relative",left:-1}),Y=(0,i(339764).c)({width:16,height:16}),$=(0,i(124085).P)({width:14,height:14}),Q=(0,i(965998).M)({width:18,height:18}),J=(0,i(461515).F)({width:18,height:18}),X=(0,i(735384).I)({width:18,height:18}),ee=p({width:18,height:18,position:"relative",left:2}),te=p({width:18,height:18,transform:"rotate(180deg)",position:"relative",left:2}),ie=(0,i(112452)._)({width:19,height:19}),oe=v({width:19,height:19}),ne=(0,i(680243).l)({width:18,height:18});function ae(e,t){A().np(t,{itemName:e})}},59976:(e,t,i)=>{i.d(t,{b:()=>a});var o=()=>i(645873);const n=new(o().O2)("time-series",(async()=>await Promise.resolve().then(i.bind(i,968526)))),a=(0,o()._h)(n,(e=>e.TimeSeries))},97835:(e,t,i)=>{i.d(t,{x:()=>a});i(296540);var o=i(474848);const n={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_9151_10917)",children:[(0,o.jsx)("path",{d:"M10 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M7.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M10 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h5.845a4.6 4.6 0 0 1-.28-1.25H5.85c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54.761-1.488 2.672-2.626 5.007-2.626.83 0 1.605.144 2.294.395.269-.364.59-.688.952-.96A7.9 7.9 0 0 0 10 11.63"}),(0,o.jsx)("path",{d:"M16 19.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7m2.594-3.469a.625.625 0 0 0-.625-.625h-1.375v-1.375a.625.625 0 0 0-1.25 0v1.375h-1.375a.625.625 0 0 0 0 1.25h1.375v1.375a.625.625 0 1 0 1.25 0v-1.375h1.375c.345 0 .625-.28.625-.625"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_9151_10917",children:(0,o.jsx)("path",{d:"M20 0H0v20h20z"})})})]})},a=(0,i(340498).wt)("inviteMember",n)},114816:(e,t,i)=>{i.r(t),i.d(t,{NativeMobileActionBar:()=>He});i(898992),i(823215),i(430670),i(803949),i(581454),i(737550);var o=i(296540),n=()=>i(266625),a=()=>i(484714),l=()=>i(118884),s=()=>i(792485),r=()=>i(847249),c=()=>i(110750),d=()=>i(700500),u=()=>i(651124),m=()=>i(278238),g=()=>i(206267),b=(i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(354520),i(672577),()=>i(100622)),p=()=>i(534177),v=()=>i(148307),y=(i(908872),()=>i(671593)),f=()=>i(638681);function h(e,t,i){const{content:o,apiRequestValue:n}=i;return{id:e,content:o,action:{type:t,apiRequestValue:n}}}function A(e,t,i,o,n){return h(e,"webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:t},accessibilityText:n,selected:o},apiRequestValue:{menuType:i,actionId:e,context:void 0}})}function k(e,t,i,o,n){return h(e,"webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:t},accessibilityText:n,selected:o},apiRequestValue:{menuType:i,actionId:e,context:void 0}})}const x=["insertBlock","turnInto","textColor","textSelectionColor"];const S=["suggested","textFormatting","slashMenu","turnInto","textColor","textSelectionColor","more"];function T(e,t){return{type:e,apiRequestValue:t}}function M(e,t){const i={from:t,data:e};return JSON.stringify(i)}const C=f().object({required:{data:f().object({required:{action:f().literals("bold","italic","underline","strikethrough","link","code","equation","mention","trash","comment","emojiPicker","filePicker","indent","unindent","moveUp","moveDown","undo","redo","dismissKeyboard","more","ai","voiceInput","filing","templates","todoListTemplate","weeklyPlanTemplate","copyLinkToBlock","databaseDiscoveryModal","teamspaceSelector","toggleNumberPositivity")},optional:{}})},optional:{from:f().literals("mobile_action_bar","mobile_text_formatting_menu")}});let w=function(e){return e[e.InvalidActionType=0]="InvalidActionType",e[e.MissingPayload=1]="MissingPayload",e[e.InvalidRequestType=2]="InvalidRequestType",e[e.InvalidData=3]="InvalidData",e}({});class B{constructor(e,t){this.type=e,this.message=t}}function I(e){return 0===e.reduce(((e,t)=>e+t.items.length),0)}const P=h("mab.button.back","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"chevron.backward.2",localImageIdentifier:"back"},accessibilityText:""},apiRequestValue:{subMenuType:void 0,context:void 0}});h("mab.button.noResults","nativeAction_setSubMenuType",{content:{type:"text_and_icon",imageReference:{},accessibilityText:"",text:"No results",fullWidth:!0,disabled:!0},apiRequestValue:{subMenuType:void 0,context:void 0}});function _(e,t,i,o){return h("mab.button.indent","webAction_generic",{content:{type:"icon",imageReference:o,disabled:e||t,accessibilityText:i},apiRequestValue:{jsonPayload:M({action:"indent"}),context:void 0}})}function j(e,t,i,o){return h("mab.button.unindent","webAction_generic",{content:{type:"icon",imageReference:o,accessibilityText:i,disabled:e||t},apiRequestValue:{jsonPayload:M({action:"unindent"}),context:void 0}})}function R(e,t,i){return h("mab.button.moveUp","webAction_generic",{content:{type:"icon",imageReference:i,accessibilityText:t,disabled:e},apiRequestValue:{jsonPayload:M({action:"moveUp"}),context:void 0}})}function U(e,t,i){return h("mab.button.moveDown","webAction_generic",{content:{type:"icon",imageReference:i,accessibilityText:t,disabled:e},apiRequestValue:{jsonPayload:M({action:"moveDown"}),context:void 0}})}function D(e){const{createAIAction:t,createDictationAction:i,disableDictationActions:o,disableTextActions:n,disableAIAction:a,disableBlockActions:l,disableCommentAction:s,disableMentionAction:r,selectedMenuType:c,disableInsertBlockAction:d,disableTurnIntoAction:u,disableTextFormatting:m,disableTextColorAction:g,disableDeleteBlock:p,disableUndo:y,disableRedo:f,disableIndent:x,disableUnindent:S,disableLinkAction:T,disableCopyLinkToBlock:C,disableEquationAction:w,isEditingTitle:B,shouldShowTextActions:I,usePillStyling:P,isPersonalizedActionsEnabled:D,showNewMABIcons:L,textSelectionColor:N,textFormattingSelections:E,titleTexts:q,accessibilityTexts:F,teamIcon:O,teamspaceName:K,theme:z}=e,G=I?"textSelectionColor":"textColor",W=function(e){const{usePillStyling:t,titleTexts:i,theme:o}=e,n=t?"pill":"filled";return{todoListTemplate:h("mab.button.template.todolist","webAction_generic",{content:{type:"text_and_icon",text:i.todoListTemplate,style:n,imageReference:{imageUrl:v().A.images.mab.blocks.toDoSvg,imageTintColor:(0,b().vU)(o.icon.secondary)}},apiRequestValue:{jsonPayload:M({action:"todoListTemplate"}),context:void 0}}),weeklyPlanTemplate:h("mab.button.template.weeklyPlan","webAction_generic",{content:{type:"text_and_icon",text:i.weeklyPlanTemplate,style:n,imageReference:{imageUrl:v().A.images.mab.database.calendarViewSvg,imageTintColor:(0,b().vU)(o.icon.secondary)}},apiRequestValue:{jsonPayload:M({action:"weeklyPlanTemplate"}),context:void 0}}),templates:h("mab.buttonSection.template","webAction_generic",{content:{type:"text_and_icon",text:t?i.moreTemplates:i.template,style:n,imageReference:{imageUrl:v().A.images.mab.actions.moreSvg,imageTintColor:(0,b().vU)(o.icon.secondary)}},apiRequestValue:{jsonPayload:M({action:"templates"}),context:void 0}}),databaseDiscoveryModal:h("mab.buttonSection.databaseDiscoveryModal","webAction_generic",{content:{type:"text_and_icon",text:i.databaseDiscoveryModal,style:n,imageReference:{imageUrl:v().A.images.mab.blocks.simpleTableSvg,imageTintColor:(0,b().vU)(o.icon.secondary)}},apiRequestValue:{jsonPayload:M({action:"databaseDiscoveryModal"}),context:void 0}})}}({usePillStyling:P,titleTexts:q,theme:z});return{teamspaceSelector:h("mab.button.teamspaceSelector","webAction_generic",{content:{type:"text_and_icon",text:K||F.teamspaceSelector,imageReference:null!=O&&O.emoji?{emoji:O.emoji}:null!=O&&O.imageUrl?{imageUrl:O.imageUrl,imageTintColor:O.imageBackgroundColor}:{character:(K||F.teamspaceSelector).charAt(0).toUpperCase(),imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:"Name of currently selected teamspace to post to"},apiRequestValue:{jsonPayload:M({action:"teamspaceSelector"}),context:void 0}}),ai:t?h("mab.button.ai","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.aiFaceSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{localImageIdentifier:"ai"},disabled:a,accessibilityText:F.ai},apiRequestValue:{jsonPayload:M({action:"ai"}),context:void 0}}):void 0,speech:i?h("mab.button.speech","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.micSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"mic.fill",localImageIdentifier:"micFilled"},style:P?"pill":void 0,accessibilityText:F.ai,disabled:o},apiRequestValue:{jsonPayload:M({action:"voiceInput"}),context:void 0}}):void 0,insert:h("mab.button.insert","nativeAction_setMenuType",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.plusSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"plus",localImageIdentifier:"insertBlock"},accessibilityText:F.insert,disabled:l||d,selected:"insertBlock"===c},apiRequestValue:{menuType:"insertBlock",context:void 0}}),turnInto:h("mab.button.turnInto","nativeAction_setMenuType",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.turnIntoSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"arrow.2.squarepath",localImageIdentifier:"turnInto"},disabled:l||u,selected:"turnInto"===c,accessibilityText:F.turnInto},apiRequestValue:{menuType:"turnInto",context:void 0}}),emojiPicker:h("mab.button.emojiPicker","webAction_generic",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.actions.emojiSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},style:P?"pill":void 0,disabled:!B&&l,accessibilityText:F.emojiPicker},apiRequestValue:{jsonPayload:M({action:"emojiPicker"}),context:void 0}}),filePicker:h("mab.button.filePicker","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.photoMultipleSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"photo.on.rectangle.angled",localImageIdentifier:"filePicker"},style:P?"pill":void 0,disabled:!B&&l,accessibilityText:F.filePicker},apiRequestValue:{jsonPayload:M({action:"filePicker"}),context:void 0}}),mention:h("mab.button.mention","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.mentionSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"at",localImageIdentifier:"mention"},disabled:r,accessibilityText:F.mention},apiRequestValue:{jsonPayload:M({action:"mention"}),context:void 0}}),comment:h("mab.button.comment","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.commentSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"text.bubble",localImageIdentifier:"comment"},disabled:s,accessibilityText:F.comment},apiRequestValue:{jsonPayload:M({action:"comment"},"mobile_action_bar"),context:void 0}}),biu:h("bold.italic.underline","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.textFormattingSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"textformat",localImageIdentifier:"textFormat"},disabled:m,accessibilityText:F.textFormatting},apiRequestValue:{subMenuType:"textFormatting",context:void 0}}),delete:h("mab.button.delete","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.trashSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"trash",localImageIdentifier:"trash"},disabled:p,accessibilityText:F.trash},apiRequestValue:{jsonPayload:M({action:"trash"}),context:void 0}}),undo:h("mab.button.undo","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.undoSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"arrow.uturn.backward",localImageIdentifier:"undo"},disabled:y,accessibilityText:F.undo},apiRequestValue:{jsonPayload:M({action:"undo"}),context:void 0}}),redo:h("mab.button.redo","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.redoSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"arrow.uturn.forward",localImageIdentifier:"redo"},disabled:f,accessibilityText:F.redo},apiRequestValue:{jsonPayload:M({action:"redo"}),context:void 0}}),more:h("mab.button.more","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.moreSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"ellipsis",localImageIdentifier:"ellipsis"},accessibilityText:F.more,disabled:l},apiRequestValue:{jsonPayload:M({action:"more"}),context:void 0}}),indent:_(l,x,F.indent,L?{imageUrl:v().A.images.mab.actions.indentSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"increase.indent",localImageIdentifier:"indent"}),unindent:j(l,S,F.unindent,L?{imageUrl:v().A.images.mab.actions.outdentSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"decrease.indent",localImageIdentifier:"unindent"}),moveUp:R(l,F.moveUp,L?{imageUrl:v().A.images.mab.actions.moveUpSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"arrow.up.to.line.alt",localImageIdentifier:"moveUp"}),moveDown:U(l,F.moveDown,L?{imageUrl:v().A.images.mab.actions.moveDownSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"arrow.down.to.line.alt",localImageIdentifier:"moveDown"}),indentPrioritized:V(_(l,x,F.indent,L?{imageUrl:v().A.images.mab.actions.indentSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"increase.indent",localImageIdentifier:"indent"})),unindentPioritized:V(j(l,S,F.unindent,L?{imageUrl:v().A.images.mab.actions.outdentSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"decrease.indent",localImageIdentifier:"unindent"})),moveUpPrioritized:V(R(l,F.moveUp,L?{imageUrl:v().A.images.mab.actions.moveUpSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"arrow.up.to.line.alt",localImageIdentifier:"moveUp"})),moveDownPrioritized:V(U(l,F.moveDown,L?{imageUrl:v().A.images.mab.actions.moveDownSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"arrow.down.to.line.alt",localImageIdentifier:"moveDown"})),color:D?n||g?void 0:h("mab.button.textFormatting.textSelectionColor.native","nativeAction_setMenuType",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.actions.textColorSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},selected:c===G,accessibilityText:F.textColor},apiRequestValue:{menuType:G,context:void 0}}):h("mab.button.textFormatting.textSelectionColor.native","nativeAction_setMenuType",{content:{type:"icon",imageReference:H(N,z),disabled:n||g,selected:c===G,accessibilityText:F.textColor},apiRequestValue:{menuType:G,context:void 0}}),bold:h("mab.button.bold","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.boldSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"bold",localImageIdentifier:"bold"},accessibilityText:F.bold,disabled:n,selected:E.bold},apiRequestValue:{jsonPayload:M({action:"bold"}),context:void 0}}),italic:h("mab.button.italic","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.italicSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"italic",localImageIdentifier:"italic"},disabled:n,selected:E.italic,accessibilityText:F.italics},apiRequestValue:{jsonPayload:M({action:"italic"}),context:void 0}}),underline:h("mab.button.underline","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.underlineSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"underline",localImageIdentifier:"underline"},disabled:n,selected:E.underline,accessibilityText:F.underline},apiRequestValue:{jsonPayload:M({action:"underline"}),context:void 0}}),strikethrough:h("mab.button.strikethrough","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.strikethroughSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"strikethrough",localImageIdentifier:"strikethrough"},disabled:n,selected:E.strikethrough,accessibilityText:F.strikethrough},apiRequestValue:{jsonPayload:M({action:"strikethrough"}),context:void 0}}),linkToPage:h("insert link_to_page-Link to page","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.linkToPageSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:"Link",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert link_to_page-Link to page",context:void 0}}),link:h("mab.button.link","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.linkAddSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"link.badge.plus",localImageIdentifier:"link"},accessibilityText:F.link,disabled:n||T,selected:E.link},apiRequestValue:{jsonPayload:M({action:"link"}),context:void 0}}),copyLinkToBlock:D?h("mab.button.copyLinkToBlock","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.linkSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"link",localImageIdentifier:"link"},accessibilityText:F.copyLinkToBlock,disabled:C},apiRequestValue:{jsonPayload:M({action:"copyLinkToBlock"}),context:void 0}}):void 0,code:h("mab.button.code","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.blocks.codeSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"chevron.left.slash.chevron.right",localImageIdentifier:"code"},accessibilityText:F.code,disabled:n,selected:E.code},apiRequestValue:{jsonPayload:M({action:"code"}),context:void 0}}),equation:h("mab.button.equation","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.blocks.inlineEquationSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"x.squareroot",localImageIdentifier:"equation"},accessibilityText:F.equation,disabled:n||w,selected:E.equation},apiRequestValue:{jsonPayload:M({action:"equation"}),context:void 0}}),filing:h("mab.button.filing","webAction_generic",{content:q.filing?{type:"text_and_icon",text:q.filing,style:"filled",imageReference:{sfProGlyphName:"folder",localImageIdentifier:"folder"},accessibilityText:F.filing}:{type:"icon",style:"filled",imageReference:{sfProGlyphName:"folder",localImageIdentifier:"folder"},accessibilityText:F.filing},apiRequestValue:{jsonPayload:M({action:"filing"}),context:void 0}}),text:D?h("insert text-Text","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.textSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:"Text",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert text-Text",context:void 0}}):void 0,encryptedText:D?h("insert encrypted_text-Encrypted Text","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.encryptedTextSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:"Encrypted Text",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert encrypted_text-Encrypted Text",context:void 0}}):void 0,page:D?h("insert page-Page","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.pageSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:"Page",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert page-Page",context:void 0}}):void 0,divider:h("insert divider-Divider","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.dividerSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:"Divider",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert divider-Divider",context:void 0}}),table:h("insert table-Table","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.simpleTableSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:"Table",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert table-Table",context:void 0}}),toDoList:D?h("insert to_do-To-do list","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.toDoSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.todoList,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert to_do-To-do list",context:void 0}}):void 0,h1:D?h("insert header-Heading 1","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.headerH1Svg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.h1,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert header-Heading 1",context:void 0}}):void 0,h2:D?h("insert sub_header-Heading 2","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.headerH2Svg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.h2,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert sub_header-Heading 2",context:void 0}}):void 0,h3:D?h("insert sub_sub_header-Heading 3","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.headerH3Svg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.h3,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert sub_sub_header-Heading 3",context:void 0}}):void 0,bulletedList:D?h("insert bulleted_list-Bulleted list","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.bulletedListSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.bulletedList,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert bulleted_list-Bulleted list",context:void 0}}):void 0,numberedList:D?h("insert numbered_list-Numbered list","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.numberedListSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.numberedList,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert numbered_list-Numbered list",context:void 0}}):void 0,toggleList:D?h("insert toggle-Toggle list","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.toggleListSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.toggleList,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert toggle-Toggle list",context:void 0}}):void 0,quote:D?h("insert quote-Quote","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.quoteSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.quote,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert quote-Quote",context:void 0}}):void 0,callout:D?h("insert callout-Callout","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:v().A.images.mab.blocks.calloutSvg,imageTintColor:(0,b().vU)(z.icon.secondary)},accessibilityText:F.callout,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert callout-Callout",context:void 0}}):void 0,backgroundColorDefault:D&&"default_background"!==E.backgroundHighlight?k("action color default_background-Default background","dark"===z.mode?v().A.images.mab.textBackground.dark.defaultSvg:v().A.images.mab.textBackground.light.defaultSvg,G,!1,"Default"):void 0,backgroundColorGray:D?k("action color gray_background-Gray background","dark"===z.mode?v().A.images.mab.textBackground.dark.graySvg:v().A.images.mab.textBackground.light.graySvg,G,"gray_background"===E.backgroundHighlight,"Gray"):void 0,backgroundColorBrown:D?k("action color brown_background-Brown background","dark"===z.mode?v().A.images.mab.textBackground.dark.brownSvg:v().A.images.mab.textBackground.light.brownSvg,G,"brown_background"===E.backgroundHighlight,"Brown"):void 0,backgroundColorOrange:D?k("action color orange_background-Orange background","dark"===z.mode?v().A.images.mab.textBackground.dark.orangeSvg:v().A.images.mab.textBackground.light.orangeSvg,G,"orange_background"===E.backgroundHighlight,"Orange"):void 0,backgroundColorYellow:D?k("action color yellow_background-Yellow background","dark"===z.mode?v().A.images.mab.textBackground.dark.yellowSvg:v().A.images.mab.textBackground.light.yellowSvg,G,"yellow_background"===E.backgroundHighlight,"Yellow"):void 0,backgroundColorTeal:D?k("action color teal_background-Green background","dark"===z.mode?v().A.images.mab.textBackground.dark.greenSvg:v().A.images.mab.textBackground.light.greenSvg,G,"teal_background"===E.backgroundHighlight,"Green"):void 0,backgroundColorBlue:D?k("action color blue_background-Blue background","dark"===z.mode?v().A.images.mab.textBackground.dark.blueSvg:v().A.images.mab.textBackground.light.blueSvg,G,"blue_background"===E.backgroundHighlight,"Blue"):void 0,backgroundColorPurple:D?k("action color purple_background-Purple background","dark"===z.mode?v().A.images.mab.textBackground.dark.purpleSvg:v().A.images.mab.textBackground.light.purpleSvg,G,"purple_background"===E.backgroundHighlight,"Purple"):void 0,backgroundColorPink:D?k("action color pink_background-Pink background","dark"===z.mode?v().A.images.mab.textBackground.dark.pinkSvg:v().A.images.mab.textBackground.light.pinkSvg,G,"pink_background"===E.backgroundHighlight,"Pink"):void 0,backgroundColorRed:D?k("action color red_background-Red background","dark"===z.mode?v().A.images.mab.textBackground.dark.redSvg:v().A.images.mab.textBackground.light.redSvg,G,"red_background"===E.backgroundHighlight,"Red"):void 0,textColorRed:D?A("action color red-Red text","dark"===z.mode?v().A.images.mab.textColor.dark.redSvg:v().A.images.mab.textColor.light.redSvg,G,"red"===N,"Red"):void 0,textColorOrange:D?A("action color orange-Orange text","dark"===z.mode?v().A.images.mab.textColor.dark.orangeSvg:v().A.images.mab.textColor.light.orangeSvg,G,"orange"===N,"Orange"):void 0,textColorYellow:D?A("action color yellow-Yellow text","dark"===z.mode?v().A.images.mab.textColor.dark.yellowSvg:v().A.images.mab.textColor.light.yellowSvg,G,"yellow"===N,"Yellow"):void 0,textColorTeal:D?A("action color teal-Green text","dark"===z.mode?v().A.images.mab.textColor.dark.greenSvg:v().A.images.mab.textColor.light.greenSvg,G,"teal"===N,"Green"):void 0,textColorBlue:D?A("action color blue-Blue text","dark"===z.mode?v().A.images.mab.textColor.dark.blueSvg:v().A.images.mab.textColor.light.blueSvg,G,"blue"===N,"Blue"):void 0,textColorPurple:D?A("action color purple-Purple text","dark"===z.mode?v().A.images.mab.textColor.dark.purpleSvg:v().A.images.mab.textColor.light.purpleSvg,G,"purple"===N,"Purple"):void 0,textColorPink:D?A("action color pink-Pink text","dark"===z.mode?v().A.images.mab.textColor.dark.pinkSvg:v().A.images.mab.textColor.light.pinkSvg,G,"pink"===N,"Pink"):void 0,textColorGray:D?A("action color gray-Gray text","dark"===z.mode?v().A.images.mab.textColor.dark.graySvg:v().A.images.mab.textColor.light.graySvg,G,"gray"===N,"Gray"):void 0,textColorBrown:D?A("action color brown-Brown text","dark"===z.mode?v().A.images.mab.textColor.dark.brownSvg:v().A.images.mab.textColor.light.brownSvg,G,"brown"===N,"Brown"):void 0,textColorDefault:D&&"default"!==N?A("action color default-Default text","dark"===z.mode?v().A.images.mab.textColor.dark.defaultSvg:v().A.images.mab.textColor.light.defaultSvg,G,!1,"Default"):void 0,...W,dismissKeyboard:h("mab.dismissKeyboard","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.keyboardDownSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"keyboard.chevron.compact.down",localImageIdentifier:"keyboardDown"},accessibilityText:F.dismissKeyboard},apiRequestValue:{jsonPayload:M({action:"dismissKeyboard"}),context:void 0}}),closeActionMenu:h("mab.dismissKeyboard","nativeAction_setMenuType",{content:{type:"icon",imageReference:L?{imageUrl:v().A.images.mab.actions.xCircleSvg,imageTintColor:(0,b().vU)(z.icon.secondary)}:{sfProGlyphName:"xmark.circle.fill",localImageIdentifier:"cancel"},accessibilityText:F.closeActionMenu},apiRequestValue:{menuType:void 0,context:void 0}}),toggleNumberPositivity:h("mab.button.toggleNumberPositivity","webAction_generic",{content:{type:"icon",imageReference:{sfProGlyphName:"minus.forwardslash.plus",imageTintColor:(0,b().vU)(z.icon.secondary)},disabled:n,accessibilityText:F.toggleNumberPositivity},apiRequestValue:{jsonPayload:M({action:"toggleNumberPositivity"}),context:void 0}})}}function L(e){const{buttonMap:t,shouldShowTemplatePills:i,frecentlyRankedActions:o,isEditingTitle:n,isEditingHeader:a,isEditingSimpleTableOrCollectionTextPropertyInExp:l,isEditingCallout:s,isEditingQuote:r,shouldPrioritizeList:c,shouldShowEmojiPicker:d,shouldShowFiling:u,shouldShowTemplates:m,someBlockPrioritizesIndentation:g,isTablet:b,isPersonalizedActionsEnabled:v,isDBUXMobileEnabled:y,isMobileDiscoveryModalEnabled:f,shouldShowSelectedTextButtons:h,isIndentable:A,isEmpty:k,shouldShowTeamspaceSelector:x,shouldRenderMABForNumberProperty:S}=e,T={id:"mab.buttonSection.teamspace",buttons:[t.teamspaceSelector].filter(p().O9),skipSectionDivider:!1};let M=[];if(n)if(i)M=[t.todoListTemplate,t.weeklyPlanTemplate,...f?[t.databaseDiscoveryModal]:[],t.templates];else{const e=b?[]:[t.speech,t.filePicker,d?t.emojiPicker:void 0],i=u?[t.filing]:[],o=m?[t.templates]:[];M=[...i,...o,...e].filter(p().O9)}if(S)return[{id:"mab.buttonSection.main",buttons:[t.toggleNumberPositivity]}];if(!n&&v){let e=[];if(e=function(e,t,i,o,n,a,l,s){const r=new Set(["todoListTemplate","weeklyPlanTemplate","templates","filing","databaseDiscoveryModal"]),c=new Set(["bold","italic","underline","strikethrough","biu","dismissKeyboard","closeActionMenu","indent","unindent","moveUp","moveDown","ai","teamspaceSelector"]),d=new Set(["color","backgroundColorDefault","backgroundColorGray","backgroundColorBrown","backgroundColorOrange","backgroundColorYellow","backgroundColorTeal","backgroundColorBlue","backgroundColorPurple","backgroundColorPink","backgroundColorRed","textColorDefault","textColorGray","textColorBrown","textColorOrange","textColorYellow","textColorTeal","textColorBlue","textColorPurple","textColorPink","textColorRed"]);let u;u=n?new Set([...c,...r,...d,"insert","biu","turnInto","more"]):l||s?new Set([...c,...r,...d,"insert","turnInto","more"]):i?new Set([...c,...r,...d,"copyLinkToBlock","insert","turnInto","more"]):a?new Set([...c,...r,...d,"toDoList","h1","h2","h3","bulletedList","numberedList","toggleList","quote","callout","insert","speech","turnInto","filePicker","ai","more"]):new Set([...c,...r,...d,"insert","turnInto","more"]);const m=Object.keys(e).filter((i=>{var o;return!u.has(i)&&t.includes(i)&&!(null!==(o=e[i])&&void 0!==o&&null!==(o=o.content)&&void 0!==o&&o.disabled)})).sort(((e,i)=>t.indexOf(e)-t.indexOf(i))).map((t=>e[t])).filter(p().O9).slice(0,3).sort(((e,t)=>e.id>t.id?1:-1));return m}(t,o,k,0,a,l,s,r),e.length<3){const i=function(e,t){return t?[e.toDoList,e.bulletedList,e.toggleList].filter(p().O9):[e.toDoList,e.bulletedList,e.h1].filter(p().O9)}(t,a);e=Array.from(new Set([...e,...i])).slice(0,3)}const i=function(e){const{buttonMap:t,shouldShowEmojiPicker:i,shouldShowSelectedTextButtons:o,isIndentable:n,isEditingSimpleTableOrCollectionTextPropertyInExp:a,isEditingCallout:l,isDBUXMobileEnabled:s}=e;let r=[];r=a&&s?N(t,o):o?[t.color,t.bold,t.underline,t.italic,t.strikethrough,t.link,t.comment,t.turnInto,t.code,t.equation,t.copyLinkToBlock,t.more]:a?[t.color,t.bold,t.underline,t.italic,t.strikethrough,t.mention,t.link,t.comment,t.code,t.equation,t.copyLinkToBlock]:n?[t.unindent,t.indent,t.insert,t.biu,t.moveUp,t.moveDown,t.filePicker,t.speech,t.turnInto,i?t.emojiPicker:void 0,t.undo,t.redo,t.mention,t.delete,t.more]:l?[t.insert,t.biu,t.filePicker,t.speech,t.turnInto,i?t.emojiPicker:void 0,t.undo,t.redo,t.unindent,t.indent,t.moveUp,t.moveDown,t.delete,t.mention,t.more]:[t.insert,t.biu,t.filePicker,t.speech,t.turnInto,i?t.emojiPicker:void 0,t.undo,t.redo,t.unindent,t.indent,t.moveUp,t.moveDown,t.mention,t.delete,t.more];return r.filter(p().O9)}({buttonMap:t,shouldShowEmojiPicker:d,shouldShowSelectedTextButtons:h,isIndentable:A,isEditingSimpleTableOrCollectionTextPropertyInExp:l,isEditingCallout:s,isDBUXMobileEnabled:y}),n=function(e,t){const i=new Set(t.map((e=>e.id)));return e.filter((e=>!i.has(e.id)))}(i,e);return[x?T:void 0,e.length>0?{id:"mab.buttonSection.main.personalized",buttons:[...[t.ai,...e].filter(p().O9).entries()].map((e=>{let[t,i]=e;return q(i,t)})),skipSectionDivider:!1,shouldFadeIn:!0}:void 0,{id:"mab.buttonSection.main",buttons:[...n.entries()].map((e=>{let[t,i]=e;return q(i,t)})),shouldFadeIn:!0}].filter(p().O9)}if(c&&g){return[x?T:void 0,{id:"mab.buttonSection.main",buttons:[...[t.ai,t.unindentPioritized,t.indentPrioritized,t.moveUpPrioritized,t.moveDownPrioritized].filter(p().O9),...b?[t.insert,t.biu,t.turnInto,d?t.emojiPicker:void 0,t.filePicker,t.speech].filter(p().O9):[t.insert,t.biu,t.speech,t.filePicker,t.turnInto,d?t.emojiPicker:void 0].filter(p().O9),...[t.comment,t.undo,t.mention,t.delete,t.more].filter(p().O9)]}].filter(p().O9)}return[x?T:void 0,{id:"mab.buttonSection.main",buttons:(()=>{if(n)return M;if(y&&l)return N(t,h);const e=b?[t.turnInto,t.speech,t.filePicker]:[t.speech,t.filePicker,t.turnInto];return[u&&b?t.filing:void 0,t.ai,t.insert,t.biu,...e,d?t.emojiPicker:void 0,t.comment,t.undo,t.mention,t.delete,t.indent,t.unindent,t.moveUp,t.moveDown,t.more]})().filter(p().O9)}].filter(p().O9)}function N(e,t){return[e.bold,e.underline,e.italic,e.strikethrough,e.mention,e.link,...t?[e.comment]:[],e.code,e.equation,e.copyLinkToBlock].filter(p().O9)}const E="static-";function q(e,t){return{...e,id:`${e.id}.${E}${t}`}}function F(e){const t=e.split(".");if(t.length>0){if(t[t.length-1].startsWith(E))return t.slice(0,-1).join(".")}return e}function V(e){return e.id=`${e.id}.prioritized`,e}const O={"insert text-Text":"text","insert page-Page":"page","insert to_do-To-do list":"toDoList","insert header-Heading 1":"h1","insert sub_header-Heading 2":"h2","insert sub_sub_header-Heading 3":"h3","insert bulleted_list-Bulleted list":"bulletedList","insert numbered_list-Numbered list":"numberedList","insert toggle-Toggle list":"toggleList","insert quote-Quote":"quote","insert callout-Callout":"callout","insert link_to_page-Link to page":"linkToPage","insert divider-Divider":"divider","insert table-Table":"table","insert encrypted_text-Encrypted Text":"encryptedText","action color default_background-Default background":"backgroundColorDefault","action color gray_background-Gray background":"backgroundColorGray","action color brown_background-Brown background":"backgroundColorBrown","action color orange_background-Orange background":"backgroundColorOrange","action color yellow_background-Yellow background":"backgroundColorYellow","action color teal_background-Green background":"backgroundColorTeal","action color blue_background-Blue background":"backgroundColorBlue","action color purple_background-Purple background":"backgroundColorPurple","action color pink_background-Pink background":"backgroundColorPink","action color red_background-Red background":"backgroundColorRed","action color default-Default text":"textColorDefault","action color gray-Gray text":"textColorGray","action color brown-Brown text":"textColorBrown","action color orange-Orange text":"textColorOrange","action color yellow-Yellow text":"textColorYellow","action color teal-Green text":"textColorTeal","action color blue-Blue text":"textColorBlue","action color purple-Purple text":"textColorPurple","action color pink-Pink text":"textColorPink","action color red-Red text":"textColorRed"};function H(e,t){let i="textColor";const o=b().Wr.find((t=>t===e));let n;"default"===e||o&&(o.includes("background")?(n="background",i="textBackgroundColor"):n="color");const a=n&&o?(0,b().k5)(o,t)[n]:void 0;return{localImageIdentifier:i,imageTintColor:a?(0,b().vU)(a):void 0}}var K=()=>i(919709),z=()=>i(959013),G=()=>i(496603),W=()=>i(532295),Z=()=>i(843005),Y=()=>i(953448),$=()=>i(741496),Q=()=>i(132867),J=()=>i(495262),X=()=>i(862835),ee=()=>i(878377),te=()=>i(989423),ie=()=>i(186445),oe=()=>i(68465),ne=()=>i(972435),ae=()=>i(986260),le=()=>i(600871),se=()=>i(231722),re=()=>i(962845),ce=()=>i(299545),de=()=>i(71304),ue=()=>i(792002),me=()=>i(494043);var ge=()=>i(963589),be=()=>i(833666);const pe={TIME_BUCKETS:[{hours:24,weight:100},{hours:96,weight:70},{hours:168,weight:50},{hours:720,weight:30}],DEFAULT_BUCKET_WEIGHT:10},ve={TIME_BUCKETS:[{hours:4,weight:100},{hours:12,weight:80},{hours:24,weight:70},{hours:72,weight:60},{hours:168,weight:50},{hours:336,weight:40},{hours:672,weight:30}],DEFAULT_BUCKET_WEIGHT:20};var ye=()=>i(79628),fe=()=>i(952412),he=()=>i(671363),Ae=()=>i(110955),ke=()=>i(351360),xe=()=>i(430483),Se=()=>i(508496),Te=()=>i(205682),Me=()=>i(630116),Ce=()=>i(502438),we=()=>i(24157),Be=(i(944114),()=>i(837384)),Ie=()=>i(443616),Pe=()=>i(778417),_e=()=>i(991526),je=()=>i(964345),Re=()=>i(845955),Ue=()=>i(509111);function De(e){const{type:t,actionSections:i,closeParentMenu:o,context:n}=e,a={},l=[];for(const s of i){const e={id:`${s.key}`,title:s.title,items:s.actions.map((e=>{var i;const l=`${e.key}-${e.analyticsName||""}`;return a[l]={...e,closeParentMenu:o},{id:l,title:e.displayName||"",icon:(null===(i=e.nativeImageReference)||void 0===i?void 0:i.call(e,n))??{},action:T("webAction_genericAction",{menuType:t,actionId:l,context:void 0}),checked:!1}}))};l.push(e)}return{actions:a,sections:l}}function Le(e){const{key:t,displayName:i,analyticsName:o,closeParentMenu:n,action:a}=e,l=i;return{key:`action ${t}`,displayName:i?ne().A.formatMessage(i):void 0,analyticsName:o||`textformatting_action_${t}`,searchName:l?`${ne().A.formatMessage(l)} ${l.defaultMessage}`:void 0,validators:[],action:a,closeParentMenu:Boolean(n)}}const Ne={bold:Le({key:"bold",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["b"])}}),italic:Le({key:"italic",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["i"])}}),underline:Le({key:"underline",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["_"])}}),strikethrough:Le({key:"strikethrough",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["s"])}}),code:Le({key:"code",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["c"])}}),comment:Le({key:"comment",closeParentMenu:!0,action:async e=>{var t;let{environment:o}=e;await(null===(t=o.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary());const n=await i(862292).T.formulas.load();ae().aI(o,"mobile_action_bar",n)}}),emojiPicker:Le({key:"emojiPicker",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().Rk(i)}}),equation:Le({key:"equation",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().FM(i)}}),filePicker:Le({key:"filePicker",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().zc(i)}}),indent:Le({key:"indent",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().lS(t)}}),unindent:Le({key:"unindent",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().u7(t)}}),moveDown:Le({key:"moveDown",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().cM(t)}}),moveUp:Le({key:"moveUp",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().FP(t)}}),undo:Le({key:"undo",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().RA(t)}}),redo:Le({key:"redo",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().xT(t)}}),trash:Le({key:"trash",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae()._Y(t)}}),mention:Le({key:"mention",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().FN(i)}}),ai:Le({key:"ai",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().hW(i)}}),voiceInput:Le({key:"voiceInput",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary());je().Ay.state.enabled&&!je().Ay.state.loading?await _e().dictationActions.stopDictation({environment:i,from:"native_action"}):await _e().dictationActions.smartToggleDictation({environment:i,from:"native_action",preCreateDictationBlock:i.device.isIOS&&Ee(),includeSystemAudio:!1})}}),link:Le({key:"link",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().TK(i)}}),copyLinkToBlock:Le({key:"copyLinkToBlock",closeParentMenu:!1,action:async e=>{let{environment:t}=e;const o=Ce().default.state.stores[0];if(!o)return;(await i(884107).R.clipboardActions.load()).copyLinkToBlock({environment:t,blocks:[o],event:void 0})}}),more:Le({key:"more",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().al(t)}}),teamspaceSelector:Le({key:"teamspaceSelector",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().rZ(t)}}),toggleNumberPositivity:Le({key:"toggleNumberPositivity",closeParentMenu:!1,action:e=>{let{environment:t}=e;const o=Te().A.state;if(!o.isOpen)return;const n=o.store.getPropertyValue(o.property);if(!n)return;const a=(0,i(713998).Me)(n);if(!a)return;const l=-1*a;(0,i(414712).YX)(l,t,(0,Ue().IB)(o)),(0,Ue()._H)(o,t,Te().A)}}),filing:Le({key:"filing",closeParentMenu:!1,action:async e=>{let{environment:t}=e;const o=(0,ie().ao)();if(!o)return;const n=o.getParentStore();if(!n)return;const{currentSpaceStore:a}=ke().default.state,l="space"===n.table&&a&&n.id===a.id,s=t.RouterStore.state.route,r="page"===s.name&&s.showMoveTo;await i(750660).LP({environment:t,blocks:[o],moveToContext:"quick_add_mab",disableSuccessToast:!0,onAccept:e=>{i(328523).l7(t)},onCanceled:()=>{},isAddTo:r,isDefaultPrivateLocation:l})}}),dismissKeyboard:Le({key:"dismissKeyboard",closeParentMenu:!0,action:e=>{let{environment:t}=e;Pe().IU({environment:t}),i(919878).wr(),ae().i3(t,void 0,!1),ae().Qu(t,void 0,!1),ae().Km(t,"hide_keyboard"),i(725614).blurActiveElement()}}),todoListTemplate:Le({key:"todoListTemplate",closeParentMenu:!1,action:e=>{let{environment:t}=e;Pe().IU({environment:t}),ae().XR(t,Be().kx.todoListMobile)}}),weeklyPlanTemplate:Le({key:"weeklyPlanTemplate",closeParentMenu:!1,action:e=>{let{environment:t}=e;Pe().IU({environment:t}),ae().XR(t,Be().kx.weeklyPlanMobile)}}),templates:Le({key:"templates",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().og(t)}}),databaseDiscoveryModal:Le({key:"databaseDiscoveryModal",closeParentMenu:!1,action:e=>{let{environment:t}=e;const i=Ce().default.state.stores[0];ae().v5(t,i)}})};function Ee(){if("editing"!==we().default.state.mode)return!1;const e=we().default.state.multiSelection.start.store;return!!(0,i(969197).Le)(e)}var qe=i(474848);const Fe=(0,z().YK)({subMenuLabelSuggested:{defaultMessage:"Suggested",id:"mobileActionBar.subMenuLabel.suggested"},subMenuLabelInsert:{defaultMessage:"Add",id:"mobileActionBar.subMenuLabel.insert"},subMenuLabelTurnInto:{defaultMessage:"Turn into",id:"mobileActionBar.subMenuLabel.turnInto"},subMenuLabelTextFormatting:{defaultMessage:"Format",id:"mobileActionBar.subMenuLabel.textFormatting"},subMenuLabelTextColor:{defaultMessage:"Text color",id:"mobileActionBar.subMenuLabel.textColor"},templatesButtonTitle:{defaultMessage:"Templates",id:"mobileActionBar.templateButtonTitle"},moreTemplatesButtonTitle:{defaultMessage:"More",id:"mobileActionBar.moreTemplatesButtonTitle"},todoListTemplateTitle:{defaultMessage:"To-do list",id:"mobileActionBar.templateTitle.todoList"},weeklyPlanTemplateTitle:{defaultMessage:"Weekly plan",id:"mobileActionBar.templateTitle.weeklyPlan"},databaseDiscoveryModalTitle:{defaultMessage:"Database",id:"mobileActionBar.databaseDiscoveryModalTitle"},actionMenuInsertBlockTitle:{defaultMessage:"Insert Block",id:"mobileActionBar.actionMenuTitle.insertBlock"},actionMenuTurnIntoTitle:{defaultMessage:"Turn Into",id:"mobileActionBar.actionMenuTitle.turnInto"},actionMenuColorTitle:{defaultMessage:"Color",id:"mobileActionBar.actionMenuTitle.blockColor"},accessibilityInsert:{defaultMessage:"Add block",id:"mobileActionBar.accessibility.insertBlock"},accessibilityTurnInto:{defaultMessage:"Turn into block",id:"mobileActionBar.accessibility.turnInto"},accessibilityEmojiPicker:{defaultMessage:"Add emoji",id:"mobileActionBar.accessibility.emojiPicker"},accessibilityFilePicker:{defaultMessage:"Add image",id:"mobileActionBar.accessibility.filePicker"},accessibilityMention:{defaultMessage:"Add mention",id:"mobileActionBar.accessibility.mention"},accessibilityTextFormatting:{defaultMessage:"Open text formatting menu",id:"mobileActionBar.accessibility.textFormatting"},accessibilityComment:{defaultMessage:"Add comment",id:"mobileActionBar.accessibility.comment"},accessibilityTrash:{defaultMessage:"Delete block",id:"mobileActionBar.accessibility.trash"},accessibilityIndent:{defaultMessage:"Indent block",id:"mobileActionBar.accessibility.indent"},accessibilityDedent:{defaultMessage:"Unindent block",id:"mobileActionBar.accessibility.unindent"},accessibilityMoveUp:{defaultMessage:"Move a block up",id:"mobileActionBar.accessibility.moveUp"},accessibilityMoveDown:{defaultMessage:"Move a block down",id:"mobileActionBar.accessibility.moveDown"},accessibilityUndo:{defaultMessage:"Undo edit",id:"mobileActionBar.accessibility.undo"},accessibilityRedo:{defaultMessage:"Redo edit",id:"mobileActionBar.accessibility.redo"},accessibilityMore:{defaultMessage:"More block actions",id:"mobileActionBar.accessibility.more"},accessibilityBold:{defaultMessage:"Bold",id:"mobileActionBar.accessibility.bold"},accessibilityItalics:{defaultMessage:"Italicize",id:"mobileActionBar.accessibility.italics"},accessibilityUnderline:{defaultMessage:"Underline",id:"mobileActionBar.accessibility.underline"},accessibilityStrikethrough:{defaultMessage:"Strikethrough",id:"mobileActionBar.accessibility.strikethrough"},accessibilityTextColor:{defaultMessage:"Text color",id:"mobileActionBar.accessibility.textColor"},accessibilityCode:{defaultMessage:"Code",id:"mobileActionBar.accessibility.code"},accessibilityLink:{defaultMessage:"Add link",id:"mobileActionBar.accessibility.link"},accessibilityCopyLinkToBlock:{defaultMessage:"Copy link to block",id:"mobileActionBar.accessibility.copyLinkToBlock"},accessibilityEquation:{defaultMessage:"Add equation",id:"mobileActionBar.accessibility.equation"},accessibilityFiling:{defaultMessage:"Page location",id:"mobileActionBar.accessibility.filing"},accessibilityCloseTextFormattingMenu:{defaultMessage:"Close text formatting menu",id:"mobileActionBar.accessibility.close"},accessibilityDismissKeyboard:{defaultMessage:"End editing",id:"mobileActionBar.accessibility.endEditing"},accessibilityCloseActionMenu:{defaultMessage:"Close menu",id:"mobileActionBar.accessibility.closeMenu"},accessibilityAi:{defaultMessage:"Notion AI",id:"mobileActionBar.accessibility.ai"},accessibilityTeamspaceSelector:{defaultMessage:"Select teamspace",id:"mobileActionBar.accessibility.teamspaceSelector"},toggleNumberPositivity:{defaultMessage:"Toggle number positive or negative",id:"mobileActionBar.accessibility.toggleNumberPositivity"},filingButtonPrivateSection:{defaultMessage:"Private",id:"mobileActionBar.filing.private"},accessibilityTodoList:{defaultMessage:"Add a to-do list",id:"mobileActionBar.accessibility.todoList"},accessibilityH1:{defaultMessage:"Add an H1 heading",id:"mobileActionBar.accessibility.h1"},accessibilityH2:{defaultMessage:"Add an H2 heading",id:"mobileActionBar.accessibility.h2"},accessibilityH3:{defaultMessage:"Add an H3 heading",id:"mobileActionBar.accessibility.h3"},accessibilityBulletedList:{defaultMessage:"Add a bulleted list",id:"mobileActionBar.accessibility.bulletedList"},accessibilityNumberedList:{defaultMessage:"Add a numbered list",id:"mobileActionBar.accessibility.numberedList"},accessibilityToggleList:{defaultMessage:"Add a toggle list",id:"mobileActionBar.accessibility.toggleList"},accessibilityQuote:{defaultMessage:"Add a quote block",id:"mobileActionBar.accessibility.quote"},accessibilityCallout:{defaultMessage:"Add a callout block",id:"mobileActionBar.accessibility.callout"}}),Ve={text:!1,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,column:!1,transclusion_container:!1,callout:!1,quote:!1,post:!1};function Oe(e){var t;const{onAction:i,fallbackRenderer:l,...s}=e,r=null===(t=(0,a().v3)().mobileNative)||void 0===t?void 0:t.api.renderMobileActionBar,c=(0,n().y)(r,s);return function(e,t,i,n){var l;const s=null===(l=(0,a().v3)().mobileNative)||void 0===l?void 0:l.componentEvents;(0,o.useEffect)((()=>{if(s&&n&&t)return s.addListener(e,t,i,n)}),[e,t,i,n,s])}("MobileActionBar",c,"onAction",i),!c&&l?(0,qe.jsx)(qe.Fragment,{children:l()}):null}function He(e){const{currentBlockStore:t,fallbackRenderer:i,stores:n,shouldShowMoveTo:v,renderApi:h}=e,A=(0,a().v3)(),k=(0,s().S)(),T=(0,z().tz)(),M=(0,Y().J)(),_=(0,r().K8)((()=>Se().default.getEligibleGroup({experimentId:"mab_personalized_section",defaultGroup:"control"})),[]),j="v1"===_||"v2"===_,R=(0,r().K8)((()=>Se().default.getEligibleGroup({experimentId:"mab_refresh_personalization",defaultGroup:"control"})),[]),U="v1"===R||"v2"===R,N=(0,ge().X)("mobile_mab_emoji_picker"),E=(0,ge().X)("db_ux_mobile"),q=(0,o.useRef)(void 0),V=(0,r().K8)((()=>{const e=null==k?void 0:k.publicEditModeStore.state;return ae().rV(A,t,e)}),[A,t,null==k?void 0:k.publicEditModeStore]),H=(0,r().K8)((()=>{if(A.TabbedRouterStore){const t=(0,c().XB)(A.TabbedRouterStore.state);var e;if("web"===(null==t?void 0:t.type))return"team"===(null===(e=t.route)||void 0===e?void 0:e.name)}return!1}),[A.TabbedRouterStore]),re=(0,o.useMemo)((()=>G().Bj((e=>{const{blocks:t,environment:i}=e;return function(e,t,i){return{insertBlock:De({type:"insertBlock",actionSections:Re().o2(t,e),context:e,closeParentMenu:!0}),turnInto:De({type:"turnInto",actionSections:Re().o2(i,e),context:e,closeParentMenu:!0}),textColor:De({type:"textColor",actionSections:Re().o2([Ie().qW,Ie().J1],e),context:e,closeParentMenu:!0}),textSelectionColor:De({type:"textSelectionColor",actionSections:Re().o2([Ie().qC,Ie().nd],e),context:e,closeParentMenu:!0})}}({environment:i,blocks:t,publicEditMode:void 0},function(e){return(0,W().dH)(e).state.insertActions}(U),[(0,Z().kR)({showNewMABIcons:U})])}),(e=>{let{blocks:t,environment:i}=e;const o=t.map((e=>e.key)).join(",");return`${i.key}-${o}`}))),[U]),he=(0,r().K8)((()=>re({blocks:Ke(),environment:A,isPersonalizedActionsEnabled:j})),[A,re,j]),Be=(0,r().K8)((()=>{const e=Qe(n.ignoreSelectionAreaStore);return 1===(null==e?void 0:e.length)?e[0]:void 0}),[n.ignoreSelectionAreaStore],{useDeepEqual:!0}),Pe=(0,r().K8)((()=>!0===ae().BT(n.ignoreSelectionAreaStore,A.TextSelectionCompositionStore,Be,j)),[A,n,Be,j]),_e=(0,r().K8)((()=>{const e=Boolean(V.disableStyleAnnotations);return Pe&&!e}),[V.disableStyleAnnotations,Pe]),je=(0,r().K8)((()=>{const e=(e,t)=>{if(!e||"editing"!==e.mode)return;const{multiSelection:i}=e;return{startRecord:i.start.store.pointer,startIndex:i.start.index,endRecord:i.end.store.pointer,endIndex:i.end.index,source:t}};return e(we().default.state,"TextSelectionStore")||e(n.ignoreSelectionAreaStore.state.savedTextSelectionStoreState,"IgnoreSelectionAreaStore")}),[n.ignoreSelectionAreaStore],{useDeepEqual:!0}),Ue=(0,r().K8)((()=>{if(!je)return;const{source:e,...t}=je;return t}),[je],{useDeepEqual:!0}),Le=(0,r().K8)((()=>{var e;const t=fe().u.state.selectedTeamStore;if(!t)return;const i=t.getIcon(),o=i?(0,u().WO)(i.icon):void 0,n=t.getName(),a=n?[...n][0].toUpperCase():void 0;return{name:n,icon:o?"unicode_emoji"===o.type?{emoji:o.emoji.unicode}:"notion_icon"===o.type?{imageUrl:o.icon,imageTintColor:null===(e=(0,m().DV)(o.icon))||void 0===e?void 0:e.color}:"custom_emoji"===o.type||"app_package_asset"===o.type||"url"===o.type?{imageUrl:o.icon}:void 0:a?{initial:a}:void 0}}),[]),Ee=(0,r().K8)((()=>t.isPost()&&!t.isPublishedPost()),[t]),He=!H&&Ee&&void 0!==(null==Le?void 0:Le.name)&&!A.device.isAndroid,Xe=(0,le().GN)(),et=(0,r().K8)((()=>{const e=ae().oG(Te().A.state);return"number"===(null==e?void 0:e.type)&&Xe}),[Xe]),tt=(0,r().K8)((()=>{var e;const{NativeMobileActionBarStore:i}=A,o=(0,b().O4)({theme:A.ThemeModeStore.state}),a=t.getType(),l=t.getFormat(),s=ze(),r=We(E),c=Te().A.state.isOpen,u=$e(n.ignoreSelectionAreaStore),m=Boolean(u&&(0,se().KP)(u)),g=(0,oe().ZE)(null==k?void 0:k.publicEditModeStore.state),p=!(0,ie().Te)()&&(0,X().h)(),y=r||c,f=s||r,h=!ae().xr(k&&k.publicEditModeStore.state,t),x=!ae().nC(k&&k.publicEditModeStore.state),S=function(){let e;e="editing"===we().default.state.mode?(0,ue().x7)([K().Ifu.Bold,K().Ifu.Italic,K().Ifu.Underline,K().Ifu.Strike,K().Ifu.Code,K().Ifu.Link,K().Ifu.Equation,...(0,K().kJl)(K().Ifu.Highlight)],we().default.state.multiSelection,we().default.state.forceExtendAnnotations):{};const t=e.hf,i=e.hb;return{bold:Boolean(e[K().Ifu.Bold]),italic:Boolean(e[K().Ifu.Italic]),underline:Boolean(e[K().Ifu.Underline]),strikethrough:Boolean(Boolean(e[K().Ifu.Strike])),code:Boolean(e[K().Ifu.Code]),link:Boolean(e[K().Ifu.Link]),equation:Boolean(e[K().Ifu.Equation]),textHighlight:t&&(0,K().YuY)(t)?(0,K().uIc)(t):void 0,backgroundHighlight:i&&(0,K().YuY)(i)?(0,K().uIc)(i):void 0}}(),M=Boolean(V.disableStyleAnnotations),C=null==i||null===(e=i.state.menu)||void 0===e?void 0:e.type,w=I(he.insertBlock.sections),B=I(he.turnInto.sections),P=I(he.textColor.sections),_=function(e,t,i){var o;const{NativeMobileActionBarStore:n}=e,a=n&&void 0!==(null===(o=n.state.menu)||void 0===o?void 0:o.type)?t.state.savedTextSelectionStoreState:void 0;if(!a)return i;const l="editing"===a.mode&&(0,ue().x7)(["hf","hb"],a.multiSelection,a.forceExtendAnnotations);if(l){const e=l.hf??l.hb;return e&&(0,K().YuY)(e)?(0,K().uIc)(e):void 0}}(A,n.ignoreSelectionAreaStore,S.textHighlight),R=!J().BB(),L=!J().fH(),N=!Ke().every(Q().v6),q=!Ke().every(Q().mE),F=s||c,O=!m,H=!m,z=Boolean(a&&(0,d().Q3)(a))||!m,G=Boolean(a&&(0,d().pD)(a,l))||Boolean(V.disableComment),W=(null==Be?void 0:Be.isNavigableBlock())||(0,ee().mEr)(Be),Z=s&&Ye(A,t)&&Ze(A),Y=v&&!Ze(A),$=function(e,t,i,o){if(!i||!t)return;if(e.device.isTablet&&!function(e){if(!e.hasContent())return!0;return e.getContentStores().every((e=>e.isEmptyEditableBlock()))}(t))return;const n=t.getParentStore();if(!n||!(0,de().D_)(n))return;function a(e){if(!e)return;const t=10;return e.length>t?`${Array.from(e).slice(0,t).join("").trim()}`:e}const{currentSpaceStore:l}=ke().default.state;if(n instanceof Me().SL&&l&&n.id===l.id)return a(ne().A.formatMessage(Fe.filingButtonPrivateSection));return a((0,de().Qe)(n,o,e,xe().zD.shouldEnablePageTitleDiffs(e.device)))}(A,null==k?void 0:k.pageStore,Y,T);return D({createAIAction:g,createDictationAction:p,disableDictationActions:y,disableAIAction:f,disableTextActions:h,disableBlockActions:x,disableLinkAction:O,disableEquationAction:H,disableCommentAction:G,disableMentionAction:z,disableTextFormatting:M,disableInsertBlockAction:w,disableTurnIntoAction:B,disableTextColorAction:P,disableDeleteBlock:F,disableUndo:R,disableRedo:L,disableIndent:N,disableUnindent:q,disableCopyLinkToBlock:W,selectedMenuType:C,isEditingTitle:s,shouldShowTextActions:Pe,usePillStyling:Z,isPersonalizedActionsEnabled:j,showNewMABIcons:U,textSelectionColor:_,textFormattingSelections:S,titleTexts:{filing:$,template:ne().A.formatMessage(Fe.templatesButtonTitle),moreTemplates:ne().A.formatMessage(Fe.moreTemplatesButtonTitle),todoListTemplate:ne().A.formatMessage(Fe.todoListTemplateTitle),weeklyPlanTemplate:ne().A.formatMessage(Fe.weeklyPlanTemplateTitle),databaseDiscoveryModal:ne().A.formatMessage(Fe.databaseDiscoveryModalTitle)},accessibilityTexts:{insert:ne().A.formatMessage(Fe.accessibilityInsert),turnInto:ne().A.formatMessage(Fe.accessibilityTurnInto),emojiPicker:ne().A.formatMessage(Fe.accessibilityEmojiPicker),filePicker:ne().A.formatMessage(Fe.accessibilityFilePicker),mention:ne().A.formatMessage(Fe.accessibilityMention),comment:ne().A.formatMessage(Fe.accessibilityComment),textFormatting:ne().A.formatMessage(Fe.accessibilityTextFormatting),trash:ne().A.formatMessage(Fe.accessibilityTrash),ai:ne().A.formatMessage(Fe.accessibilityAi),undo:ne().A.formatMessage(Fe.accessibilityUndo),redo:ne().A.formatMessage(Fe.accessibilityRedo),more:ne().A.formatMessage(Fe.accessibilityMore),indent:ne().A.formatMessage(Fe.accessibilityIndent),unindent:ne().A.formatMessage(Fe.accessibilityDedent),moveUp:ne().A.formatMessage(Fe.accessibilityMoveUp),moveDown:ne().A.formatMessage(Fe.accessibilityMoveDown),bold:ne().A.formatMessage(Fe.accessibilityBold),italics:ne().A.formatMessage(Fe.accessibilityItalics),underline:ne().A.formatMessage(Fe.accessibilityUnderline),strikethrough:ne().A.formatMessage(Fe.accessibilityStrikethrough),textColor:ne().A.formatMessage(Fe.accessibilityTextColor),code:ne().A.formatMessage(Fe.accessibilityCode),link:ne().A.formatMessage(Fe.accessibilityLink),copyLinkToBlock:ne().A.formatMessage(Fe.accessibilityCopyLinkToBlock),equation:ne().A.formatMessage(Fe.accessibilityEquation),close:ne().A.formatMessage(Fe.accessibilityCloseTextFormattingMenu),filing:ne().A.formatMessage(Fe.accessibilityFiling),todoList:ne().A.formatMessage(Fe.accessibilityTodoList),h1:ne().A.formatMessage(Fe.accessibilityH1),h2:ne().A.formatMessage(Fe.accessibilityH2),h3:ne().A.formatMessage(Fe.accessibilityH3),bulletedList:ne().A.formatMessage(Fe.accessibilityBulletedList),numberedList:ne().A.formatMessage(Fe.accessibilityNumberedList),toggleList:ne().A.formatMessage(Fe.accessibilityToggleList),quote:ne().A.formatMessage(Fe.accessibilityQuote),callout:ne().A.formatMessage(Fe.accessibilityCallout),dismissKeyboard:ne().A.formatMessage(Fe.accessibilityDismissKeyboard),closeActionMenu:ne().A.formatMessage(Fe.accessibilityCloseActionMenu),teamspaceSelector:ne().A.formatMessage(Fe.accessibilityTeamspaceSelector),toggleNumberPositivity:ne().A.formatMessage(Fe.toggleNumberPositivity)},teamIcon:null==Le?void 0:Le.icon,teamspaceName:null==Le?void 0:Le.name,theme:o})}),[A,t,E,n.ignoreSelectionAreaStore,k,V.disableStyleAnnotations,V.disableComment,he,Be,v,Pe,j,U,T,Le]),it=(0,r().K8)((()=>{var e;const t=A.NativeMobileActionBarStore,i=Boolean(null==t||null===(e=t.state)||void 0===e?void 0:e.isSubMenuOverridden),o=Ae().A.state.open,n=E&&We(!0),a=_e&&!j&&!n;var l;return i?null==t||null===(l=t.state.subMenu)||void 0===l?void 0:l.type:o?"slashMenu":a?"textFormatting":void 0}),[A.NativeMobileActionBarStore,E,j,_e]),ot=(0,ge().X)("mobile_discovery_modal_gate"),nt=(0,r().K8)((()=>{var e;const i=ze(),o=Ge(Be),a=We(E),l="callout"===(null==(s=Be)||null===(r=s.getParentBlockStore())||void 0===r?void 0:r.getType());var s,r;const c=function(e){const t=null==e?void 0:e.getType();return"quote"===t}(Be),d=!ae().nC(k&&k.publicEditModeStore.state),u=!Ke().every(Q().v6),m=!Ke().every(Q().mE),g=Qe(n.ignoreSelectionAreaStore),b=!!g&&g.some((e=>{const t=e.getType();return t&&Ve[t]})),p=Ye(A,t)&&Ze(A),y=Boolean(Be&&(0,ce().P4)(Be)),f=null==Be?void 0:Be.getType(),h=f&&Ve[f],x=!Boolean(null===(e=A.NativeMobileActionBarStore)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.isSubMenuOverridden)&&_e,S=!(d||u&&m),T=j?function(e,t){const i=new(be().A),o=t?ve:pe;return i.getFrecencyRankedActions(e,o)}(ye().A.get(),"v2"===_):[];return L({buttonMap:tt,shouldShowTemplatePills:p,frecentlyRankedActions:T,isEditingTitle:i,isEditingHeader:o,isEditingSimpleTableOrCollectionTextPropertyInExp:a,isEditingCallout:l,isEditingQuote:c,shouldPrioritizeList:S,someBlockPrioritizesIndentation:b,shouldShowEmojiPicker:N,shouldShowFiling:v&&!Ze(A),shouldShowTemplates:Ye(A,t),isTablet:A.device.isTablet,isPersonalizedActionsEnabled:j,isDBUXMobileEnabled:E,isMobileDiscoveryModalEnabled:ot,shouldShowSelectedTextButtons:x,isIndentable:h,isEmpty:y,shouldShowTeamspaceSelector:He,shouldRenderMABForNumberProperty:et})}),[Be,E,ot,k,n.ignoreSelectionAreaStore,A,t,_e,j,_,tt,v,He,N,et]),at=(0,r().K8)((()=>{var e;const{NativeMobileActionBarStore:t}=A,i=null==t||null===(e=t.state.menu)||void 0===e?void 0:e.type,o=function(e){const{buttonMap:t,shouldShowTextActions:i}=e;let o;return o=i?[P,t.ai,t.color,t.comment,t.bold,t.italic,t.underline,t.strikethrough,t.link,t.code,t.equation].filter(p().O9):[P,t.color,t.bold,t.italic,t.underline,t.strikethrough,t.link,t.code,t.equation].filter(p().O9),{id:"mab.buttonSection.textFormatting",shouldFadeIn:!0,buttons:o}}({buttonMap:tt,shouldShowTextActions:Pe}),n=void 0===i?tt.dismissKeyboard:tt.closeActionMenu,a=function(e){const{version:t,selectedMenu:i,selectedSubMenu:o,nativeMenus:n,buttonSections:a,nativeSubMenus:l,dismissKeyboardButton:s,localizedMessages:r}=e;return{nativeMenus:n,nativeSubMenus:l,localizedMessages:r,state:{buttonSections:a,selectedMenu:i,selectedSubMenu:o,dismissKeyboardButton:s},version:t}}({version:j||U?3:1,selectedMenu:i,selectedSubMenu:it,nativeMenus:{textColor:{id:"textColor",title:ne().A.formatMessage(Fe.actionMenuColorTitle),sections:he.textColor.sections},textSelectionColor:{id:"textSelectionColor",title:ne().A.formatMessage(Fe.actionMenuColorTitle),sections:he.textSelectionColor.sections},insertBlock:{id:"insertBlock",title:ne().A.formatMessage(Fe.actionMenuInsertBlockTitle),sections:he.insertBlock.sections},turnInto:{id:"turnInto",title:ne().A.formatMessage(Fe.actionMenuTurnIntoTitle),sections:he.turnInto.sections}},nativeSubMenus:{suggested:[],textFormatting:[o],slashMenu:[],turnInto:[],textColor:[],textSelectionColor:[],more:[]},buttonSections:nt,accessibilityTexts:{dismissKeyboard:ne().A.formatMessage(Fe.accessibilityDismissKeyboard),closeActionMenu:ne().A.formatMessage(Fe.accessibilityCloseActionMenu)},localizedMessages:{...Je(it)},dismissKeyboardButton:n});if(Se().default.checkGate({gateName:"mobile_mab_mrr"})){var l;const e=null===(l=A.NativeMobileActionBarStore)||void 0===l?void 0:l.state,t=7,o=Boolean(null==e?void 0:e.isSubMenuOverridden)?t:0;if(a.state.buttonSections.flatMap((e=>e.buttons)).forEach(((e,t)=>{e.action.apiRequestValue&&(e.action.apiRequestValue.context={index:t+1+o,id:e.id})})),it){var s,r;let i=0;null!=e&&null!==(s=e.subMenu)&&void 0!==s&&s.type&&null!=e&&null!==(r=e.subMenu)&&void 0!==r&&r.context&&(i=t+e.subMenu.context.index),a.nativeSubMenus[it].flatMap((e=>e.buttons)).forEach(((e,t)=>{e.action.apiRequestValue&&(e.action.apiRequestValue.context={index:t+1+i,id:e.id})}))}if(i){var c,d;let o=0;null!=e&&null!==(c=e.menu)&&void 0!==c&&c.type&&null!=e&&null!==(d=e.menu)&&void 0!==d&&d.context&&(o=t+e.menu.context.index),a.nativeMenus[i].sections.flatMap((e=>e.items)).forEach(((e,t)=>{e.action.apiRequestValue&&(e.action.apiRequestValue.context={index:t+1+o,id:e.id})}))}}return a}),[A,it,Pe,tt,he,nt,j,U],{useDeepEqual:!0,debugName:"getCurrentActionBarSchema"}),lt=(0,o.useCallback)((e=>{var t,i,o;let{action:n}=e;if(null!==(t=n.apiRequestValue)&&void 0!==t&&t.context&&null!==(i=n.apiRequestValue)&&void 0!==i&&i.context.id&&null!==(o=n.apiRequestValue)&&void 0!==o&&o.context.index){var a,l,s;const e=Boolean(Be&&(0,ce().P4)(Be)),t=null==Be?void 0:Be.getType(),i=Boolean(t&&Ve[t]),o=null==je?void 0:je.startIndex,r=null==je?void 0:je.endIndex,c=Ce().default.state.stores[0],d={action_id:F(n.apiRequestValue.context.id),reciprocal_rank:1/(null===(a=n.apiRequestValue)||void 0===a?void 0:a.context.index),block_type:null==c?void 0:c.getType(),is_editing_title:ze(),text_selection_start_index:o,text_selection_end_index:r,is_indentable:i,is_empty:e,is_editing_header:Ge(Be),session_id:null===(l=A.NativeMobileActionBarStore)||void 0===l||null===(l=l.state.session)||void 0===l?void 0:l.session_id,render_id:null===(s=A.NativeMobileActionBarStore)||void 0===s||null===(s=s.state.session)||void 0===s?void 0:s.render_id,algorithm_version:_};(0,te().u4)({environment:A,event:{eventName:"mobile_action_bar_reciprocal_rank",eventProperties:d}})}switch(n.type){case"nativeAction_setMenuType":!function(e,t,i){var o;const n=function(e){if("nativeAction_setMenuType"!==e.type)return new B(w.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("menuType"in t))return new B(w.MissingPayload,void 0);null===t.menuType&&(t.menuType=void 0);const i=f().object({required:{menuType:f().undefinable(f().literals(...x))},optional:{}}),o=(0,y().tf)(i,t);return o?new B(w.InvalidRequestType,JSON.stringify(o)):t.menuType}(e);if(n instanceof B)return void console.error(JSON.stringify(n));const a=t.NativeMobileActionBarStore?null===(o=t.NativeMobileActionBarStore.state.menu)||void 0===o?void 0:o.type:void 0;if(a===n)ae().i3(t,void 0,!0);else{var l;if(!n)return void ae().i3(t,void 0,!0);switch(ae().i3(t,{type:n,context:null===(l=e.apiRequestValue)||void 0===l?void 0:l.context},!0),i(n),n){case"insertBlock":ae().Km(t,"insert");break;case"turnInto":ae().Km(t,"turn_into");break;case"textColor":ae().Km(t,"color","mobile_action_bar");break;case"textSelectionColor":ae().Km(t,"color","mobile_text_formatting_menu")}}}(n,A,(e=>{const t=function(e){if("turnInto"===e)return"turnInto"}(e);void 0!==t&&ye().A.track(t)}));break;case"nativeAction_setSubMenuType":!function(e,t,i){const o=function(e){if("nativeAction_setSubMenuType"!==e.type)return new B(w.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("subMenuType"in t))return new B(w.MissingPayload,void 0);null===t.subMenuType&&(t.subMenuType=void 0);const i=f().object({required:{subMenuType:f().undefinable(f().literals(...S))},optional:{}}),o=(0,y().tf)(i,t);return o?new B(w.InvalidRequestType,JSON.stringify(o)):t.subMenuType}(e);if(o instanceof B)return void console.error(JSON.stringify(o));if(o){var n;ae().Qu(t,{type:o,context:null===(n=e.apiRequestValue)||void 0===n?void 0:n.context},!0),i(o)}else ae().Qu(t,void 0,!0)}(n,A,(e=>{const t=function(e){switch(e){case"textFormatting":return"biu";case"turnInto":return"turnInto";default:return}}(e);void 0!==t&&ye().A.track(t)}));break;case"webAction_generic":!function(e,t,i,o){const n=function(e){if("webAction_generic"!==e.type)return new B(w.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("jsonPayload"in t))return new B(w.MissingPayload,void 0);const i=JSON.parse(t.jsonPayload),o=(0,y().tf)(C,i);return o?new B(w.InvalidData,JSON.stringify(o)):i}(e);if(n instanceof B)return void console.error(JSON.stringify(n));const{mainEditorCurrentBlockStore:a}=ke().default.state;if(!a)return;const{device:l}=i,s=Ne[n.data.action];s.closeParentMenu&&!l.isTablet&&ae().i3(i,void 0,!0);s.action({environment:i,blocks:[a],publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions",lazyDependencies:t}),o(n.data.action)}(n,M,A,(e=>{const t=e??O[e];tt[t]&&ye().A.track(t)}));break;case"webAction_genericAction":!function(e,t,i,o,n,a){var l,s;const r=null===(l=e.apiRequestValue)||void 0===l?void 0:l.menuType,c=null===(s=e.apiRequestValue)||void 0===s?void 0:s.actionId;if(!r||!c)return;const d=i({environment:n,blocks:Ce().default.state.stores,isPersonalizedActionsEnabled:o})[r].actions[c];if(null==d||!d.action)return;d.closeParentMenu&&ae().i3(n,void 0,!0);d.action({environment:n,blocks:Ce().default.state.stores,publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions",lazyDependencies:t});const u=Ce().default.state.stores[0];if(u){const e=u.getType(),t=u.getFormat();(0,$().N)(n,{analyticsName:d.analyticsName,action_type:d.analyticsActionType,from:"slash_menu",block_id:u.id,block_type:e,is_toggleable:e?(0,me().Yt)(e,t):void 0,slash_menu_filter_length:0,slash_menu_section:`Mobile Action Bar ${r}`,parent_collection_id:u.getParentCollectionIdUpToTwoLevels()}),d.analyticsName&&ae().Km(n,d.analyticsName,r)}a(c)}(n,M,re,j,A,(e=>{const t=O[e];void 0!==t&&tt[t]&&ye().A.track(t)}))}}),[Be,null==je?void 0:je.startIndex,null==je?void 0:je.endIndex,A,_,M,re,j,tt]);return(0,o.useEffect)((()=>{if(!V){const{NativeMobileActionBarStore:e}=A,t=window.setTimeout((()=>{var t,i;null!=e&&null!==(t=e.state.menu)&&void 0!==t&&t.type&&ae().i3(A,void 0,!1),null!=e&&null!==(i=e.state.subMenu)&&void 0!==i&&i.type&&ae().Qu(A,void 0,!1)}),500);return()=>{window.clearTimeout(t)}}}),[V,A]),(0,o.useEffect)((()=>{var e;const t=A.NativeMobileActionBarStore;Boolean(null==t||null===(e=t.state)||void 0===e?void 0:e.isSubMenuOverridden)||"slashMenu"!==it&&"textFormatting"!==it||null==t||t.update((e=>({...e,isSubMenuOverridden:!1,subMenu:void 0})))}),[A.NativeMobileActionBarStore,it]),(0,o.useEffect)((()=>{var e;if(!je)return;const{NativeMobileActionBarStore:t,device:i}=A;"TextSelectionStore"===je.source&&null!=t&&null!==(e=t.state.menu)&&void 0!==e&&e.type&&!i.isTablet&&ae().i3(A,void 0,!0)}),[A,je]),(0,o.useEffect)((()=>{var e;Ue&&null!==(e=A.NativeMobileActionBarStore)&&void 0!==e&&e.state.isSubMenuOverridden&&!Ae().A.state.open&&ae().Qu(A,void 0,!1)}),[A,Ue]),(0,o.useEffect)((()=>{var e,t,i;const{NativeMobileActionBarStore:o}=A,n=V.shouldShow,a=(it?at.nativeSubMenus[it]:at.state.buttonSections).map((e=>{let{id:t,buttons:i}=e;return{id:t,buttonIds:i.map((e=>{let{id:t}=e;return F(t)}))}}));let l=!0,s=!0;q.current&&(l=n&&q.current.isOpen!==n,s=l||!G().n4(a,q.current.sectionsState));const r=null==o||null===(e=o.state.session)||void 0===e?void 0:e.session_id,c=s||!r?g().JW():r,d=null==o||null===(t=o.state.session)||void 0===t?void 0:t.render_id,u=s||!d?g().JW():d;if(null===(i=A.NativeMobileActionBarStore)||void 0===i||i.update((e=>({...e,session:{session_id:c,render_id:u}}))),q.current={isOpen:n,sectionsState:a},(l||s)&&n){const e=Boolean(Be&&(0,ce().P4)(Be)),t=null==Be?void 0:Be.getType(),i=Boolean(t&&Ve[t]),o=null==je?void 0:je.startIndex,n=null==je?void 0:je.endIndex,a=Ce().default.state.stores[0];(0,te().u4)({environment:A,event:{eventName:"mobile_action_bar_render",eventProperties:{session_id:c,render_id:u,block_type:null==a?void 0:a.getType(),is_editing_title:ze(),text_selection_start_index:o,text_selection_end_index:n,is_indentable:i,is_empty:e,is_editing_header:Ge(Be),algorithm_version:_}}})}}),[A,at,it,V.shouldShow,Be,je,_]),(0,l().X)((0,o.useCallback)((()=>{h&&h({type:"unmount",id:""})}),[h])),(0,qe.jsx)(Oe,{isOpen:V.shouldShow,canShow:V.canShowNativeBar,isEmpty:V.isEmpty,schema:at,onAction:lt,fallbackRenderer:i&&(()=>i(n))})}function Ke(){return Ce().default.state.stores}function ze(){return(0,ie().fI)()||(0,ie().Te)()}function Ge(e){const t=null==e?void 0:e.getType();return"header"===t||"sub_header"===t||"sub_sub_header"===t}function We(e){const t=he().A.state.isActive,i=ae().zN();return t||i&&e}function Ze(e){return e.device.isMobileNative&&!e.device.isTablet}function Ye(e,t){return ae().ou({environment:e,store:t})}function $e(e){const t="editing"===we().default.state.mode&&we().default.state.multiSelection,i=e.state.savedTextSelectionStoreState,o=i&&"editing"===i.mode&&i.multiSelection;return t||o||void 0}function Qe(e){var t;const i=$e(e);return i&&(null===(t=(0,re().ZS)({multiSelection:i,focus:void 0,filterCommonAncestors:!1}))||void 0===t?void 0:t.stores)}function Je(e){let t;switch(e){case void 0:break;case"suggested":t=ne().A.formatMessage(Fe.subMenuLabelSuggested);break;case"slashMenu":t=Ae().A.state.open&&Ae().A.state.isAddMenu?ne().A.formatMessage(Fe.subMenuLabelInsert):ne().A.formatMessage(Fe.subMenuLabelTurnInto);break;case"turnInto":t=ne().A.formatMessage(Fe.subMenuLabelTurnInto);break;case"textFormatting":t=ne().A.formatMessage(Fe.subMenuLabelTextFormatting);break;case"textColor":case"textSelectionColor":t=ne().A.formatMessage(Fe.subMenuLabelTextColor)}return t?{selectedSubMenuLabel:t}:void 0}},124085:(e,t,i)=>{i.d(t,{P:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("thinPlus",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M 7.75 0L 6.25 0L 6.25 6.25L 0 6.25L 0 7.75L 6.25 7.75L 6.25 14L 7.75 14L 7.75 7.75L 14 7.75L 14 6.25L 7.75 6.25L 7.75 0Z"})})},195071:(e,t,i)=>{i.d(t,{A:()=>k});i(944114),i(898992),i(803949),i(581454),i(296540);var o=()=>i(67657),n=()=>i(959013),a=()=>i(496603),l=()=>i(478184),s=()=>i(722372),r=()=>i(722872),c=()=>i(553965),d=()=>i(962730),u=()=>i(509060),m=()=>i(760217),g=()=>i(928600),b=()=>i(939740),p=()=>i(480095),v=()=>i(89924),y=()=>i(859428),f=()=>i(662971),h=i(474848);const A=(0,n().YK)({noneText:{defaultMessage:"None",id:"database.propertyAggregationMenu.noneText"}});const k=(0,n().j4)((function(e){let{onClose:t,property:a,schema:l,currentAggregation:c,source:d,noneText:u,intl:y,onChange:k}=e;const x=(0,i(484714).v3)(),{device:C}=x;let w;w=C.isMobile?{menuType:r().gu.Modal,title:(0,h.jsx)(n().sA,{defaultMessage:"Table aggregation",id:"database.mobilePropertyAggregationMenu.title"}),right:(0,h.jsx)(p().DoneMenuText,{}),onClickRight:t}:{menuType:r().gu.Popup,width:200};const[B,I]=function(e){let{property:t,schema:i,source:n,intl:a,onChange:l,environment:c,currentAggregation:d,noneText:u}=e;const y=[];let k=0,x=0;const{device:C}=c,w=function(e,t,i,n,a){const l={},s=null==a?void 0:a.enforceMaxAggregationLimit,r=null==a?void 0:a.aggregator,c=t[e];if(!c)return{};const d=e=>i(e,s);for(const u of o().VD)l[u]=S(u===r,u,d);if((0,o().wG)(c))for(const u of o().CG)l[u]=S(u===r,u,d);if((0,o().OC)(c))for(const u of o().Sn)l[u]=S(u===r,u,d);if((0,o().fo)(c))for(const u of o().zE)l[u]=S(u===r,u,d);if((0,o().s_)(c))for(const u of o().QO)l[u]=S(u===r,u,d);if((0,o().q0)(c))for(const u of o().nJ)l[u]=T(e,u,a,t,i,n);if((0,o().pe)(c))for(const u of o().A3)l[u]=S(u===r,u,d);return l}(t,i,l,c,d);y.push({key:"none",render:e=>(0,h.jsx)(m().A,{...e,isChecked:!d,title:u||a.formatMessage(A.noneText)}),action:()=>l(void 0)});let B="tableAggregation"===n?1:2;return Object.entries(o().Kn).forEach((e=>{let[t,i]=e;const a=[];for(const l of i)if(w[l]){if("show_unique"===l)switch(n){case"tableAggregation":continue;case"rollupPropertyMenu":y.splice(1,0,w[l]),(null==d?void 0:d.aggregator)===l&&(k=1);continue}a.push(w[l]),(d&&(0,o().ET)(null==d?void 0:d.aggregator)&&d.aggregator.operator===l||(null==d?void 0:d.aggregator)===l)&&(k=B,x=a.length-1)}const c=[];if("count_aggregations"===t&&"tableAggregation"===n&&c.push({key:"limitToggleSection",render:e=>(0,h.jsx)(v().A,{...e}),items:[M(d,l)]}),c.push({key:"aggregations",render:e=>(0,h.jsx)(v().A,{topBorder:!0,...e}),items:a}),a.length>0){B++;const e=s().jA[t],i={key:e,render:(t,i)=>(0,h.jsx)(f().A,{...t,disableDefaultClick:!0,onFocus:i.onFocus,renderOrigin:(t,i)=>(0,h.jsx)(m().A,{...t,ref:i,title:e}),renderExtension:(t,o)=>{let n;return n=C.isMobile?{menuType:r().gu.Modal,title:e,right:(0,h.jsx)(p().DoneMenuText,{}),onClickRight:o.close,...t}:{menuType:r().gu.Popup,width:250,...t},(0,h.jsx)(g().A,{...n,children:(0,h.jsx)(b().Ay,{type:b().Oh.Vertical,initialFocus:x,sections:c,onAccept:(e,t,n)=>{o.close(),i.onAccept&&i.onAccept(e,t,n)}})})}}),action:()=>null};y.push(i)}})),[y,k]}({property:a,schema:l,source:d,intl:y,onChange:k,environment:x,currentAggregation:c,noneText:u});return(0,h.jsx)(g().A,{...w,children:(0,h.jsx)(b().Ay,{type:b().Oh.Vertical,initialFocus:I??0,sections:[{key:0,render:e=>(0,h.jsx)(v().A,{...e}),items:B}],onAccept:t})})}));function x(e){let{isSelected:t,aggregationType:i,label:o,props:n}=e;const a=s().cx[i];return(0,h.jsx)(y().A,{placement:d().W.Right,delayThreshold:0,render:e=>(0,h.jsx)(m().A,{title:o,isChecked:t,...(0,c().A)(e,n)}),renderTooltip:()=>(0,h.jsxs)("div",{style:{width:140,whiteSpace:"normal"},children:[a&&(0,h.jsx)("img",{src:(0,l().L)(a),style:{borderRadius:4,width:140,marginTop:4}}),s().fp[i]]})},n.key)}function S(e,t,i){const o=s().zY[t],n=s().cx[t];return{key:o,render:i=>(0,h.jsx)(y().A,{placement:d().W.Right,delayThreshold:0,render:t=>(0,h.jsx)(m().A,{title:o,isChecked:e,...(0,c().A)(t,i)}),renderTooltip:()=>(0,h.jsxs)("div",{style:{width:140,whiteSpace:"normal"},children:[n&&(0,h.jsx)("img",{src:(0,l().L)(n),style:{borderRadius:4,width:140,marginTop:4}}),s().fp[t]]})},i.key),action:()=>{i(t)}}}function T(e,t,i,n,l,c){const{device:d}=c,u=s().zY[t],y=a().oE(function(e,t,i,n,a){const l=n[t];if(!l||"status"!==l.type)return;const s=l.groups;return s?s.map((t=>{const n=(e&&(0,o().ET)(e.aggregator)&&e.aggregator.operator===i&&e.aggregator.groupName===t.name)??!1;return{key:`${i}${t.name}`,render:e=>(0,h.jsx)(x,{isSelected:n,aggregationType:i,label:t.name,props:e}),action:()=>{a({operator:i,groupName:t.name})}}})):void 0}(i,e,t,n,l));let A=0;if(i&&(0,o().ET)(null==i?void 0:i.aggregator)&&i.aggregator.operator===t){const e=i.aggregator.groupName,o=y.findIndex((i=>i.key===`${t}${e}`));-1!==o&&(A=o)}return{key:t,render:(e,t)=>(0,h.jsx)(f().A,{...e,onFocus:t.onFocus,renderOrigin:e=>(0,h.jsx)(m().A,{...e,title:u}),renderExtension:(e,i)=>{let o;return o=d.isMobile?{menuType:r().gu.Modal,title:u,right:(0,h.jsx)(p().DoneMenuText,{}),onClickRight:i.close,...e}:{menuType:r().gu.Popup,width:200,...e},(0,h.jsx)(g().A,{...o,children:(0,h.jsx)(b().Ay,{type:b().Oh.Vertical,initialFocus:A,sections:[{key:"groups",render:e=>(0,h.jsx)(v().A,{...e}),items:y}],onAccept:t.onAccept})})}}),action:()=>null}}function M(e,t){const i=Boolean(null==e?void 0:e.enforceMaxAggregationLimit);return{key:"aggregationLimitToggle",render:e=>(0,h.jsx)(u().A,{on:i,menuListItemProps:e}),action:()=>{t(e?e.aggregator:"count",!i)}}}},207583:(e,t,i)=>{i.d(t,{F:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("eyeHideInversePadded",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M17.3867 18.1074C17.6055 18.3193 17.9404 18.333 18.1592 18.1074C18.3848 17.875 18.3711 17.5469 18.1592 17.335L6.5791 5.76855C6.37402 5.55664 6.01855 5.5498 5.80664 5.76855C5.60156 5.97363 5.60156 6.3291 5.80664 6.53418L17.3867 18.1074ZM12 6.1582C10.8105 6.1582 9.73047 6.36328 8.72559 6.69141L9.81934 7.78516C10.5098 7.58691 11.2275 7.4707 12 7.4707C16.3682 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 12.6113 18.7334 14.0059 16.9766 15.1064L17.9883 16.125C20.1348 14.7168 21.3857 12.8779 21.3857 12.0713C21.3857 10.6699 17.6055 6.1582 12 6.1582ZM12 17.9912C13.2646 17.9912 14.4199 17.7725 15.4658 17.4102L14.3789 16.3232C13.6338 16.542 12.8477 16.6787 12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.6133 5.32129 10.1299 7.19434 8.98145L6.16211 7.94922C3.92676 9.37109 2.60742 11.251 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM15.4111 13.3906C15.5889 12.9873 15.6914 12.5361 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C11.5283 8.39355 11.084 8.48242 10.6738 8.65332L15.4111 13.3906ZM12 15.7559C12.5332 15.7559 13.0322 15.6328 13.4766 15.4209L8.64355 10.5811C8.4248 11.0322 8.30176 11.5312 8.30176 12.0781C8.30859 14.0811 9.94238 15.7559 12 15.7559Z"})})},229907:(e,t,i)=>{i.d(t,{lT:()=>c});i(944114);var o=()=>i(244641),n=()=>i(720665),a=()=>i(416845);const l=7;function s(e){if(void 0===e)return o().c9.utc();const t={zone:"utc"};return"number"==typeof e?o().c9.fromMillis(e,t):o().c9.fromISO(e,t)}function r(e,t){const i=t?s(t):o().c9.utc(),n=s(e??function(e){const{days:t,endDate:i,startDate:n}=e;if(t<=0)throw new(a().yI4)("Days must be greater than 0");const l=i?s(i):o().c9.utc();if(!l.isValid)throw new(a().yI4)(`endDate ${i} is in an invalid format`);const r=n?s(n).toMillis():0,c=l.minus({days:t-1}).toMillis();return Math.max(c,r)}({days:l,endDate:t}));if(!n.isValid)throw new(a().yI4)(`startDate ${e} is in an invalid format`);if(!i.isValid)throw new(a().yI4)(`endDate ${t} is in an invalid format`);if(n>i)throw new(a().yI4)(`startDate ${e} => ${n.toISO()} is after endDate ${t} => ${i.toISO()}`);return{startTimestamp:n.toMillis(),endTimestamp:i.toMillis()}}function c(e,t){const{startTimestamp:i,endTimestamp:o}=r(e,t),a=[];let l=i;for(;l<=o;)a.push(s(l).toISODate()),l+=n().nD;return a}},305961:(e,t,i)=>{i.d(t,{d:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("eyePadded",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M12 17.9912C17.6055 17.9912 21.3857 13.4727 21.3857 12.0713C21.3857 10.6699 17.5986 6.1582 12 6.1582C6.47656 6.1582 2.60742 10.6699 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.2715 7.63184 7.4707 12 7.4707C16.3613 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 13.0283 16.3613 16.6787 12 16.6787ZM12 15.7559C14.0508 15.7559 15.6914 14.0811 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C9.94238 8.39355 8.29492 10.0137 8.30176 12.0713C8.31543 14.0811 9.94238 15.7559 12 15.7559ZM12 13.2607C11.3369 13.2607 10.7969 12.7275 10.7969 12.0713C10.7969 11.415 11.3369 10.8818 12 10.8818C12.6631 10.8818 13.1963 11.415 13.1963 12.0713C13.1963 12.7275 12.6631 13.2607 12 13.2607Z"})})},378941:(e,t,i)=>{i.d(t,{BS:()=>v,Hf:()=>p,J7:()=>m,NZ:()=>b,XC:()=>y,hs:()=>g});i(16280),i(944114),i(898992),i(354520),i(672577),i(581454);var o=()=>i(857639),n=()=>i(792071),a=()=>i(277816),l=()=>i(534177),s=()=>i(449506),r=()=>i(246826),c=()=>i(751156),d=()=>i(351360),u=()=>i(630116);function m(e){let{trustedDomainIds:t,spaceStore:i}=e;return t.map((e=>{const t=u().LX.createChildStore(i,{table:a().A,id:e,spaceId:i.id});if(t.canRead())return t})).filter(l().O9)}async function g(e){let{environment:t,spaceId:i,currentUserId:n,organizationId:a}=e;const l=await s().callApi({eventName:"getTrustedDomainsNumberOfMembers",environment:t,data:{spaceId:i,organizationId:a},userId:n});return"failed"===l.type?(o().rateLimitedLog({from:"trustedDomainHelpers",level:"error",type:"getTrustedDomainsNumberOfMembersForSpaceFailed"}),[]):l.data.results}function b(e){let{environment:t,trustedEmailDomain:i,trustedDomainStores:o,spaceStore:n,spaceBasicSettingsStore:l}=e,s=o.find((e=>e.getEmailDomain()===i));const d=l.state.emailDomains;return s?(c().createAndCommit({userAction:"trustedDomainActions.setTrustedDomainDLSEnabled",environment:t,canUndo:!0,perform:e=>{r().zv({store:n,data:{email_domains:d},transaction:e}),r().zv({store:s,data:{domain_link_sharing_enabled:!0,join_space_method:"request_to_join"},transaction:e})}}),s):(c().createAndCommit({userAction:"trustedDomainActions.createTrustedDomain",environment:t,canUndo:!0,perform:e=>{r().zv({store:n,data:{email_domains:d},transaction:e});const o={space_id:n.id,join_space_method:"request_to_join",domain_link_sharing_enabled:!0,email_domain:i};s=r().eC({environment:t,table:a().A,value:o,inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,transaction:e})}}),s&&o.push(s),s)}function p(e){let{store:t,environment:i}=e;const{currentSpaceStore:o}=d().default.getState();if(!o)throw new Error("currentSpaceStore does not exist");if(o.id!==t.getSpaceId())throw new Error("Mismatched spaceId");return!!t.isReady()&&(c().createAndCommit({userAction:"trustedDomainActions.deleteTrustedDomain",environment:i,canUndo:!0,perform:e=>{r().zv({store:t,data:{domain_link_sharing_enabled:!1},transaction:e})}}),!0)}function v(e){let{store:t,environment:i,joinSpaceMethod:o}=e;const{currentSpaceStore:n}=d().default.getState();if(!n)throw new Error("currentSpaceStore does not exist");if(n.id!==t.getSpaceId())throw new Error("Mismatched spaceId");return!!t.isReady()&&(t.getJoinSpaceMethod()!==o&&(c().createAndCommit({userAction:"trustedDomainActions.setTrustedDomainJoinSpaceMethod",environment:i,canUndo:!0,perform:e=>{r().zv({store:t,data:{join_space_method:o},transaction:e})}}),!0))}async function y(e){let{environment:t,spaceId:i}=e;const o=await s().callApi({eventName:"getTrustedDomainsForSpace",environment:t,data:{spaceId:i}});if("success"!==o.type)return[];return o.data.results.filter((e=>e.domain_link_sharing_enabled)).map((e=>n().Bj6.fromValue(a().A,e)))}},454354:(e,t,i)=>{i.d(t,{A:()=>l});var o=()=>i(351360),n=()=>i(630116);class a extends(()=>i(757695))().default{getInitialState(){return{changePermissionsEnabled:!1,privatePageStore:void 0,loading:!1,error:void 0}}shouldSaveTransactionWithSudoMode(e){const t=e===this.state.privatePageStore,i=this.doesUserAlreadyHaveEditorAccess(e.pointer);return t&&this.state.changePermissionsEnabled&&!i}shouldUserHaveAccessToPrivatePageBlock(){var e,t;const i=null===(e=o().default.state.currentSpaceStore)||void 0===e?void 0:e.canAdmin(),n="enterprise"===(null===(t=o().default.state.currentSpaceStore)||void 0===t?void 0:t.getSubscriptionTier());return this.state.privatePageStore&&i&&n}doesUserAlreadyHaveEditorAccess(e){const t=o().default.state.currentSpaceStore;if(!t)return!1;return(e.table===i(179034).ev?n().Bv.createChildStore(t,e):n().md.createChildStore(t,e)).canAdmin()}}const l=a},482707:(e,t,i)=>{i.d(t,{k:()=>a});var o=()=>i(645873);const n=new(o().O2)("shareMenuContainer",(async()=>await Promise.all([i.e(75134),i.e(43380),i.e(9304),i.e(96346),i.e(55373),i.e(36192),i.e(44711),i.e(62475),i.e(3151),i.e(16471),i.e(53321),i.e(58550),i.e(98629),i.e(90825),i.e(37353),i.e(29151),i.e(31895),i.e(83647),i.e(22900),i.e(49889),i.e(97727),i.e(85128),i.e(83700),i.e(95555),i.e(58823),i.e(85864),i.e(92845),i.e(71718),i.e(83324),i.e(74562),i.e(38744),i.e(63077),i.e(28271),i.e(17254),i.e(41870),i.e(90966),i.e(42120),i.e(7114),i.e(67435),i.e(92012),i.e(22462),i.e(8184),i.e(4422),i.e(28721),i.e(28866),i.e(21194),i.e(6463),i.e(71993),i.e(1213),i.e(17989),i.e(90625),i.e(59794),i.e(78846),i.e(26483),i.e(43741),i.e(81768),i.e(94387),i.e(82850),i.e(52393),i.e(77692),i.e(75601),i.e(11341),i.e(7060),i.e(82136),i.e(12739),i.e(26090),i.e(73594),i.e(93282),i.e(12341),i.e(50984),i.e(66984),i.e(40828),i.e(26199),i.e(18057),i.e(90978),i.e(56264),i.e(5023),i.e(55927),i.e(61151),i.e(72226),i.e(48199),i.e(67780),i.e(96933),i.e(87598),i.e(23063),i.e(3965),i.e(84341),i.e(80533),i.e(45620),i.e(58221),i.e(44763),i.e(8081),i.e(67183),i.e(64598),i.e(82720),i.e(4253),i.e(86787),i.e(77465),i.e(24593),i.e(80896),i.e(1440),i.e(67378),i.e(58504),i.e(97308),i.e(63996),i.e(20636),i.e(66268),i.e(55717),i.e(7005),i.e(40186),i.e(22585),i.e(73206),i.e(11037),i.e(33235),i.e(91957),i.e(84176),i.e(16357),i.e(75681)]).then(i.bind(i,698085)))),a=(0,o()._h)(n,(e=>e.ShareMenuContainer))},509060:(e,t,i)=>{i.d(t,{A:()=>a});i(296540);var o=()=>i(959013),n=i(474848);const a=function(e){let{on:t,menuListItemProps:a}=e;return(0,n.jsx)(i(574036).A,{...a,on:t,style:{alignItems:"flex-start",paddingTop:8,paddingBottom:8},title:(0,n.jsx)(o().sA,{defaultMessage:"Show large counts as 99+",id:"BoardAggregations.aggregationLimitToggle.title"}),captionStyle:{marginTop:6},shouldWrapCaption:!0,caption:(0,n.jsx)(o().sA,{defaultMessage:"This improves performance for large databases.",id:"BoardAggregations.aggregationLimitToggle.description"})})}},516672:(e,t,i)=>{i.d(t,{S:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("filter",{viewBox:"0 0 16 16",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4C2 3.58579 2.33579 3.25 2.75 3.25H13.25C13.6642 3.25 14 3.58579 14 4C14 4.41421 13.6642 4.75 13.25 4.75H2.75C2.33579 4.75 2 4.41421 2 4Z"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 8C3.75 7.58579 4.08579 7.25 4.5 7.25H11.5C11.9142 7.25 12.25 7.58579 12.25 8C12.25 8.41421 11.9142 8.75 11.5 8.75H4.5C4.08579 8.75 3.75 8.41421 3.75 8Z"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12C5.5 11.5858 5.83579 11.25 6.25 11.25H9.75C10.1642 11.25 10.5 11.5858 10.5 12C10.5 12.4142 10.1642 12.75 9.75 12.75H6.25C5.83579 12.75 5.5 12.4142 5.5 12Z"})]})})},539148:(e,t,i)=>{i.d(t,{S:()=>b});i(296540);var o=()=>i(484714),n=()=>i(401497),a=()=>i(734410),l=()=>i(959013),s=()=>i(704152),r=()=>i(859428),c=()=>i(673730),d=()=>i(554283),u=()=>i(962730),m=i(474848);const g=(0,l().YK)({addDescriptionTooltip:{id:"database.description.addDescriptionTooltip",defaultMessage:"Add description"},editDescriptionTooltip:{id:"database.description.editDescriptionTooltip",defaultMessage:"Edit description"}});function b(e){let{onClick:t,description:i,showTooltip:b,addDescriptionText:p,editDescriptionText:v,disabled:y}=e;const{isMobile:f}=(0,o().Y0)(),[h,A]=(0,d().B)(),k=(0,l().tz)(),x=(0,n().IS)((e=>({button:{flexShrink:0,flexGrow:0,borderRadius:f?24:20,marginLeft:4},info:{width:f?18:16,height:f?18:16,fill:A&&!y?e.regularIconColor:e.mediumIconColor}})),[A,f,y]);return(0,m.jsx)(r().A,{renderTooltip:e=>(0,m.jsx)("div",{...e,children:Boolean(null==i?void 0:i.length)?i:p??k.formatMessage(g.addDescriptionTooltip)}),disableTooltip:!b||y,style:c().Q$,placement:u().W.Top,render:e=>(0,m.jsx)(s().A,{...e,ref:h,onClick:t,"aria-label":Boolean(null==i?void 0:i.length)?p:v??k.formatMessage(g.editDescriptionTooltip),style:x.button,disabled:y,disabledFeedback:y,children:(0,a().q)(x.info)})})}},555267:(e,t,i)=>{i.d(t,{A:()=>r});var o=i(296540),n=()=>i(401497),a=()=>i(62856),l=()=>i(331542),s=i(474848);function r(e){let{loadingMessage:t}=e;const i=(0,n().DP)(),r=(0,a().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:r&&(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(l().A,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:i.text.secondary},children:t})]})})}},637573:(e,t,i)=>{i.d(t,{r:()=>s});var o=()=>i(484714),n=()=>i(847249),a=()=>i(640653),l=()=>i(351360);function s(){const e=(0,o().v3)();return(0,n().K8)((()=>{const{currentSpaceStore:t}=l().default.state;if(t)return(0,a().fD)({environment:e,spaceId:t.id})}),[e])}},641276:(e,t,i)=>{i.d(t,{g:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("smileyFace",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M8 8.625c0 .621-.448 1.125-1 1.125s-1-.504-1-1.125S6.448 7.5 7 7.5s1 .504 1 1.125zm5 1.125c.552 0 1-.504 1-1.125S13.552 7.5 13 7.5s-1 .504-1 1.125.448 1.125 1 1.125zm-5.461 2.229a.75.75 0 00-1.085 1.036l.003.002.002.003.007.007.018.018.053.05c.044.04.105.093.182.153.154.12.377.272.67.42.59.3 1.456.582 2.61.582 1.156 0 2.022-.282 2.612-.581.293-.149.515-.3.67-.42a2.917 2.917 0 00.235-.205l.018-.017.006-.007.003-.003.002-.001v-.002a.75.75 0 00-1.084-1.035l-.006.005-.007.006c-.015.015-.045.04-.088.074a2.664 2.664 0 01-.428.267c-.396.2-1.03.419-1.932.419-.902 0-1.536-.218-1.932-.419-.2-.101-.342-.2-.428-.267a1.446 1.446 0 01-.101-.085z"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 1.25a8.75 8.75 0 110 17.5 8.75 8.75 0 010-17.5zm0 1.5a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5z",clipRule:"evenodd"})]})})},643747:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var o=i(296540),n=()=>i(484714),a=()=>i(847249),l=()=>i(401497),s=()=>i(959013),r=()=>i(443616),c=()=>i(532295),d=()=>i(843005),u=()=>i(413677),m=()=>i(722872),g=()=>i(986260),b=()=>i(691298),p=()=>i(212921),v=()=>i(377586),y=()=>i(757695);class f extends y().default{getInitialState(){return{}}}const h=f;class A extends y().default{getInitialState(){return{isOpen:!1,isInsertOpen:!1,isTurnIntoOpen:!1,isColorOpen:!1,isTemplatesOpen:!1}}}const k=A;var x=()=>i(75368),S=()=>i(502438),T=()=>i(452558),M=()=>i(928600),C=()=>i(480095),w=()=>i(897119),B=()=>i(381495),I=()=>i(32791),P=i(474848);const _=function(e){let{currentBlockStore:t,makeActionBarComponent:l,isNativeMobileActionBar:s}=e;const r=(0,n().v3)(),c=(0,i(792485).S)(),d=(0,a().uB)(void 0,i(970585).A),u=(0,a().uB)(void 0,h),m=(0,a().uB)(void 0,k),p=(0,a().K8)((()=>g().rV(r,t,null==c?void 0:c.publicEditModeStore.state)),[r,t,c]),{shouldShow:v}=p,{device:y,WindowSizeStore:f}=r,A=(0,a().K8)((()=>function(e,t,i){const{device:o}=e;return o.isMobileBrowser?t.state.isOpen:i}(r,m,v)),[r,m,v]),x=(0,a().K8)((()=>f.state.paddingBottomCSS),[f]),S=(0,i(140862).A)(!0),T=r.NativeMobileActionBarStore,M=(0,a().K8)((()=>g().jk(r)),[r]),C=(0,a().K8)((()=>"editing"!==i(24157).default.state.mode&&Boolean(null==T?void 0:T.state.shouldRestoreSelectionForMenu)),[T]);return(0,b().A)({shouldPreserveTextSelection:M,shouldPreserveBlockSelection:!1,shouldRestoreSelection:C}),(0,P.jsxs)(o.Fragment,{children:[(0,P.jsxs)("div",{...S,style:{position:"relative",width:"100%",height:0,zIndex:99},children:[l({store:m,ignoreSelectionAreaStore:u,templatePickerMenuListStore:d}),!s&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(R,{store:m}),(0,P.jsx)(U,{store:m}),(0,P.jsx)(D,{store:m})]}),(0,P.jsx)(L,{})]}),!A&&y.isIPhoneX&&y.isNative&&(0,P.jsx)("div",{style:{position:"absolute",bottom:0,background:"transparent",height:x,width:"100%",pointerEvents:"none",WebkitUserSelect:"none"}})]})};function j(e){e.setState({...e.state,isInsertOpen:!1})}function R(e){let{store:t}=e;const i=(0,n().v3)(),l=(0,o.useCallback)((()=>j(t)),[t]),{device:r}=i,d=(0,a().K8)((()=>t.state.isInsertOpen),[t]),u=(0,o.useMemo)((()=>(0,c().s7)(i)),[i]),{insertActions:g}=(0,a().O$)(u);return(0,P.jsx)(w().Ay,{popupType:r.isMobile?v().n.SlideUp:v().n.Popup,preventBlockRenderQueueOnEnter:!0,open:d,keepFocus:!0,onDismiss:()=>{j(t)},render:()=>(0,P.jsx)(M().A,{menuType:m().gu.Modal,title:(0,P.jsx)(s().sA,{defaultMessage:"Insert block",id:"mobileActionBar.insertBlock.modalTitle"}),right:(0,P.jsx)(C().CancelMenuText,{}),onClickRight:()=>{j(t)},children:(0,P.jsx)(T().A,{sections:g,context:{environment:i,blocks:S().default.state.stores,publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions"},onAccept:l})})})}function U(e){let{store:t}=e;const i=(0,n().v3)(),l=(0,o.useCallback)((()=>function(e){e.setState({...e.state,isTurnIntoOpen:!1})}(t)),[t]),r=(0,a().K8)((()=>t.state.isTurnIntoOpen),[t]);(0,b().A)({shouldPreserveTextSelection:r,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0});const{device:c}=i;return(0,P.jsx)(w().Ay,{popupType:c.isMobile?v().n.SlideUp:v().n.Popup,open:r,keepFocus:!0,onDismiss:l,preventBlockRenderQueueOnEnter:!0,render:()=>(0,P.jsx)(M().A,{menuType:m().gu.Modal,title:(0,P.jsx)(s().sA,{defaultMessage:"Turn into",id:"mobileActionBar.turnInto.modalTitle"}),right:(0,P.jsx)(C().CancelMenuText,{}),onClickRight:l,children:(0,P.jsx)(T().A,{sections:[{...d().t3,title:""}],context:{environment:i,blocks:S().default.state.stores,publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions"},onAccept:l})})})}function D(e){let{store:t}=e;const i=(0,n().v3)(),l=(0,o.useCallback)((()=>function(e){e.setState({...e.state,isColorOpen:!1})}(t)),[t]),{device:c}=i,d=(0,a().K8)((()=>t.state.isColorOpen),[t]);return(0,b().A)({shouldPreserveTextSelection:d,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0}),(0,P.jsx)(w().Ay,{popupType:c.isMobile?v().n.SlideUp:v().n.Popup,open:d,keepFocus:!0,onDismiss:l,preventBlockRenderQueueOnEnter:!0,render:()=>(0,P.jsx)(M().A,{menuType:m().gu.Modal,title:(0,P.jsx)(s().sA,{defaultMessage:"Block color",id:"mobileActionBar.blockColor.modalTitle"}),right:(0,P.jsx)(C().CancelMenuText,{}),onClickRight:l,children:(0,P.jsx)(T().A,{sections:[r().kl,r().qW,r().J1],context:{environment:i,blocks:S().default.state.stores,publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions"},onAccept:l})})})}function L(){const e=(0,n().v3)(),t=(0,l().IS)((e=>({popupStyles:{background:e.contentBackground}})),[]),i=(0,o.useCallback)((()=>function(e,t){const i=x().A.state.isFromNativeHome;x().A.setState({open:!1}),t.shouldCancel&&i&&(0,I().handleCancelQuickAdd)(e,{isMobileHorizon1QuickCapture:!1})}(e,{shouldCancel:!0})),[e]),{isTemplatesOpen:r}=(0,a().K8)((()=>({isTemplatesOpen:x().A.state.open})),[]);(0,b().A)({shouldPreserveTextSelection:r,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0});const{device:c}=e;return(0,P.jsx)(w().Ay,{popupType:c.isMobile?v().n.SlideUp:v().n.Popup,open:r,onDismiss:i,keepFocus:!0,style:t.popupStyles,render:()=>(0,P.jsx)(M().A,{menuType:m().gu.Modal,whiteBackground:!0,disableHeaderShadow:r,hideMobileTopbar:r,title:(0,P.jsx)(s().sA,{defaultMessage:"Templates",id:"mobileActionBar.templates.modalTitle"}),right:(0,P.jsx)(B().CloseTemplatesPopupComponent,{handleClick:i,style:{marginRight:20}}),disableScroller:!0,onClickRight:i,shouldRenderRightDirectly:!0,onCancel:i,forceFullScreenSlideUp:!0,children:(0,P.jsx)(p().A,{onTemplateItemSelect:t=>{u().openWithItem({environment:e,item:t,createNewPage:!1,isPrivate:!1,disablePointerEvents:!0})},onClose:i})})})}},673964:(e,t,i)=>{i.d(t,{j:()=>a});var o=()=>i(953418),n=()=>i(129522);function a(e){const{collectionContextStore:t,environment:i,fit:a}=e,l=t.collectionViewBlockStore();if(l){const e=n().K.findCollectionViewBlockFromStore(l);if(e){const t=e.getNode();t instanceof HTMLElement&&(0,o().$v)({blockAlignment:"start",element:t,environment:i,behavior:"instant",additionalPadding:{top:"filtersBar"===a?64:128},verticalVisibilityRequirement:"topVisible",horizontalVisibilityRequirement:"none"})}}}},680243:(e,t,i)=>{i.d(t,{l:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("keyboard",{viewBox:"0 0 30 30",svg:(0,o.jsxs)("g",{children:[" ",(0,o.jsx)("path",{d:"M15,30l8-10H7Zm0-3.2L11.16,22h7.68Z"})," ",(0,o.jsx)("path",{d:"M6,4H4V6H6V4Zm4,0H8V6h2V4Zm4,0H12V6h2V4Zm4,0H16V6h2V4Zm4,0H20V6h2V4Zm4,0H24V6h2V4ZM10,8H8v2h2V8Zm4,0H12v2h2V8Zm4,0H16v2h2V8Zm4,0H20v2h2V8Zm-2,4H10v2H20V12Zm5,0H22v2h3V12ZM5,14H8V12H5v2ZM0,0V18H30V0H0ZM28,16H2V2H28V16Z"})," "]})})},705602:(e,t,i)=>{i.d(t,{s:()=>u,y:()=>g});var o=i(296540),n=()=>i(484714),a=()=>i(401497),l=()=>i(959013),s=()=>i(419357),r=()=>i(89924),c=()=>i(673730),d=i(474848);const u=(0,l().YK)({descriptionHeader:{id:"database.viewSettings.propertyTab.description.title",defaultMessage:"Description"},addDescription:{id:"database.viewSettings.propertyTab.description.addDescription",defaultMessage:"Add a description..."}}),m=60;function g(e){let{initialDescription:t,handleSaveDescription:i,disableAutoSection:g}=e;const[b,p]=(0,o.useState)(t??""),v=(0,o.useRef)(b),{isMobile:y}=(0,n().Y0)(),f=(0,l().tz)(),h=(0,a().IS)((e=>({title:{display:"flex",alignItems:"center",gap:4,cursor:"default",color:e.text.secondary},descriptionInput:{lineHeight:"20px",fontSize:y?14:13}})),[y]),A=(0,o.useCallback)((()=>i(v.current)),[i]);(0,o.useEffect)((()=>()=>A()),[A]);const k=(0,o.useMemo)((()=>(0,d.jsx)(s().Ay,{value:b,onChange:e=>{p(e.target.value),v.current=e.target.value},onBlur:A,onSubmit:A,placeholder:f.formatMessage(u.addDescription),focusInitial:!0,disabled:!1,inputOuterStyle:h.descriptionInput,textarea:!0,textareaSubmitOnEnter:!0,maxlength:c().fy,autosize:!0,autosizeMaxHeight:m,showClearButton:!1})),[b,f,A,h.descriptionInput]);return y&&!g?(0,d.jsx)(r().A,{topBorder:!0,isInput:!0,title:(0,d.jsx)("span",{style:h.title,children:f.formatMessage(u.descriptionHeader)}),children:k}):k}},733815:(e,t,i)=>{i.d(t,{Z:()=>h});i(898992),i(354520),i(581454);var o=i(296540),n=()=>i(401497),a=()=>i(42583),l=()=>i(301608),s=()=>i(56394),r=()=>i(972435),c=()=>i(722872),d=()=>i(962730),u=()=>i(377586),m=()=>i(760217),g=()=>i(928600),b=()=>i(939740),p=()=>i(897119),v=()=>i(89924),y=()=>i(806754),f=i(474848);function h(e){const t=(0,n().IS)((e=>({popup:{width:125,marginLeft:5},pillStyle:{display:"flex",alignItems:"center"}})),[]),{currentFilter:i,hideAllTime:h}=e,[A,k]=(0,o.useState)(!1),x=l().jf.filter((e=>!h||"all_time"!==e)).map((t=>{const i=()=>{e.onChangeFilter(t),k(!1)};return{key:t,action:()=>{},render:()=>(0,f.jsx)(m().A,{focused:!1,onClick:i,title:r().A.formatMessage(l().jy[t])})}})),S=(0,f.jsx)(s().A,{on:Boolean(i),wrapStyle:t.pillStyle,icon:(0,a().D)({width:16,marginRight:6,fill:"currentColor"}),title:r().A.formatMessage(l().jy[i]),onClick:()=>{k(!0)}}),T=[{key:"filters",items:x,render:e=>(0,f.jsx)(v().A,{...e,title:null,loading:!1})}],M=(0,f.jsx)(g().A,{menuType:c().gu.Popup,header:null,children:(0,f.jsx)(b().Ay,{type:b().Oh.Vertical,initialFocus:0,sections:T})});return(0,f.jsx)(y().A,{marginAfter:!1,children:(0,f.jsx)(p().Ay,{popupType:u().n.Popup,placementToOrigin:d().W.Bottom,alignmentToOrigin:d().C.Start,open:A,render:()=>M,onDismiss:()=>k(!1),keepFocus:!0,origin:S,preventScaleTransition:!0,style:t.popup,trapFocus:!0,originGap:8})})}},748054:(e,t,i)=>{i.d(t,{M:()=>n});i(296540);const o={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M10.282 3.66a5.39 5.39 0 0 0-5.217-.54l-.711.305a.63.63 0 0 0-.38.575v12.425a.625.625 0 1 0 1.25 0v-3.913l.333-.142a4.14 4.14 0 0 1 4.008.414 5.39 5.39 0 0 0 5.504.405l1.06-.53a.63.63 0 0 0 .346-.56V4a.625.625 0 0 0-.905-.558l-1.06.53c-1.36.68-2.983.56-4.228-.312m-5.057 7.495V4.412l.332-.142a4.14 4.14 0 0 1 4.008.413 5.39 5.39 0 0 0 5.504.406l.156-.078v6.703l-.715.357c-1.36.68-2.983.56-4.228-.312a5.4 5.4 0 0 0-5.057-.604"})},n=(0,i(340498).wt)("flag",o)},828973:(e,t,i)=>{i.d(t,{A:()=>m});i(898992),i(672577),i(581454);var o=i(296540),n=()=>i(847249),a=()=>i(496603),l=()=>i(406699),s=()=>i(939740),r=()=>i(897119),c=()=>i(89924),d=()=>i(722872),u=i(474848);const m=function(e){let{icon:t,iconStyle:m,title:g,selectedKey:b,onChange:p,onClick:v,popupStyle:y,menuItemOptionsStyle:f,menuStyle:h,disabled:A,collectionContextStore:k,openButtonPopup:x,hideCheck:S,children:T,disableParentClose:M,inputPlaceholder:C,...w}=e;const B=(0,i(484714).Y0)(),I="options"in w?w.options:a().Bq(w.sections),P=I.find((e=>a().n4(e.key,b))),_=(0,n().uB)(void 0,i(463830).A),j=(0,n().O$)(_);return(0,o.useEffect)((()=>{k&&x&&(_.setState({..._.state,open:x}),k.settingsStore.setState({...k.settingsStore.state,openButtonPopup:void 0})),P||i(857639).log({level:"error",from:"CollectionSettingsPickListMenuItem",type:"InvalidSelectedItem",error:(0,i(502800).convertErrorToLog)("Selected key is invalid.")})})),(0,u.jsx)(l().Ay,{popupType:B.isMobile?r().nl.SlideUp:r().nl.Popup,alignmentToOrigin:l().yP.End,placementToOrigin:l().sx.Bottom,style:y,originGap:0,buttonPopupStore:_,disabled:A,onClick:v,renderOrigin:e=>(0,u.jsx)(i(497222).A,{title:g,showChevron:!0,right:(0,u.jsx)("span",{style:i(284371).RC,children:"input"===(null==P?void 0:P.type)?P.inputValue:null==P?void 0:P.title}),rotateChevron:j.open,disabled:A,icon:t,iconStyle:m,...(0,i(553965).A)(e,w)}),render:e=>{let t;t=B.isMobile?{menuType:d().gu.ActionSheet}:{menuType:d().gu.Popup,width:250,...h};const o=(t,o)=>{if(t.hideOption)return null;let n;return n="input"===t.type?{key:o,render:o=>(0,u.jsx)(i(419357).Ay,{...o,style:{width:"100%",paddingTop:4,paddingBottom:4},value:t.inputValue??"",onChange:e=>{var i;null===(i=t.onChange)||void 0===i||i.call(t,e.target.value)},onSubmit:i=>{var o;null===(o=t.onSubmit)||void 0===o||o.call(t,t.key,e,t.inputValue),e.close()},placeholder:C,isChecked:!S&&a().n4(t.key,b)}),action:()=>{}}:{key:o,render:e=>(0,u.jsx)(i(760217).A,{...e,disabled:!1,title:t.title,icon:t.icon,caption:t.caption,captionStyle:t.captionStyle,inline:t.captionInline,spacerStyle:t.inlineSpacerStyle,body:t.body,style:f,isChecked:!S&&a().n4(t.key,b)}),action:()=>{p(t.key,e),M||e.close()}},n},n="sections"in w?w.sections.map(((e,t)=>({key:t,render:e=>(0,u.jsx)(c().A,{enableActionSheetTitle:!0,topBorder:t>0,...e}),items:a().oE(e.map(o))}))):[{key:0,render:e=>(0,u.jsx)(c().A,{enableActionSheetTitle:!0,...e}),items:a().oE(I.map(o))}];return(0,u.jsxs)(i(928600).A,{...t,children:[(0,u.jsx)(s().Ay,{type:s().Oh.Vertical,sections:n,initialFocus:0,resetFocusOnMouseOut:!0}),T||null]})}})}},835607:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>o,peopleIcon:()=>n});i(296540);const o={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M11.794 3.936c.57-.71 1.414-1.141 2.456-1.141s1.886.43 2.456 1.14c.558.696.823 1.618.823 2.582s-.265 1.885-.823 2.58c-.57.71-1.414 1.141-2.456 1.141s-1.886-.43-2.456-1.14c-.558-.696-.823-1.618-.823-2.581 0-.964.265-1.886.823-2.581m.975.782c-.341.426-.548 1.052-.548 1.799s.207 1.373.548 1.798c.33.41.813.673 1.481.673s1.152-.262 1.481-.673c.342-.425.548-1.051.548-1.798s-.206-1.373-.548-1.799c-.33-.41-.813-.673-1.48-.673-.67 0-1.152.263-1.482.673M5.75 3.625c-.957 0-1.734.396-2.259 1.05-.513.64-.755 1.484-.755 2.362s.242 1.723.755 2.362c.525.654 1.302 1.05 2.259 1.05s1.734-.396 2.259-1.05c.513-.64.755-1.484.755-2.362s-.242-1.723-.755-2.362c-.525-.654-1.302-1.05-2.259-1.05M3.986 7.037c0-.661.183-1.21.48-1.58.284-.354.701-.582 1.284-.582s1 .228 1.284.582c.297.37.48.919.48 1.58s-.183 1.21-.48 1.58c-.284.354-.701.582-1.284.582s-1-.228-1.284-.583c-.297-.37-.48-.918-.48-1.579m-.948 8.918h4.69c.114.467.337.894.634 1.25H3.038c-.68 0-1.327-.286-1.742-.764-.432-.498-.606-1.209-.265-1.92.823-1.72 2.636-2.896 4.719-2.896 1.13 0 2.18.346 3.035.936a6.6 6.6 0 0 0-.681 1.05 4.1 4.1 0 0 0-2.354-.736c-1.611 0-2.98.908-3.592 2.186-.1.21-.063.393.082.56.161.186.455.334.798.334M14.25 11.21c-2.334 0-4.354 1.36-5.202 3.323-.31.715-.125 1.419.308 1.912.419.476 1.065.76 1.744.76h6.3c.679 0 1.325-.284 1.743-.76.434-.493.618-1.197.309-1.912-.848-1.963-2.868-3.324-5.202-3.324m-4.055 3.818c.646-1.494 2.208-2.569 4.055-2.569s3.409 1.075 4.054 2.57a.52.52 0 0 1-.1.59c-.166.19-.461.336-.804.336h-6.3c-.343 0-.639-.146-.805-.336a.52.52 0 0 1-.1-.59"})},n=(0,i(340498).wt)("people",o)},889154:(e,t,i)=>{i.d(t,{G:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("personBadgeExclamationMark",{viewBox:"0 0 24 22",svg:(0,o.jsx)("path",{d:"M14 20.91c1.36 0 2.64-.26 3.838-.781a10.166 10.166 0 003.183-2.158 10.198 10.198 0 002.159-3.174 9.59 9.59 0 00.78-3.848c0-1.36-.263-2.64-.79-3.838a10.165 10.165 0 00-2.158-3.183 10.165 10.165 0 00-3.184-2.158A9.52 9.52 0 0013.99.988c-1.27 0-2.47.228-3.603.684A10.24 10.24 0 007.34 3.566 10.179 10.179 0 005.152 6.39a9.75 9.75 0 00-1.045 3.466c.235-.045.508-.074.82-.087.32-.02.61-.013.87.02.137-1.01.44-1.948.908-2.813A8.088 8.088 0 018.512 4.7a8.261 8.261 0 012.5-1.504 8.095 8.095 0 012.978-.547c1.153 0 2.23.215 3.233.645a8.233 8.233 0 012.646 1.777 8.365 8.365 0 011.787 2.647 8.11 8.11 0 01.645 3.232 8.15 8.15 0 01-2.139 5.557c-.319-.378-.775-.736-1.367-1.074-.593-.345-1.296-.625-2.11-.84-.813-.215-1.712-.322-2.695-.322-.469 0-.918.029-1.347.087-.43.053-.837.124-1.221.215.117.469.176.96.176 1.475 0 .762-.134 1.488-.4 2.178a6.308 6.308 0 01-1.095 1.865c.6.26 1.228.462 1.885.605A9.426 9.426 0 0014 20.91zm-.01-8.3a3.02 3.02 0 001.69-.47 3.53 3.53 0 001.21-1.318c.3-.56.45-1.191.45-1.894 0-.658-.15-1.26-.45-1.807a3.55 3.55 0 00-1.21-1.309 3.035 3.035 0 00-1.69-.488c-.625 0-1.191.163-1.699.489a3.622 3.622 0 00-1.65 3.115c0 .696.15 1.321.449 1.875.3.553.7.993 1.201 1.318a3.194 3.194 0 001.7.488zM5.3 21.017c.67 0 1.305-.13 1.904-.391a5.082 5.082 0 001.582-1.074A5 5 0 009.87 17.97c.26-.6.39-1.237.39-1.914 0-.684-.13-1.325-.39-1.924a4.945 4.945 0 00-1.064-1.582 4.946 4.946 0 00-1.582-1.065 4.772 4.772 0 00-1.924-.39c-.677 0-1.315.13-1.914.39a4.87 4.87 0 00-1.582 1.074A5.082 5.082 0 00.73 14.142a4.707 4.707 0 00-.391 1.914c0 .683.13 1.325.39 1.924a5.07 5.07 0 001.075 1.581c.455.456.983.811 1.582 1.065.599.26 1.237.39 1.914.39zm-.01-1.797a.788.788 0 01-.576-.244.768.768 0 01-.244-.577c0-.227.081-.423.244-.585a.788.788 0 01.576-.245c.234 0 .43.085.586.254a.788.788 0 01.244.576.77.77 0 01-.244.577.8.8 0 01-.586.244zm.01-2.325a.601.601 0 01-.43-.156.613.613 0 01-.166-.41l-.078-2.793a.63.63 0 01.176-.488.673.673 0 01.498-.186.66.66 0 01.488.186.63.63 0 01.176.488l-.078 2.793a.592.592 0 01-.176.41.554.554 0 01-.41.157z"})})},893952:(e,t,i)=>{i.d(t,{A:()=>s});i(296540);var o=()=>i(484714),n=()=>i(401497),a=()=>i(100622),l=i(474848);const s=function(e){const{color:t}=e;return(0,l.jsx)(i(760217).A,{...e,icon:(0,l.jsx)(r,{color:t}),title:(0,i(27178).mN)(t)})};function r(e){let{color:t}=e;const i=(0,n().DP)(),s=(0,o().v3)(),r=(0,a().LD)(i,t);return(0,l.jsx)("div",{style:{width:s.device.isMobile?24:18,height:s.device.isMobile?24:18,background:r.menuBackgroundColor,color:r.textColor,boxShadow:i.innerBorderBoxShadow,borderRadius:4}})}},904671:(e,t,i)=>{i.d(t,{$:()=>u,B:()=>d});var o=()=>i(221844),n=()=>i(223116),a=()=>i(179034),l=()=>i(508496),s=()=>i(630116),r=()=>i(577437),c=()=>i(449506);async function d(e){const{environment:t,sudoModeStore:i,pageBlockId:o,currentSpaceStore:a}=e,s=i.state.privatePageStore&&i.state.privatePageStore.id===o;if(t.device.isMobile||s||i.state.loading||i.state.error)return;await l().default.waitUntilStatsigReady();const d=(null==a?void 0:a.isReady())&&(null==a?void 0:a.canAdmin()),m=await function(e,t){return(0,r().Se)(e,{name:"sudo_mode",spaceId:t,userId:e.currentUser.id})}(t,null==a?void 0:a.id);if(!(o&&d&&a&&m))return;i.setState({...i.state,privatePageStore:void 0,loading:!0});const g=a.id,b=await c().callApi({eventName:"getPrivatePageInfo",environment:t,data:{id:o}});if("failed"===b.type)return void i.setState({...i.state,loading:!1,error:b.error});const p=b.data,v=u({environment:t,blockId:o,privateRecordCacheName:n().Rb,ancestorData:p,spaceId:g});i.setState({...i.state,privatePageStore:v,loading:!1,error:void 0})}function u(e){const{environment:t,privateRecordCacheName:i,ancestorData:n,spaceId:l,blockId:r}=e,c=new(o().A)({name:i});for(const o of n)switch(o.table){case"block":case"collection":case"team":c.setRecord({pointer:{spaceId:l,table:o.table,id:o.value.id},userId:t.currentUser.id},{role:"editor",value:o.value})}const d=new(s().Bv)(t,{table:a().ev,id:r},{inMemoryRecordCache:c});return d.inMemoryRecordCache.addCacheFallback(t.defaultRecordCache.inMemoryRecordCache),d}},911706:(e,t,i)=>{i.d(t,{A:()=>s});i(296540);var o=()=>i(401497),n=()=>i(30626),a=()=>i(704152),l=i(474848);function s(e){let{onClick:t,className:i,isMobile:s,style:r,onFocus:c,onBlur:d,onMouseDown:u,onMouseEnter:m,onMouseLeave:g}=e;const{buttonStyle:b,iconStyle:p}=(0,o().IS)((e=>({buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:6,width:s?45:24,height:s?45:24,marginRight:s?-8:-6,...r},iconStyle:{width:s?18:14,height:s?18:14,fill:e.mediumIconColor}})),[s,r]);return(0,l.jsx)(a().A,{onClick:t,style:b,className:i,mobileFeedback:s,onFocus:c,onBlur:d,onMouseDown:u,onMouseEnter:m,onMouseLeave:g,children:(0,n()._)(p)})}},958846:(e,t,i)=>{i.d(t,{A:()=>n});i(296540);var o=i(474848);const n=function(e){let{loading:t,onLoadMore:n,loadMoreOffsetThreshold:a,resultSize:l,fetchSize:s}=e;return(0,o.jsx)(i(228927).A,{onChange:e=>function(e,t,i,o,n,a){if(t)return;const l=o||200;if(e>l)return;const s=void 0===n||void 0===a||n>=a;s&&i()}(e,t,n,a,l,s)})}}}]);