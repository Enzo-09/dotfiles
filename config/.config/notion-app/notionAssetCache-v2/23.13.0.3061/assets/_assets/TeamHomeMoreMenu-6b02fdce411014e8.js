"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[51363],{43450:(e,t,n)=>{n.d(t,{R:()=>o});var s=()=>n(484714),r=()=>n(847249);function o(e){const t=(0,s().v3)();return(0,r().K8)((()=>{const n=t.currentUser.id;return!!(e&&e.isDefined()&&n)&&Boolean(e.isOwner(n))}),[t.currentUser.id,e])}},97835:(e,t,n)=>{n.d(t,{x:()=>o});n(296540);var s=n(474848);const r={viewBox:"0 0 20 20",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_9151_10917)",children:[(0,s.jsx)("path",{d:"M10 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M7.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M10 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h5.845a4.6 4.6 0 0 1-.28-1.25H5.85c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54.761-1.488 2.672-2.626 5.007-2.626.83 0 1.605.144 2.294.395.269-.364.59-.688.952-.96A7.9 7.9 0 0 0 10 11.63"}),(0,s.jsx)("path",{d:"M16 19.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7m2.594-3.469a.625.625 0 0 0-.625-.625h-1.375v-1.375a.625.625 0 0 0-1.25 0v1.375h-1.375a.625.625 0 0 0 0 1.25h1.375v1.375a.625.625 0 1 0 1.25 0v-1.375h1.375c.345 0 .625-.28.625-.625"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_9151_10917",children:(0,s.jsx)("path",{d:"M20 0H0v20h20z"})})})]})},o=(0,n(340498).wt)("inviteMember",r)},211825:(e,t,n)=>{n.d(t,{G:()=>i});var s=()=>n(484714),r=()=>n(847249),o=()=>n(486130);function i(e){const t=(0,s().v3)().currentUser.id;return(0,r().K8)((()=>Boolean(void 0!==t&&e.isNonGuestMember(t,o()._.getSpacePermissionGroupIds({userId:t,spaceId:e.getSpaceId()})))),[t,e])}},212727:(e,t,n)=>{n.r(t),n.d(t,{gearIcon:()=>o,iconDefinition:()=>r});n(296540);var s=n(474848);const r={viewBox:"0 0 20 20",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M7.29 10c0 1.5 1.22 2.71 2.71 2.71 1.5 0 2.71-1.21 2.71-2.71S11.5 7.29 10 7.29 7.29 8.5 7.29 10m1.25 0c0-.81.66-1.46 1.46-1.46.81 0 1.46.65 1.46 1.46s-.65 1.46-1.46 1.46-1.46-.65-1.46-1.46"}),(0,s.jsx)("path",{d:"M8.49 17.64q.75.15 1.53.15v-.01c.47 0 .94-.04 1.41-.13.26-.05.46-.25.5-.51l.26-1.53.15-.06 1.28.91c.21.14.49.14.71 0 .41-.28.8-.61 1.18-.98.33-.33.63-.7.9-1.09.15-.21.15-.5 0-.71l-.9-1.27.06-.15 1.55-.27c.26-.05.46-.25.51-.5a7.8 7.8 0 0 0 .02-2.94.62.62 0 0 0-.51-.5l-1.53-.26-.06-.15.91-1.28c.14-.21.14-.49 0-.71a7.9 7.9 0 0 0-2.07-2.08.62.62 0 0 0-.71 0l-1.27.9-.15-.06-.27-1.55a.64.64 0 0 0-.5-.51c-.5-.1-1-.15-1.53-.15-.47 0-.95.04-1.41.13-.26.05-.46.25-.5.51l-.26 1.53-.15.06-1.28-.91a.65.65 0 0 0-.71 0 7.9 7.9 0 0 0-2.08 2.07c-.15.21-.15.5 0 .71l.9 1.27-.06.15-1.55.27c-.26.05-.46.25-.51.5-.1.5-.15 1-.15 1.53 0 .47.04.95.13 1.41.05.26.25.46.51.5l1.53.26.06.15-.91 1.28c-.14.21-.15.49 0 .71.29.42.61.81.98 1.18.34.34.7.65 1.09.91.21.15.5.15.71 0l1.27-.9.15.06.27 1.55c.05.26.25.46.5.51m2.29-1.15c-.53.07-1.09.07-1.63 0l-.25-1.47a.62.62 0 0 0-.42-.49 6 6 0 0 1-.68-.28.63.63 0 0 0-.65.04l-1.2.85a6.8 6.8 0 0 1-1.14-1.16l.86-1.21c.13-.19.15-.43.05-.64-.11-.22-.21-.45-.28-.68a.62.62 0 0 0-.49-.43l-1.45-.25a6.7 6.7 0 0 1 0-1.63l1.47-.25c.23-.04.42-.2.49-.42.07-.23.17-.46.28-.68.11-.21.09-.46-.04-.65l-.85-1.2A6.8 6.8 0 0 1 6.01 4.8l1.21.86c.19.13.43.15.64.05.22-.11.45-.21.68-.28s.39-.26.43-.49l.25-1.45c.53-.07 1.09-.07 1.63 0l.25 1.47c.04.23.2.42.42.49.23.07.46.17.68.28.21.11.46.09.65-.04l1.2-.85A6.8 6.8 0 0 1 15.19 6l-.86 1.21c-.13.19-.15.43-.05.64.11.22.21.45.28.68s.26.39.49.43l1.45.25a6.7 6.7 0 0 1 0 1.63l-1.47.25c-.23.04-.42.2-.49.42-.07.23-.17.46-.28.68-.11.21-.09.46.04.65l.85 1.2a6.8 6.8 0 0 1-1.16 1.14l-1.21-.86a.64.64 0 0 0-.64-.05c-.22.11-.45.21-.68.28s-.39.26-.43.49z"})]})},o=(0,n(340498).wt)("gear",r)},236190:(e,t,n)=>{n.d(t,{c:()=>r});n(296540);var s=n(474848);const r=(0,n(340498).wt)("minus",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M3.037 8.844h9.92a.705.705 0 00.368-.103.825.825 0 00.28-.28.73.73 0 000-.773.752.752 0 00-.28-.28.705.705 0 00-.369-.102H3.037a.705.705 0 00-.369.102.824.824 0 00-.28.28.73.73 0 000 .772.914.914 0 00.28.281.705.705 0 00.37.103z"})})},418426:(e,t,n)=>{n.d(t,{$:()=>c});n(898992),n(354520),n(581454);var s=()=>n(484714),r=()=>n(847249),o=()=>n(468006),i=()=>n(605402),a=()=>n(486130);function c(e){const t=(0,s().v3)().currentUser.id;return(0,r().K8)((()=>{if(!e.isDefined())return[];return(0,o().ri)({rawMembers:e.getRawMembership(),groupsInSpace:i().A.state.permissionGroupsAndMemberCounts.map((e=>e.group))}).filter((n=>a()._.getSpacePermissionGroupIds({userId:t,spaceId:e.getSpaceId()}).has(n.getGroupId())))}),[t,e])}},536583:(e,t,n)=>{n.d(t,{d:()=>r});n(296540);const s={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M9.294 2.325h3.103c.484 0 .948.192 1.29.534l2.897 2.898c.342.342.535.806.535 1.29v5.903a1.825 1.825 0 0 1-1.825 1.825H12.53v1.075a1.825 1.825 0 0 1-1.825 1.825h-6A1.825 1.825 0 0 1 2.88 15.85v-8.8c0-1.008.817-1.825 1.825-1.825H7.47V4.15c0-1.008.817-1.825 1.825-1.825M9.1 5.76l2.897 2.897c.342.342.534.806.534 1.29v3.578h2.763a.575.575 0 0 0 .575-.575V7.3h-1.975a1.75 1.75 0 0 1-1.75-1.75V3.575h-2.85a.575.575 0 0 0-.575.575v1.318q.208.12.38.292m6.16.44-2.016-2.016V5.55c0 .359.29.65.65.65zm-10.554.275a.575.575 0 0 0-.575.575v8.8c0 .318.258.575.575.575h6a.575.575 0 0 0 .575-.575V10.2H9.306a1.75 1.75 0 0 1-1.75-1.75V6.475zm3.95.609V8.45c0 .359.291.65.65.65h1.366z"})},r=(0,n(340498).wt)("docOnDoc",s)},559044:(e,t,n)=>{n.d(t,{a:()=>r});n(296540);var s=n(474848);const r=(0,n(340498).wt)("plusWithBorder",{viewBox:"0 0 22 22",svg:(0,s.jsx)("path",{d:"M20.4336 1.61719C21.0273 2.21094 21.4023 2.92187 21.5586 3.75C21.7227 4.57031 21.8047 5.48047 21.8047 6.48047V15.5859C21.8047 16.5938 21.7227 17.5078 21.5586 18.3281C21.4023 19.1484 21.0273 19.8594 20.4336 20.4609C19.832 21.0547 19.1172 21.4336 18.2891 21.5977C17.4609 21.7617 16.5469 21.8438 15.5469 21.8438H6.44141C5.44141 21.8438 4.52734 21.7617 3.69922 21.5977C2.87891 21.4336 2.16797 21.0547 1.56641 20.4609C0.964844 19.8594 0.585938 19.1484 0.429688 18.3281C0.273438 17.5078 0.195312 16.5938 0.195312 15.5859V6.45703C0.195312 5.47266 0.273438 4.57031 0.429688 3.75C0.59375 2.92969 0.972656 2.21875 1.56641 1.61719C2.16797 1.02344 2.87891 0.644531 3.69922 0.480469C4.52734 0.316406 5.43359 0.234375 6.41797 0.234375H15.5469C16.5469 0.234375 17.4609 0.316406 18.2891 0.480469C19.1172 0.644531 19.832 1.02344 20.4336 1.61719ZM19.918 6.16406C19.918 5.5625 19.8633 4.97266 19.7539 4.39453C19.6445 3.81641 19.4102 3.35156 19.0508 3C18.6992 2.64062 18.2305 2.40625 17.6445 2.29688C17.0664 2.17969 16.4766 2.12109 15.875 2.12109H6.16016C5.54297 2.12109 4.9375 2.17969 4.34375 2.29688C3.75781 2.40625 3.28906 2.63672 2.9375 2.98828C2.58594 3.34766 2.35547 3.82031 2.24609 4.40625C2.13672 4.98438 2.08203 5.58203 2.08203 6.19922V15.9141C2.08203 16.5156 2.13672 17.1055 2.24609 17.6836C2.35547 18.2617 2.58594 18.7266 2.9375 19.0781C3.29688 19.4297 3.76562 19.6641 4.34375 19.7812C4.92969 19.8984 5.52344 19.957 6.125 19.957H15.875C16.4766 19.957 17.0664 19.8984 17.6445 19.7812C18.2305 19.6719 18.6992 19.4375 19.0508 19.0781C19.4023 18.7266 19.6328 18.2617 19.7422 17.6836C19.8594 17.1055 19.918 16.5156 19.918 15.9141V6.16406ZM5.57422 11.0391C5.57422 10.7422 5.66406 10.5039 5.84375 10.3242C6.03125 10.1367 6.27734 10.043 6.58203 10.043H10.0273V6.59766C10.0273 6.30078 10.1172 6.05859 10.2969 5.87109C10.4766 5.68359 10.707 5.58984 10.9883 5.58984C11.2852 5.58984 11.5234 5.68359 11.7031 5.87109C11.8906 6.05078 11.9844 6.29297 11.9844 6.59766V10.043H15.4414C15.7383 10.043 15.9766 10.1367 16.1562 10.3242C16.3438 10.5039 16.4375 10.7422 16.4375 11.0391C16.4375 11.3203 16.3438 11.5508 16.1562 11.7305C15.9766 11.9102 15.7383 12 15.4414 12H11.9844V15.457C11.9844 15.7539 11.8906 15.9961 11.7031 16.1836C11.5234 16.3633 11.2852 16.4531 10.9883 16.4531C10.707 16.4531 10.4766 16.3633 10.2969 16.1836C10.1172 15.9961 10.0273 15.7539 10.0273 15.457V12H6.58203C6.28516 12 6.04297 11.9102 5.85547 11.7305C5.66797 11.5508 5.57422 11.3203 5.57422 11.0391Z"})})},583273:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});n(296540);var s=()=>n(484714),r=()=>n(847249),o=()=>n(584262),i=()=>n(536583),a=()=>n(212727),c=()=>n(97835),l=()=>n(421559),d=()=>n(468006),m=()=>n(959013),u=()=>n(449506),p=()=>n(884107),h=()=>n(901389),v=()=>n(857783),g=()=>n(760217),C=()=>n(928600),S=()=>n(939740),M=()=>n(8980),b=()=>n(89924),I=()=>n(125565),x=()=>n(780054),y=()=>n(986863),w=()=>n(722872),j=()=>n(963589),f=()=>n(575301),A=()=>n(632709),T=()=>n(351360),_=()=>n(630116),H=()=>n(848237),P=()=>n(931956),k=()=>n(623241),V=()=>n(401497),B=()=>n(236190),G=()=>n(559044),K=()=>n(211825),U=()=>n(418426);var L=n(474848);function O(e){let{props:t,teamStore:n}=e;const o=(0,s().v3)(),i=(0,K().G)(n),a=(0,U().$)(n),c=(0,r().O$)(T().AppStoreCurrentSpaceStore),l=(0,f().T4)(),d=(0,V().IS)((()=>({icon:{width:16,height:16,marginLeft:2,marginRight:2}})),[]);return(0,L.jsx)(g().A,{...t,style:{...l.buttonMenuItem},pressedStyle:l.buttonMenuItemPressed,titleStyle:l.title,icon:i?(0,B().c)(d.icon):(0,G().a)(d.icon),onClick:async()=>await async function(e){const{environment:t,teamStore:n,userIsTeamMember:s,currentSpaceStore:r,userGroupsInTeam:o}=e;r&&(s?await H().JC({environment:t,teamStore:n,from:"team_home_topbar",userGroupsInTeam:o}):await H().e2({environment:t,currentSpaceStore:r,teamStore:n,from:"team_home_topbar",andNavigateToTeamHome:!1}))}({environment:o,teamStore:n,currentSpaceStore:c,userIsTeamMember:i,userGroupsInTeam:a}),title:i?(0,L.jsx)(m().sA,{defaultMessage:"Leave",id:"teamHome.toggleMembership.mobile.leave"}):(0,L.jsx)(m().sA,{defaultMessage:"Join",id:"teamHome.toggleMembership.mobile.join"})})}function R(e){let{mainMenuParent:t,teamStore:n,permissionsInviteStore:V}=e;const{isPhone:B}=(0,s().Y0)(),G=(0,s().v3)(),K=(0,f().T4)(),U=(0,r().O$)(T().AppStoreCurrentSpaceStore),R=(0,r().K8)((()=>null==n?void 0:n.getChannelStore()),[n]),z=(0,r().K8)((()=>{if(!U||!R)return;const e=_().sk.createChildStore(U,{table:"block",id:R.id,spaceId:U.id});return e.isCollectionView()?e:void 0}),[U,R]),{isTeamMember:F}=(0,k().i)({teamStore:n}),$=(0,j().X)("posts_show_all_button_flag"),W=F&&$,D=(0,r().K8)((()=>(0,d().Sh)({archived_by:n.getArchivedBy()})),[n]),J=(0,P().X)(n),N=[{key:"all",render:e=>(0,L.jsx)(b().A,{...e,topBorder:!1,style:K.sectionMenuItem}),items:[...B?[{key:"toggleFollowSettings",render:e=>(0,L.jsx)(O,{props:e,teamStore:n}),action:()=>{}}]:[],...!D&&J&&V?[{key:"addMembers",render:e=>(0,L.jsx)(y().u,{permissionsInviteStore:V,store:n,origin:(0,L.jsx)(g().A,{...e,style:K.buttonMenuItem,pressedStyle:K.buttonMenuItemPressed,icon:(0,L.jsx)(M().I,{icon:c().x}),onClick:()=>{V.update((e=>({...e,modalOpen:!0})))},titleStyle:K.title,title:(0,L.jsx)(m().sA,{defaultMessage:"Add members",id:"sidebar.outlinerTeamToggleButton.addLabel"})})}),action:()=>{}}]:[],...!D&&F?[{key:"teamSettings",render:e=>(0,L.jsx)(g().A,{...e,style:K.buttonMenuItem,pressedStyle:K.buttonMenuItemPressed,icon:(0,L.jsx)(M().I,{icon:a().gearIcon}),onClick:()=>{H().F2({environment:G,teamId:n.id,tab:A().p.Members,from:"team_home_more_menu"}),t.close()},titleStyle:K.title,title:(0,L.jsx)(m().sA,{defaultMessage:"Teamspace settings",id:"sidebar.outlinerTeamToggleButton.ownerViewLabel"})}),action:()=>{}}]:[],{key:"copyLink",render:e=>{const s=!F;return(0,L.jsx)(g().A,{...e,style:{...K.buttonMenuItem,...s&&K.transparentButtonMenuItemBorder},pressedStyle:K.buttonMenuItemPressed,icon:(0,L.jsx)(M().I,{icon:i().d}),onClick:async()=>{const e=`${x().A.domainBaseUrl}/team/${n.id}`,s=await p().R.clipboardActions.load(),r=s.clipboardMessages.copiedTeamHomeLinkToClipboard;s.copyString({environment:G,stringValue:e,copiedMessage:r}),t.close()},titleStyle:K.title,title:(0,L.jsx)(m().sA,{defaultMessage:"Copy link",id:"teamHome.copyLinkTooltip.title"})})},action:()=>{}},...W?[{key:"showAll",render:e=>(0,L.jsx)(g().A,{...e,style:{...K.buttonMenuItem,...K.transparentButtonMenuItemBorder},pressedStyle:K.buttonMenuItemPressed,titleStyle:K.title,icon:(0,L.jsx)(M().I,{icon:l().T}),onClick:async e=>{if(!U||!R)return;const t=await u().callApi({eventName:"convertPostsToCollectionSetup",environment:G,data:{spaceId:U.id,channelId:R.id}});"failed"!==t.type?z&&v().uK({environment:G,store:z,pageVisitSource:o().y8.TeamHomePage}):h().Qg(t)},title:(0,L.jsx)(m().sA,{defaultMessage:"Show all",id:"teamHome.showAll.title"})}),action:()=>{}}]:[]]}];return(0,L.jsx)(C().A,{menuType:w().gu.Popup,height:B?"50vh":void 0,minWidth:250,maxWidth:B?"100vw":void 0,scrollerStyle:K.menuScroller,header:B&&(0,L.jsx)(I().A,{style:K.header,children:"Actions"}),children:(0,L.jsx)(S().Ay,{type:S().Oh.Vertical,sections:N,initialFocus:void 0})})}},623241:(e,t,n)=>{n.d(t,{i:()=>i});var s=()=>n(484714),r=()=>n(847249),o=()=>n(486130);function i(e){const{teamStore:t}=e,n=(0,s().v3)(),i=(0,r().K8)((()=>o()._.getSpacePermissionGroupIds({userId:n.currentUser.id,spaceId:null==t?void 0:t.getSpaceId()})),[n,t]),a=(0,r().K8)((()=>{if(t&&n.currentUser.id)return t.getTeamRoleForUser(n.currentUser.id,i)}),[t,n.currentUser.id,i]),c=(0,r().K8)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),l="none"===a||!a,d=!l;return{isTeamMember:d,canViewPosts:d||c,canJoinTeam:l&&c,postingRestricted:(0,r().K8)((()=>{if(t)return!t.teamPermissionAllowsMembersToPost()&&!t.allowsUserToPost()}),[t])}}},931956:(e,t,n)=>{n.d(t,{X:()=>c});var s=()=>n(847249),r=()=>n(534177),o=()=>n(10984),i=()=>n(211825),a=()=>n(43450);function c(e){const t=(0,a().R)(e),n=(0,i().G)(e);return(0,s().K8)((()=>{if(!(0,o().El)())return!1;const s=e.getSetting("invite_access");switch(s){case void 0:return!1;case"team_members":return n;case"team_owners":return t;default:(0,r().HB)(s)}}),[e,t,n])}},986863:(e,t,n)=>{n.d(t,{u:()=>o});var s=()=>n(645873);const r=new(s().O2)("teamPermissionsInviteWithModal",(async()=>await Promise.all([n.e(75134),n.e(43380),n.e(9304),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(22900),n.e(49889),n.e(97727),n.e(85128),n.e(83700),n.e(95555),n.e(58823),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(67780),n.e(96933),n.e(87598),n.e(23063),n.e(3965),n.e(84341),n.e(80533),n.e(45620),n.e(58221),n.e(44763),n.e(8081),n.e(67183),n.e(64598),n.e(82720),n.e(4253),n.e(86787),n.e(77465),n.e(24593),n.e(80896),n.e(1440),n.e(67378),n.e(58504),n.e(97308),n.e(63996),n.e(20636),n.e(66268),n.e(55717),n.e(7005),n.e(40186),n.e(22585),n.e(73206),n.e(11037),n.e(33235),n.e(91957),n.e(84176),n.e(16357),n.e(75681)]).then(n.bind(n,487443)))),o=(0,s()._h)(r,(e=>e.TeamPermissionsInviteWithModal))}}]);