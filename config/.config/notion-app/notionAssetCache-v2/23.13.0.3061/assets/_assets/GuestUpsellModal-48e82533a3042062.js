"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[83965],{178901:(e,s,t)=>{t.d(s,{j:()=>a});t(296540);var i=t(474848);const a=(0,t(340498).wt)("createPage",{viewBox:"0 0 24 24",svg:(0,i.jsx)("g",{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M9.944 14.721c.104.094.216.12.336.079l1.703-.688 6.844-6.844-1.406-1.398-6.836 6.836-.711 1.68c-.052.13-.029.242.07.335zm8.102-9.484l1.414 1.406.515-.523a.917.917 0 00.282-.633.76.76 0 00-.258-.61l-.25-.25a.702.702 0 00-.578-.187.975.975 0 00-.617.297l-.508.5zm-9.453.127a3.85 3.85 0 00-3.85 3.85v6.5a3.85 3.85 0 003.85 3.85h6.5a3.85 3.85 0 003.85-3.85V12.95a.85.85 0 10-1.7 0v2.764a2.15 2.15 0 01-2.15 2.15h-6.5a2.15 2.15 0 01-2.15-2.15v-6.5a2.15 2.15 0 012.15-2.15h3.395a.85.85 0 000-1.7H8.593z",clipRule:"evenodd"})})})},270643:(e,s,t)=>{t.r(s),t.d(s,{GuestUpsellModal:()=>G});var i=t(296540),a=()=>t(484714),o=()=>t(847249),n=()=>t(401497),r=()=>t(148307),l=()=>t(101209),d=()=>t(925907),c=()=>t(178901),u=()=>t(959013),p=()=>t(534177),g=()=>t(134696),m=()=>t(449506),h=()=>t(436572),x=()=>t(581495),j=()=>t(47373),y=()=>t(351360),b=()=>t(159026),f=()=>t(551694),M=()=>t(84817),v=()=>t(493823),_=()=>t(297872),A=()=>t(805751),S=()=>t(623580),C=()=>t(554509),q=()=>t(204063),w=()=>t(107683),k=()=>t(125565),R=()=>t(369251),I=t(474848);function G(e){const{open:s,stage:t}=(0,o().O$)(f().A),n=(0,a().v3)(),r=(0,o().O$)(y().AppStoreCurrentSpaceStore),l=(0,o().K8)((()=>y().default.state.currentUserRootStore),[]),d=(0,o().K8)((()=>(0,j().i3)({environment:n,spaceStore:r,userRootStore:l})),[n,r,l]),c=(0,i.useCallback)((()=>{switch(t){case"landing":return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(M().Y1,{padding:24,children:[(0,I.jsx)(T,{}),(0,I.jsx)(U,{})]}),d?(0,I.jsx)(D,{}):(0,I.jsx)(z,{})]});case"membership_request":return(0,I.jsx)("div",{style:{padding:"15px 10px"},children:(0,I.jsx)(R().k,{onDismiss:()=>{f().A.close()}})});default:(0,p().HB)(t)}}),[t,d]);return(0,I.jsx)(w().s,{isOpen:s,onClosed:()=>{f().A.close()},render:()=>(0,I.jsx)(_().A,{capture:!0,allowEsc:!0,render:()=>(0,I.jsxs)(x().eh.Provider,{value:()=>f().A.close(),children:[(0,I.jsx)(x().Rz,{}),c()]})})})}function T(){const e=(0,n().IS)((e=>({title:{display:"flex",marginTop:24,marginBottom:24}})),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("img",{src:r().A.images.thinkItMakeItCloudDarkPng,style:{width:334,height:205,margin:"auto"}}),(0,I.jsx)(C().D,{styleName:"UITitle-26px/Bold",customStyles:e.title,children:(0,I.jsx)(u().sA,{defaultMessage:"Experience Notion as a workspace member",id:"GuestUpsellModal.header.title"})})]})}function U(){const e=(0,n().IS)((e=>({icon:{width:20,height:20,fill:e.text.uiBluePrimary,marginRight:16},secondaryText:{color:e.text.secondary}})),[]);return(0,I.jsxs)(M().Y1,{direction:"vertical",gap:20,children:[(0,I.jsxs)(M().Y1,{direction:"horizontal",children:[(0,c().j)(e.icon),(0,I.jsx)(C().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,I.jsx)(u().sA,{defaultMessage:"Create and organize <secondary>projects, notes, and to-dos</secondary>",id:"GuestUpsellModal.body.point1",values:{secondary:s=>(0,I.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,I.jsxs)(M().Y1,{direction:"horizontal",children:[(0,d().n)(e.icon),(0,I.jsx)(C().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,I.jsx)(u().sA,{defaultMessage:"Stay in the loop <secondary>with access to all pages across this workspace</secondary>",id:"GuestUpsellModal.body.point2",values:{secondary:s=>(0,I.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,I.jsxs)(M().Y1,{direction:"horizontal",children:[(0,l().v)(e.icon),(0,I.jsx)(C().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,I.jsx)(u().sA,{defaultMessage:"Supercharge work <secondary>with the latest Notion features</secondary>",id:"GuestUpsellModal.body.point3",values:{secondary:s=>(0,I.jsx)("span",{style:e.secondaryText,children:s})}})})]})]})}function z(){const e=(0,n().IS)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14}})),[]);return(0,I.jsxs)(M().Y1,{direction:"horizontal",style:e.footerWrapper,children:[(0,I.jsx)(M().Y1,{align:"center-left",style:e.continueCopy,children:(0,I.jsx)(v().p,{isGray:!0,onClick:()=>{f().A.close()},children:(0,I.jsx)(u().sA,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,I.jsx)(M().Y1,{align:"center-right",children:(0,I.jsx)(q().A,{color:"black",size:"xl",onClick:()=>f().A.setState({open:!0,stage:"membership_request"}),children:(0,I.jsx)(u().sA,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})}function D(){const e=(0,u().tz)(),s=(0,a().v3)(),t=(0,o().O$)(y().AppStoreCurrentSpaceStore),[r,l]=(0,i.useState)(""),d=(0,n().IS)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14},input:{marginBottom:16},messageInputLabel:{marginBottom:8}})),[]),c=(0,i.useCallback)((()=>{const{currentUser:e}=s;e&&e.id&&t&&(g().RH(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:r.length,invite_space_role_selection:b().NJ.request_workspace_member,from:"guest_upsell_modal_v2"}),m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",forActorId:e.id,spaceId:t.id,message:r,attributes:{origin_id:t.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).then((e=>{"success"===e.type&&h().D6({label:(0,I.jsx)(u().sA,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),l(""),f().A.close())}),[s,t,r]);return(0,I.jsxs)("div",{style:d.footerWrapper,children:[(0,I.jsx)(k().A,{isSecondaryColor:!0,style:d.messageInputLabel,children:(0,I.jsx)(u().sA,{id:"GuestUpsellModal.requestMessage.label",defaultMessage:"Add a message"})}),(0,I.jsx)(A().A,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:(0,I.jsx)(S().A,{style:d.input,textarea:!0,value:r,placeholder:e.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{l(e.target.value)}})}),(0,I.jsxs)(M().Y1,{direction:"horizontal",children:[(0,I.jsx)(M().Y1,{align:"center-left",style:d.continueCopy,children:(0,I.jsx)(v().p,{isGray:!0,onClick:()=>{f().A.close()},children:(0,I.jsx)(u().sA,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,I.jsx)(M().Y1,{align:"center-right",children:(0,I.jsx)(q().A,{color:"black",size:"xl",onClick:c,children:(0,I.jsx)(u().sA,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})]})}},369251:(e,s,t)=>{t.d(s,{A:()=>f,k:()=>b});var i=t(296540),a=()=>t(484714),o=()=>t(847249),n=()=>t(401497),r=()=>t(959013),l=()=>t(284371),d=()=>t(134696),c=()=>t(449506),u=()=>t(436572),p=()=>t(351360),g=()=>t(159026),m=()=>t(805751),h=()=>t(623580),x=()=>t(864943),j=()=>t(204063),y=t(474848);function b(e){const s=(0,a().v3)(),{onDismiss:t}=e,[b,f]=(0,i.useState)(""),M=(0,r().tz)(),v=(0,n().IS)((()=>({container:{padding:20},title:{fontWeight:l().Wy.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},button:{width:"100%",marginTop:10}})),[]),{currentSpaceStore:_}=(0,o().K8)((()=>({currentSpaceStore:p().default.state.currentSpaceStore})),[]);return(0,y.jsxs)("div",{style:v.container,children:[(0,y.jsx)("div",{style:v.title,children:(0,y.jsx)(r().sA,{id:"GuestMembershipRequestModal.title",defaultMessage:"Request membership to workspace"})}),(0,y.jsxs)(m().A,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:[(0,y.jsx)(h().A,{style:v.input,textarea:!0,value:b,placeholder:M.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{f(e.target.value)}}),(0,y.jsx)(j().A,{size:"lg",style:v.button,onClick:()=>{const{currentUser:e}=s;e&&e.id&&_&&(d().RH(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:b.length,invite_space_role_selection:g().NJ.request_workspace_member,from:"sidebar_guest_request"}),c().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",forActorId:e.id,spaceId:_.id,message:b,attributes:{origin_id:_.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).catch((()=>{u().D6({label:(0,y.jsx)(r().sA,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",defaultMessage:"Failed to send membership request."})})})).finally((()=>{u().D6({label:(0,y.jsx)(r().sA,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),f(""),t())},children:(0,y.jsx)(r().sA,{id:"GuestMembershipRequestModal.sendRequest.button",defaultMessage:"Send request"})}),(0,y.jsx)(x().A,{size:"lg",style:v.button,onClick:()=>{f(""),t()},children:(0,y.jsx)(r().sA,{id:"GuestMembershipRequestModal.cancel.button",defaultMessage:"Cancel"})})]})]})}const f=function(e){const s=(0,a().v3)(),[o,r]=(0,i.useState)(!1),{origin:l}=e,d=(0,n().IS)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350}})),[]);return(0,y.jsx)(t(433876).A,{modalStyle:d.modalStyle,open:o,origin:(0,y.jsx)("div",{onClick:()=>{t(701763).cK(s),r(!0)},children:l}),onDismiss:()=>r(!1),renderContent:()=>(0,y.jsx)(b,{onDismiss:()=>r(!1)})})}},433876:(e,s,t)=>{t.d(s,{A:()=>a});t(296540);var i=t(474848);const a=function(e){const s=(0,t(484714).v3)(),{modalStyle:a}=e,o=(0,t(401497).IS)((e=>({modalStyle:{top:t(175947).jq(s.device.isElectronMac),borderRadius:12,overflow:"hidden",boxShadow:e.shadowLG,background:e.contentBackground,...a}})),[s,a]),{device:n}=s;return n.isMobile?(0,i.jsx)(t(897119).Ay,{popupType:t(377586).n.SlideUp,open:e.open,render:e.renderContent,preventSlideUpTransition:e.disableAnimation,onDismiss:e.onDismiss,origin:e.origin,trapFocus:!1,ariaLabel:e.ariaLabel}):(0,i.jsx)(t(676007).A,{open:e.open,preventHideChildrenWhileOpening:!0,style:{alignItems:"flex-start"},innerStyle:o.modalStyle,onDismiss:e.onDismiss,render:e.renderContent,origin:e.origin,isWaxPaper:e.modalIsWaxPaper,backgroundStyle:e.modalBackgroundStyle,transitionAppearance:e.disableAnimation?"none":void 0,ariaLabel:e.ariaLabel})}}}]);