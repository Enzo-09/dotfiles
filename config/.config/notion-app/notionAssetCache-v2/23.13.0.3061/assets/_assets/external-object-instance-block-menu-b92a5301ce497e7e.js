"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[73006],{33218:(e,t,o)=>{o.d(t,{UQ:()=>m,gL:()=>v});o(16280),o(898992),o(672577),o(803949);var n=()=>o(651124),i=()=>o(792071),r=()=>o(688728),a=()=>o(369186),s=()=>o(475140),l=()=>o(235692),d=()=>o(778781),c=()=>o(696706),p=()=>o(896628),u=()=>o(751156);function m(e){let{environment:t,transaction:o,layoutStore:n,position:l,updatedModule:d,sessionId:c}=e;const p=r().Zm[l.area],m=n.getRawModules();if("form_conditional_modules"===p){const e=null==m?void 0:m[p];if(!(null==e?void 0:e[l.moduleId]))throw new Error("Unable to find module being updated.");return void u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){u().applyOperation({transaction:e,store:n,operation:i().N4X.updateModuleInArea({pointer:n.pointer,area:p,module:(0,a().Lv)(d)})})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const _=(0,s().LC)(m,(e=>e.id===l.moduleId));if(!_||_.area!==p)throw new Error("Unable to find module being updated.");u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){u().applyOperation({transaction:e,store:n,operation:i().N4X.updateModuleInArea({pointer:n.pointer,module:(0,a().Lv)(d),..."views_main_tab_modules"===_.area?{area:_.area,viewId:_.viewId}:{area:_.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function _(e){var t,o,n;let{collectionStore:i,layoutStore:r}=e;const a=new Map,s=i.getFormat(),l=[...null===(t=r.getModules())||void 0===t?void 0:t.page_main,...null===(o=r.getModules())||void 0===o?void 0:o.page_details],c=new Map;null===(n=s.property_visibility)||void 0===n||n.forEach((e=>{c.set(e.property,e)})),l.forEach((e=>{if(!(0,d()._Q)(e))return(0,d().gx)(e)?(a.set(e.propertyId,{property:e.propertyId}),void c.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),c.set(e,{property:e,visibility:"show"})}))}));const p=i.getNormalizedPropertyGroups();var u;p?p.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(u=s.collection_page_properties)||void 0===u||u.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(c.values())}}function v(e){let{environment:t,transaction:o,collectionStore:r,layoutStore:a}=e;const{propertiesFormat:s,propertyVisibility:m}=_({collectionStore:r,layoutStore:a});u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),o=a.getFormat(),_=a.firstModuleOfType("viewsMain");_&&(0,d().y6)(_)&&t.find((e=>c().L3.isEqual(e,_.collection_view_block_pointer)))&&u().applyOperation({transaction:e,store:a,operation:i().N4X.removeBlockChild(a.pointer,_.collection_view_block_pointer.id)});const v=null==o?void 0:o.previousViewsMainCollectionViewBlockPointer,f=v&&t.find((e=>c().L3.isEqual(e,v)));f&&u().applyOperation({transaction:e,store:a,operation:i().N4X.removeBlockChild(a.pointer,f.id)}),u().applyOperation({transaction:e,store:a,operation:i().N4X.setModulesByAreas(a.pointer,(0,l().K5)())}),u().applyOperation({transaction:e,store:a,operation:i().N4X.deleteFormat(a.pointer)});const y=r.getFormat(),{page_section_visibility:b}=y;p().zA({stores:[r],update:{property_groups:void 0,collection_page_properties:s,property_visibility:m,...b?{page_section_visibility:n().Zi}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},90907:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,lockIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"}),(0,n.jsx)("path",{d:"M10 1.95a4 4 0 0 0-4 4v1.433a2.426 2.426 0 0 0-2.025 2.392v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.426 2.426 0 0 0 14 7.383V5.95a4 4 0 0 0-4-4m2.75 5.4h-5.5v-1.4a2.75 2.75 0 0 1 5.5 0zM5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},r=(0,o(340498).wt)("lock",i)},155185:(e,t,o)=>{o.d(t,{I:()=>a,_:()=>r});const n={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},i={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1};function r(e){return n[e.type]}function a(e){return i[e.type]}},192421:(e,t,o)=>{o.d(t,{F:()=>d});o(296540);var n=()=>o(484714),i=()=>o(433847),r=()=>o(959013),a=()=>o(583690),s=()=>o(678553),l=o(474848);function d(e){const{role:t}=e,o=(0,r().tz)(),{device:d}=(0,n().v3)(),c=(0,a().I2)(t);return(0,l.jsx)(s().Ay,{...e,title:o.formatMessage((0,i().sK)(t,void 0).label),shouldWrapCaption:!0,style:d.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,l.jsx)("div",{children:c})})}},200582:(e,t,o)=>{o.d(t,{m:()=>i});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M11.633 1.812c.263.096.43.354.41.632l-.392 5.51h3.099a.625.625 0 0 1 .506.992l-6.18 8.54a.625.625 0 0 1-1.13-.412l.402-5.5H5.25a.625.625 0 0 1-.507-.99l6.17-8.55a.625.625 0 0 1 .72-.222m-5.161 8.513H9.02a.625.625 0 0 1 .623.67l-.29 3.976 4.173-5.766H10.98a.625.625 0 0 1-.623-.67l.284-3.987z"})},i=(0,o(340498).wt)("lightning",n)},212727:(e,t,o)=>{o.r(t),o.d(t,{gearIcon:()=>r,iconDefinition:()=>i});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.29 10c0 1.5 1.22 2.71 2.71 2.71 1.5 0 2.71-1.21 2.71-2.71S11.5 7.29 10 7.29 7.29 8.5 7.29 10m1.25 0c0-.81.66-1.46 1.46-1.46.81 0 1.46.65 1.46 1.46s-.65 1.46-1.46 1.46-1.46-.65-1.46-1.46"}),(0,n.jsx)("path",{d:"M8.49 17.64q.75.15 1.53.15v-.01c.47 0 .94-.04 1.41-.13.26-.05.46-.25.5-.51l.26-1.53.15-.06 1.28.91c.21.14.49.14.71 0 .41-.28.8-.61 1.18-.98.33-.33.63-.7.9-1.09.15-.21.15-.5 0-.71l-.9-1.27.06-.15 1.55-.27c.26-.05.46-.25.51-.5a7.8 7.8 0 0 0 .02-2.94.62.62 0 0 0-.51-.5l-1.53-.26-.06-.15.91-1.28c.14-.21.14-.49 0-.71a7.9 7.9 0 0 0-2.07-2.08.62.62 0 0 0-.71 0l-1.27.9-.15-.06-.27-1.55a.64.64 0 0 0-.5-.51c-.5-.1-1-.15-1.53-.15-.47 0-.95.04-1.41.13-.26.05-.46.25-.5.51l-.26 1.53-.15.06-1.28-.91a.65.65 0 0 0-.71 0 7.9 7.9 0 0 0-2.08 2.07c-.15.21-.15.5 0 .71l.9 1.27-.06.15-1.55.27c-.26.05-.46.25-.51.5-.1.5-.15 1-.15 1.53 0 .47.04.95.13 1.41.05.26.25.46.51.5l1.53.26.06.15-.91 1.28c-.14.21-.15.49 0 .71.29.42.61.81.98 1.18.34.34.7.65 1.09.91.21.15.5.15.71 0l1.27-.9.15.06.27 1.55c.05.26.25.46.5.51m2.29-1.15c-.53.07-1.09.07-1.63 0l-.25-1.47a.62.62 0 0 0-.42-.49 6 6 0 0 1-.68-.28.63.63 0 0 0-.65.04l-1.2.85a6.8 6.8 0 0 1-1.14-1.16l.86-1.21c.13-.19.15-.43.05-.64-.11-.22-.21-.45-.28-.68a.62.62 0 0 0-.49-.43l-1.45-.25a6.7 6.7 0 0 1 0-1.63l1.47-.25c.23-.04.42-.2.49-.42.07-.23.17-.46.28-.68.11-.21.09-.46-.04-.65l-.85-1.2A6.8 6.8 0 0 1 6.01 4.8l1.21.86c.19.13.43.15.64.05.22-.11.45-.21.68-.28s.39-.26.43-.49l.25-1.45c.53-.07 1.09-.07 1.63 0l.25 1.47c.04.23.2.42.42.49.23.07.46.17.68.28.21.11.46.09.65-.04l1.2-.85A6.8 6.8 0 0 1 15.19 6l-.86 1.21c-.13.19-.15.43-.05.64.11.22.21.45.28.68s.26.39.49.43l1.45.25a6.7 6.7 0 0 1 0 1.63l-1.47.25c-.23.04-.42.2-.49.42-.07.23-.17.46-.28.68-.11.21-.09.46.04.65l.85 1.2a6.8 6.8 0 0 1-1.16 1.14l-1.21-.86a.64.64 0 0 0-.64-.05c-.22.11-.45.21-.68.28s-.39.26-.43.49z"})]})},r=(0,o(340498).wt)("gear",i)},235692:(e,t,o)=>{o.d(t,{K5:()=>u,Vp:()=>c,_u:()=>d,oP:()=>m,wC:()=>l,xN:()=>p});o(898992),o(354520),o(581454);var n=()=>o(183558),i=()=>o(155185),r=()=>o(778781),a=()=>o(369186);const s={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},l={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},d={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyLabels:"hide",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[],person_profile_page_main:[],person_profile_page_details:[]},c={page_main:[],page_details:[],form_layout_schema:[],person_profile_page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"recent_activity",type:"recentActivity"}],person_profile_page_details:[{id:"collaborators",type:"collaborators"},{id:"teamspaces",type:"teamspaces"}]};function p(e){return(0,a().jr)({modulesByArea:s,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function u(){return{page_layout_schema:(0,a().ke)(s.page_main).map((e=>{if(!(0,r().cn)(e))return(0,i().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().ke)(s.page_details).map((e=>{if(!(0,r().cn)(e))return(0,i().I)(e)?{...e,id:(0,n().Ay)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0}}function m(e,t){const o=void 0===t?[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:e},{id:(0,n().Ay)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,person_profile_page_main:void 0,person_profile_page_details:void 0,form_layout_schema:[{id:(0,n().Ay)(),type:"cover"},{id:(0,n().Ay)(),type:"formTitle"},...o,{id:(0,n().Ay)(),type:"formSubmit"}]}}},250202:(e,t,o)=>{o.d(t,{G:()=>s,e:()=>a});var n=o(296540),i=()=>o(401497),r=o(474848);let a=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});const s=n.forwardRef((function(e,t){const{propertySchema:n,format:s,locked:l}=e,{name:d,type:c,icon:p}=n,u=(0,o(963589).X)("nds_default_property_noticon"),{isMobile:m}=(0,o(484714).Y0)(),_=(0,i().IS)((e=>({propertyIcon:{fill:e.regularIconColor,marginLeft:6,marginRight:2}})),[]),v=(0,i().DP)(),f=s===a.Name?d:o(682146).dC[c];return(0,r.jsx)(o(760217).A,{title:f,icon:(0,r.jsx)(o(743176).zB,{icon:p,type:c,size:m?18:16,theme:v,style:_.propertyIcon,isDefaultNoticonEnabled:u}),disabled:l,...e})}))},256863:(e,t,o)=>{o.d(t,{A:()=>a});o(296540);var n=()=>o(847249),i=()=>o(824862),r=o(474848);const a=function(e){const{botValue:t,botStore:a,showActiveDot:s,style:l,size:d}=e,c=(0,o(959013).tz)(),p=(0,n().K8)((()=>{if(a){const e=a.getIcon();if(e)return{pointer:{table:i().GP,id:a.id,spaceId:a.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:i().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[a,t]),u=(0,n().K8)((()=>(null==a?void 0:a.getDisplayName(c))??(0,o(799288).Hg)(t)),[a,t,c]),{activeDotStyle:m}=(0,o(401497).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.accentColors.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}})),[]);return(0,r.jsxs)("div",{style:l,children:[(0,r.jsx)(o(614505).B,{icon:p,title:u,size:d||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),s?(0,r.jsx)("div",{style:m}):void 0]})}},314660:(e,t,o)=>{o.d(t,{f:()=>i});var n=()=>o(246826);function i(e){const{collectionViewStore:t,update:o,transaction:i}=e;n().zv({store:t.getQueryStore(),data:o,transaction:i})}},390527:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>j,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>I,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>A,MAX_RECURRENCE_INTERVAL:()=>y,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>b,RRULE_WEEKDAYS_MAP:()=>f,adjustedStartDateIfPossible:()=>C,areRecurrenceSchedulesEqual:()=>V,convertFromUnpersistedRecurrenceConfig:()=>R,convertToUnpersistedRecurrenceConfig:()=>B,getFormattedEndCondition:()=>T,getFormattedNextRecurrenceTime:()=>E,getNewEndTimestamp:()=>D,getNextDateUtc:()=>k,getRecurrenceAfter:()=>S,isRunningBetweenMidnightAnd3AM:()=>x,isValidRecurrenceInterval:()=>g,isValidRecurrenceNumberOfRuns:()=>h,rruleFromRecurrence:()=>w,templateAncestorsViolateRecurrenceNesting:()=>M});o(898992),o(354520),o(581454);var n=()=>o(244641);o(944114);function i(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];if(0===o.length)return e.map((e=>[e]));const r=[];for(const a of e)r.push(...i(o[0],...o.slice(1)).map((e=>[a,...e])));return r}var r=()=>o(496603),a=()=>o(534177),s=()=>o(720665),l=()=>o(597777),d=()=>o(869190),c=()=>o(416504),p=()=>o(402390);class u extends(()=>o(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var m=()=>o(912720);const _=(0,o(959013).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12–3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),v={day:u.DAILY,week:u.WEEKLY,month:u.MONTHLY,year:u.YEARLY},f={MO:u.MO,TU:u.TU,WE:u.WE,TH:u.TH,FR:u.FR,SA:u.SA,SU:u.SU},y=99,b=999;function g(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=y}function h(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=b}function w(e){const{start_date:t,frequency:o,interval:n,weekdays:r,timezone:s,hour:d,minute:c}=e,p="week"===o&&r?r.map((e=>f[e])):void 0,m={};return(0,a().O9)(e.end_condition)&&("date"===e.end_condition.type?m.until=(0,l().eU)(e.end_condition.end_at):"number"===e.end_condition.type?m.count=e.end_condition.number_of_occurrences:(0,a().HB)(e.end_condition)),"month"===e.frequency&&(0,a().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?m.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?m.byweekday=i(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,o]=e;return f[t].nth(o)})):(0,a().HB)(e.monthly_restriction)),new u({freq:v[o],dtstart:(0,l().eU)(t),interval:n,byweekday:p,tzid:s,byhour:d??0,byminute:c??0,bysecond:0,...m})}const A=1,I=1;function M(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),n=e.length,i=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,r=n>A,a=o.length>=I;return{violatesConstraint:r||a,templateNestingExceedsMaxDepth:r,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:n,immediateAncestorRecurrenceType:i}}function C(e){var t;const{recurrence:o,afterDate:i}=e;if("number"===(null===(t=o.end_condition)||void 0===t?void 0:t.type)||o.start_date>=i)return o;let r=n().c9.fromMillis(o.start_date,{zone:"utc"});const a=n().c9.fromMillis(i,{zone:"utc"});switch(o.frequency){case"year":{const e=Math.floor(a.diff(r,"years").years/o.interval);r=r.plus({years:e*o.interval});break}case"month":{const e=Math.floor(a.diff(r,"months").months/o.interval);r=r.plus({months:e*o.interval});break}case"week":{const e=Math.floor(a.diff(r,"weeks").weeks/o.interval);r=r.plus({weeks:e*o.interval});break}case"day":{const e=Math.floor(a.diff(r,"days").days/o.interval);r=r.plus({days:e*o.interval});break}}return{...o,start_date:(0,l().DH)(r.toMillis())}}function S(e){const{recurrence:t,afterDate:o}=e;if((0,m().wt)(t)){const e=(0,l().l1)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=w(C({recurrence:t,afterDate:o})).after((0,l().eU)(o));if(!e)return;return(0,l().h1)(e)}}function x(e){return 0===e.hour||1===e.hour||2===e.hour}function k(e){return w(e).after((0,l().eU)((0,l().Rz)()))||void 0}function E(e){const{recurrence:t,intl:o}=e,i=k(R(t));if(!i)return;const r=x(t),a=n().c9.fromJSDate(i).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,p().H)(o)).setZone(t.timezone),s=(0,d().Yq)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(r)return o.formatMessage(_.dateBetweenMidnightAnd3AM,{date:s});{let e=a.toLocaleString(n().c9.TIME_SIMPLE);return t.timezone!==(0,c().P)()&&(e+=` ${a.toFormat("ZZZZ")}`),o.formatMessage(_.dateAtTime,{date:s,time:e})}}function T(e,t){return(0,a().O9)(e)?"number"===e.type?t.formatMessage(_.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,d().Yq)({date:n().c9.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,a().HB)(e):t.formatMessage(_.noEndCondition)}const j=100;function B(e){return{...e,start_date:(0,l().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().l1)(e.end_condition.end_at)}:(0,a().HB)(e.end_condition):void 0}}function D(e,t,o){return e.plus(o-t)}function P(e,t){const o=n().c9.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Rz)(o.toJSDate())}}function R(e){return{...e,start_date:(0,l().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?P(e,e.end_condition):(0,a().HB)(e.end_condition):void 0}}function V(e,t){const o=r().fN(e,(e=>void 0!==e)),n=r().fN(t,(e=>void 0!==e));return r().n4(o,n)}},413267:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},424139:(e,t,o)=>{o.r(t),o.d(t,{emojiFaceIcon:()=>r,iconDefinition:()=>i});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8.045 11.706a.625.625 0 0 0-1.036.698A3.6 3.6 0 0 0 10.005 14c1.245 0 2.35-.637 2.996-1.596a.625.625 0 0 0-1.036-.698 2.37 2.37 0 0 1-1.96 1.044 2.36 2.36 0 0 1-1.96-1.044m-.68-2.041c.49 0 .88-.46.88-1.02s-.39-1.02-.88-1.02-.88.46-.88 1.02.39 1.02.88 1.02m6.15-1.02c0 .56-.39 1.02-.88 1.02s-.88-.46-.88-1.02.39-1.02.88-1.02.88.46.88 1.02"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,o(340498).wt)("emojiFace",i)},447934:(e,t,o)=>{o.d(t,{$L:()=>S,Fv:()=>P,HD:()=>R,V_:()=>j,bV:()=>B,jP:()=>T,nh:()=>E,w8:()=>D});o(16280),o(18107),o(967357),o(898992),o(354520);var n=()=>o(206267),i=()=>o(792071),r=()=>o(688728),a=()=>o(475140),s=()=>o(235692),l=()=>o(924329),d=()=>o(778781),c=()=>o(144081),p=()=>o(334261),u=()=>o(661920),m=()=>o(435009),_=()=>o(751156),v=()=>o(799832),f=()=>o(492414),y=()=>o(594794),b=()=>o(869562),g=()=>o(351360),h=()=>o(712505),w=()=>o(630116),A=()=>o(263711),I=()=>o(640868),M=()=>o(204521),C=()=>o(33218);function S(e){let{environment:t,transaction:o,collectionStore:n,userId:r,modules:a}=e;const l=(0,y().zP)({environment:t,spaceId:n.getSpaceId(),table:c().zx}),d=w().sk.createChildStore(n,l),{model:p,operations:[u]}=i().wfN.create({pointer:l,parent:n.pointer,createdByUserId:r,modules:a??(0,s().K5)()});_().applyOperation({transaction:o,store:d,operation:u});const m=i().BnK.setLayout(n.pointer,l);return _().applyOperation({transaction:o,store:n,operation:m}),{model:p,store:d}}function x(e){let t;return e?t=e:h().default.state.open&&h().default.state.targetStore?t=h().default.state.targetStore:g().default.state.mainEditorCurrentBlockStore&&(t=g().default.state.mainEditorCurrentBlockStore),t}function k(e){b().setUpdateExpand({environment:e,isExpanded:!1,from:"keyboard_default",saveDetailsSidebarPreference:!1}),u().VN({environment:e,from:"open_page_layout_editor",preventAnimation:!0})}function E(e){var t,o;let{environment:i,blockStore:r,collectionStore:a,collectionViewStore:s,from:l,initialSelectedModuleType:d}=e;const c=function(e){var t;let o=x(e);if(null!==(t=o)&&void 0!==t&&t.isCollectionView()){const e=(0,v().U)(o);o=e?e.resultsInViewOrder(1).at(0):void 0}return o}(r),p=window.location.href;k(i);const u=n().JW();A().g.setState({isOpen:!0,mode:"layout-editor",collectionStore:a,pageStore:c,siteRootBlockStore:void 0,sessionId:u,initialSelectedModuleId:null==c||null===(t=c.getAssociatedCollectionStore())||void 0===t||null===(t=t.getLayoutStore())||void 0===t||null===(t=t.getModel())||void 0===t||null===(t=t.firstRawModuleOfType(d??"titleWithIcon"))||void 0===t?void 0:t.id,urlOnOpen:p}),(0,M().Ko)({environment:i,from:l,context:"layout",sessionId:u,collectionId:null==a?void 0:a.id,existingLayoutId:null==a||null===(o=a.getLayoutStore())||void 0===o?void 0:o.id,collectionViewId:null==s?void 0:s.id})}function T(e){let{environment:t,store:o,siteRootBlockStore:i,from:r}=e;const a=x(o);k(t);const s=n().JW();A().g.setState({isOpen:!0,mode:"site-settings-editor",pageStore:a,siteRootBlockStore:i,sessionId:s}),(0,M().Ko)({environment:t,context:"site",from:r,sessionId:s,collectionId:void 0,existingLayoutId:void 0})}function j(e){let{slideBlockStore:t}=e;const o=t.getNavigableBlockStore(),i=n().JW();A().g.setState({isOpen:!0,mode:"presentation",pageStore:o,currentSlideStore:t,sessionId:i}),window.document.documentElement.requestFullscreen()}function B(e){let{environment:t,pageStore:o,slideBlockStore:n}=e;A().g.setState({isOpen:!1});const i=(0,f().Ay)({store:o,scrollToBlockId:n.id,pageVisitSource:void 0});m().oo({environment:t,url:i}),window.document.fullscreenElement&&window.document.exitFullscreen()}function D(e){A().g.getState().isOpen&&P(e)}function P(e){let{environment:t}=e;const o=A().g.getState();if(!o.isOpen)throw new Error("Cannot close page layout editor. Page layout editor is not open.");"layout-editor"===o.mode&&o.urlOnOpen&&window.location.href!==o.urlOnOpen&&m().aX(t),A().g.setState({isOpen:!1})}function R(e){var t;let{environment:o,transaction:n,property:i,layoutStore:s}=e;const c=A().g.getSessionId(),u=null===(t=s.getModel())||void 0===t?void 0:t.getRawModules(),m=s.getCollectionModel();if(!u||!m)return;const _=w().md.createChildStore(s,m.pointer),v=(0,a().yn)(u,(e=>"titleWithIcon"===e.type));if(v&&(0,d().Mj)(v.module)){var f;const{module:e,position:t}=v,a={...e,type:"titleWithIcon",propertyIds:null===(f=e.propertyIds)||void 0===f?void 0:f.filter((e=>e!==i))};(0,C().UQ)({environment:o,sessionId:c,transaction:n,layoutStore:s,position:{area:(0,r().Fw)(t.area),moduleId:e.id},updatedModule:(0,l().X)(a)})}const y=(0,a().LP)(u,(e=>"property"===e.type&&e.propertyId===i));for(const{module:a,position:l}of y){const e=a.id,t=(0,r().Fw)(l.area);(0,I().U)({environment:o,sessionId:c,transaction:n,layoutStore:s,position:{area:t,moduleId:e}})}const b=m.getFormat().collection_page_sections;if(b){const e=b.filter((e=>e.section!==i));p().LK({store:_,pageSectionFormats:e,transaction:n,environment:o})}}},487808:(e,t,o)=>{o.r(t),o.d(t,{ExternalObjectInstanceBlockMenu:()=>M});o(944114);var n=o(296540),i=()=>o(484714),r=()=>o(847249),a=()=>o(617871),s=()=>o(673724),l=()=>o(796073),d=()=>o(824862),c=()=>o(959013),p=()=>o(534177),u=()=>o(290625),m=()=>o(953448),_=()=>o(751156),v=()=>o(633457),f=()=>o(722872),y=()=>o(227440),b=()=>o(53137),g=()=>o(575143),h=()=>o(928600),w=()=>o(939740),A=()=>o(89924),I=o(474848);function M(e){const{titleForReloadMenuOption:t,store:o,parentBlockStore:M,onAccept:C,onDismiss:S,extraSecondaryItemKey:x,token:k}=e,E=(0,i().v3)(),T=(0,m().J)(),j=(0,n.useCallback)((e=>{const t={blocks:[o],environment:E,publicEditMode:void 0,analyticsFrom:"external_object_instance_block_menu",lazyDependencies:T};return{key:e.key,render:(o,n)=>e.render(o,t,{onAccept:C,onFocus:n.onFocus}),action:o=>{let{event:n}=o;return e.action(t,n)}}}),[o,E,T,C]),B=(0,r().K8)((()=>{const e=o.getFormat().bot_id,t=b().A.getBotsAsRecordMap();if(e&&!0===b().A.state.loaded){const o=t.getValue({table:d().GP,id:e});if(o&&o.integration_id&&o.integration_id===a().ob)return!1}return!0}),[o]),D=[],P=!(0,r().O$)(y().e);B&&D.push({key:0,render:e=>(0,I.jsx)(A().A,{...e,style:{paddingTop:0,paddingBottom:0}}),items:[{key:"reload external instance object",render:e=>(0,I.jsx)(g().A,{...e,title:t,svg:l().$,disabled:P,style:P?{opacity:.4}:void 0,tooltipText:P?(0,I.jsx)(c().sA,{id:"externalObjectInstanceBlockMenu.reload.offlineTooltip",defaultMessage:"Unavailable while offline"}):void 0}),action:()=>{o&&(o.isExternalObjectInstanceBlockStore()||o.isExternalObjectInstancePageBlockStore())&&v().lf({environment:E,from:"page_more_menu",store:o,spaceId:o.getSpaceId()})}}]});const R=(0,r().K8)((()=>{switch(x){case"preview_to_mention":return[j(u().oq)];case"mention_to_preview":if(!o.isExternalObjectInstanceBlockStore())return[];const e={key:"turn preview into block",render:e=>(0,I.jsx)(g().A,{...e,title:(0,I.jsx)(c().sA,{id:"hoverPreviewOverlay.action.turnPreviewIntoPreview",defaultMessage:"Turn into preview"}),svg:s().I}),action:()=>{M&&k&&_().createAndCommit({userAction:"HoverPreviewOverlay.transformExternalObjectInstanceMentionIntoBlock",environment:E,canUndo:!0,perform:e=>{v().FQ({block:o,parentStore:M,transaction:e,token:k}),e.postSubmitCallbacks.push((e=>{e||null==S||S()}))}})}};return[e];default:(0,p().HB)(x)}}),[x,j,o,M,k,E,S]);return D.push({key:1,render:e=>(0,I.jsx)(A().A,{...e,style:{paddingTop:0,paddingBottom:0}}),items:[...R,j(u().tA)]}),(0,I.jsx)(h().A,{menuType:f().gu.Popup,children:(0,I.jsx)(w().Ay,{type:w().Oh.Vertical,initialFocus:void 0,onAccept:C,sections:D,style:{paddingTop:3,paddingBottom:3}})})}},519143:(e,t,o)=>{o.d(t,{D:()=>i});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"m3.625 11.151 1.187-1.187a.625.625 0 1 1 .884.884l-2.254 2.254a.625.625 0 0 1-.884 0L.304 10.848a.625.625 0 0 1 .884-.884l1.187 1.187V10a7.625 7.625 0 0 1 12.814-5.587.625.625 0 1 1-.851.915A6.375 6.375 0 0 0 3.625 10zm14-2.302 1.187 1.187a.625.625 0 1 0 .884-.884l-2.254-2.254a.625.625 0 0 0-.884 0l-2.254 2.254a.625.625 0 1 0 .884.884l1.187-1.187V10a6.375 6.375 0 0 1-10.713 4.672.625.625 0 0 0-.85.915A7.625 7.625 0 0 0 17.625 10z"})},i=(0,o(340498).wt)("arrowCircleLoop",n)},536583:(e,t,o)=>{o.d(t,{d:()=>i});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M9.294 2.325h3.103c.484 0 .948.192 1.29.534l2.897 2.898c.342.342.535.806.535 1.29v5.903a1.825 1.825 0 0 1-1.825 1.825H12.53v1.075a1.825 1.825 0 0 1-1.825 1.825h-6A1.825 1.825 0 0 1 2.88 15.85v-8.8c0-1.008.817-1.825 1.825-1.825H7.47V4.15c0-1.008.817-1.825 1.825-1.825M9.1 5.76l2.897 2.897c.342.342.534.806.534 1.29v3.578h2.763a.575.575 0 0 0 .575-.575V7.3h-1.975a1.75 1.75 0 0 1-1.75-1.75V3.575h-2.85a.575.575 0 0 0-.575.575v1.318q.208.12.38.292m6.16.44-2.016-2.016V5.55c0 .359.29.65.65.65zm-10.554.275a.575.575 0 0 0-.575.575v8.8c0 .318.258.575.575.575h6a.575.575 0 0 0 .575-.575V10.2H9.306a1.75 1.75 0 0 1-1.75-1.75V6.475zm3.95.609V8.45c0 .359.291.65.65.65h1.366z"})},i=(0,o(340498).wt)("docOnDoc",n)},583690:(e,t,o)=>{o.d(t,{AC:()=>p,I2:()=>d,YC:()=>c});o(296540);var n=()=>o(401497),i=()=>o(212050),r=()=>o(413267),a=()=>o(959013),s=o(474848);function l(e){const{enabled:t,labelIfEnabled:o,labelIfDisabled:i}=e,r=(0,n().IS)((e=>({container:{color:t?e.text.secondary:e.text.tertiary}})),[t]);return(0,s.jsxs)("div",{style:r.container,children:[u(t)," ",t?o:i]})}function d(e){const t="none"!==e;return[(0,s.jsx)(l,{enabled:t&&e.read_content,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content."})},"read_content"),(0,s.jsx)(l,{enabled:t&&e.insert_content,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,s.jsx)(l,{enabled:t&&e.update_content,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content."})},"update_content"),(0,s.jsx)(l,{enabled:t&&e.insert_comment,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment."})},"insert_comment"),(0,s.jsx)(l,{enabled:t&&e.read_comment,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments."})},"read_comment")]}function c(e){return[(0,s.jsx)(l,{enabled:e.read_user_without_email,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users."})},"read_user_without_email"),(0,s.jsx)(l,{enabled:e.read_user_with_email,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses."})},"read_user_with_email")]}function p(e){return[(0,s.jsx)(l,{enabled:e.link_preview,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,s.jsx)(l,{enabled:e.synced_database,labelIfEnabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,s.jsx)(a().sA,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}function u(e){const t={width:12,display:"inline",verticalAlign:"middle"};return e?(0,r().b)(t):(0,i().u)(t)}},609316:(e,t,o)=>{o.d(t,{V:()=>n});const n=(0,o(583835).Dv)("importFile")},640868:(e,t,o)=>{o.d(t,{U:()=>u});o(16280);var n=()=>o(31503),i=()=>o(454984),r=()=>o(688728),a=()=>o(475140),s=()=>o(789280),l=()=>o(778781),d=()=>o(751156),c=()=>o(204521),p=()=>o(658616);function u(e){let{environment:t,transaction:o,layoutStore:u,position:m,sessionId:_,beforePerformDeleteModule:v}=e;const f=u.getModules();if(!f)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const y=(0,a().EX)(f,(e=>e.id===m.moduleId)),b=(0,n().Cg)({moduleId:null==y?void 0:y.module.id,modulesByArea:u.getModules()}).length;if(!y)return;const{module:g,position:h}=y;if(!(0,s().Fe)(g))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var w;(d().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:n,moduleToDelete:a,beforePerformDeleteModule:s}=e;s&&s(t);(0,l().V6)(a)&&(0,p().deleteViewsModuleDependencies)({layoutStore:o,viewsModule:a,transaction:t});if("form_conditional_modules"===n.area){const e=i().N4.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:a});for(const n of e)d().applyOperation({transaction:t,store:o,operation:n})}else{const e="views_main_tab_modules"===n.area?{area:n.area,viewId:n.viewId}:{area:r().Zm[n.area]};d().applyOperation({transaction:t,store:o,operation:i().N4.deleteModuleInArea({...e,pointer:o.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:u,moduleLocation:h,moduleToDelete:g,beforePerformDeleteModule:v})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),_)&&c().PS({environment:t,module:g,sessionId:_,collectionId:null===(w=u.getCollectionModel())||void 0===w?void 0:w.id,layoutId:u.id,context:(0,r().We)(m.area),area:m.area,depth:b})}},658616:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>a});var n=()=>o(220719),i=()=>o(44729),r=()=>o(630116);function a(e){const{layoutStore:t,viewsModule:o,transaction:a}=e,s=(0,n().o9)(r().Bv.createChildStore(t,o.collection_view_block_pointer));i().zz({childStore:s,parentStore:t,transaction:a})}},673724:(e,t,o)=>{o.d(t,{I:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("loop",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M5.80371 3.12305C5.81006 3.50391 6.05762 3.74512 6.47656 3.74512H11.3643C11.9546 3.74512 12.2783 4.0498 12.2783 4.66553V11.2925L11.377 10.3149L10.8628 9.80078C10.5962 9.54688 10.2344 9.52783 9.96777 9.78809C9.71387 10.0483 9.72021 10.4229 9.98047 10.6831L12.145 12.8413C12.6211 13.311 13.167 13.311 13.6431 12.8413L15.8076 10.6831C16.0679 10.4229 16.0742 10.0483 15.8203 9.78809C15.5537 9.52783 15.1919 9.54688 14.9253 9.80078L14.4111 10.3149L13.5161 11.2861V4.56396C13.5161 3.20557 12.8052 2.50098 11.4341 2.50098H6.47656C6.05762 2.50098 5.79736 2.74219 5.80371 3.12305ZM0.186035 7.05859C0.446289 7.3252 0.808105 7.30615 1.07471 7.0459L1.59521 6.53809L2.48389 5.56689V12.2891C2.48389 13.6475 3.19482 14.3521 4.56592 14.3521H9.52344C9.94238 14.3521 10.2026 14.1108 10.1963 13.73C10.1899 13.3428 9.94238 13.1079 9.52344 13.1079H4.64209C4.05176 13.1079 3.72803 12.7969 3.72803 12.1812V5.5542L4.62305 6.53809L5.14355 7.0459C5.40381 7.30615 5.77197 7.3252 6.03223 7.05859C6.29248 6.79834 6.28613 6.43018 6.01953 6.16992L3.85498 4.01172C3.37891 3.53564 2.83936 3.53564 2.36328 4.01172L0.19873 6.16992C-0.0678711 6.43018 -0.0742188 6.79834 0.186035 7.05859Z"})})},701751:(e,t,o)=>{o.d(t,{p:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,n.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},r=(0,o(340498).wt)("lockOpen",i)},725649:(e,t,o)=>{function n(e){return!(!e||"askUserToPick"in e)}function i(e){if(!e||!("askUserToPick"in e))return e}function r(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}o.d(t,{DK:()=>i,K$:()=>n,j6:()=>r})},751109:(e,t,o)=>{o.d(t,{z:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("slackLogo",{viewBox:"0 0 16 16",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M1.68078 11.7915C2.60586 11.7915 3.36156 11.0358 3.36156 10.1107V8.42993H1.68078C0.755701 8.42993 0 9.18563 0 10.1107C0 11.0358 0.755701 11.7915 1.68078 11.7915Z",fill:"#E01E5A"}),(0,n.jsx)("path",{d:"M5.88928 8.42993C4.9642 8.42993 4.2085 9.18563 4.2085 10.1107V14.3192C4.2085 15.2443 4.9642 16 5.88928 16C6.81436 16 7.57006 15.2443 7.57006 14.3192V10.1107C7.57006 9.18563 6.81436 8.42993 5.88928 8.42993Z",fill:"#E01E5A"}),(0,n.jsx)("path",{d:"M4.2085 1.68078C4.2085 2.60586 4.9642 3.36156 5.88928 3.36156H7.57006V1.68078C7.57006 0.755701 6.81436 0 5.88928 0C4.9642 0 4.2085 0.755701 4.2085 1.68078Z",fill:"#36C5F0"}),(0,n.jsx)("path",{d:"M7.57003 5.88928C7.57003 4.9642 6.81433 4.2085 5.88925 4.2085H1.68078C0.755701 4.2085 0 4.9642 0 5.88928C0 6.81436 0.755701 7.57006 1.68078 7.57006H5.88925C6.81433 7.57006 7.57003 6.81436 7.57003 5.88928Z",fill:"#36C5F0"}),(0,n.jsx)("path",{d:"M10.1107 7.57003C11.0358 7.57003 11.7915 6.81433 11.7915 5.88925V1.68078C11.7915 0.755701 11.0358 0 10.1107 0C9.18563 0 8.42993 0.755701 8.42993 1.68078V5.88925C8.42993 6.81433 9.18563 7.57003 10.1107 7.57003Z",fill:"#2EB67D"}),(0,n.jsx)("path",{d:"M14.3192 4.2085C13.3941 4.2085 12.6384 4.9642 12.6384 5.88928V7.57006H14.3192C15.2443 7.57006 16 6.81436 16 5.88928C16 4.9642 15.2443 4.2085 14.3192 4.2085Z",fill:"#2EB67D"}),(0,n.jsx)("path",{d:"M8.42993 10.1107C8.42993 11.0358 9.18563 11.7915 10.1107 11.7915H14.3192C15.2443 11.7915 16 11.0358 16 10.1107C16 9.18563 15.2443 8.42993 14.3192 8.42993H10.1107C9.18563 8.42993 8.42993 9.18563 8.42993 10.1107Z",fill:"#ECB22E"}),(0,n.jsx)("path",{d:"M11.7915 14.3192C11.7915 13.3941 11.0358 12.6384 10.1107 12.6384H8.42993V14.3192C8.42993 15.2443 9.18563 16 10.1107 16C11.0358 16 11.7915 15.2443 11.7915 14.3192Z",fill:"#ECB22E"})]})})},789280:(e,t,o)=>{o.d(t,{Fe:()=>r,wm:()=>a});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1},i={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1,recentActivity:!1,collaborators:!1,teamspaces:!1};function r(e){return n[e.type]}function a(e){return i[e.type]}},820579:(e,t,o)=>{o.d(t,{f:()=>i});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M10 2.4c.345 0 .625.28.625.625v9.966l3.333-3.333a.625.625 0 1 1 .884.884l-4.4 4.4a.625.625 0 0 1-.884 0l-4.4-4.4a.625.625 0 0 1 .884-.884l3.333 3.333V3.025c0-.345.28-.625.625-.625M4.15 16.35a.625.625 0 1 0 0 1.25h11.7a.625.625 0 0 0 0-1.25z"})},i=(0,o(340498).wt)("arrowLineDown",n)},898563:(e,t,o)=>{o.d(t,{C6:()=>y,Eu:()=>p,FY:()=>s,MP:()=>v,YT:()=>c,d2:()=>f,fK:()=>b,lL:()=>d,mH:()=>g,oI:()=>l,sD:()=>m,tr:()=>u,yS:()=>_});var n=()=>o(989423),i=()=>o(680074),r=()=>o(508496),a=()=>o(10984);function s(e){n().vd(e,"add_slack_integration")}function l(e){n().vd(e,"remove_slack_integration")}function d(e,t){n().vd(e,"slack_notification_create",t)}function c(e,t){n().vd(e,"slack_notification_delete",t)}function p(e,t){n().vd(e,"slack_notification_update",t)}function u(e,t){const o=a().AI(),r=i().FX();n().vd(e,"slack_imports_invite_render_button",{subscription_tier:o,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id})}function m(e,t){const o=a().AI(),r=i().FX();n().vd(e,"slack_imports_invite_render_invite_popup",{subscription_tier:o,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id})}function _(e,t){const o=a().AI(),r=i().FX();n().vd(e,"slack_imports_invite_click_invite_button",{subscription_tier:o,domain_type:r,invited_user_count:t.invited_user_count,origin:t.origin,invite_token_query:t.inviteTokenQuery,invite_targets:t.inviteTargets,invite_flow_id:t.invite_flow_id})}function v(e,t){const o=a().AI(),r=i().FX();n().vd(e,"slack_imports_invite_completed",{subscription_tier:o,domain_type:r,invited_user_count:t.invited_user_count,is_success:t.is_success,origin:t.origin,invite_flow_id:t.invite_flow_id,error:t.error,invite_stage:t.invite_stage})}function f(e,t){const o=a().AI(),r=i().FX();n().vd(e,"slack_imports_invite_dismiss_popup",{subscription_tier:o,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id})}function y(e,t){const o=a().AI(),r=i().FX();n().vd(e,"slack_imports_invite_click_select_all",{subscription_tier:o,domain_type:r,origin:t.origin,invite_flow_id:t.invite_flow_id,invited_user_count:t.invited_user_count,is_unselect:t.is_unselect,invite_token_query:t.invite_token_query})}function b(e,t){const o=a().AI(),s=i().FX();n().vd(e,"slack_imports_invite_start_slack_integration",{subscription_tier:o,domain_type:s,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from}),r().default.logEvent("slack_imports_invite_start_slack_integration",void 0,{subscription_tier:o,domain_type:s,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from})}function g(e,t){const o=a().AI(),s=i().FX();n().vd(e,"slack_imports_invite_complete_slack_integration",{subscription_tier:o,domain_type:s,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from,is_success:t.is_success}),r().default.logEvent("slack_imports_invite_complete_slack_integration",void 0,{metadata:{subscription_tier:o,domain_type:s,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from,is_success:t.is_success}})}},908928:(e,t,o)=>{o.d(t,{GO:()=>B,Ju:()=>j,KA:()=>T,L0:()=>V,L2:()=>L,dA:()=>D,gI:()=>E,iN:()=>F,oG:()=>R,sK:()=>P});o(898992),o(354520),o(803949);var n=()=>o(386164),i=()=>o(433847),r=()=>o(68263),a=()=>o(388821),s=()=>o(179034),l=()=>o(824862),d=()=>o(161479),c=()=>o(96689),p=()=>o(798880),u=()=>o(763824),m=()=>o(534177),_=()=>o(901389),v=()=>o(855801),f=()=>o(594794),y=()=>o(972435),b=()=>o(731320),g=()=>o(630116),h=()=>o(449506),w=()=>o(496414),A=()=>o(579627),I=()=>o(246826),M=()=>o(436572),C=()=>o(751156),S=()=>o(633457);const x=(0,o(959013).YK)({duplicatingTemplate:{id:"botActions.duplicatingTemplate.loadingMessage",defaultMessage:"Duplicating template..."},duplicatingTemplateError:{id:"botActions.duplicateTemplateAndShareWithBot.snackbar.failure",defaultMessage:"Failed to duplicate template for to your workspace"}});function k(e,t){const{environment:o,spaceStore:n,spaceRole:i}=t,r=function(e){const{name:t,spaceStore:o,userId:n,icon:i,type:r,environment:a}=e,s=Date.now(),d={name:t,created_at:s,created_by_table:p().oo,created_by_id:n,alive:!0,icon:i,space_id:o.id,last_edited_at:s,last_edited_by_id:n,last_edited_by_table:p().oo};switch(r){case"guest":return{...d,type:"guest",capabilities:e.capabilities,parent_table:c().NX,parent_id:o.id,integration_id:void 0};case"scim":return{...d,id:(0,f().Z1)({environment:a,table:l().GP,spaceId:o.id}),type:"scim",parent_table:p().oo,parent_id:n};default:(0,m().HB)(r)}}(t),a=I().eC({environment:o,table:l().GP,value:r,inMemoryRecordCache:o.defaultRecordCache.inMemoryRecordCache,transaction:e});return A().dy({environment:o,spaceStore:n,permissionItems:[{type:"bot_permission",role:i,bot_id:a.id}],transaction:e}),{botStore:a}}function E(e){const{environment:t}=e,{serverCommitResult:o,performResult:{botStore:n}}=C().createAndCommit({userAction:"botActions.createSpaceBot",environment:t,canUndo:!0,perform:t=>k(t,e)});return{botStore:n,transactionPromise:o}}async function T(e){const{environment:t,botId:o,onSuccess:n}=e,i=await h().callApi({eventName:"deleteBot",environment:t,data:{botId:o}});"failed"===i.type?_().Qg(i):"success"===i.type&&n&&(await S().oX({environment:t}),n())}async function j(e){const{environment:t,table:o,id:i,type:r}=e,a=await h().callApi({eventName:"getBots",environment:t,data:{table:o,id:i,type:r},headers:(0,n().WS)({spaceId:o===c().NX?i:void 0})});if("failed"===a.type)throw _().Qg(a),a;return{botIds:a.data.botIds,recordMap:a.data.recordMap}}async function B(e){const{environment:t,currentSpaceStore:o,botIds:n}=e;if(!o)return;const i=await h().callApi({eventName:"getBotSharedPageIds",environment:t,data:{spaceId:o.id,botIds:n}});if("failed"!==i.type)return i.data;_().Qg(i)}async function D(e){const{environment:t,botId:o}=e,n=await h().callApi({eventName:"getBotToken",environment:t,data:{botId:o}});if("failed"!==n.type)return n.data.token;_().Qg(n)}function P(e){const{botValue:t,store:o,environment:n}=e,{id:r,parent_id:a,parent_table:s,capabilities:l}=t,d={type:"bot_permission",bot_id:r,parent_id:a,parent_table:s,role:(0,i().MD)(l)};C().createAndCommit({userAction:"TopbarMoreButton.handleAddingConnection",environment:n,canUndo:!0,perform:e=>{A().zP({environment:n,store:o,permissionItems:[d],transaction:e})}})}function R(e){const{botId:t,store:o,environment:n}=e,i=o.getPermissionItems().filter((0,m().u0)((e=>(0,r().P3)(e)?{true:e}:{false:e})));for(const r of i)if(r.bot_id===t){const e={...r,role:"none"};C().createAndCommit({userAction:"TopbarMoreButton.handleRemovingConnection",environment:n,canUndo:!0,perform:t=>{A().zP({environment:n,store:o,permissionItems:[e],transaction:t})}})}}function V(e){const{currentSpaceStore:t,environment:o,pages:n,botStore:i,addPermission:r}=e;if(!t)return;const a=(0,b().Ws)({botStore:i,addPermission:r});n.forEach((e=>{const n=g().sk.createChildStore(t,{table:s().ev,id:e,spaceId:t.getSpaceId()});C().createAndCommit({userAction:"botActions.updateBlockPermissionsForBot",environment:o,canUndo:!0,perform:e=>{A().zP({environment:o,store:n,permissionItems:[a],transaction:e})}})}))}async function F(e){const{environment:t,spaceStore:o,botStore:n,pageIdAndOperations:i,concurrency:r=20}=e;0!==i.length&&await(0,u().lX)(i,r,(async e=>{const i=g().sk.createChildStore(o,{table:s().ev,id:e.pageId,spaceId:o.getSpaceId()}),r=(0,b().Ws)({botStore:n,addPermission:"add"===e.operationType}),{serverCommitResult:a}=C().createAndCommit({userAction:`botActions.updateBotPermissionsForPages.${e.operationType}`,environment:t,canUndo:!0,perform:e=>{A().zP({environment:t,store:i,permissionItems:[r],transaction:e})}});await a}))}async function L(e){const{environment:t,spaceStore:o,spaceViewStore:i,templatePageId:r,botValue:s,pages:c}=e;if(!o)return;const p=g().sk.createChildStore(o,{table:l().GP,id:s.id});if(r)return await async function(e){const{environment:t,spaceStore:o,spaceViewStore:i,templatePageId:r,botStore:s}=e;if(!o||!i)return;try{w().m({message:x.duplicatingTemplate});const e=await h().callApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:r,spaceId:(0,d().e)(void 0)},shallow:!1},headers:(0,n().WS)({recordId:r})});if("failed"===e.type)return;const l=a().RecordMapWithRole.create(e.data.subtreeRecordMap),{createAndDuplicatePageInSpace:c}=await(0,v().nd)(),{performResult:p}=C().createAndCommit({userAction:"botActions.duplicateTemplateAndShareWithBot",environment:t,canUndo:!0,perform:e=>{const n=c({environment:t,recordMap:l,copyPageId:r,isPrivate:!0,spaceStore:o,spaceViewStore:i,transaction:e,allowCopyExternalObjectInstances:!1}),a=i.getPrivatePageIds();a.length>0&&I().zv({store:i,data:{private_pages:[n.id,...a]},transaction:e});const d=(0,b().Ws)({botStore:s,addPermission:!0});return A().zP({environment:t,store:n,permissionItems:[d],transaction:e}),n}});return p}catch(l){M().D6({label:y().A.formatMessage(x.duplicatingTemplateError)})}finally{w().V()}}({environment:t,templatePageId:r,botStore:p,spaceStore:o,spaceViewStore:i});V({environment:t,currentSpaceStore:o,botStore:p,pages:c,addPermission:!0})}},973238:(e,t,o)=>{o.r(t),o.d(t,{arrowInCircleDownIcon:()=>r,iconDefinition:()=>i});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M6.958 10.446a.625.625 0 0 1 .884 0l1.533 1.533V6.513a.625.625 0 1 1 1.25 0v5.466l1.533-1.533a.625.625 0 1 1 .884.883l-2.6 2.6a.625.625 0 0 1-.884 0l-2.6-2.6a.625.625 0 0 1 0-.883"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(340498).wt)("arrowInCircleDown",i)}}]);