"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[26199,27942],{49030:(e,n,t)=>{t.d(n,{c:()=>E,M:()=>G});t(944114),t(898992),t(354520),t(581454);var i=t(296540),s=()=>t(484714),o=()=>t(847249),a=()=>t(401497),r=t(474848);const c={viewBox:"0 0 21 20",svg:(0,r.jsx)("path",{d:"m4.004 10.548.76-.76A.875.875 0 1 1 6 11.025l-2.254 2.254a.875.875 0 0 1-1.237 0L.256 11.025a.875.875 0 0 1 1.238-1.237l.76.76V10a7.875 7.875 0 0 1 13.234-5.77.875.875 0 0 1-1.192 1.281A6.125 6.125 0 0 0 4.003 10zm14-1.096.76.76A.875.875 0 1 0 20 8.976l-2.254-2.254a.875.875 0 0 0-1.237 0l-2.254 2.254a.875.875 0 0 0 1.238 1.238l.76-.76V10A6.125 6.125 0 0 1 5.96 14.489a.875.875 0 1 0-1.19 1.282A7.875 7.875 0 0 0 18.004 10z"})},l=(0,t(340498).wt)("arrowCircleLoopFill",c);var d=()=>t(765974),u=()=>t(959013),p=()=>t(534177),g=()=>t(284371),h=()=>t(915308),m=()=>t(987267),f=()=>t(346704),b=()=>t(493823),v=()=>t(843189),y=()=>t(802790),x=()=>t(8980),A=()=>t(864943),S=()=>t(897119),j=()=>t(204063),k=()=>t(21140),C=()=>t(631611),M=()=>t(229533),_=()=>t(972435),w=()=>t(47170),I=()=>t(176983),L=()=>t(962730),B=()=>t(377586),T=()=>t(351360),O=()=>t(604018),W=()=>t(174636),F=()=>t(245464),D=()=>t(750559),P=()=>t(576590),N=()=>t(989423),z=()=>t(99254);const U=(0,u().YK)({jiraAIConnectorOauthPopupTitle:{id:"jiraAIConnector.oauthPopup.title",defaultMessage:"Jira Authentication"},mobileNotAvailable:{id:"jiraAIConnector.mobileNotAvailable",defaultMessage:"Not available on mobile"}});function R(){const e=(0,w().O)(),n=(0,s().v3)(),{isMobile:t}=(0,s().Y0)(),i="chat_menu",o=(0,a().IS)((e=>({actionRequiredPopupIconStyle:{width:t?18:16,height:t?18:16,fill:e.icon.orangePrimary},connectionStatusHeader:{fontSize:t?g().J.UIRegular.mobile:g().J.UIRegular.desktop,fontWeight:g().Wy.regular,lineHeight:t?g().K_.UIRegular.mobile:g().K_.UIRegular.desktop,textAlign:"left"},connectionStatusCaption:{fontSize:t?g().J.UISmall.mobile:g().J.UISmall.desktop,fontWeight:g().Wy.regular,lineHeight:t?g().K_.UISmall.mobile:g().K_.UISmall.desktop,color:e.text.secondary,textAlign:"left"},actionButton:{fontSize:t?g().J.UIRegular.mobile:g().J.UIRegular.desktop,fontWeight:g().Wy.medium,lineHeight:t?g().K_.UIRegular.mobile:g().K_.UIRegular.desktop,display:"flex",alignItems:"center",maxWidth:97,maxHeight:28,borderRadius:6,gap:3,border:"dark"===e.mode?`1px solid ${e.accentColors.gray[700]}`:`1px solid ${e.accentColors.gray[200]}`,marginTop:6},popupBlock:{paddingBottom:3},iconDivStyles:{paddingTop:1}})),[t]);return(0,r.jsxs)(k().Ye,{gap:8,style:o.popupBlock,children:[(0,r.jsx)("div",{style:o.iconDivStyles,children:(0,D().f)(o.actionRequiredPopupIconStyle)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:o.connectionStatusHeader,children:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.jiraConnectionPendingStatusConfirmation",defaultMessage:"Confirm Jira Connection"})}),(0,r.jsx)("div",{style:o.connectionStatusCaption,children:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.jiraConnectionPendingStatusConfirmationDescription",defaultMessage:"We need more information before starting your jira connection"})}),(0,r.jsx)(k().Ye,{gap:8,children:t?(0,r.jsx)("div",{style:o.connectionStatusCaption,children:(0,r.jsx)(u().sA,{...U.mobileNotAvailable})}):(0,r.jsx)(A().A,{size:"lg",style:o.actionButton,onClick:()=>{e&&((0,N().u4)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_jira_resume_pending_connection",integration_type:"jira",setup_session_id:z().y.state.sessionId,from:i}}}),(0,P().navigateToAIConnectorOnboarding)({connector:"jira",analyticsFrom:i,sessionId:z().y.state.sessionId}))},children:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.ctaForJira",defaultMessage:"Finish setup"})})})]})]})}const Y=(0,u().YK)({actionRequiredLabel:{id:"assistantChat.ingestion.actionRequiredButton",defaultMessage:"Action required"},syncingLabel:{id:"assistantChat.ingestion.syncingButton",defaultMessage:"Syncing"},mobileNotAvailable:{id:"assistantChat.ingestion.actionMenuNotAvailable",defaultMessage:"Access Notion on desktop to fix this issue."},disconnectingPopupTitle:{id:"assistantChat.ingestion.disconnectingPopupTitle",defaultMessage:"Disconnecting {appName}"},disconnectingPopupCaption:{id:"assistantChat.ingestion.disconnectingPopupCaption",defaultMessage:"Your workspace owner has disconnected {appName}. This can take up to 3 hours."},connectingPopupTitle:{id:"assistantChat.ingestion.connectingPopupTitle",defaultMessage:"Connecting {appName}"}});function G(e){let{type:n,title:t,caption:i,actionButton:o,onDismiss:c}=e;const{isMobile:p}=(0,s().Y0)(),h=(0,a().IS)((e=>({container:{display:"flex",gap:8,paddingBottom:4},iconContainer:{paddingTop:2},contentContainer:{display:"flex",flexDirection:"column",gap:2},title:{fontSize:p?g().J.UIRegular.mobile:g().J.UIRegular.desktop},caption:{fontSize:p?g().J.UISmall.mobile:g().J.UISmall.desktop,color:e.text.secondary},actionsContainer:{marginTop:6,display:"flex",gap:8}})),[p]),m="error"===n?d().exclamationMarkTriangleFillIcon:l,f=p?(0,r.jsx)("div",{style:h.caption,children:(0,r.jsx)(u().sA,{...Y.mobileNotAvailable})}):(0,r.jsxs)(k().Ye,{gap:8,children:[o&&(0,r.jsx)(j().A,{color:"black",size:"sm",onClick:o.onClick,children:o.label}),c&&(0,r.jsx)(A().A,{size:"sm",onClick:c,children:(0,r.jsx)(u().sA,{id:"slackAIConnector.onboarding.dismissUserMappingPrompt",defaultMessage:"Dismiss"})})]});return(0,r.jsxs)(k().Ye,{style:h.container,children:[(0,r.jsx)("div",{style:h.iconContainer,children:(0,r.jsx)(x().I,{icon:m,size:"sm",color:"error"===n?"uiRedPrimary":"uiBluePrimary"})}),(0,r.jsxs)("div",{style:h.contentContainer,children:[(0,r.jsx)("div",{style:h.title,children:t}),(0,r.jsx)("div",{style:h.caption,children:i}),(o||c)&&(0,r.jsx)("div",{style:h.actionsContainer,children:f})]})]})}function E(e){const{tooltipEvents:n}=e,t=_().A.getIntl(),c=(0,s().v3)(),{isMobile:u}=(0,s().Y0)(),g=(0,C().jw)().isType("fullPage"),h=(0,I().J)(),m=(0,o().O$)(T().AppStoreCurrentSpaceViewStore),f=(0,o().K8)((()=>(0,O().kB)()),[]),[x,A]=(0,i.useState)([]),j=(0,i.useCallback)((e=>{A((n=>[...n,e]))}),[]),k=(0,o().K8)((()=>M()._1.filter((e=>{return"slack_select_channels"!==e&&("sharepoint_select_sites"!==e&&("slack_re_auth"===e?null==m||null===(n=m.getSettings())||void 0===n?void 0:n.dismissed_slack_personal_auth_prompt:"github_re_auth"===e?null==m||null===(t=m.getSettings())||void 0===t?void 0:t.dismissed_github_personal_auth_prompt:"jira_connection_pending"===e?null==m||null===(i=m.getSettings())||void 0===i?void 0:i.dismissed_jira_installation_pending_prompt:void(0,p().HB)(e)));var n,t,i}))),[m]),w=(0,o().K8)((()=>{const e=[];for(const n of f){const t=(0,M().G9)(n,h);for(const i of t)x.includes(i.type)||k.includes(i.type)||e.push({connector:n,type:"action_required",action:i})}return e}),[f,h,x,k]),W=w.length>0,F=(0,o().K8)((()=>{const e=[];for(const n of f){const t=(0,M().LT)(n);t.isInProgress&&e.push({connector:n,type:"in_progress",ingestionProgress:t.ingestionProgress})}return e}),[f]),D=(0,o().K8)((()=>{const e=[];for(const n of f){(0,M().$t)(n)&&e.push({connector:n,type:"disconnecting"})}return e}),[f]),P=(0,i.useMemo)((()=>[...w,...F,...D]),[w,F,D]),[N,z]=(0,i.useState)(!1);(0,i.useEffect)((()=>{setTimeout((()=>{u||z(W)}),1e3)}),[u,W]);const U=(0,i.useCallback)((()=>{z(!1)}),[]),R=(0,a().IS)((e=>({popupStyle:{minWidth:250},popupContainer:{display:"flex",flexDirection:"column",gap:2,paddingLeft:12,paddingTop:8,paddingRight:10,paddingBottom:8,maxWidth:u?void 0:250,maxHeight:400,overflowY:"scroll"}})),[u]);return 0===P.length?null:(0,r.jsx)(S().Ay,{popupType:c.device.isMobile?B().n.BottomSheet:B().n.Popup,originGap:6,alignmentToOrigin:L().C.Center,open:N,onDismiss:()=>{z(!1)},placementToOrigin:g?L().W.Bottom:L().W.Top,borderRadius:6,trapFocus:!1,render:()=>(0,r.jsx)("div",{style:R.popupContainer,children:P.map(((e,n)=>(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(K,{notification:e,hideNotification:j,minimizePopup:U}),n!==P.length-1&&(0,r.jsx)(y().A,{size:14,isHidden:!1})]},n)))}),origin:g?(0,r.jsx)(v().E,{size:"xxs",...n,icon:W?d().exclamationMarkTriangleFillIcon:l,color:W?"uiRed":"uiBlue",onClick:()=>{z(!0)},children:W?_().A.formatMessage(Y.actionRequiredLabel):_().A.formatMessage(Y.syncingLabel)}):(0,r.jsx)(b().p,{...n,size:"sm",icon:W?d().exclamationMarkTriangleFillIcon:l,isRed:W,isBlue:!W,ariaLabel:t.formatMessage({id:"assistantChat.ingestion.viewConnectionStatusAriaLabel",defaultMessage:"View connection status"}),onClick:()=>{z(!0)}}),style:R.popupStyle})}function K(e){const{notification:n,hideNotification:t,minimizePopup:i}=e;if("action_required"===n.type){if("slack_select_channels"===n.action.type)return(0,r.jsx)(H,{});if("sharepoint_select_sites"===n.action.type)return(0,r.jsx)(q,{});if("slack_re_auth"===n.action.type)return(0,r.jsx)(V,{hideNotification:t});if("github_re_auth"===n.action.type)return(0,r.jsx)(F().A,{minimizePopup:i,hideNotification:t,showDismiss:!0});if("jira_connection_pending"===n.action.type)return(0,r.jsx)(R,{});(0,p().HB)(n.action)}else{if("in_progress"===n.type){const{connector:e,ingestionProgress:t}=n;return(0,r.jsx)(Q,{connection:e,ingestionProgress:t,time:f().fQ[e]})}if("disconnecting"===n.type){const{connector:e}=n;return(0,r.jsx)(J,{connection:e})}(0,p().HB)(n)}}function Q(e){const{connection:n,time:t,ingestionProgress:i}=e,s=m().w0[n],o=i?(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.textWithProgress",defaultMessage:"This can take up to 36h{br}{ingestionProgress}% done",values:{ingestionProgress:i,br:(0,r.jsx)("br",{})}}):(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.textWithoutProgress",defaultMessage:"This can take up to {time}h",values:{time:t||36}});return(0,r.jsx)(G,{type:"progress",title:(0,r.jsx)(u().sA,{...Y.connectingPopupTitle,values:{appName:s}}),caption:o})}function J(e){const{connection:n}=e,t=m().w0[n];return(0,r.jsx)(G,{type:"disconnecting",title:(0,r.jsx)(u().sA,{...Y.disconnectingPopupTitle,values:{appName:t}}),caption:(0,r.jsx)(u().sA,{...Y.disconnectingPopupCaption,values:{appName:t}})})}function H(){return(0,r.jsx)(G,{type:"error",title:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.connectionStatusActionRequired",defaultMessage:"No Slack channels selected"}),caption:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredCaption",defaultMessage:"Click to confirm channels or disconnect"}),actionButton:{label:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.slackActionRequiredButton",defaultMessage:"Finish setup"}),onClick:()=>{h().nh()}}})}function q(){return(0,r.jsx)(G,{type:"error",title:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.sharepointConnectionStatusActionRequired",defaultMessage:"No Sharepoint sites selected"}),caption:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.sharepointConnectionStatusActionRequiredCaption",defaultMessage:"Click to select sites"}),actionButton:{label:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.sharepointActionRequiredButton",defaultMessage:"Select sites"}),onClick:()=>{h().oz()}}})}function V(e){const{hideNotification:n}=e,t=(0,s().v3)(),i=(0,w().O)(),a=(0,o().O$)(T().AppStoreCurrentSpaceViewStore);return a&&i?(0,r.jsx)(G,{type:"error",title:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredForLogin",defaultMessage:"Log in to Slack"}),caption:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredCaptionForLogin",defaultMessage:"We couldn’t verify your slack e-mail. Authenticate to proceed."}),actionButton:{label:(0,r.jsx)(u().sA,{id:"assistantChat.ingestion.slackActionRequiredButtonForLogin",defaultMessage:"Log in"}),onClick:()=>{n("slack_re_auth"),h().yE({environment:t,spaceId:i,analyticsProperties:{analyticsFrom:W().R.state.analyticsFrom,buttonName:"connect_slack_user_mapping",sessionId:W().R.state.sessionId}})}},onDismiss:()=>{h().R2({environment:t,currentSpaceViewStore:a,analyticsProperties:{analyticsFrom:W().R.state.analyticsFrom,buttonName:"dismiss_connect_slack_user_mapping",sessionId:W().R.state.sessionId}})}}):null}},73822:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>i,plusFillIcon:()=>s});t(296540);const i={viewBox:"0 0 20 20",svg:(0,t(474848).jsx)("path",{d:"M10.875 3.75a.875.875 0 0 0-1.75 0v5.375H3.75a.875.875 0 1 0 0 1.75h5.375v5.375a.875.875 0 0 0 1.75 0v-5.375h5.375a.875.875 0 0 0 0-1.75h-5.375z"})},s=(0,t(340498).wt)("plusFill",i)},73956:(e,n,t)=>{t.r(n),t.d(n,{checkmarkFillSmallIcon:()=>s,iconDefinition:()=>i});t(296540);const i={viewBox:"0 0 16 16",svg:(0,t(474848).jsx)("path",{d:"M12.756 2.987a.75.75 0 0 1 .257 1.029l-5.244 8.74a.75.75 0 0 1-1.212.102L3.06 8.78a.75.75 0 1 1 1.138-.976l2.82 3.289 4.708-7.848a.75.75 0 0 1 1.029-.257"})},s=(0,t(340498).wt)("checkmarkFillSmall",i)},74065:(e,n,t)=>{t.d(n,{w:()=>y});t(944114),t(581454),t(296540);var i=()=>t(847249),s=()=>t(401497),o=()=>t(874963),a=()=>t(846899),r=()=>t(735384),c=()=>t(959013),l=()=>t(760217),d=()=>t(928600),u=()=>t(939740),p=()=>t(89924),g=()=>t(21140),h=()=>t(722872),m=()=>t(47170),f=()=>t(176983),b=()=>t(46657),v=t(474848);function y(e){let{parent:n}=e;const t=(0,s().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),y=(0,f().J)(),x=(0,m().O)(),A=(0,i().K8)((()=>b().W.state.status),[]),S=(0,i().K8)((()=>b().W.state.isConnected),[]),j=(0,i().O$)(b().W),k=[];"completed"===A&&k.push({key:"linear-user-auth-connected",label:(0,v.jsx)(c().sA,{defaultMessage:"Connected",id:"linearAiConnector.connectionOptions.connected"}),caption:(0,v.jsx)(c().sA,{defaultMessage:"Linear has been connected by your workspace owner",id:"linearAiConnector.connectionOptions.connectedByUser"}),icon:(0,o().f)(t.icon),disabled:!0,connected:!0,hidden:!1,action:()=>{}}),"in_progress"===A&&k.push({key:"linear-auth-connecting",label:(0,v.jsx)(c().sA,{defaultMessage:"Connecting Linear...",id:"linearAiConnector.connectionOptions.connectingLinear"}),caption:(0,v.jsx)(c().sA,{defaultMessage:"This can take up to 36 hours.",id:"linearAiConnector.connectionOptions.connectingLinearCaption"}),icon:(0,o().f)(t.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}});const C=[{key:"linear-connection-section",render:e=>(0,v.jsx)(p().A,{...e}),items:k.filter((e=>!e.hidden)).map((e=>{if("component"in e){const{key:n,component:t}=e;return{key:n,action:()=>{},render:()=>t}}const{key:i,label:s,caption:o,icon:a,disabled:r,connected:c,action:d}=e;return{key:i,action:async()=>{await d(),null==n||n.close()},render:e=>(0,v.jsx)(l().A,{...e,title:(0,v.jsxs)(g().Ye,{gap:4,children:[(0,v.jsx)("div",{style:t.iconWrapper,children:a}),(0,v.jsxs)("div",{style:t.option,children:[(0,v.jsx)("div",{style:r?t.disabledOptionLabel:t.optionLabel,children:s}),(0,v.jsx)("div",{style:t.caption,children:o})]})]}),isChecked:c,disabled:r})}}))}];if(S&&y&&C.push({key:"linear-settings-section",render:e=>(0,v.jsx)(p().A,{...e,topBorder:!0}),items:[{key:"linear-settings",action:()=>{x&&(b().W.setState({...j,currentScreen:"settings"}),null==n||n.close())},render:e=>(0,v.jsx)(l().A,{...e,title:(0,v.jsxs)(g().Ye,{gap:4,children:[(0,v.jsx)("div",{style:t.iconWrapper,children:(0,a().B)(t.icon)}),(0,v.jsx)("div",{style:t.option,children:(0,v.jsx)("div",{style:t.optionLabel,children:(0,v.jsx)(c().sA,{id:"linearAiConnector.settings",defaultMessage:"Settings"})})})]})})}]}),"disconnecting"===A){for(;C.length>0;)C.pop();C.push({key:"linear-disconnecting-section",render:e=>(0,v.jsx)(p().A,{...e,topBorder:!0}),items:[{key:"linear-disconnecting",action:()=>{},render:e=>(0,v.jsx)(l().A,{...e,disabled:!0,title:(0,v.jsxs)(g().Ye,{gap:4,children:[(0,v.jsx)("div",{style:t.iconWrapper,children:(0,r().I)(t.icon)}),(0,v.jsxs)("div",{style:t.option,children:[(0,v.jsx)("div",{style:t.optionLabel,children:(0,v.jsx)(c().sA,{id:"linearAiConnector.disconnecting",defaultMessage:"Disconnecting..."})}),(0,v.jsx)("div",{style:t.caption,children:(0,v.jsx)(c().sA,{id:"linearAiConnector.disconnectingCaption",defaultMessage:"This can take up to 3 hours."})})]})]})})}]})}return(0,v.jsx)(d().A,{menuType:h().gu.Popup,width:220,children:(0,v.jsx)(u().Ay,{type:u().Oh.Vertical,sections:C,initialFocus:void 0})})}},96563:(e,n,t)=>{t.d(n,{p:()=>g});var i=()=>t(206267),s=()=>t(209660),o=()=>t(235195),a=()=>t(351360),r=()=>t(453202),c=()=>t(430483),l=()=>t(991249),d=()=>t(577437),u=()=>t(656633),p=()=>t(576590);function g(e){const{environment:n,connector:t,analyticsFrom:g,connectorsFeatureAvailability:h,isEligibleForBusinessTrial:m}=e,f=a().default.state.currentSpaceStore;if(!f)return;const b=c().zD.isAiSettingsTabEnabled();if(f.canAdmin())(0,d().N9)(h,{available:()=>{if("generic"===t)return void s().Ow({openedFrom:g,currentTab:b?"ai":"integrations",subtab:"workspace_connections"});const e=i().JW();(0,p().navigateToAIConnectorOnboarding)({connector:t,analyticsFrom:g,sessionId:e})},unavailable:e=>{let{upsell:i}=e;(0,u().vp)(n,f.id)?r().O.setState({open:!0,analyticsFrom:g,modal:"sales_assisted_admin_request",connector:t}):c().zD.isAiConnectorsAiPlanUpsellIntroModalEnabled()&&!m?r().O.setState({open:!0,analyticsFrom:g,modal:"ai_plan_upsell_admin_intro",connector:t}):(l().K(n,{from:g,upsell:i,isTrial:m}),"generic"!==t&&o().A.setState({...o().A.state,connectorTriggeringUpsell:t,upsellTriggeredAt:Date.now()}))}});else{if("generic"===t)return void(b?s().Ow({openedFrom:g,currentTab:"ai",subtab:"workspace_connections"}):r().O.setState({open:!0,modal:"nonadmin_request",analyticsFrom:g}));const e=i().JW();(0,p().navigateToAIConnectorOnboarding)({connector:t,analyticsFrom:g,sessionId:e})}}},141273:(e,n,t)=>{t.d(n,{g:()=>c});var i=t(296540),s=()=>t(484714),o=()=>t(47170),a=()=>t(749356),r=()=>t(985315);function c(e){var n;const t=(0,s().v3)(),[c,l]=(0,i.useState)(),d=(0,o().O)(),u=(null===(n=(0,r().g)({spaceId:d}))||void 0===n?void 0:n.length)??0;return(0,i.useEffect)((()=>{!async function(){d&&l(await(0,a().L6)({environment:t,spaceId:d,offerCampaign:e}))}()}),[t,d,e,u]),c}},154585:(e,n,t)=>{t.d(n,{B:()=>x});t(898992),t(354520),t(581454),t(296540);var i=()=>t(847249),s=()=>t(401497),o=()=>t(849974),a=()=>t(846899),r=()=>t(413267),c=()=>t(959013),l=()=>t(284371),d=()=>t(576590),u=()=>t(760217),p=()=>t(928600),g=()=>t(939740),h=()=>t(89924),m=()=>t(21140),f=()=>t(722872),b=()=>t(176983),v=()=>t(99254),y=t(474848);function x(e){const{parent:n,from:t}=e,x=(0,s().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginBottom:48,marginRight:4},caption:{color:e.text.tertiary,fontSize:l().J.UISmall.desktop,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),A=(0,b().J)(),S=(0,i().K8)((()=>v().y.state.jiraSyncState),[]),j=(0,i().K8)((()=>v().y.state.analyticsFrom),[]),k="completed"===S,C=[{key:"jira-connection-section",render:e=>(0,y.jsx)(h().A,{...e}),items:[{key:"jira-ingestion-status-connecting",label:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.connecting",defaultMessage:"Connecting"}),caption:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.subtext",defaultMessage:"Your workspace owner is connecting Jira. This can take up to 36 hours"}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,o().y)(x.bannerLikeIcon)}),disabled:!0,hidden:!("in_progress"===S||"editing"===S),action:()=>{}},{key:"jira-ingestion-status-connected",label:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.connected",defaultMessage:"Connected"}),caption:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:r().b,disabled:!0,hidden:!k,action:()=>{}},{key:"jira-ingestion-disconnect",label:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnect",defaultMessage:"Disconnecting..."}),caption:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected Jira. This can take up to 3 hours."}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,o().y)(x.bannerLikeIcon)}),disabled:!0,hidden:"disconnecting"!==S,action:()=>{}},{key:"jira-ingestion-settings",label:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.settings",defaultMessage:"Settings"}),icon:a().B,disabled:!1,hidden:"completed"!==S||!A,action:()=>{null==n||n.close(),(0,d().navigateToJiraUniversalScreen)({screenToShow:"settings_screen",analyticsFrom:t||j||"chat_menu"})}}].filter((e=>!e.hidden)).map((e=>{const{key:n,label:t,caption:i,icon:s,iconElement:o,disabled:a,action:r,labelStyleOverride:c,captionStyleOverride:l,iconStyleOverride:d}=e,p=s?s({width:12,height:12}):o;return{key:n,action:()=>r(),render:e=>(0,y.jsx)(u().A,{...e,disabled:a,title:(0,y.jsx)(m().Ye,{children:(0,y.jsxs)("div",{style:x.option,children:[(0,y.jsx)("div",{style:c??(a?x.disabledOptionLabel:x.optionLabel),children:t}),i&&(0,y.jsx)("div",{style:l??x.caption,children:i})]})}),left:p,leftStyle:d})}}))}];return(0,y.jsx)(p().A,{menuType:f().gu.Popup,minWidth:230,children:(0,y.jsx)(g().Ay,{type:g().Oh.Vertical,sections:C,initialFocus:void 0})})}},179030:(e,n,t)=>{t.d(n,{l:()=>i().lZ});var i=()=>t(661764)},212727:(e,n,t)=>{t.r(n),t.d(n,{gearIcon:()=>o,iconDefinition:()=>s});t(296540);var i=t(474848);const s={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M7.29 10c0 1.5 1.22 2.71 2.71 2.71 1.5 0 2.71-1.21 2.71-2.71S11.5 7.29 10 7.29 7.29 8.5 7.29 10m1.25 0c0-.81.66-1.46 1.46-1.46.81 0 1.46.65 1.46 1.46s-.65 1.46-1.46 1.46-1.46-.65-1.46-1.46"}),(0,i.jsx)("path",{d:"M8.49 17.64q.75.15 1.53.15v-.01c.47 0 .94-.04 1.41-.13.26-.05.46-.25.5-.51l.26-1.53.15-.06 1.28.91c.21.14.49.14.71 0 .41-.28.8-.61 1.18-.98.33-.33.63-.7.9-1.09.15-.21.15-.5 0-.71l-.9-1.27.06-.15 1.55-.27c.26-.05.46-.25.51-.5a7.8 7.8 0 0 0 .02-2.94.62.62 0 0 0-.51-.5l-1.53-.26-.06-.15.91-1.28c.14-.21.14-.49 0-.71a7.9 7.9 0 0 0-2.07-2.08.62.62 0 0 0-.71 0l-1.27.9-.15-.06-.27-1.55a.64.64 0 0 0-.5-.51c-.5-.1-1-.15-1.53-.15-.47 0-.95.04-1.41.13-.26.05-.46.25-.5.51l-.26 1.53-.15.06-1.28-.91a.65.65 0 0 0-.71 0 7.9 7.9 0 0 0-2.08 2.07c-.15.21-.15.5 0 .71l.9 1.27-.06.15-1.55.27c-.26.05-.46.25-.51.5-.1.5-.15 1-.15 1.53 0 .47.04.95.13 1.41.05.26.25.46.51.5l1.53.26.06.15-.91 1.28c-.14.21-.15.49 0 .71.29.42.61.81.98 1.18.34.34.7.65 1.09.91.21.15.5.15.71 0l1.27-.9.15.06.27 1.55c.05.26.25.46.5.51m2.29-1.15c-.53.07-1.09.07-1.63 0l-.25-1.47a.62.62 0 0 0-.42-.49 6 6 0 0 1-.68-.28.63.63 0 0 0-.65.04l-1.2.85a6.8 6.8 0 0 1-1.14-1.16l.86-1.21c.13-.19.15-.43.05-.64-.11-.22-.21-.45-.28-.68a.62.62 0 0 0-.49-.43l-1.45-.25a6.7 6.7 0 0 1 0-1.63l1.47-.25c.23-.04.42-.2.49-.42.07-.23.17-.46.28-.68.11-.21.09-.46-.04-.65l-.85-1.2A6.8 6.8 0 0 1 6.01 4.8l1.21.86c.19.13.43.15.64.05.22-.11.45-.21.68-.28s.39-.26.43-.49l.25-1.45c.53-.07 1.09-.07 1.63 0l.25 1.47c.04.23.2.42.42.49.23.07.46.17.68.28.21.11.46.09.65-.04l1.2-.85A6.8 6.8 0 0 1 15.19 6l-.86 1.21c-.13.19-.15.43-.05.64.11.22.21.45.28.68s.26.39.49.43l1.45.25a6.7 6.7 0 0 1 0 1.63l-1.47.25c-.23.04-.42.2-.49.42-.07.23-.17.46-.28.68-.11.21-.09.46.04.65l.85 1.2a6.8 6.8 0 0 1-1.16 1.14l-1.21-.86a.64.64 0 0 0-.64-.05c-.22.11-.45.21-.68.28s-.39.26-.43.49z"})]})},o=(0,t(340498).wt)("gear",s)},245464:(e,n,t)=>{t.d(n,{A:()=>p});var i=t(296540),s=()=>t(484714),o=()=>t(847249),a=()=>t(959013),r=()=>t(751156),c=()=>t(989423),l=()=>t(291075),d=()=>t(351360),u=t(474848);const p=function(e){var n;let{showDismiss:p,parent:g,minimizePopup:h,hideNotification:m}=e;const[f,b]=(0,i.useState)(!1),v=(0,o().K8)((()=>l().o.state),[]),y=(0,t(47170).O)(),x=(0,s().v3)(),A=(0,o().K8)((()=>d().default.state.currentUserSettingsStore),[]),{isMobile:S}=(0,s().Y0)(),j=(0,o().O$)(d().AppStoreCurrentSpaceViewStore),k=(0,i.useCallback)((()=>{A&&j&&r().createAndCommit({userAction:"githubAIConnector.onboarding.dismissPersonalAuthPrompt",environment:x,canUndo:!0,perform:e=>{r().applyOperation({store:j,operation:{pointer:j.pointer,path:["settings"],command:"update",args:{...j.getSettings(),dismissed_github_personal_auth_prompt:!0}},transaction:e})}})}),[A,j,x]),C=(0,i.useCallback)((()=>{(0,c().u4)({environment:x,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_dismiss",integration_type:"github",setup_session_id:l().o.state.sessionId,from:"connect_nudge"}}}),l().o.setState({...v,forceShowGithubAuthNotificationTriggeredAt:void 0}),k()}),[k,x,v]),M=p?"connect_nudge":"chat_menu";(0,t(852507).l)((()=>{(0,c().u4)({environment:x,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"show_github_personal_auth_prompt",integration_type:"github",setup_session_id:l().o.state.sessionId,from:M}}})}));const _=S?void 0:{label:(0,u.jsx)(a().sA,{id:"assistantChat.ingestion.ctaForGithubPersonalAuth",defaultMessage:"Log in"}),onClick:async()=>{if(!y)return;const e=Boolean(v.forceShowGithubAuthNotificationTriggeredAt);l().o.setState({...v,analyticsFrom:M,forceShowGithubAuthNotificationTriggeredAt:void 0}),e||null==m||m("github_re_auth"),b(!0),await t(915308).pd({environment:x,spaceId:y,analyticsProperties:{buttonName:"user_auth_connect",analyticsFrom:M},onAuthSuccess:()=>{null==g||g.close(),null==h||h()}}),b(!1)},disabled:f};return(0,u.jsx)(t(49030).M,{type:"error",title:(0,u.jsx)(a().sA,{id:"assistantChat.ingestion.githubConnectionStatusActionRequiredForLogin",defaultMessage:"Log in to GitHub"}),caption:(0,u.jsx)(a().sA,{id:"assistantChat.ingestion.githubConnectionStatusActionRequiredForLoginDescription",defaultMessage:"Authenticate to get answers from repositories in {githubOrgName}",values:{githubOrgName:null===(n=v.githubOrg)||void 0===n?void 0:n.name}}),actionButton:_,onDismiss:p?C:void 0})}},246760:(e,n,t)=>{t.d(n,{G:()=>i});const i=(0,t(340498).xh)("questionMarkCircled",{default:{loader:()=>t.e(35839).then(t.bind(t,835839))},small:{loader:()=>t.e(83633).then(t.bind(t,183633))},mini:{loader:()=>t.e(58431).then(t.bind(t,658431))},large:{loader:()=>t.e(38405).then(t.bind(t,838405))}})},346704:(e,n,t)=>{t.d(n,{Iu:()=>be,aV:()=>ve,KZ:()=>Le,fQ:()=>Ce,LR:()=>ye});t(944114),t(581454);var i=t(296540),s=()=>t(484714),o=()=>t(847249),a=()=>t(401497),r=t(474848);const c={viewBox:"0 0 17 16",svg:(0,r.jsx)("path",{d:"m3.303 8.778.523-.522a.75.75 0 0 1 1.06 1.06L3.083 11.12a.75.75 0 0 1-1.06 0L.22 9.316a.75.75 0 1 1 1.06-1.06l.523.522V8a6.25 6.25 0 0 1 9.752-5.178.75.75 0 1 1-.842 1.242A4.75 4.75 0 0 0 3.303 8zm11-1.556.523.522a.75.75 0 0 0 1.06-1.06L14.085 4.88a.75.75 0 0 0-1.061 0L11.22 6.684a.75.75 0 0 0 1.06 1.06l.523-.522V8a4.75 4.75 0 0 1-7.41 3.936.75.75 0 1 0-.841 1.242A6.25 6.25 0 0 0 14.303 8z"})},l=(0,t(340498).wt)("arrowCircleLoopFillSmall",c);var d=()=>t(73956),u=()=>t(765974),p=()=>t(212727),g=()=>t(73822),h=()=>t(562403),m=()=>t(762433),f=()=>t(871392),b=()=>t(959013),v=()=>t(534177),y=()=>t(284371),x=()=>t(915308),A=()=>t(901389),S=()=>t(246826),j=()=>t(751156),k=()=>t(987267),C=()=>t(843014),M=()=>t(96563),_=()=>t(629609),w=()=>t(970023),I=()=>t(975323),L=()=>t(377955),B=()=>t(154585),T=()=>t(74065),O=()=>t(596101),W=()=>t(604907),F=()=>t(432875),D=()=>t(604018),P=()=>t(174636),N=()=>t(914649),z=()=>t(592420),U=()=>t(229533),R=()=>t(972435),Y=()=>t(836251),G=()=>t(47170),E=()=>t(963589),K=()=>t(176983),Q=()=>t(430483),J=()=>t(508496),H=()=>t(99254),q=()=>t(922442),V=()=>t(920769),$=()=>t(577437),Z=()=>t(493823),X=()=>t(406699),ee=()=>t(285790),ne=()=>t(179030),te=()=>t(8980),ie=()=>t(460292),se=()=>t(554509),oe=()=>t(864943),ae=()=>t(132389),re=()=>t(125565),ce=()=>t(719147),le=()=>t(21140),de=()=>t(8178),ue=()=>t(702723);const pe=(0,b().YK)({turnOffAiWhenSubscribedToAiWarning:{id:"spaceBasicSettings.aiFeature.turnOffAiWhenSubscribedToAiWarning",defaultMessage:"Your current plan includes Notion AI. You can turn off access to AI, but you will continue to be billed for it."},turnOffAiWhenSubscribedToAccept:{id:"spaceBasicSettings.aiFeature.turnOffAiWhenSubscribedToAccept",defaultMessage:"Turn off AI"},aiConnectorsDescription:{id:"aiSettings.aiConnectors.description",defaultMessage:"Connect your favorite tools to Notion AI to get answers and information from your data. <learnmore>Learn more</learnmore>"},aiConnectorsHeader:{id:"aiSettings.aiConnectors.header",defaultMessage:"AI Connectors"},aiLeapLabel:{id:"spaceBasicSettings.aiLeap.label",defaultMessage:"Share data to improve Notion AI"},aiConnectorsUpsellBanner:{id:"aiSettings.aiConnectors.upsellBanner",defaultMessage:"Try Advanced AI features, free for 30 days"},aiConnectorsUpsellButton:{id:"aiSettings.aiConnectors.upsellButton",defaultMessage:"Try it now"},aiLeapDescription:{id:"spaceBasicSettings.aiLeap.description",defaultMessage:"Help improve Notion’s AI models by allowing data from across this workspace to be shared with Notion. By enabling AI LEAP (Learning and Early Access Program) you are agreeing to the <inlinelink>Notion AI LEAP Supplementary Terms</inlinelink>. <learnmore>Learn more</learnmore>."},aiConnectedAppsSettingsButton:{id:"aiSettings.aiConnectedApps.settingsButton",defaultMessage:"Settings"},aiConnectedAppsConnectedStatus:{id:"aiSettings.aiConnectedApps.connectedStatus",defaultMessage:"Connected"},aiConnectedAppsConnectingStatus:{id:"aiSettings.aiConnectedApps.connectingStatus",defaultMessage:"Connecting...Could take up to {hours} hours"},aiConnectedAppsConnectingStatusWithProgress:{id:"aiSettings.aiConnectedApps.connectingStatusWithProgress",defaultMessage:"Connecting...{progress}% complete"},aiConnectedAppsDisconnectingStatus:{id:"aiSettings.aiConnectedApps.disconnectingStatus",defaultMessage:"Disconnecting..."},meetingNotesSettingsHeader:{id:"aiSettings.meetingNotesSettingsHeader",defaultMessage:"AI Meeting Notes"},meetingNotesSettingsDescription:{id:"aiSettings.meetingNotesSettingsDescription",defaultMessage:"When enabled, all members will have access to AI-powered Meeting Notes block, transcriptions and summaries. <learnmore>Learn more</learnmore>"},coWritingSettingsHeader:{id:"aiSettings.coWritingSettingsHeader",defaultMessage:"AI Co-Editing Mode"},coWritingSettingsDescription:{id:"aiSettings.coWritingSettingsDescription",defaultMessage:"When enabled, AI will help improve your writing by auto-correcting spelling, grammar and style in real-time. <learnmore>Learn more</learnmore>"},personalSettingsHeader:{id:"aiSettings.personalSettingsHeader",defaultMessage:"Personal AI settings"},workspaceSettingsHeader:{id:"aiSettings.workspaceSettingsHeader",defaultMessage:"Workspace AI settings"},aiFeatureLabel:{id:"spaceBasicSettings.aiFeature.label",defaultMessage:"Enable Notion AI"},aiFeatureCaption:{id:"spaceBasicSettings.aiFeature.ga.caption",defaultMessage:"Enable to provide AI-powered functionality for all members of your workspace. By enabling Notion AI, you are agreeing to the <inlinelink>Notion AI Supplementary Terms</inlinelink>"}}),ge=(0,b().YK)({slack_select_channels:{id:"aiSettings.aiConnectedApps.slackSelectChannels",defaultMessage:"Select channels"},sharepoint_select_sites:{id:"aiSettings.aiConnectedApps.sharepointSelectSites",defaultMessage:"Select sites"},slack_re_auth:{id:"aiSettings.aiConnectedApps.slackReAuth",defaultMessage:"Login required"},github_re_auth:{id:"aiSettings.aiConnectedApps.githubReAuth",defaultMessage:"Login required"},jira_connection_pending:{id:"aiSettings.aiConnectedApps.jiraConnectionPending",defaultMessage:"Finish setup"}}),he={github:{icon:k().FJ.github.icon,displayName:k().FJ.github.name,subtitle:w().rT.github},slack:{icon:k().FJ.slack.icon,displayName:k().FJ.slack.name,subtitle:w().rT.slack},google_drive:{icon:k().FJ.google_drive.icon,displayName:k().FJ.google_drive.name,subtitle:w().rT.google_drive},jira:{icon:k().FJ.jira.icon,displayName:k().FJ.jira.name,subtitle:w().rT.jira},gmail:{icon:k().FJ.gmail.icon,displayName:k().FJ.gmail.name,subtitle:w().rT.gmail},microsoftTeams:{icon:k().FJ.microsoftTeams.icon,displayName:k().FJ.microsoftTeams.name,subtitle:w().rT.microsoftTeams},sharepoint:{icon:k().FJ.sharepoint.icon,displayName:k().FJ.sharepoint.name,subtitle:w().rT.sharepoint},linear:{icon:k().FJ.linear.icon,displayName:k().FJ.linear.name,subtitle:w().rT.linear}};function me(e){let{}=e;const n=(0,s().v3)(),{device:t}=n;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue().A,{isMobile:t.isMobile,type:"toggle",isOn:!0,onToggle:()=>{},title:(0,r.jsx)(b().sA,{...pe.meetingNotesSettingsHeader}),caption:(0,r.jsx)(b().sA,{...pe.meetingNotesSettingsDescription,values:{learnmore:e=>(0,r.jsx)(ce().A,{href:N().WQ,external:!0,onClick:e=>e.stopPropagation(),children:e})}})}),(0,r.jsx)(ae().A,{size:8})]})}function fe(e){let{}=e;const n=(0,s().v3)(),{device:t}=n;return(0,r.jsx)(ue().A,{isMobile:t.isMobile,type:"toggle",isOn:!0,onToggle:()=>{},title:(0,r.jsx)(b().sA,{...pe.coWritingSettingsHeader}),caption:(0,r.jsx)(b().sA,{...pe.coWritingSettingsDescription,values:{learnmore:e=>(0,r.jsx)(ce().A,{href:"#",external:!0,onClick:e=>e.stopPropagation(),children:e})}})})}function be(e){let{securitySettingsStore:n}=e;const t=(0,s().v3)(),{device:i}=t,a=(0,o().K8)((()=>Boolean(n.state.enableAiTraining)),[n]);return(0,r.jsx)(ue().A,{isMobile:i.isMobile,type:"toggle",isOn:a,onToggle:()=>{n.setState({...n.state,enableAiTraining:!a})},title:(0,r.jsx)(b().sA,{...pe.aiLeapLabel}),caption:(0,r.jsx)(b().sA,{...pe.aiLeapDescription,values:{learnmore:e=>(0,r.jsx)(ce().A,{href:"https://www.notion.so/help/notion-ai-leap-program-faqs",external:!0,onClick:e=>e.stopPropagation(),children:e}),inlinelink:e=>(0,r.jsx)(ce().A,{href:"https://notion.notion.site/0c55d702d0154a788d9e70c4ee396399",external:!0,onClick:e=>e.stopPropagation(),children:e})}})})}function ve(e){let{billingData:n,spaceStore:t}=e;const i=(0,s().v3)(),{device:a}=i,c=(0,o().K8)((()=>t.isAiEnabledOnSpace()),[t]);return(0,r.jsx)(ue().A,{isMobile:a.isMobile,type:"toggle",isOn:c,onToggle:async()=>{await async function(e){const{environment:n,billingData:t,spaceStore:i}=e,s=(0,m().eh)(t,"ai"),o=!i.isAiEnabledOnSpace();if(!o&&s){if(!(await A().Gh({message:R().A.formatMessage(pe.turnOffAiWhenSubscribedToAiWarning),acceptLabel:R().A.formatMessage(pe.turnOffAiWhenSubscribedToAccept)})).accept)return}j().createAndCommit({userAction:"AiSettings.toggleAiFeature",environment:n,canUndo:!1,perform:e=>{"enterprise"===i.getSubscriptionTier()?S().zv({store:i.getSettingsStore(),transaction:e,data:{enable_ai_feature:o}}):S().zv({store:i.getSettingsStore(),transaction:e,data:{disable_ai_feature:!o}})}})}({environment:i,billingData:n,spaceStore:t})},title:(0,r.jsx)(b().sA,{...pe.aiFeatureLabel}),caption:(0,r.jsx)(b().sA,{...pe.aiFeatureCaption,values:{inlinelink:e=>(0,r.jsx)(ce().A,{href:"https://notion.notion.site/fa9034c8b5a04818a6baf3eac2adddbb",external:!0,onClick:e=>e.stopPropagation(),children:e})}})})}function ye(e){var n;const{spaceStore:t,billingData:i}=e;if(!t.canAdmin())return!1;if(Boolean(null===(n=t.getModel())||void 0===n?void 0:n.isAiLeapEnabledOnSpace()))return!0;if(!(0,f().a)({spaceId:t.id,billingData:i,environment:{experimentService:J().default}}))return!1;const s=(0,m().N8)(null==i?void 0:i.subscription),o=J().default.checkGate({gateName:"ai_display_leap_settings_for_sales_assisted_workspace"});return!(s&&!o)&&Q().zD.isWorkspaceLeapEligible({ignoreEnterpriseCheck:!0})}function xe(e){let{connectorType:n}=e;const t=(0,s().v3)(),[o,c]=(0,i.useState)(!1),l=(0,V().O)(),d="dark"===(0,a().eP)(),u=(0,a().IS)((e=>({contentWrapper:{display:"flex",flexDirection:"column",gap:8,height:"auto",border:`1px solid ${e.stroke.secondary}`,borderRadius:4,padding:12},topRow:{display:"flex",justifyContent:"space-between",width:"100%"},iconTitleWrapper:{display:"flex",alignItems:"center",gap:8,width:"fit-content"},iconWrapper:{width:24,height:24,borderRadius:4},textWrapper:{display:"flex",flexDirection:"column",gap:2,width:"100%"},title:{fontSize:y().J.UIRegular.desktop,color:e.text.primary,fontWeight:y().Wy.medium},subtitle:{fontSize:y().J.UISmall.desktop,color:e.text.secondary,textWrap:"pretty",maxWidth:"calc(100% - 24px)"},fakePlusIconButton:{width:24,height:24,borderRadius:"50%",backgroundColor:o?e.accentColors.blue[100]:e.accentColors.blue[50],display:"flex",alignItems:"center",justifyContent:"center"},fakePlusIcon:{fill:e.accentColors.uiBlue[600],width:16,height:16}})),[o]),p=(0,G().O)(),h=(0,$()._X)({name:"ai_connectors",spaceId:p,userId:t.currentUser.id});return(0,r.jsxs)(Z().p,{disabled:!h,onClick:()=>{h&&function(e,n,t,i){(0,M().p)({connector:e,environment:n,analyticsFrom:"ai_settings_page",connectorsFeatureAvailability:t,isEligibleForBusinessTrial:i})}(n,t,h,l)},style:u.contentWrapper,children:[(0,r.jsxs)("div",{style:u.topRow,children:[(0,r.jsxs)("div",{style:u.iconTitleWrapper,children:[(0,r.jsx)("div",{style:u.iconWrapper,children:(0,r.jsx)(ie().Q,{iconGroup:he[n].icon,variantName:d?"darkMode":"default"})}),(0,r.jsx)("div",{style:u.title,children:he[n].displayName})]}),(0,r.jsx)("div",{style:u.fakePlusIconButton,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:(0,g().plusFillIcon)(u.fakePlusIcon)})]}),(0,r.jsx)("div",{style:u.textWrapper,children:(0,r.jsx)("div",{style:u.subtitle,children:(0,r.jsx)(b().sA,{...he[n].subtitle})})})]})}function Ae(e){let{availableConnectors:n}=e;return(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:n.map((e=>(0,r.jsx)(xe,{connectorType:e},e)))})}function Se(e){let{availableConnectors:n}=e;return 0===n.length?null:(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,r.jsx)(Ae,{availableConnectors:n})})}function je(e){let{connectorType:n,connectionStatus:t,showTopBorder:i}=e;const s="dark"===(0,a().eP)(),o=(0,a().IS)((e=>({contentWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0px",borderBottom:`1px solid ${e.stroke.secondary}`,borderTop:i?`1px solid ${e.stroke.secondary}`:"none",borderRadius:4},leftContentWrapper:{display:"flex",alignItems:"center",gap:10},rightContentWrapper:{display:"flex",alignItems:"center",gap:12},iconWrapper:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},titleAndWorkspaceNameWrapper:{display:"flex",flexDirection:"column",gap:0},title:{fontSize:y().J.UIRegular.desktop,fontWeight:y().Wy.medium,color:e.text.primary}})),[i]);return(0,r.jsxs)("div",{style:o.contentWrapper,children:[(0,r.jsxs)("div",{style:o.leftContentWrapper,children:[(0,r.jsx)("div",{style:o.iconWrapper,children:(0,r.jsx)(ie().Q,{iconGroup:he[n].icon,variantName:s?"darkMode":"default"})}),(0,r.jsx)("div",{style:o.titleAndWorkspaceNameWrapper,children:(0,r.jsx)("div",{style:o.title,children:he[n].displayName})})]}),(0,r.jsxs)("div",{style:o.rightContentWrapper,children:[(0,r.jsx)(Me,{connectorType:n,connectionStatus:t}),(0,r.jsx)(X().Ay,{popupType:X().z7.Popup,renderOrigin:e=>(0,r.jsx)(ee().A,{...e,style:{width:24,height:24},iconStyle:{width:20,height:20},icon:p().gearIcon,ariaLabel:R().A.formatMessage(pe.aiConnectedAppsSettingsButton)}),render:e=>(0,r.jsx)(ke,{connectorType:n,buttonPopupParent:e})})]})]})}function ke(e){const{connectorType:n,buttonPopupParent:t}=e;return"slack"===n?(0,r.jsx)(F().SlackConnectionOptions,{parent:t}):"google_drive"===n?(0,r.jsx)(L().A,{parent:t}):"github"===n?(0,r.jsx)(I().Q,{parent:t}):"jira"===n?(0,r.jsx)(B().B,{parent:t}):"microsoftTeams"===n?(0,r.jsx)(O().h,{parent:t}):"sharepoint"===n?(0,r.jsx)(W().u,{parent:t}):"gmail"===n?(0,r.jsx)(_().a,{connector:n,parent:t}):"linear"===n?(0,r.jsx)(T().w,{parent:t}):void(0,v().HB)(n)}const Ce={slack:36,google_drive:36,github:72,jira:36,microsoftTeams:72,sharepoint:36,gmail:36,linear:72};function Me(e){const{connectorType:n,connectionStatus:t}=e,i=(0,s().v3)(),o=(0,G().O)(),c=(0,a().IS)((e=>({connectedStatusWrapper:{display:"flex",gap:4,flexWrap:"nowrap"},connectedStatusIconWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},connectedStatusIcon:{width:16,height:16,fill:e.lightIconColor},connectedStatusMessage:{fontSize:y().J.UISmall.desktop,fontWeight:y().Wy.regular,color:e.text.secondary},connectingStatusWrapper:{display:"flex",gap:4,flexWrap:"nowrap"},connectingStatusIconWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},connectingStatusMessage:{fontSize:y().J.UISmall.desktop,fontWeight:y().Wy.regular,color:e.text.secondary},connectingStatusIcon:{width:16,height:16,fill:e.accentColors.uiBlue[600]},actionRequiredStatusIcon:{width:16,height:16,fill:"dark"===e.mode?e.accentColors.red[900]:e.accentColors.red[500]}})),[]);return"connected"===t.type?(0,r.jsxs)("div",{style:c.connectedStatusWrapper,children:[(0,r.jsx)("div",{style:c.connectedStatusIconWrapper,children:(0,d().checkmarkFillSmallIcon)(c.connectedStatusIcon)}),(0,r.jsx)("div",{style:c.connectedStatusMessage,children:(0,r.jsx)(b().sA,{...pe.aiConnectedAppsConnectedStatus})})]}):"in_progress"===t.type?(0,r.jsxs)("div",{style:c.connectingStatusWrapper,children:[(0,r.jsx)("div",{style:c.connectingStatusIconWrapper,children:l(c.connectingStatusIcon)}),(0,r.jsx)("div",{style:c.connectingStatusMessage,children:t.ingestionProgress?(0,r.jsx)(b().sA,{...pe.aiConnectedAppsConnectingStatusWithProgress,values:{progress:t.ingestionProgress}}):(0,r.jsx)(b().sA,{...pe.aiConnectedAppsConnectingStatus,values:{hours:Ce[n]}})})]}):"action_required"===t.type?(0,r.jsx)(oe().A,{icon:u().exclamationMarkTriangleFillIcon,iconStyle:c.actionRequiredStatusIcon,onClick:()=>{o&&function(e){const{action:n,environment:t,spaceId:i,analyticsFrom:s}=e;"slack_select_channels"===n?x().nh():"sharepoint_select_sites"===n?x().oz():"slack_re_auth"===n?x().yE({environment:t,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:n,sessionId:P().R.state.sessionId}}):"github_re_auth"===n?x().pd({environment:t,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:n}}):"jira_connection_pending"===n?x().bS({environment:t,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:n,sessionId:H().y.state.sessionId}}):(0,v().HB)(n)}({action:t.action,environment:i,spaceId:o,analyticsFrom:"ai_workspace_settings"})},children:(0,r.jsx)(b().sA,{...ge[t.action]})}):"disconnecting"===t.type?(0,r.jsxs)("div",{style:c.connectingStatusWrapper,children:[(0,r.jsx)("div",{style:c.connectedStatusIconWrapper,children:l(c.connectingStatusIcon)}),(0,r.jsx)("div",{style:c.connectingStatusMessage,children:(0,r.jsx)(b().sA,{...pe.aiConnectedAppsDisconnectingStatus})})]}):void(0,v().HB)(t)}function _e(e){let{connectedConnectors:n}=e;const t=(0,a().IS)((e=>({contentWrapper:{display:"flex",flexDirection:"column"}})),[]);return(0,r.jsx)("div",{style:t.contentWrapper,children:n.map(((e,n)=>(0,r.jsx)(we,{connectorType:e,showTopBorder:0===n},e)))})}function we(e){const{connectorType:n,showTopBorder:t}=e,i=(0,K().J)(),s=(0,o().K8)((()=>(0,U().HF)(n,i)),[n,i]);return(0,r.jsx)(je,{connectorType:n,connectionStatus:s,showTopBorder:t})}function Ie(){return(0,r.jsx)(ne().l,{display:"inline",tint:"gray",label:(0,r.jsxs)(le().Ye,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsxs)(le().Ye,{gap:8,alignItems:"center",children:[(0,r.jsx)(te().I,{icon:h().presentFillIcon,color:"orangePrimary"}),(0,r.jsx)(se().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:(0,r.jsx)(b().sA,{...pe.aiConnectorsUpsellBanner})})]}),(0,r.jsx)(oe().A,{onClick:()=>(0,q().openSelfServeBusinessTrialStartModal)({openedFrom:"business_trial_ai_settings_banner"}),children:(0,r.jsx)(se().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:(0,r.jsx)(b().sA,{...pe.aiConnectorsUpsellButton})})})]})})}function Le(e){const{spaceStore:n,billingData:t,securitySettingsStore:i}=e,a=(0,s().v3)(),c=(0,K().J)(),l=(0,o().K8)((()=>(0,z().Q)(a)),[a]),d=(0,o().K8)((()=>ye({spaceStore:n,billingData:t})),[n,t]),u=(0,o().K8)((()=>n.isAiEnabledOnSpace()),[n]),p=(0,E().X)("meeting_notes")&&c,g=(0,o().K8)((()=>(0,D().kB)()),[]),h=(0,o().K8)((()=>g.length>0),[g]),m=(0,E().X)("business_trials_2025"),f=(0,V().O)(),v=m&&f,y=(0,o().K8)((()=>(0,D().wd)()),[]),{availableConnectors:x,inProgressAndConnectedConnectors:A}=(0,o().K8)((()=>{const e=[],n=[];for(const t of g){const i=(0,U().HF)(t,c);"action_required"===i.type||"in_progress"===i.type||"disconnecting"===i.type||y.includes(t)?n.push(t):e.push(t)}return{availableConnectors:e,inProgressAndConnectedConnectors:n}}),[c,g,y]),S=c&&(l||d),j=S&&(h||p),k=(0,E().X)("ai_co_editing");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(de().A,{divider:"full",children:(0,r.jsx)(b().sA,{...C().D.notionAI})}),v&&(0,r.jsx)("div",{style:{marginBottom:24},children:(0,r.jsx)(Ie,{})}),S&&(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ve,{billingData:t,spaceStore:n}),(0,r.jsx)(ae().A,{size:16})]}),d&&u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(be,{securitySettingsStore:i}),(0,r.jsx)(ae().A,{size:16})]})]}),u&&(0,r.jsxs)(r.Fragment,{children:[j&&(0,r.jsx)(de().A,{divider:"full",hasMarginTop:!0,children:(0,r.jsx)(b().sA,{...pe.workspaceSettingsHeader})}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(de().A,{children:(0,r.jsx)(b().sA,{...pe.aiConnectorsHeader})}),(0,r.jsx)(re().A,{isSmall:!0,children:(0,r.jsx)(b().sA,{...pe.aiConnectorsDescription,values:{learnmore:e=>(0,r.jsx)(ce().A,{href:(0,Y().xS)("guides.aiConnectors"),external:!0,onClick:e=>e.stopPropagation(),children:e})}})}),(0,r.jsx)(ae().A,{size:16}),A.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_e,{connectedConnectors:A}),(0,r.jsx)(ae().A,{size:16})]}),x.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Se,{availableConnectors:x}),(0,r.jsx)(ae().A,{size:16})]})]}),p&&(0,r.jsx)(me,{}),k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(de().A,{divider:"full",hasMarginTop:!0,children:(0,r.jsx)(b().sA,{...pe.personalSettingsHeader})}),(0,r.jsx)(fe,{}),(0,r.jsx)(ae().A,{size:8})]})]})]})}},377955:(e,n,t)=>{t.d(n,{A:()=>k});t(898992),t(354520),t(581454);var i=t(296540),s=()=>t(484714),o=()=>t(852507),a=()=>t(847249),r=()=>t(401497),c=()=>t(849974),l=()=>t(846899),d=()=>t(413267),u=()=>t(959013),p=()=>t(576590),g=()=>t(760217),h=()=>t(331542),m=()=>t(928600),f=()=>t(939740),b=()=>t(89924),v=()=>t(21140),y=()=>t(722872),x=()=>t(176983),A=()=>t(351360),S=()=>t(756315),j=t(474848);function k(e){const{parent:n,callGetStatusAPI:t,from:k}=e,C=Boolean(t),[M,_]=i.useState(C),w=(0,r().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginTop:12,marginRight:4},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},bannerLikeCaption:{display:"flex",alignItems:"top",justifyContent:"center",color:e.text.tertiary,whiteSpace:"normal",fontSize:12},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},bannerLikeLabel:{fontSize:14,marginBottom:2,whiteSpace:"normal"},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),I=(0,x().J)(),L=(0,a().K8)((()=>S().d.state.isDisconnecting),[]),B=(0,a().K8)((()=>S().d.state.isEditing),[]),T=(0,a().K8)((()=>S().d.state.initialSyncState),[]),O=(0,a().O$)(A().AppStoreCurrentSpaceStore),W=(0,a().K8)((()=>S().d.state.analyticsFrom),[]),F=(0,s().v3)();if((0,o().l)((async()=>{O&&C&&(_(!0),await(0,p().updateGoogleDriveQnAConnectionState)({environment:F,spaceId:O.getSpaceId()}),_(!1))})),M)return(0,j.jsx)(v().Ye,{style:{width:200,height:50,justifyContent:"center",alignItems:"center"},children:(0,j.jsx)(h().A,{})});const D="in_progress"===T||B,P="completed"===T,N=[{key:"google-connection-section",render:e=>(0,j.jsx)(b().A,{...e}),items:[{key:"google-drive-ingestion-status-connecting",label:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connecting",defaultMessage:"Connecting"}),caption:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.subtext",defaultMessage:"This can take up to 36 hours"}),disabled:!0,hidden:!D||L,action:()=>{}},{key:"google-drive-ingestion-status-connected",label:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connected",defaultMessage:"Connected"}),caption:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:d().b,disabled:!0,hidden:!P||L,action:()=>{}},{key:"google-drive-ingestion-status-disconnecting",label:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.disconnecting",defaultMessage:"Google Drive is disconnecting from Notion"}),caption:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected Google Drive. This can take up to 3 hours."}),disabled:!0,hidden:!L,iconElement:(0,j.jsx)(j.Fragment,{children:(0,c().y)(w.bannerLikeIcon)}),action:()=>{},labelStyleOverride:w.bannerLikeLabel,captionStyleOverride:w.bannerLikeCaption},{key:"google-drive-ingestion-settings",label:(0,j.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.settings",defaultMessage:"Settings"}),icon:l().B,disabled:L,hidden:D||L||!I,action:()=>{null==n||n.close(),(0,p().navigateToGoogleDriveUniversalScreen)({screenToShow:"settings_screen",analyticsFrom:k||W||"chat_menu"})}}].filter((e=>!e.hidden)).map((e=>{const{key:n,label:t,caption:i,icon:s,iconElement:o,disabled:a,action:r,labelStyleOverride:c,captionStyleOverride:l,iconStyleOverride:d}=e,u=s?s({width:12,height:12}):o;return{key:n,action:()=>{r()},render:e=>(0,j.jsx)(g().A,{...e,title:(0,j.jsx)(v().Ye,{children:(0,j.jsxs)("div",{style:w.option,children:[(0,j.jsx)("div",{style:c??(a?w.disabledOptionLabel:w.optionLabel),children:t}),i&&(0,j.jsx)("div",{style:l??w.caption,children:i})]})}),left:u,leftStyle:d,disabled:a})}}))}];return(0,j.jsx)(m().A,{menuType:y().gu.Popup,minWidth:230,children:(0,j.jsx)(f().Ay,{type:f().Oh.Vertical,sections:N,initialFocus:void 0})})}},432875:(e,n,t)=>{t.r(n),t.d(n,{SlackConnectionOptions:()=>U});t(944114),t(898992),t(354520),t(581454);var i=t(296540),s=()=>t(484714),o=()=>t(852507),a=()=>t(847249),r=()=>t(401497),c=()=>t(187174),l=()=>t(340498),d=t(474848);const u=(0,l().wt)("aiFixSpellingGrammar",{viewBox:"0 0 16 16",svg:(0,d.jsx)("path",{d:"M6.57812 14.1621C6.23633 14.1621 5.9834 14.0186 5.74414 13.7246L2.20312 9.29492C2.03223 9.08301 1.95703 8.88477 1.95703 8.67969C1.95703 8.20801 2.30566 7.86621 2.78418 7.86621C3.08496 7.86621 3.29004 7.97559 3.48828 8.24219L6.55078 12.1729L12.4912 2.73926C12.6963 2.41797 12.8945 2.30176 13.2295 2.30176C13.708 2.30176 14.0361 2.62988 14.0361 3.10156C14.0361 3.28613 13.9814 3.47754 13.8379 3.69629L7.41211 13.7178C7.21387 14.0117 6.94043 14.1621 6.57812 14.1621Z"})}),p=(0,l().wt)("key",{viewBox:"0 0 30 30",svg:(0,d.jsx)("path",{d:"M14.757 4A5.724 5.724 0 009 9.748c0 2.364 1.389 4.456 3.586 5.335V23.6c0 .255.079.483.272.676l1.53 1.477a.578.578 0 00.808-.009l2.769-2.768a.598.598 0 000-.87l-1.591-1.574 2.232-2.232a.602.602 0 00-.017-.861l-2.171-2.18c2.628-1.116 4.087-3.13 4.087-5.511A5.733 5.733 0 0014.757 4zm0 5.344a1.55 1.55 0 01-1.547-1.547c0-.861.685-1.547 1.547-1.547a1.55 1.55 0 011.547 1.547 1.55 1.55 0 01-1.547 1.547z"})});var g=()=>t(874963),h=()=>t(385527),m=()=>t(846899),f=()=>t(735384),b=()=>t(386164),v=()=>t(959013),y=()=>t(284371),x=()=>t(449506),A=()=>t(901389),S=()=>t(705540),j=()=>t(957416),k=()=>t(576590),C=()=>t(760217),M=()=>t(331542),_=()=>t(928600),w=()=>t(939740),I=()=>t(89924),L=()=>t(21140),B=()=>t(989423),T=()=>t(722872),O=()=>t(47170),W=()=>t(963589),F=()=>t(176983),D=()=>t(351360),P=()=>t(508496),N=()=>t(174636);const z=(0,v().YK)({userOverwritePopupTitle:{id:"slackConnectionOptions.overwriteEmail.title",defaultMessage:"User Authorization"}});function U(e){var n;let{parent:t,from:l}=e;const U=(0,s().v3)(),[G,E]=(0,i.useState)(),K=(0,W().X)("ingestion_mapped_child_spaces"),Q=(0,F().J)(),J=(0,r().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),H=(0,a().O$)(D().AppStoreCurrentSpaceStore),q=(0,a().K8)((()=>N().R.state.isPublicSync),[]),V=(0,a().K8)((()=>N().R.state.isPrivateSync),[]),$=(0,a().K8)((()=>N().R.state.isSyncCompleted),[]),Z=(0,a().K8)((()=>N().R.state.sessionId),[]),[X,ee]=i.useState(!0),[ne,te]=i.useState(!1),[ie,se]=i.useState([]),oe=(0,O().O)(),ae=(0,a().K8)((()=>N().R.state.isDisconnecting),[]),re=(0,a().K8)((()=>N().R.state.analyticsFrom),[]),[ce,le]=(0,i.useState)(!0),de=(0,a().K8)((()=>N().R.state.isSlackGridAiConnectorEnabled),[]);(0,o().l)((async()=>{const e=null==H?void 0:H.id;if(!e)return;if(K){const n=await x().callApi({eventName:"getMappedParentSpace",environment:U,data:{spaceId:e}});if("success"!==n.type)return;if(n.data.isMapped)return E(n.data),void ee(!1)}const n=await x().callApi({eventName:"getSlackBulkIngestionStatus",environment:U,data:{spaceId:e},headers:(0,b().WS)({spaceId:e})});"success"===n.type&&N().R.setState({...N().R.state,...n.data});const t=await x().callApi({eventName:"getConnectedAppsForUniversalQna",environment:U,data:{spaceId:e},headers:(0,b().WS)({spaceId:e})});"success"===t.type&&se(t.data.connectedApps);const i=await x().callApi({eventName:"canUserQuerySlack",environment:U,data:{spaceId:e}});"success"===i.type&&(le(i.data.canQuery),N().R.setState({...N().R.state,canQuery:i.data.canQuery})),ee(!1)})),(0,c().Yb)((async()=>{if(!oe)return;const e=await x().callApi({eventName:"allowPrivateSlackIngestion",environment:U,data:{spaceId:oe}});"success"===e.type&&te(e.data.allow)}),[U,oe]);const ue=(0,a().K8)((()=>ie.includes("slack-admin")),[ie]),pe=(0,a().K8)((()=>ie.includes("slack")),[ie]),ge=(0,a().K8)((()=>{const e=P().default.getConfigKey("ingestion","slack");return(null==e?void 0:e.userScopes.length)>0}),[]),he=[{key:"slack-connection-section",render:e=>(0,d.jsx)(I().A,{...e}),items:(null!=G&&G.isMapped?[{key:"inherited-space",label:(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectionDisabled",defaultMessage:"Disabled"}),caption:(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.disabledDescription",defaultMessage:"Cannot connect Slack to this space. Slack connection is inherited from {parentSpaceName}",values:{parentSpaceName:(0,d.jsx)("u",{children:null===(n=G.spaceDetails)||void 0===n?void 0:n.spaceName})}}),icon:(0,g().f)(J.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}}]:[{key:"slack-ingestion-admin-auth",label:R(ie,$,q,de),caption:Y(Q,ie,q,ae,$),icon:(0,g().f)(J.icon),disabled:!0,connected:ue,hidden:!1,action:()=>{oe&&((0,k().navigateToSlackUniversalQnAOnboarding)({analyticsFrom:l||"chat_menu"}),(0,B().u4)({environment:U,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_public_slack",integration_type:"slack",setup_session_id:Z,from:l||re}}}))}},{key:"slack-ingestion-user-auth",label:(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.userAuth",defaultMessage:"Private conversations"}),caption:V?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.privateConnectionInProgress",defaultMessage:"Connecting. This can take up to 36 hours."}):pe?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByYou",defaultMessage:"Connected by you"}):(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.userCaption",defaultMessage:"Connect to enhance your AI results"}),icon:(0,h().h)(J.icon),disabled:!1,connected:pe,hidden:!!de||Boolean(!ue||Boolean(ie.includes("slack-admin")&&q)||!ne||!ge||ae),action:async()=>{if(oe)if(pe){"success"===(await x().callApi({eventName:"disconnectSlackIngestion",environment:U,data:{spaceId:oe,disconnectForWorkspace:!1}})).type&&se((e=>e.filter((e=>"slack"!==e)))),(0,B().u4)({environment:U,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"disconnect_private_slack",integration_type:"slack",setup_session_id:Z,from:l||re}}})}else{const e=await x().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:U,data:{spaceId:oe,isAdminAuth:!1,isDesktopApp:U.device.isElectron}});"success"===e.type&&window.open(e.data.url,"_blank"),(0,B().u4)({environment:U,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_private_slack",integration_type:"slack",setup_session_id:Z,from:l||re}}})}}},{key:"slack-overwrite-email",label:(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmail",defaultMessage:"Log in to Slack"}),caption:(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmailCaption",defaultMessage:"We couldn't verify your Slack e-mail. Click to authenticate."}),icon:p(J.icon),disabled:!1,connected:pe,hidden:!!de||(!$||ce),action:async()=>{if(!oe)return;(0,B().u4)({environment:U,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_slack_user_mapping",integration_type:"slack",setup_session_id:Z,from:l||re}}});const e=await x().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:U,data:{spaceId:oe,isAdminAuth:!1,isDesktopApp:U.device.isElectron,isUserMapping:!0,sessionId:Z}});"success"===e.type&&(U.device.isElectron?S().openExternalUrl(e.data.url):await j().P(U,{width:800,height:600,url:e.data.url,titleMessage:z.userOverwritePopupTitle}))}},{key:"slack-overwrite-email-logout",label:(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmailLogout",defaultMessage:"Disconnect your account"}),caption:(0,d.jsx)(d.Fragment,{}),icon:(0,f().I)(J.icon),disabled:!1,connected:!1,hidden:!!de||!ie.includes("slack-user-mapping"),action:async()=>{if(!oe)return;null==t||t.close();const{accept:e}=await A().Gh({message:(0,d.jsxs)(L().wt,{gap:8,children:[(0,d.jsx)("div",{style:{fontWeight:y().Wy.semibold,fontSize:18},children:(0,d.jsx)(v().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteHeader",defaultMessage:"Are you sure?"})}),(0,d.jsx)("div",{style:{fontWeight:y().Wy.regular},children:(0,d.jsx)(v().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteNote1",defaultMessage:"Your Slack data will be permanently deleted from Notion."})}),(0,d.jsx)("div",{style:{fontWeight:y().Wy.regular},children:(0,d.jsx)(v().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteNote2",defaultMessage:"This process can take up to 3 hours, and you'll only be able to reconnect after disconnecting is complete."})})]}),acceptLabel:(0,d.jsx)(v().sA,{id:"universalQna.slackChannelSelection.disconnectButtonLabel",defaultMessage:"Disconnect Slack"})});e&&((0,B().u4)({environment:U,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"slack_user_mapping_disconnect",integration_type:"slack",setup_session_id:Z,from:l||re}}}),await x().callApi({eventName:"disconnectSlackIngestion",environment:U,data:{spaceId:oe,disconnectUserMapping:!0}}))}}]).filter((e=>!e.hidden)).map((e=>{let{key:n,label:i,caption:s,icon:o,disabled:a,connected:r,action:c}=e;return{key:n,action:async()=>{await c(),null==t||t.close()},render:e=>(0,d.jsx)(C().A,{...e,title:(0,d.jsxs)(L().Ye,{gap:4,children:[(0,d.jsx)("div",{style:J.iconWrapper,children:o}),(0,d.jsxs)("div",{style:J.option,children:[(0,d.jsx)("div",{style:a?J.disabledOptionLabel:J.optionLabel,children:i}),(0,d.jsx)("div",{style:J.caption,children:s})]})]}),right:r&&u({width:12,height:12}),disabled:a})}}))}];return G||!ie.includes("slack-admin")||!Q||q||ae||he.push({key:"slack-settings-section",render:e=>(0,d.jsx)(I().A,{...e,topBorder:!0}),items:[{key:"slack-settings",action:()=>{oe&&(N().R.setState({...N().R.state,currentScreen:"settings"}),null==t||t.close())},render:e=>(0,d.jsx)(C().A,{...e,title:(0,d.jsxs)(L().Ye,{gap:4,children:[(0,d.jsx)("div",{style:J.iconWrapper,children:(0,m().B)(J.icon)}),(0,d.jsx)("div",{style:J.option,children:(0,d.jsx)("div",{style:J.optionLabel,children:(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.settings",defaultMessage:"Settings"})})})]})})}]}),(0,d.jsx)(_().A,{menuType:T().gu.Popup,width:230,children:X?(0,d.jsx)(L().Ye,{style:{padding:8,justifyContent:"center"},children:(0,d.jsx)(M().A,{})}):(0,d.jsx)(w().Ay,{type:w().Oh.Vertical,sections:he,initialFocus:void 0})})}function R(e,n,t,i){return t||n||!e.includes("slack-admin")?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.adminAuth",defaultMessage:"Public conversations"}):i?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.noWorkspacesSelected",defaultMessage:"No workspaces selected"}):(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.noChannelsSelected",defaultMessage:"No channels selected"})}function Y(e,n,t,i,s){return e?i?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.disconnectingPublicSlack",defaultMessage:"Disconnecting. This can take up to 3 hours."}):t?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectingPublicSlack",defaultMessage:"Connecting. This can take up to 36 hours."}):n.includes("slack-admin")?s?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByWorkspaceOwner",defaultMessage:"Connected by workspace owner"}):(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.selectChannels",defaultMessage:"Your workspace owner hasn't completed the setup."}):(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectSlackToEnhanceResults",defaultMessage:"Connect to enhance your AI results"}):n.includes("slack-admin")?s?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByWorkspaceOwner",defaultMessage:"Connected by workspace owner"}):t?(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectingPublicSlack",defaultMessage:"Connecting. This can take up to 36 hours."}):(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.selectChannels",defaultMessage:"Your workspace owner hasn't completed the setup."}):(0,d.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.contactAdmin",defaultMessage:"Contact your workspace owner to connect"})}},562403:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>i,presentFillIcon:()=>s});t(296540);const i={viewBox:"0 0 20 20",svg:(0,t(474848).jsx)("path",{d:"M7.932 1.824A2.765 2.765 0 0 0 5.077 6.05H4.3c-.87 0-1.575.705-1.575 1.575v1.9c0 .61.347 1.14.856 1.402h5.794v-4.87h1.25v4.87h5.794c.508-.262.856-.791.856-1.402v-1.9c0-.87-.705-1.575-1.575-1.575h-.776c.285-.435.451-.956.451-1.515 0-1.75-1.613-3.05-3.319-2.709a3.34 3.34 0 0 0-2.043 1.309 3.26 3.26 0 0 0-2.011-1.297zm1.443 3.214V6.05H7.39a1.515 1.515 0 1 1 .297-3l.07.014a2.01 2.01 0 0 1 1.618 1.974m4.75-.503c0 .832-.67 1.507-1.5 1.515h-2v-.963c0-.985.705-1.84 1.676-2.035a1.523 1.523 0 0 1 1.824 1.483m2.289 7.642h-5.789v5.098h4.214c.87 0 1.575-.705 1.575-1.575zm-7.039 0h-5.79V15.7c0 .87.706 1.575 1.576 1.575h4.214z"})},s=(0,t(340498).wt)("presentFill",i)},592420:(e,n,t)=>{t.d(n,{Q:()=>o});var i=()=>t(351360),s=()=>t(134217);function o(e){var n;return!(null===(n=i().default.state.currentSpaceStore)||void 0===n||!n.canAdmin())&&(0,s().n)(e,"enterprise")}},596101:(e,n,t)=>{t.d(n,{h:()=>x});t(898992),t(354520),t(581454),t(296540);var i=()=>t(847249),s=()=>t(401497),o=()=>t(849974),a=()=>t(846899),r=()=>t(413267),c=()=>t(959013),l=()=>t(284371),d=()=>t(576590),u=()=>t(760217),p=()=>t(928600),g=()=>t(939740),h=()=>t(89924),m=()=>t(21140),f=()=>t(722872),b=()=>t(176983),v=()=>t(963702),y=t(474848);function x(e){const{parent:n}=e,t=(0,s().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginBottom:48,marginRight:4},caption:{color:e.text.tertiary,fontSize:l().J.UISmall.desktop,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),x=(0,b().J)(),A=(0,i().K8)((()=>v().F.state.connectionStatus),[]),S=(0,i().K8)((()=>v().F.state.analyticsFrom),[]),j=(0,i().K8)((()=>v().F.state.sessionId),[]),k=[{key:"microsoft-teams-connection-section",render:e=>(0,y.jsx)(h().A,{...e}),items:[{key:"microsoft-teams-ingestion-status-connecting",label:(0,y.jsx)(c().sA,{id:"universalSearch.microsoftTeams.connectionOptions.connecting.title",defaultMessage:"Connecting"}),caption:(0,y.jsx)(c().sA,{id:"universalSearch.microsoftTeams.connectionOptions.connecting.subtext",defaultMessage:"Your workspace owner is connecting Microsoft Teams. This can take up to 36 hours"}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,o().y)(t.bannerLikeIcon)}),disabled:!0,hidden:!("in_progress"===A||"editing"===A),action:()=>{}},{key:"microsoft-teams-ingestion-status-connected",label:(0,y.jsx)(c().sA,{id:"universalSearch.microsoftTeams.connectionOptions.connected.title",defaultMessage:"Connected"}),caption:(0,y.jsx)(c().sA,{id:"universalSearch.microsoftTeams.connectionOptions.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:r().b,disabled:!0,hidden:"completed"!==A,action:()=>{}},{key:"microsoft-teams-ingestion-disconnect",label:(0,y.jsx)(c().sA,{id:"universalSearch.microsoftTeams.connectionOptions.disconnect.title",defaultMessage:"Disconnecting..."}),caption:(0,y.jsx)(c().sA,{id:"universalSearch.microsoftTeams.connectionOptions.disconnect.subtext",defaultMessage:"Your workspace owner has disconnected Microsoft Teams. This can take up to 3 hours."}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,o().y)(t.bannerLikeIcon)}),disabled:!0,hidden:"disconnecting"!==A,action:()=>{}},{key:"microsoft-teams-ingestion-settings",label:(0,y.jsx)(c().sA,{id:"universalSearch.microsoftTeams.connectionOptions.settings",defaultMessage:"Settings"}),icon:a().B,disabled:!1,hidden:!(x&&"completed"===A),action:()=>{null==n||n.close(),(0,d().navigateToMicrosoftTeamsUniversalScreen)({currentScreen:"settings_screen",analyticsFrom:S||"chat_menu",sessionId:j})}}].filter((e=>!e.hidden)).map((e=>{const{key:n,label:i,caption:s,icon:o,iconElement:a,disabled:r,action:c,labelStyleOverride:l,captionStyleOverride:d,iconStyleOverride:p}=e,g=o?o({width:12,height:12}):a;return{key:n,action:()=>c(),render:e=>(0,y.jsx)(u().A,{...e,disabled:r,title:(0,y.jsx)(m().Ye,{children:(0,y.jsxs)("div",{style:t.option,children:[(0,y.jsx)("div",{style:l??(r?t.disabledOptionLabel:t.optionLabel),children:i}),s&&(0,y.jsx)("div",{style:d??t.caption,children:s})]})}),left:g,leftStyle:p})}}))}];return(0,y.jsx)(p().A,{menuType:f().gu.Popup,minWidth:230,children:(0,y.jsx)(g().Ay,{type:g().Oh.Vertical,sections:k,initialFocus:void 0})})}},604907:(e,n,t)=>{t.d(n,{u:()=>A});t(944114),t(581454),t(296540);var i=()=>t(484714),s=()=>t(847249),o=()=>t(401497),a=()=>t(874963),r=()=>t(846899),c=()=>t(735384),l=()=>t(959013),d=()=>t(760217),u=()=>t(928600),p=()=>t(939740),g=()=>t(89924),h=()=>t(21140),m=()=>t(989423),f=()=>t(722872),b=()=>t(47170),v=()=>t(176983),y=()=>t(92383),x=t(474848);function A(e){let{parent:n}=e;const t=(0,o().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),A=(0,v().J)(),S=(0,i().v3)(),j=(0,b().O)(),k=(0,s().K8)((()=>{var e;return null===(e=y().E.state.connectionDetails)||void 0===e?void 0:e.status}),[]),C=(0,s().O$)(y().E),M=[];"completed"===k&&M.push({key:"sharepoint-admin-auth-connected",label:(0,x.jsx)(l().sA,{defaultMessage:"Connected",id:"sharepointAiConnector.connectionOptions.connected"}),caption:(0,x.jsx)(l().sA,{defaultMessage:"Sharepoint has been connected by your workspace owner",id:"sharepointAiConnector.connectionOptions.connectedByAdmin"}),icon:(0,a().f)(t.icon),disabled:!0,connected:!0,hidden:!1,action:()=>{}}),"pending_selection"===k&&M.push({key:"sharepoint-admin-auth-pending-selection",label:(0,x.jsx)(l().sA,{defaultMessage:"No sites selected",id:"sharepointAiConnector.connectionOptions.noSitesSelected"}),caption:(0,x.jsx)(l().sA,{defaultMessage:"Click to select sites",id:"sharepointAiConnector.connectionOptions.pendingSelectionCaption"}),icon:(0,a().f)(t.icon),disabled:!1,connected:!1,hidden:!1,action:()=>{y().E.setState({...C,currentScreen:"settings"})}}),"in_progress"!==k&&"awaiting_live_ingestion"!==k||M.push({key:"sharepoint-admin-auth-connecting",label:(0,x.jsx)(l().sA,{defaultMessage:"Connecting SharePoint...",id:"sharepointAiConnector.connectionOptions.connectingSharepoint"}),caption:(0,x.jsx)(l().sA,{defaultMessage:"This can take up to 36 hours.",id:"sharepointAiConnector.connectionOptions.connectingSharepointCaption"}),icon:(0,a().f)(t.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}});const _=[{key:"sharepoint-connection-section",render:e=>(0,x.jsx)(g().A,{...e}),items:M.filter((e=>!e.hidden)).map((e=>{if("component"in e){const{key:n,component:t}=e;return{key:n,action:()=>{},render:()=>t}}const{key:i,label:s,caption:o,icon:a,disabled:r,connected:c,action:l}=e;return{key:i,action:async()=>{await l(),null==n||n.close()},render:e=>(0,x.jsx)(d().A,{...e,title:(0,x.jsxs)(h().Ye,{gap:4,children:[(0,x.jsx)("div",{style:t.iconWrapper,children:a}),(0,x.jsxs)("div",{style:t.option,children:[(0,x.jsx)("div",{style:r?t.disabledOptionLabel:t.optionLabel,children:s}),(0,x.jsx)("div",{style:t.caption,children:o})]})]}),isChecked:c,disabled:r})}}))}];if("completed"===k&&A&&_.push({key:"sharepoint-settings-section",render:e=>(0,x.jsx)(g().A,{...e,topBorder:!0}),items:[{key:"sharepoint-settings",action:()=>{j&&((0,m().u4)({environment:S,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"open_settings",integration_type:"sharepoint",setup_session_id:C.sessionId,from:C.analyticsFrom}}}),y().E.setState({...C,currentScreen:"settings"}),null==n||n.close())},render:e=>(0,x.jsx)(d().A,{...e,title:(0,x.jsxs)(h().Ye,{gap:4,children:[(0,x.jsx)("div",{style:t.iconWrapper,children:(0,r().B)(t.icon)}),(0,x.jsx)("div",{style:t.option,children:(0,x.jsx)("div",{style:t.optionLabel,children:(0,x.jsx)(l().sA,{id:"sharepointAiConnector.settings",defaultMessage:"Settings"})})})]})})}]}),"disconnecting"===k){for(;_.length>0;)_.pop();_.push({key:"sharepoint-disconnecting-section",render:e=>(0,x.jsx)(g().A,{...e,topBorder:!0}),items:[{key:"sharepoint-disconnecting",action:()=>{},render:e=>(0,x.jsx)(d().A,{...e,disabled:!0,title:(0,x.jsxs)(h().Ye,{gap:4,children:[(0,x.jsx)("div",{style:t.iconWrapper,children:(0,c().I)(t.icon)}),(0,x.jsxs)("div",{style:t.option,children:[(0,x.jsx)("div",{style:t.optionLabel,children:(0,x.jsx)(l().sA,{id:"sharepointAiConnector.disconnecting",defaultMessage:"Disconnecting..."})}),(0,x.jsx)("div",{style:t.caption,children:(0,x.jsx)(l().sA,{id:"sharepointAiConnector.disconnectingCaption",defaultMessage:"This can take up to 3 hours."})})]})]})})}]})}return(0,x.jsx)(u().A,{menuType:f().gu.Popup,width:220,children:(0,x.jsx)(p().Ay,{type:p().Oh.Vertical,sections:_,initialFocus:void 0})})}},624199:(e,n,t)=>{t.d(n,{L3:()=>o,Sp:()=>r,iJ:()=>s,uE:()=>a});var i=()=>t(757695);const s=i().default.createValue({open:!1,openedFrom:void 0},{name:"SelfServeBusinessTrialStartModalStore"}),o=i().default.createValue({open:!1,openedFrom:"plans_page",recentPageStores:[],verifiedPageStores:[],teamStores:[],workspaceUserStores:[],connectedApps:[],modalState:"initial"},{name:"SelfServeBusinessTrialEndingModalStore"}),a=i().default.createValue({open:!1,openedFrom:void 0,connectedApps:[],teamStores:[],pageStores:[],onSecondaryButtonClick:void 0},{name:"SelfServeBusinessTrialLossAversionModalStore"}),r=i().default.createValue({open:!1,connectedApps:[],teamStores:[],pageStores:[]},{name:"SelfServeBusinessTrialExplorePlanStore"})},629609:(e,n,t)=>{t.d(n,{a:()=>M});t(898992),t(354520),t(581454);var i=t(296540),s=()=>t(484714),o=()=>t(852507),a=()=>t(847249),r=()=>t(401497),c=()=>t(849974),l=()=>t(846899),d=()=>t(413267),u=()=>t(959013),p=()=>t(987267),g=()=>t(576590),h=()=>t(634877),m=()=>t(760217),f=()=>t(331542),b=()=>t(928600),v=()=>t(939740),y=()=>t(89924),x=()=>t(21140),A=()=>t(722872),S=()=>t(176983),j=()=>t(351360),k=()=>t(604018),C=t(474848);function M(e){const{parent:n,callGetStatusAPI:t,connector:M}=e,_=Boolean(t),[w,I]=i.useState(_),L=(0,r().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginTop:12,marginRight:4},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},bannerLikeCaption:{display:"flex",alignItems:"top",justifyContent:"center",color:e.text.tertiary,whiteSpace:"normal",fontSize:12},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},bannerLikeLabel:{fontSize:14,marginBottom:2,whiteSpace:"normal"},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),B=(0,S().J)(),T=(0,a().O$)(h().NT[M]),{isDisconnecting:O,isEditing:W,analyticsFrom:F}=T,D=p().w0[M],P=(0,a().K8)((()=>(0,k().XY)(M)),[M]),N=(0,a().O$)(j().AppStoreCurrentSpaceStore),z=(0,s().v3)();if((0,o().l)((async()=>{N&&_&&(I(!0),await(0,h().Vn)(M)({environment:z,spaceId:N.getSpaceId()}),I(!1))})),w)return(0,C.jsx)(x().Ye,{style:{width:200,height:50,justifyContent:"center",alignItems:"center"},children:(0,C.jsx)(f().A,{})});const U="in_progress"===P||W,R="completed"===P,Y=[{key:"connection-section",render:e=>(0,C.jsx)(y().A,{...e}),items:[{key:"ingestion-status-connecting",label:(0,C.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.connecting",defaultMessage:"Connecting"}),caption:(0,C.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.subtext",defaultMessage:"This can take up to 36 hours"}),disabled:!0,hidden:!U||Boolean(O),action:()=>{}},{key:"connected",label:(0,C.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.connected",defaultMessage:"Connected"}),caption:(0,C.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:d().b,disabled:!0,hidden:!R||Boolean(O),action:()=>{}},{key:"disconnecting",label:(0,C.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.disconnecting",defaultMessage:"{displayName} is disconnecting from Notion",values:{displayName:D}}),caption:(0,C.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected {displayName}. This can take up to 3 hours.",values:{displayName:D}}),disabled:!0,hidden:!O,iconElement:(0,C.jsx)(C.Fragment,{children:(0,c().y)(L.bannerLikeIcon)}),action:()=>{},labelStyleOverride:L.bannerLikeLabel,captionStyleOverride:L.bannerLikeCaption},{key:"settings",label:(0,C.jsx)(u().sA,{id:"assistantOverflowMenu.ingestion.settings",defaultMessage:"Settings"}),icon:l().B,disabled:Boolean(O),hidden:U||O||!B,action:()=>{null==n||n.close(),(0,g().navigateToAIConnectorSettingsScreen)({connector:M,analyticsFrom:F,sessionId:T.sessionId})}}].filter((e=>!e.hidden)).map((e=>{const{key:n,label:t,caption:i,icon:s,iconElement:o,disabled:a,action:r,labelStyleOverride:c,captionStyleOverride:l,iconStyleOverride:d}=e,u=s?s({width:12,height:12}):o;return{key:n,action:()=>{r()},render:e=>(0,C.jsx)(m().A,{...e,title:(0,C.jsx)(x().Ye,{children:(0,C.jsxs)("div",{style:L.option,children:[(0,C.jsx)("div",{style:c??(a?L.disabledOptionLabel:L.optionLabel),children:t}),i&&(0,C.jsx)("div",{style:l??L.caption,children:i})]})}),left:u,leftStyle:d,disabled:a})}}))}];return(0,C.jsx)(b().A,{menuType:A().gu.Popup,minWidth:230,children:(0,C.jsx)(v().Ay,{type:v().Oh.Vertical,sections:Y,initialFocus:void 0})})}},656633:(e,n,t)=>{t.d(n,{vp:()=>o});var i=()=>t(134217);const s={isSalesAssisted:void 0};function o(e,n){return s.isSalesAssisted??(0,i().e9)(e,n)}(0,t(466103).exposeDebugEnvironmentValue)("getAssistantOnboardingDebugInfo",(e=>()=>{const{currentUserSettingsStore:n,currentSpaceStore:i}=t(351360).default.state,s=null==n?void 0:n.getSettings();if(!s||!i)return;const{ai_qna_intro_onboarding_phase:a,ai_assistant_onboarding_phase:r,ai_assistant_onboarding_phase_last_set_at:c,ai_assistant_tooltips_onboarding_phase:l,ai_sales_assisted_extra_notification_seen_at:d,last_exposed_to_ai_qna_at:u,qna_reminders_shown_at:p}=s;return{isSalesAssisted:o(e,i.id),relevantUserSettings:{ai_qna_intro_onboarding_phase:a,ai_assistant_onboarding_phase:r,ai_assistant_tooltips_onboarding_phase:l,ai_assistant_onboarding_phase_last_set_at:c,ai_sales_assisted_extra_notification_seen_at:d,last_exposed_to_ai_qna_at:u,qna_reminders_shown_at:p}}}))},661764:(e,n,t)=>{t.d(n,{fT:()=>_,lZ:()=>T,pq:()=>A});t(581454),t(296540);var i=()=>t(484714),s=()=>t(401497),o=()=>t(246760),a=()=>t(949306),r=()=>t(959013),c=()=>t(84817),l=()=>t(704152),d=()=>t(285790),u=()=>t(864943),p=()=>t(859428),g=()=>t(460292),h=()=>t(554509),m=t(474848);const f=(0,r().YK)({learnMore:{id:"banner.learnMore",defaultMessage:"Learn more"}}),b={red:"uiRedPrimary",yellow:"uiYellowPrimary",blue:"uiBluePrimary",gray:"secondary"},v={red:"uiRedSecondary",yellow:"uiYellowSecondary",blue:"uiBlueSecondary",gray:"secondary"},y={red:"uiRedPrimary",yellow:"uiYellowPrimary",blue:"uiBluePrimary",gray:"secondary"},x={red:e=>e.tint.uiRed,yellow:e=>e.tint.uiYellow,blue:e=>e.tint.uiBlue,gray:e=>e.surface.wash},A={red:e=>e.text.uiRedPrimary,blue:e=>e.text.uiBluePrimary,yellow:e=>e.text.uiYellowPrimary,gray:e=>"dark"===e.mode?e.text.primary:e.text.secondary},S={red:e=>e.icon.uiRedSecondary,blue:e=>e.icon.uiBlueSecondary,yellow:e=>e.icon.uiYellowSecondary,gray:e=>"dark"===e.mode?e.text.secondary:e.text.quaternary};function j(e){return(0,s().IS)((n=>({container:{backgroundColor:x[e](n),padding:"8px 12px"},content:{color:A[e](n)},learnMoreIcon:{fill:A[e](n)},titleIcon:{marginRight:8}})),[e])}function k(e){const{onDismiss:n,tint:t}=e;return n?(0,m.jsx)(l().A,{onClick:n,style:{width:20,height:20},children:(0,m.jsx)(g().Q,{iconGroup:a().Q,variantName:"default",colorName:y[t]})}):(0,m.jsx)("div",{})}function C(e){const{tint:n,iconGroup:t,style:i}=e;return t?(0,m.jsx)(g().Q,{iconGroup:t,variantName:"small",colorName:b[n],style:i}):null}function M(e){const{tint:n,iconGroup:t}=e;return t?(0,m.jsx)(g().Q,{iconGroup:t,variantName:"small",colorName:v[n]}):null}function _(e){const{tint:n,action:t}=e,{label:i,onClick:o,iconGroup:a}=t,r=(0,s().IS)((e=>({button:{color:A[n](e),borderWidth:1,borderStyle:"solid",borderColor:S[n](e),padding:a?"4px 10px 4px 8px":"4px 8px",height:"unset",gap:a&&4},buttonContent:{display:"flex",flexDirection:"row",alignItems:"center"}})),[n,a]);return(0,m.jsx)(u().A,{size:"lg",icon:()=>(0,m.jsx)(M,{iconGroup:a,tint:n}),onClick:o,buttonStyle:r.button,children:(0,m.jsx)(h().D,{styleName:"UIRegular-14px/Medium",customStyles:r.buttonContent,children:i})})}function w(e){const{label:n,iconGroup:t,tint:i,onDismiss:s,actions:a,onLearnMoreClick:l}=e,u=j(i),p=(0,r().tz)();return(0,m.jsxs)(c().Y1,{style:u.container,gap:"auto",direction:"horizontal",align:"center",width:"fill",children:[(0,m.jsxs)(c().Y1,{style:u.content,direction:"horizontal",align:"center",width:"hug",children:[(0,m.jsx)(C,{tint:i,iconGroup:t,style:u.titleIcon}),(0,m.jsx)(h().D,{styleName:"UIRegular-14px/Medium",children:n}),l&&(0,m.jsx)(d().A,{onClick:l,icon:()=>(0,m.jsx)(g().Q,{iconGroup:o().G,variantName:"large",colorName:"secondary",style:u.learnMoreIcon}),ariaLabel:p.formatMessage(f.learnMore)})]}),(0,m.jsxs)(c().Y1,{direction:"horizontal",align:"center-right",gap:12,children:[(0,m.jsx)(c().Y1,{direction:"horizontal",align:"center",gap:8,width:"hug",children:null==a?void 0:a.map(((e,n)=>e.isCustom?e.render():(0,m.jsx)(_,{tint:i,action:e},n)))}),(0,m.jsx)(k,{tint:i,onDismiss:s})]})]})}function I(e){const{label:n,iconGroup:t,staticIcon:i,tint:s,onDismiss:a,actions:l,onLearnMoreClick:u}=e,b=j(s),v=(0,r().tz)(),y=t?(0,m.jsx)(C,{tint:s,iconGroup:t,style:b.titleIcon}):i;return(0,m.jsxs)(c().Y1,{style:b.container,gap:"auto",direction:"horizontal",align:"center",children:[(0,m.jsx)("div",{}),(0,m.jsxs)(c().Y1,{style:b.content,direction:"horizontal",align:"center",width:"hug",gap:24,children:[(0,m.jsxs)(c().Y1,{direction:"horizontal",align:"center",width:"hug",children:[y,(0,m.jsx)(h().D,{styleName:"UIRegular-14px/Medium",children:n}),u&&(0,m.jsx)(p().A,{renderTooltip:()=>v.formatMessage(f.learnMore),render:e=>(0,m.jsx)(d().A,{onClick:u,icon:()=>(0,m.jsx)(g().Q,{iconGroup:o().G,variantName:"large",colorName:"secondary",style:b.learnMoreIcon}),ariaLabel:v.formatMessage(f.learnMore),...e})})]}),(0,m.jsx)(c().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==l?void 0:l.map(((e,n)=>e.isCustom?e.render():(0,m.jsx)(_,{tint:s,action:e},n)))})]}),(0,m.jsx)(k,{tint:s,onDismiss:a})]})}function L(e){const{label:n,description:t,iconGroup:i,staticIcon:o,tint:a,onDismiss:r,actions:l}=e,d=(0,s().IS)((e=>({container:{backgroundColor:x[a](e),padding:16,borderRadius:8},content:{color:A[a](e)},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[a]),u=i?(0,m.jsx)(C,{tint:a,iconGroup:i}):o;return(0,m.jsxs)(c().Y1,{style:d.container,gap:8,direction:"horizontal",children:[u?(0,m.jsx)("div",{style:d.iconContainer,children:u}):null,(0,m.jsxs)(c().Y1,{style:d.content,gap:8,children:[(0,m.jsxs)(c().Y1,{gap:4,children:[(0,m.jsx)(h().D,{styleName:"UIRegular-14px/Medium",colorName:"gray"===a?"primary":void 0,children:n}),(0,m.jsx)(h().D,{styleName:"UIRegular-14px/Regular",children:t})]}),l?(0,m.jsx)(c().Y1,{direction:"horizontal",gap:8,children:null==l?void 0:l.map(((e,n)=>e.isCustom?e.render():(0,m.jsx)(_,{tint:a,action:e},n)))}):null]}),(0,m.jsx)(k,{tint:a,onDismiss:r})]})}function B(e){const{tint:n,onDismiss:t,content:i}=e,s=j(n);return(0,m.jsxs)(c().Y1,{style:s.container,align:"center",gap:8,direction:"horizontal",children:[(0,m.jsx)("div",{style:{flex:1,...s.content},children:i}),(0,m.jsx)(k,{tint:n,onDismiss:t})]})}function T(e){const{display:n}=e,t=(0,i().v3)();switch(n){case"inline":return(0,m.jsx)(L,{...e});case"full-width":return t.device.isMobile?(0,m.jsx)(w,{...e}):(0,m.jsx)(I,{...e});case"full-width-no-content":return(0,m.jsx)(B,{...e})}return(0,m.jsx)(m.Fragment,{})}},849974:(e,n,t)=>{t.d(n,{y:()=>s});t(296540);var i=t(474848);const s=(0,t(340498).wt)("sync",{viewBox:"0 0 21 21",svg:(0,i.jsx)("path",{d:"M10.4913 20.6992C9.12373 20.6992 7.83685 20.4378 6.63059 19.9151C5.42433 19.3988 4.35999 18.6792 3.43755 17.7563C2.52157 16.8335 1.80233 15.7686 1.27984 14.5618C0.757342 13.3549 0.496094 12.0674 0.496094 10.6992C0.496094 9.33103 0.757342 8.04352 1.27984 6.83668C1.80233 5.62984 2.52157 4.56821 3.43755 3.65178C4.35999 2.72891 5.42111 2.00609 6.62091 1.48334C7.82717 0.960593 9.11406 0.699219 10.4816 0.699219C11.8556 0.699219 13.1457 0.960593 14.3519 1.48334C15.5582 2.00609 16.6225 2.72891 17.545 3.65178C18.4674 4.56821 19.1899 5.62984 19.7124 6.83668C20.2348 8.04352 20.4961 9.33103 20.4961 10.6992C20.4961 12.0674 20.2348 13.3549 19.7124 14.5618C19.1899 15.7686 18.4674 16.8335 17.545 17.7563C16.6225 18.6792 15.5582 19.3988 14.3519 19.9151C13.1457 20.4378 11.8588 20.6992 10.4913 20.6992ZM10.53 16.1784C11.1363 16.1784 11.7201 16.0848 12.2813 15.8977C12.8425 15.7105 13.3295 15.4524 13.7423 15.1232C13.9939 14.9232 14.1455 14.7005 14.1971 14.4553C14.2552 14.21 14.1971 13.9906 14.0229 13.797C13.8552 13.5969 13.6585 13.4937 13.4327 13.4872C13.2069 13.4808 12.9812 13.555 12.7554 13.7099C12.42 13.968 12.0749 14.1649 11.7201 14.3004C11.3653 14.4295 10.9686 14.494 10.53 14.494C9.91716 14.494 9.34628 14.3714 8.81733 14.1261C8.29484 13.8744 7.84975 13.5356 7.48206 13.1097C7.11438 12.6773 6.85636 12.1868 6.708 11.6382H7.6659C7.91103 11.6382 8.06261 11.5414 8.12067 11.3478C8.18518 11.1542 8.14647 10.9606 8.00456 10.767L6.39837 8.5695C6.25646 8.37589 6.07906 8.27908 5.8662 8.27908C5.65978 8.27263 5.48239 8.36943 5.33402 8.5695L3.74718 10.767C3.61172 10.9606 3.57302 11.1542 3.63107 11.3478C3.68913 11.5414 3.84072 11.6382 4.08584 11.6382H5.0631C5.22436 12.5353 5.55979 13.3259 6.06939 14.01C6.58543 14.6941 7.22727 15.2265 7.99488 15.6073C8.7625 15.988 9.60753 16.1784 10.53 16.1784ZM10.5203 5.19099C9.91393 5.19099 9.33015 5.28457 8.76895 5.47173C8.20775 5.65888 7.72074 5.92026 7.3079 6.25585C7.04988 6.44946 6.89506 6.67211 6.84346 6.92381C6.7983 7.16905 6.85958 7.38525 7.0273 7.5724C7.19501 7.77247 7.39176 7.87895 7.61753 7.89186C7.8433 7.89832 8.06907 7.82087 8.29484 7.65953C8.63027 7.40783 8.97215 7.21745 9.32048 7.08838C9.67526 6.95285 10.0752 6.88509 10.5203 6.88509C11.1331 6.88509 11.7007 7.01093 12.2232 7.26263C12.7457 7.50787 13.1908 7.84669 13.5585 8.27908C13.9262 8.70503 14.1842 9.19228 14.3326 9.74084H13.336C13.0844 9.74084 12.9296 9.83765 12.8715 10.0313C12.8135 10.2249 12.8554 10.4153 12.9973 10.6024L14.6035 12.8096C14.739 12.9967 14.9131 13.0935 15.126 13.1C15.3389 13.1064 15.5195 13.0096 15.6678 12.8096L17.2547 10.6024C17.3901 10.4088 17.4288 10.2184 17.3708 10.0313C17.3192 9.83765 17.1676 9.74084 16.916 9.74084H15.9871C15.8259 8.84378 15.4872 8.05643 14.9712 7.37879C14.4616 6.6947 13.823 6.15904 13.0554 5.77182C12.2877 5.3846 11.4427 5.19099 10.5203 5.19099Z"})})},874963:(e,n,t)=>{t.d(n,{f:()=>s});t(296540);var i=t(474848);const s=(0,t(340498).wt)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,i.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})},915308:(e,n,t)=>{t.d(n,{R2:()=>f,RR:()=>v,bS:()=>y,nh:()=>g,oz:()=>h,pd:()=>b,yE:()=>m});var i=()=>t(576590),s=()=>t(174636),o=()=>t(989423),a=()=>t(291075),r=()=>t(92383),c=()=>t(449506),l=()=>t(705540),d=()=>t(957416),u=()=>t(751156);const p=(0,t(959013).YK)({userOverwritePopupTitle:{id:"slackConnectionOptions.overwriteEmail.title",defaultMessage:"User Authorization"},githubAIConnectorOauthPopupTitle:{id:"githubAIConnector.oauthPopup.title",defaultMessage:"GitHub Authentication"}});function g(){s().R.setState({...s().R.state,currentScreen:"settings"})}function h(){r().E.setState({...r().E.state,currentScreen:"settings"})}async function m(e){const{environment:n,spaceId:t,analyticsProperties:i}=e,{analyticsFrom:s,buttonName:a,sessionId:r}=i;(0,o().u4)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:a,integration_type:"slack",setup_session_id:r,from:s}}});const u=await c().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:n,data:{spaceId:t,isAdminAuth:!1,isDesktopApp:n.device.isElectron,isUserMapping:!0}});"success"===u.type&&(n.device.isElectron?l().openExternalUrl(u.data.url):await d().P(n,{width:800,height:600,url:u.data.url,titleMessage:p.userOverwritePopupTitle}))}function f(e){const{environment:n,currentSpaceViewStore:t,analyticsProperties:i}=e,{analyticsFrom:s,buttonName:a,sessionId:r}=i;(0,o().u4)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:a,integration_type:"slack",setup_session_id:r,from:s}}}),u().createAndCommit({userAction:"slackAIConnector.onboarding.dismissPersonalAuthPrompt",environment:n,canUndo:!0,perform:e=>{u().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_slack_personal_auth_prompt:!0}},transaction:e})}})}async function b(e){const{environment:n,spaceId:t,onAuthSuccess:i,analyticsProperties:s}=e,{analyticsFrom:r,buttonName:u}=s;(0,o().u4)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:u,integration_type:"github",setup_session_id:a().o.state.sessionId,from:r}}});const g=await c().callApi({eventName:"getGithubUserAuthUrl",environment:n,data:{spaceId:t,isDesktop:n.device.isElectron,sessionId:a().o.state.sessionId}});"success"===g.type&&(n.device.isElectron?l().openExternalUrl(g.data.url):(d().P(n,{width:800,height:600,url:g.data.url,titleMessage:p.githubAIConnectorOauthPopupTitle}),null==i||i()))}function v(e){const{environment:n,currentSpaceViewStore:t}=e;t&&(u().createAndCommit({userAction:"githubAIConnector.forceShowGithubAuthNotification",environment:n,canUndo:!0,perform:e=>{u().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_github_personal_auth_prompt:!1}},transaction:e})}}),a().o.setState({...a().o.state,forceShowGithubAuthNotificationTriggeredAt:Date.now()}))}function y(e){const{spaceId:n,environment:t,analyticsProperties:s}=e;n&&((0,o().u4)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_jira_resume_pending_connection",integration_type:"jira",setup_session_id:s.sessionId,from:s.analyticsFrom}}}),(0,i().navigateToAIConnectorOnboarding)({connector:"jira",analyticsFrom:s.analyticsFrom,sessionId:s.sessionId}))}},920769:(e,n,t)=>{t.d(n,{O:()=>s});var i=()=>t(141273);function s(){const e=(0,i().g)("stacked_business_trial"),n=(0,i().g)("business_reverse");return Boolean(e||n)}},922442:(e,n,t)=>{t.r(n),t.d(n,{closeSelfServeBusinessTrialEndingModal:()=>h,closeSelfServeBusinessTrialExplorePlanModal:()=>v,closeSelfServeBusinessTrialLossAversionModal:()=>f,closeSelfServeBusinessTrialStartModal:()=>p,createSelfServeBusinessTrial:()=>y,openSelfServeBusinessTrialEndingModal:()=>g,openSelfServeBusinessTrialExplorePlanModal:()=>b,openSelfServeBusinessTrialLossAversionModal:()=>m,openSelfServeBusinessTrialStartModal:()=>u});var i=()=>t(244641),s=()=>t(762433),o=()=>t(323063),a=()=>t(461946),r=()=>t(981046),c=()=>t(624199),l=()=>t(655765),d=()=>t(411341);function u(e){c().iJ.setState({open:!0,...e})}function p(){c().iJ.update((e=>({...e,open:!1})))}function g(e){c().L3.update((()=>({...e,open:!0})))}function h(){c().L3.update((e=>({...e,open:!1,modalState:"initial"})))}function m(e){c().uE.setState({...e,open:!0})}function f(){c().uE.update((e=>({...e,open:!1})))}function b(e){c().Sp.setState({open:!0,...e})}function v(){c().Sp.update((e=>({...e,open:!1})))}async function y(e){const{billingData:n,environment:t,spaceStore:c,from:u,memberData:p,prices:g,campaign:h="stacked_business_trial"}=e;if(!c||!u||!n||p.loading)return;if("free"===(0,s().AI)(n))return void(await(0,l().applyReverseBusinessTrial)(c.id,t,u));const m=e.nowForTesting??i().c9.now(),f=p.members.length,b={product:"business",interval:"month",currency:r().A.state.selectedCurrencyCode??"USD"},v={items:[{price:(0,o().vk)(g,b),quantity:f}],trialEnd:m.plus({days:a().WL})};await(0,d().updateSubscription)({environment:t,spaceStore:c,from:u,desiredState:v,trialData:{id:h,from:u}})}},970023:(e,n,t)=>{t.d(n,{A3:()=>p,Fj:()=>l,Fn:()=>d,Sn:()=>o,gp:()=>s,oO:()=>u,rT:()=>h,vK:()=>a,vc:()=>g,z$:()=>r});var i=()=>t(959013);const s=(0,i().YK)({betaDisclaimer:{defaultMessage:"Beta availability and pricing are subject to change.",id:"GithubUniversalQnaAnnouncementModal.betaDisclaimer"},ctaButtonLabelWithAddon:{defaultMessage:"Try now",id:"GithubUniversalQnaAnnouncementModal.ctaButtonLabelWithAddon"},ctaButtonLabelWithoutAddon:{defaultMessage:"Get unlimited AI",id:"GithubUniversalQnaAnnouncementModal.ctaButtonLabelWithoutAddon"},learnMoreLink:{defaultMessage:"Learn more",id:"GithubUniversalQnaAnnouncementModal.learnMoreLink"},notifyWorkspaceOwner:{defaultMessage:"Notify your workspace owner",id:"GithubUniversalQnaAnnouncementModal.notifyWorkspaceOwner"}}),o=(0,i().YK)({title:{defaultMessage:"Get GitHub answers in Notion",id:"GithubUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your GitHub Pull Requests, Issues, and more.",id:"GithubUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about PRs, issues, and docs",id:"GithubUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),a=(0,i().YK)({title:{defaultMessage:"Get Slack answers in Notion AI",id:"slackUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Summarize threads, get answers, find information from public channels, and more.",id:"slackUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about channels and threads",id:"slackUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),r=(0,i().YK)({title:{defaultMessage:"Get Jira answers in Notion AI",id:"JiraUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Jira sites, projects, issues, and more.",id:"JiraUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about sites, projects, and issues",id:"JiraUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),c=(0,i().YK)({title:{defaultMessage:"Get Gmail answers in Notion AI",id:"GmailUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Gmail emails.",id:"GmailUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your emails",id:"GmailUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),l=(0,i().YK)({title:{defaultMessage:"Get Microsoft Teams answers in Notion AI",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Teams channels and chats.",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about channels and chats",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),d=(0,i().YK)({title:{defaultMessage:"Get Google Drive answers in Notion AI",id:"GoogleDriveUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Google Docs, Slides, and Sheets.",id:"GoogleDriveUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your Drive content",id:"GoogleDriveUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),u=(0,i().YK)({title:{defaultMessage:"Get Sharepoint answers in Notion AI",id:"SharepointUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Sharepoint content.",id:"SharepointUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about your stored content",id:"SharepointUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),p=(0,i().YK)({title:{defaultMessage:"Get Linear answers in Notion AI",id:"LinearUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Linear projects, issues, and more.",id:"LinearUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about tasks, issues and more",id:"LinearUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:s.betaDisclaimer,ctaButtonLabelWithAddon:s.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:s.ctaButtonLabelWithoutAddon,learnMoreLink:s.learnMoreLink}),g={github:o,slack:a,jira:r,gmail:c,sharepoint:u,linear:p,google_drive:d,microsoftTeams:l},h=(0,i().YK)({github:{defaultMessage:"Search and ask about PRs, issues, and docs",id:"GithubUniversalQnaAnnouncementModal.shortDescription"},slack:{defaultMessage:"Search and ask about channels and threads",id:"slackUniversalQnaAnnouncementModal.shortDescription"},google_drive:{defaultMessage:"Search and ask about your Drive content",id:"GoogleDriveUniversalQnaAnnouncementModal.shortDescription"},jira:{defaultMessage:"Search and ask about sites, projects, and issues",id:"JiraUniversalQnaAnnouncementModal.shortDescription"},gmail:{defaultMessage:"Search and ask about your emails",id:"GmailUniversalQnaAnnouncementModal.shortDescription"},microsoftTeams:{defaultMessage:"Search and ask about channels and chats",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.shortDescription"},sharepoint:{defaultMessage:"Search and ask about your stored content",id:"SharepointUniversalQnaAnnouncementModal.shortDescription"},linear:{defaultMessage:"Search and ask about tasks, issues and more",id:"LinearUniversalQnaAnnouncementModal.shortDescription"}})},975323:(e,n,t)=>{t.d(n,{Q:()=>M});t(944114),t(581454),t(296540);var i=()=>t(484714),s=()=>t(847249),o=()=>t(401497),a=()=>t(874963),r=()=>t(846899),c=()=>t(735384),l=()=>t(959013),d=()=>t(449506),u=()=>t(705540),p=()=>t(751156),g=()=>t(760217),h=()=>t(928600),m=()=>t(939740),f=()=>t(89924),b=()=>t(21140),v=()=>t(989423),y=()=>t(722872),x=()=>t(47170),A=()=>t(176983),S=()=>t(291075),j=()=>t(351360),k=()=>t(245464),C=t(474848);function M(e){var n,t,M;let{parent:_}=e;const w=(0,o().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),I=(0,A().J)(),L=(0,i().v3)(),B=(0,s().K8)((()=>j().default.getState().currentSpaceViewStore),[]),T=(0,x().O)(),O=(0,s().O$)(S().o),W=[];var F;null!==(n=O.githubOrg)&&void 0!==n&&n.isSyncComplete&&W.push({key:"github-admin-auth-connected",label:(0,C.jsx)(l().sA,{defaultMessage:"Connected",id:"githubAIConnector.connectionOptions.publicRepositories"}),caption:(0,C.jsx)(l().sA,{defaultMessage:"The {orgName} GitHub has been connected by your workspace owner",id:"githubAIConnector.connectionOptions.connectedByAdmin",values:{orgName:null===(F=O.githubOrg)||void 0===F?void 0:F.name}}),icon:(0,a().f)(w.icon),disabled:!0,connected:!0,hidden:!1,action:()=>{}});null!==(t=O.githubOrg)&&void 0!==t&&t.isSyncComplete||W.push({key:"github-admin-auth-connecting",label:(0,C.jsx)(l().sA,{defaultMessage:"Connecting GitHub...",id:"githubAIConnector.connectionOptions.connectingGitHub"}),caption:(0,C.jsx)(l().sA,{defaultMessage:"This can take up to 72 hours.",id:"githubAIConnector.connectionOptions.connectingGitHubCaption"}),icon:(0,a().f)(w.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}}),O.isPersonalAuthComplete||W.push({key:"github-personal-auth-not-complete",hidden:!1,component:(0,C.jsx)("div",{style:{marginLeft:6,marginRight:6,paddingLeft:4,paddingRight:4},children:(0,C.jsx)(k().A,{parent:_,showDismiss:!1})})});const D=[{key:"github-connection-section",render:e=>(0,C.jsx)(f().A,{...e}),items:W.filter((e=>!e.hidden)).map((e=>{if("component"in e){const{key:n,component:t}=e;return{key:n,action:()=>{},render:()=>t}}const{key:n,label:t,caption:i,icon:s,disabled:o,connected:a,action:r}=e;return{key:n,action:async()=>{await r(),null==_||_.close()},render:e=>(0,C.jsx)(g().A,{...e,title:(0,C.jsxs)(b().Ye,{gap:4,children:[(0,C.jsx)("div",{style:w.iconWrapper,children:s}),(0,C.jsxs)("div",{style:w.option,children:[(0,C.jsx)("div",{style:o?w.disabledOptionLabel:w.optionLabel,children:t}),(0,C.jsx)("div",{style:w.caption,children:i})]})]}),isChecked:a,disabled:o})}}))}];if(O.isPersonalAuthComplete&&D.push({key:"github-user-disconnect-section",render:e=>(0,C.jsx)(f().A,{...e,topBorder:!0}),items:[{key:"github-user-auth-disconnect",render:e=>(0,C.jsx)(g().A,{...e,title:(0,C.jsxs)(b().Ye,{gap:4,children:[(0,C.jsx)("div",{style:w.iconWrapper,children:(0,c().I)(w.icon)}),(0,C.jsx)("div",{style:w.option,children:(0,C.jsx)("div",{children:(0,C.jsx)(l().sA,{id:"githubAIConnector.disconnectPersonalAuth",defaultMessage:"Disconnect your account"})})})]}),disabled:!1}),action:async()=>{if(!T)return;(0,v().u4)({environment:L,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_disconnect",integration_type:"github",setup_session_id:S().o.state.sessionId,from:S().o.state.analyticsFrom}}}),null==_||_.close();const e=await d().callApi({eventName:"disconnectGithub",environment:L,data:{spaceId:T,disconnectUserAuth:!0}});p().createAndCommit({userAction:"githubAIConnector.onboarding.dismissPersonalAuthPrompt",environment:L,canUndo:!0,perform:e=>{B&&p().applyOperation({store:B,operation:{pointer:B.pointer,path:["settings"],command:"update",args:{...B.getSettings(),dismissed_github_personal_auth_prompt:!0}},transaction:e})}}),S().o.setState({...S().o.state,isPersonalAuthComplete:!1}),"success"===e.type&&e.data.redirectUrl&&(L.device.isElectron?u().openExternalUrl(e.data.redirectUrl):window.open(e.data.redirectUrl,"_blank"))}}]}),null!==(M=O.githubOrg)&&void 0!==M&&M.isSyncComplete&&I&&D.push({key:"github-settings-section",render:e=>(0,C.jsx)(f().A,{...e,topBorder:!0}),items:[{key:"github-settings",action:()=>{T&&((0,v().u4)({environment:L,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"open_settings",integration_type:"github",setup_session_id:S().o.state.sessionId,from:S().o.state.analyticsFrom}}}),S().o.setState({...S().o.state,currentScreen:"settings"}),null==_||_.close())},render:e=>(0,C.jsx)(g().A,{...e,title:(0,C.jsxs)(b().Ye,{gap:4,children:[(0,C.jsx)("div",{style:w.iconWrapper,children:(0,r().B)(w.icon)}),(0,C.jsx)("div",{style:w.option,children:(0,C.jsx)("div",{style:w.optionLabel,children:(0,C.jsx)(l().sA,{id:"githubAIConnector.settings",defaultMessage:"Settings"})})})]})})}]}),O.isDisconnecting){for(;D.length>0;)D.pop();D.push({key:"github-disconnecting-section",render:e=>(0,C.jsx)(f().A,{...e,topBorder:!0}),items:[{key:"github-disconnecting",action:()=>{},render:e=>(0,C.jsx)(g().A,{...e,disabled:!0,title:(0,C.jsxs)(b().Ye,{gap:4,children:[(0,C.jsx)("div",{style:w.iconWrapper,children:(0,c().I)(w.icon)}),(0,C.jsxs)("div",{style:w.option,children:[(0,C.jsx)("div",{style:w.optionLabel,children:(0,C.jsx)(l().sA,{id:"githubAIConnector.disconnecting",defaultMessage:"Disconnecting..."})}),(0,C.jsx)("div",{style:w.caption,children:(0,C.jsx)(l().sA,{id:"githubAIConnector.disconnectingCaption",defaultMessage:"This can take up to 3 hours."})})]})]})})}]})}return(0,C.jsx)(h().A,{menuType:y().gu.Popup,width:220,children:(0,C.jsx)(m().Ay,{type:m().Oh.Vertical,sections:D,initialFocus:void 0})})}}}]);