"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[23844,49157],{346:(e,t,i)=>{i.d(t,{MG:()=>f,T1:()=>m,a1:()=>y,dt:()=>g,kg:()=>h,lC:()=>v,n_:()=>b});var o=i(296540),n=()=>i(484714),a=()=>i(847249),r=()=>i(187174),s=()=>i(645873),l=()=>i(941463),d=()=>i(441199),c=()=>i(749687),u=()=>i(737230),p=()=>i(756114);const m=new(s().O2)("PerformanceToolbar",(()=>Promise.all([i.e(96346),i.e(16471),i.e(85864),i.e(92845),i.e(71718),i.e(21194),i.e(17989),i.e(90625),i.e(37580),i.e(45624)]).then(i.bind(i,140401)))),f=(0,s()._h)(m,(e=>e.PerformanceToolbar)),g=(0,s()._h)(m,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,n().v3)();return(0,a().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function b(){const e=(0,n().v3)(),t=S("PerformanceToolbarStore"),i=S("isPerformanceToolbarVisible");return(0,a().K8)((()=>!(!t||!i)&&i(e,e.RouterStore.state,t.state)),[i,e,t])}function v(){const e=S("PerformanceToolbarStore");return(0,a().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function y(){const e=(0,n().v3)(),t=S("createPerformanceToolbarMouseListeners"),i=S("PerformanceToolbarStore"),{sidebarExpanded:r,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:m,updateSidebarExpanded:f,updateSidebarWidth:g}=(0,a().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,o.useEffect)((()=>{if(i&&t)return t(e,(e=>i.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),r,s,p,m,f,g)}),[t,e,i,r,s,p,m,f,g])}function S(e){const t=h(),[{value:i}]=(0,r().Yb)((()=>t?m.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return i}},21735:(e,t,i)=>{i.d(t,{A:()=>a});class o extends(()=>i(757695))().default{getInitialState(){return{shouldUseEdgeCache:!1}}}const n=new o;i(604341).exposeDebugValue("EdgeCacheStore",n);const a=n},43972:(e,t,i)=>{i.d(t,{w:()=>l});i(296540);var o=()=>i(764880),n=()=>i(534177),a=()=>i(256863),r=()=>i(453697),s=i(474848);function l(e){const{actor:t}=e,i={size:e.size??14,style:{marginRight:2,...e.style}};return(0,o().H3)(t)?(0,s.jsx)(a().A,{botValue:t.asActor,...i}):(0,o().ps)(t)?(0,s.jsx)(r().A,{userValue:t.asActor,...i}):(0,o().h2)(t)?(0,s.jsx)(r().A,{userValue:void 0,...i}):void(0,n().HB)(t)}},53528:(e,t,i)=>{i.d(t,{OH:()=>s,T2:()=>l,do:()=>d});var o=()=>i(597777),n=()=>i(869190),a=()=>i(604995),r=()=>i(416504);function s(e){const{dateTime:t,intl:i,shortenDateAndRange:o}=e,r=a().C6.toPersistedDate(t.valueOf());return n().ZF({value:r,allowRelativeDates:!0,intl:i,shortenDateAndRange:o,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:i,userTimeZone:o,displayInUserTimezone:r,alwaysIncludeTimezone:s}=e,l=a().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return n().ZF({value:l,allowRelativeDates:!0,intl:i,userTimeZone:o,displayInUserTimezone:r,alwaysIncludeTimezone:s})}function d(e){const{luxonRange:t,intl:i}=e,s=a().C6.toPersistedDateRange(t),l=n().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:i,displayInUserTimezone:!0}),d=t.end.setZone((0,r().P)()),c=n().fU({start_time:d.toFormat(o().GE),humanReadable:!1,intl:i});return i.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:c})}},63467:(e,t,i)=>{i.d(t,{y:()=>c});var o=()=>i(637997),n=()=>i(267419);const a={ko:()=>i.e(2268).then(i.bind(i,224434)),es:()=>i.e(95264).then(i.bind(i,196425)),de:()=>i.e(35390).then(i.bind(i,653703)),fr:()=>i.e(3272).then(i.bind(i,94677)),pt:()=>i.e(27315).then(i.bind(i,766869)),zh:()=>i.e(69945).then(i.bind(i,516814)),ja:()=>i.e(77757).then(i.bind(i,824432)),da:()=>i.e(9423).then(i.bind(i,440761)),fi:()=>i.e(59337).then(i.bind(i,462135)),nb:()=>i.e(2040).then(i.bind(i,937314)),nl:()=>i.e(51106).then(i.bind(i,530897)),sv:()=>i.e(53631).then(i.bind(i,895222))};let r=!1,s=!1;async function l(e){for(const[i,n]of Object.entries(e.emojiLocaleKeywords)){var t;o().fB[i]={...o().fB[i],keywords:[...n,...(null===(t=o().fB[i])||void 0===t?void 0:t.keywords)||[]]}}await n().A.waitUntilLoaded(),n().A.update((t=>{let{emojiByName:i,...o}=t;return{...o,emojiByName:{...i,...e.emojiByName}}}))}async function d(){if(r)return;const[e]=i(662303).locale.split("-");e in a&&(await l(await a[e]()),r=!0)}const c=(0,i(279900).A)((async()=>{await async function(){s||(await l(await i.e(51872).then(i.bind(i,443716))),s=!0)}(),await d()}))},72307:(e,t,i)=>{i.d(t,{A:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},77126:(e,t,i)=>{i.d(t,{j:()=>n});class o extends(()=>i(959180))().A{}const n=new o},97059:(e,t,i)=>{i.d(t,{W:()=>g,w:()=>f});i(944114);var o=()=>i(585515),n=()=>i(577449),a=()=>i(161479),r=()=>i(545285),s=()=>i(763824),l=()=>i(780054),d=()=>i(870618),c=()=>i(670631),u=()=>i(227440),p=()=>i(508496),m=()=>i(540758);async function f(e){const{environment:t}=e;return(await s().lX(Object.keys(c().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:i}=e,s={page:{id:i,spaceId:(0,a().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},c=[];return await o().T(s,n().h.sideEffect((e=>((0,r().u)(e)&&c.push(e.id),Promise.resolve())),n().h.fromMonomorphicFunctionUnsafe((async e=>{const i=await d().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==i?void 0:i.model})))),c}({environment:t,pageId:e})))).flat()}function g(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,m().Bd)(t)}},105819:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>o,pencilLineIcon:()=>n});i(296540);const o={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},n=(0,i(340498).wt)("pencilLine",o)},126617:(e,t,i)=>{i.d(t,{Y:()=>n});i(296540);const o={viewBox:"0 0 16 16",svg:(0,i(474848).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},n=(0,i(340498).wt)("ellipsisSmall",o)},175116:(e,t,i)=>{i.d(t,{ET:()=>l,Ks:()=>d,RI:()=>s,p2:()=>r});i(16280);var o=i(296540);const n="collectionContextStore",a=(0,i(446943).C)({displayName:n,legacyContextKey:n,modernContextDefaultValue:void 0}),r=a.context,s=a.Provider;function l(){const e=o.useContext(r);if(void 0===e)throw new Error(`No context provided: ${n}`);return e}function d(){return o.useContext(r)}},182034:(e,t,i)=>{i.d(t,{O:()=>u,e:()=>c});i(898992),i(672577);var o=()=>i(908006),n=()=>i(878523),a=()=>i(725614),r=()=>i(892632),s=()=>i(299545),l=()=>i(77126),d=()=>i(489348);function c(e,t){const i=s().dd(t),o=r().xh(i);e.setState({...e.state,files:o})}async function u(e){const{blockStore:t,pageViewBlockStore:i,environment:r}=e;i?i.setState({...i.state,forceDiscussionOpen:!0}):d().A.openNewPageDiscussionInput(t),n().o2(r,{from:"page_comments"}),await o().default.afterNextFlush();const s=l().j.find((e=>e.getBlockStore().id===t.id)),c=null==s?void 0:s.getInputStore();c&&a().setSelectionAtEnd({store:c.state.textStore})}},205618:(e,t,i)=>{i.d(t,{A:()=>n});class o extends(()=>i(757695))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:i(854150).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const n=o},224011:(e,t,i)=>{i.d(t,{A:()=>a});var o=()=>i(705540);class n extends(()=>i(757695))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await o().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},o().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const a=new n},240562:(e,t,i)=>{i.d(t,{p:()=>a});var o=()=>i(645873);const n=new(o().O2)("HelpButtonContent",(async()=>await i.e(42481).then(i.bind(i,101107)))),a=(0,o()._h)(n,(e=>e.HelpButtonContent))},271084:(e,t,i)=>{i.d(t,{k:()=>n});i(581454);class o extends(()=>i(757695))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[i,o]=e,[n,a]=t;return a-o})).map((e=>{let[t,i]=e;return t}))}}const n=new o;(0,i(604341).exposeDebugValue)("UserSimilarityStore",n)},277201:(e,t,i)=>{i.d(t,{I:()=>x,i:()=>N});var o=i(296540),n=()=>i(484714),a=()=>i(847249),r=()=>i(401497),s=()=>i(387964),l=()=>i(340498),d=()=>i(959013),c=()=>i(186445),u=()=>i(38337),p=()=>i(869562),m=()=>i(749687),f=()=>i(962730),g=()=>i(948914),h=()=>i(145214),b=()=>i(285790),v=()=>i(35392),y=()=>i(859428),S=i(474848);function x(e){const t=(0,n().v3)(),i=(0,n().Y0)(),o=(0,d().tz)(),r=(0,a().O$)(m().sidebarMouseEnteredStore),l=(0,a().O$)(g().b),u=(0,a().O$)(c().$o),f=o.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),h=(!i.isElectronMac||!u)&&!l&&r;return(0,S.jsx)(N,{isVisible:h,icon:s().S,caption:f,onClick:()=>{p().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const M={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function N(e){const t=(0,n().Y0)(),i=(0,r().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.mediumIconColor}})),[]),a=(0,o.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...i.button,...e.style})),[e.style,i.button,t.isMobile]);return(0,S.jsx)(y().A,{renderTooltip:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,S.jsx)(v().A,{style:i.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?f().W.Right:f().W.Bottom,render:i=>(0,S.jsx)(h().A,{tag:b().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:a,hoveredStyle:e.hoveredStyle,iconStyle:M,mobileFeedback:t.isMobile,onClick:e.onClick,className:u().P7S,...i})})}},279900:(e,t,i)=>{function o(e){let t,i,o;return async function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t?(o=a,i||(i=t.then((()=>(i=void 0,t=e(...o),t))),i)):(t=e(...a),t)}}i.d(t,{A:()=>o})},352759:(e,t,i)=>{i.d(t,{p:()=>v,t:()=>y});i(581454),i(296540);var o=()=>i(484714),n=()=>i(847249),a=()=>i(584262),r=()=>i(959013),s=()=>i(857783),l=()=>i(255018),d=()=>i(939740),c=()=>i(958378),u=()=>i(89924),p=()=>i(900967),m=()=>i(728611),f=()=>i(211716),g=()=>i(592968),h=()=>i(551619),b=i(474848);function v(e){let{store:t}=e;return(0,b.jsx)("div",{style:{width:"100%",maxWidth:"100%",margin:"0 auto 6px auto"},onMouseDown:h().NV,onClick:h().sx,children:(0,b.jsx)(l().A,{type:"page",store:t,headerText:(0,b.jsx)(r().sA,{defaultMessage:"Linked to this page",id:"page.expandedBacklinks.label"}),disableCurrentPageToken:!0,disableInaccessiblePages:!0})})}function y(e){let{store:t}=e;const i=(0,o().v3)(),r=(0,n().K8)((()=>(0,p().c)(t,i)),[t,i]),l=(0,n().K8)((()=>r.backlinks.map((e=>e.backlinkStore))),[r]).map(((e,t)=>({key:e.id,render:t=>(0,b.jsx)(c().A,{...t,store:e,hidePath:!1}),action:t=>{let{event:o}=t;g().F.setState({isOpen:!1});const n=m().Vr(o);s().uK({environment:i,store:e,openInNew:n,visitType:f().ig.Link,pageVisitSource:a().y8.Backlinks})}})));return(0,b.jsx)(d().Ay,{type:d().Oh.Vertical,initialFocus:void 0,sections:[{key:"all",items:l,render:e=>(0,b.jsx)(u().A,{...e})}]})}},387964:(e,t,i)=>{i.d(t,{S:()=>a});i(296540);var o=i(474848);const n={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,o.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},a=(0,i(340498).wt)("arrowChevronDoubleBackward",n)},398842:(e,t,i)=>{i.d(t,{Jv:()=>v,Zr:()=>y,Rl:()=>S,mA:()=>b});var o=i(296540),n=()=>i(484714),a=()=>i(847249),r=()=>i(401497),s=()=>i(970013),l=()=>i(743176),d=()=>i(68465),c=()=>i(159588),u=()=>i(963589),p=()=>i(331542),m=i(474848);function f(){const e=(0,r().DP)();return(0,m.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,m.jsx)(p().A,{legacySize:14})})}var g=()=>i(399275);const h=function(){return(0,m.jsx)(i(464708).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,m.jsx)(i(959013).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const b=o.memo((function(e){const{propertySchema:t,showIcon:o,showDragIcon:a,hideName:s,badge:l,style:d,iconStyle:u,iconSize:p,dragHandleStyle:f,className:g,labelSizeVariant:h}=e,b=(0,n().v3)(),{device:v}=b,y=v.isMobile?16:14,x=(0,r().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:y,...d},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:s?void 0:"small"===h||a?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:a?1:0,transition:`opacity ${c().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:a?0:1,transition:`opacity ${c().bM}`},dragIcon:{fill:e.icon.secondary}})),[y,s,u,h,a,d]);return(0,m.jsxs)("div",{className:g,style:x.container,children:[o&&(0,m.jsxs)("div",{style:x.iconWrapper,children:[(0,m.jsx)("div",{style:x.itemIcon,children:(0,m.jsx)(S,{propertySchema:t,iconSize:p,iconStyle:u})}),(0,m.jsx)("div",{style:x.dragHandle,children:(0,m.jsx)(i(57232).A,{style:f,iconSize:12,iconStyle:x.dragIcon})})]}),!s&&(0,m.jsx)("div",{style:{...i(284371).RC},children:t.name}),l]})}));function v(e){const{propertySchema:t}=e,i=(0,n().v3)();return(0,a().K8)((()=>(0,d().O0)(i)&&s().$M(t)&&s().om(t)),[i,t])?(0,m.jsx)(h,{}):null}function y(e){let{propertyId:t,collectionContextStore:i}=e;return(0,a().K8)((()=>{var e;const o=null===(e=i.collectionStore())||void 0===e?void 0:e.id;if(!o)return!1;const n=g().d.state.collectionsProperties[o];return!!n&&"Loading"===n[t]}),[i,t])?(0,m.jsx)(f,{}):null}function S(e){const{propertySchema:t,iconSize:i,iconStyle:o}=e,{isMobile:a}=(0,n().Y0)(),s=(0,r().DP)(),d=(0,u().X)("nds_default_property_noticon"),c=a?18:16;return(0,m.jsx)(l().zB,{type:t.type,icon:t.icon,size:i||c,theme:s,style:o,isDefaultNoticonEnabled:d})}},399275:(e,t,i)=>{i.d(t,{d:()=>n});i(898992),i(354520);class o extends(()=>i(757695))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,i(206267).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const i=this.state.collectionsProperties[e],o=i?{...i,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:o}})}removeCollectionProperties(e,t){const i=this.state.collectionsProperties[e];if(!i)return;const o=Object.fromEntries(Object.entries(i).filter((e=>{let[i]=e;return!t.has(i)})));if(0===Object.keys(o).length){const{[e]:t,...i}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:i})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:o}})}}const n=new o;(0,i(604341).exposeDebugValue)("ConnectedPropertiesSyncStore",n)},406533:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>n,questionMarkCircleIcon:()=>a});i(296540);var o=i(474848);const n={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,o.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},a=(0,i(340498).wt)("questionMarkCircle",n)},413267:(e,t,i)=>{i.d(t,{b:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},419123:(e,t,i)=>{i.d(t,{P:()=>c,k:()=>d});i(898992),i(354520);var o=()=>i(847249),n=()=>i(774733),a=()=>i(645873),r=()=>i(508496),s=()=>i(486130),l=()=>i(756214);function d(e){const{navigableBlockStore:t}=e,{value:i}=(0,a().fJ)(n().commentsDependency),r=(0,o().K8)((()=>t&&i?i.discussionHelpers.getDiscussionsForSidebar({blockStore:t,currentUserId:t.userId,ignoreAfterTime:0}):[]),[i,t]);return(0,o().K8)((()=>t&&t.userId?(0,l().R)({userId:t.userId,blockStore:t,discussionStores:r,groupIdsUserIsIn:s()._.getSpacePermissionGroupIds({userId:t.userId,spaceId:t.getSpaceId()})}):[]),[t,r])}function c(e){const{navigableBlockStore:t,forceIncludeDiscussionIds:i}=e,n=d({navigableBlockStore:t});return(0,o().K8)((()=>{const e=r().default.getConfigKey("assume_comment_read","last_seen_at");return n.filter((t=>(null==i?void 0:i.has(t.id))||t.isUnread(e)))}),[n,i])}},454531:(e,t,i)=>{i.d(t,{W:()=>m});var o=()=>i(972435),n=()=>i(867772),a=()=>i(681810),r=()=>i(901389),s=()=>i(896628),l=()=>i(383594),d=()=>i(751156),c=()=>i(892632);const u=1500,p=(0,i(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function m(e){let{environment:t,intl:i,store:o,rect:n}=e;l().W(t,{originGap:3,originRect:n,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:i.formatMessage(p.pageCover),onDelete:()=>{!function(e){let{environment:t,store:i}=e;l().I(),d().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:i,transaction:e})}})}({environment:t,store:o})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:i,position:n}=e;g({environment:t,store:o,url:{originUrl:i},position:n})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:i.formatMessage(p.fileTypeCaption,{idealImageWidth:u}),onUpload:e=>{var n;l().I(),c().QM({environment:t,file:e[0],bucket:"secure",record:(null===(n=o.getCoverStore())||void 0===n?void 0:n.pointer)??o.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:h,onProgress:b,onComplete:e=>{var i;i={environment:t,store:o,url:{originUrl:e}},f({...i,position:.5})},onError:()=>{r().f1(i.formatMessage(p.uploadFailed))}})}},{type:"embed",title:i.formatMessage(p.embedTitle),inputPlaceholder:i.formatMessage(p.embedPlaceholder),caption:i.formatMessage(p.embedCaption),buttonText:i.formatMessage(p.embedSubmit),onChange:e=>{var i;i={environment:t,store:o,url:e},f({...i,position:.5}),l().I()}},{type:"unsplash",onChange:e=>{let{url:i,position:n}=e;g({environment:t,store:o,url:{originUrl:i},position:n})}}]})}async function f(e){const{environment:t,store:i,url:r,position:l}=e,{serverCommitResult:c}=d().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:i,url:r,position:l||.5,transaction:e})}});await c,a().A.state.loadingMode===n().vS&&a().A.setState({loadingMode:n().Gi,dataURL:a().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:o().A.formatMessage(p.downloading)})}function g(e){f(e),e.environment.device.isMobile&&l().I()}function h(e){const{file:t,name:i,size:r}=e;if(l().I(),a().A.setState({loadingMode:n().Wc,file:t,name:i,size:r}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{a().A.state.loadingMode===n().Wc&&a().A.setState({...a().A.state,loadingMode:n().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else a().A.state.loadingMode===n().Wc&&a().A.setState({...a().A.state,loadingMode:n().vS,dataURL:t.dataURL,progressText:o().A.formatMessage(p.preparing)});else a().A.state.loadingMode===n().Wc&&a().A.setState({...a().A.state,loadingMode:n().vS,progressText:o().A.formatMessage(p.preparing)})}function b(e){const{progressPercent:t,progressText:i}=e;a().A.state.loadingMode===n().vS&&a().A.setState({...a().A.state,uploadProgress:t,progressText:i})}},490044:(e,t,i)=>{i.d(t,{A:()=>p});i(296540);var o=()=>i(484714),n=()=>i(847249),a=()=>i(401497),r=()=>i(500066),s=()=>i(159588),l=()=>i(963589),d=()=>i(644914),c=i(474848);function u(){const e=(0,a().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,c.jsx)("div",{children:(0,r().G)(e.icon)})}function p(e){var t;const i=(0,o().v3)(),r=i.device.isMobile,{isTablet:p}=(0,o().Y0)(),m=(0,l().X)("tablet_refresh_gate"),f=(0,n().K8)((()=>{var t,o;if(r)return i.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(o=e.style)||void 0===o?void 0:o.paddingLeft:10)}),[i.WindowSizeStore,r,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),g=(0,a().IS)((t=>({wrapper:{...r?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:p&&m?4:8,paddingBottom:p&&m?4:8,paddingLeft:f,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:d().Zr,paddingTop:4,paddingBottom:4,...(0,s().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:r?28:22,height:r?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:r?24:d().ry,height:r?24:d().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!r?"clip":"ellipsis",...e.childrenStyle}})),[r,p,m,f,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,c.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:g.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,c.jsx)("div",{style:g.left,children:e.left}),e.icon&&(0,c.jsxs)("div",{style:g.icon,children:[e.icon,e.isAlias&&(0,c.jsx)(u,{})]}),(0,c.jsx)("div",{style:g.children,children:e.children}),e.right&&(0,c.jsx)("div",{style:g.right,children:e.right})]})}},529803:(e,t,i)=>{i.d(t,{A:()=>n});class o extends(()=>i(757695))().default{}const n=new o},541235:(e,t,i)=>{i.d(t,{YD:()=>a,c$:()=>o,q_:()=>n});const o={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},n="completed",a="dismissed"},544862:(e,t,i)=>{i.d(t,{A:()=>k});var o=i(296540),n=()=>i(484714),a=()=>i(847249),r=()=>i(959013),s=()=>i(896628),l=()=>i(454531),d=()=>i(751156),c=()=>i(600871),u=()=>i(478726),p=()=>i(227440),m=()=>i(867772),f=()=>i(681810),g=()=>i(608581),h=()=>i(145214),b=()=>i(704152),v=()=>i(807683),y=()=>i(401497),S=()=>i(534177),x=i(474848);function M(e){let{src:t,placeholderSrc:i,placeholderBehavior:n,imageStyle:a,containerStyle:r,onLoadComplete:s,testId:l}=e;const[d,c]=(0,o.useState)(!0);let u;switch(n){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!i&&(d||void 0===t);break;default:(0,S().HB)(n)}const p=(0,y().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...r},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[r,u]);(0,o.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const m=(0,o.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,x.jsxs)("div",{style:p.container,children:[(0,x.jsx)(v().Ay,{src:t,onLoad:m,style:a,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),i&&(0,x.jsx)(v().Ay,{src:i,style:a,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var N=()=>i(24611);const k=function(e){let{store:t,disabled:r,paddingRight:l,paddingLeft:c,height:u,proxyWidth:p}=e;const g=(0,n().v3)(),h=(0,a().uB)(void 0,i(454305).A),b=(0,a().K8)((()=>r||"suggest"===i(77246).Uv.getMode(t)),[r,t]),y=(0,a().K8)((()=>t.getCover()),[t]),S=(0,a().O$)(f().A),[N,k]=(0,o.useState)(void 0);if(!y)return null;const R=S.loadingMode!==m().pF&&S.loadingMode!==m().Wc;return(0,x.jsx)(i(801678).A,{mouseStore:h,onFlushTemporaryPosition:e=>function(e,t,i){const{imagePosition:o,reset:n}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:i,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:o,transaction:e}),n()}})}(e,t,g),renderControl:e=>{let{handleRepositionClick:i,handleSavePositionClick:o,handleCancelClick:n,isVisible:a,isRepositioning:r}=e;return(0,x.jsx)(C,{handleRepositionClick:i,handleSavePositionClick:o,handleCancelClick:n,isVisible:a,isRepositioning:r,lastProxiedUrl:N,store:t,disabled:b,paddingRight:l,paddingLeft:c,mouseStore:h})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},render:e=>(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(i(360083).A,{url:y.cover,isAuthenticated:!0,permissionRecord:y.pointer,width:p,onFinishedLoadingProxyUrl:k,render:(t,i)=>{const o={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:R?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},n={width:"100%",height:u,maxHeight:280};return(0,x.jsx)(M,{src:i,placeholderSrc:R?S.dataURL:void 0,placeholderBehavior:R?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:n,imageStyle:o,onLoadComplete:w,testId:"pageCover"})}}),R&&(0,x.jsxs)("div",{style:v().fd,children:[(0,x.jsx)(i(331542).A,{size:"md",style:{marginRight:4}}),(0,x.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==S.uploadProgress?(0,x.jsx)(i(773382).A,{percentage:S.uploadProgress}):S.progressText?(0,x.jsx)("span",{children:S.progressText}):null})]})]})})};function w(){f().A.reset()}function C(e){let{isVisible:t,isRepositioning:i,handleCancelClick:s,handleRepositionClick:d,handleSavePositionClick:v,lastProxiedUrl:y,store:S,disabled:M,paddingRight:k,paddingLeft:w,mouseStore:C}=e;const R=(0,n().v3)(),A=(0,r().tz)(),I=(0,o.useCallback)((e=>function(e,t,i,o,n){n.reset();const a=e.target.getBoundingClientRect();l().W({environment:t,intl:i,store:o,rect:a})}(e,R,A,S,C)),[R,A,S,C]),j=(0,a().K8)((()=>f().A.state.loadingMode),[]),P=(0,a().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":u().x6,t}(S)),[S]),{device:T}=R,B=(0,a().K8)((()=>!i&&!(0,c().LX)({device:T})),[i,T]),_=(0,a().O$)(p().e);if(M||j!==m().pF||!_)return null;const{isMobile:U}=T;return(0,x.jsx)(h().A,{animate:{width:P,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,x.jsxs)(g().A,{isVisible:t,position:"bottom",style:{marginRight:k,marginLeft:w},children:[B&&(0,x.jsx)(b().A,{style:{borderRight:U?"none":void 0,...N().k},onClick:I,children:(0,x.jsx)(r().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!i&&!U&&(0,x.jsx)(b().A,{style:{...N().k,borderRight:"none"},onClick:e=>d(e,y),children:(0,x.jsx)(r().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),i&&!U&&(0,x.jsx)(b().A,{style:N().k,onClick:v,children:(0,x.jsx)(r().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),i&&!U&&(0,x.jsx)(b().A,{style:{...N().k,borderRight:"none"},onClick:s,children:(0,x.jsx)(r().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},551619:(e,t,i)=>{i.d(t,{Hy:()=>j,NV:()=>A,O9:()=>T,Rg:()=>P,Sm:()=>_,dK:()=>U,f7:()=>B,l8:()=>E,n$:()=>L,no:()=>V,sx:()=>I});var o=()=>i(484714),n=()=>i(792485),a=()=>i(847249),r=()=>i(700500),s=()=>i(651124),l=()=>i(519831),d=()=>i(620689),c=()=>i(591197),u=()=>i(835066),p=()=>i(964345),m=()=>i(68465),f=()=>i(753199),g=()=>i(504836),h=()=>i(478726),b=()=>i(747100),v=()=>i(963589),y=()=>i(665579),S=()=>i(351360),x=()=>i(525569),M=()=>i(508496),N=()=>i(375447),k=()=>i(66496),w=()=>i(548821),C=()=>i(712505),R=()=>i(302022);function A(e){(0,f().SQ)({event:e,context:f().y$.EditorMouseDown,callback:()=>{}})}function I(e){(0,f().SQ)({event:e,context:f().y$.EditorClick,callback:()=>{}})}function j(e){return(0,a().K8)((()=>Boolean(R().A.state.pageMap[e.id])||k().A.state.pages.has(e.id)),[e.id])}function P(e,t){const i=(0,o().v3)(),r=(0,n().S)(),s=j(e),l=(0,a().K8)((()=>{var i,o;return t===w().Rr.Frame?Boolean(null===(i=S().default.state.currentLoadingContainerStore)||void 0===i?void 0:i.state.ready):t===w().Rr.PeekView&&C().default.state.open?Boolean(null===(o=C().default.state.loadingContainerStore)||void 0===o?void 0:o.state.ready):t===w().Rr.CollectionPageView||t===w().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),d=B(e);return(0,a().K8)((()=>{if(!l)return!1;const t=i.currentUser.isLoggedIn(),o=r&&r.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=o&&o.hasPublicPermission)||"edit"===(null==o?void 0:o.permission))&&!s&&!d&&(!(0,m().ZE)(o)||"completionPopup"!==x().default.state.type))}),[i.currentUser,d,l,r,s,e])}function T(e,t){const i=(0,o().v3)(),r=(0,n().S)(),{isTablet:s}=(0,o().Y0)(),l=(0,v().X)("tablet_refresh_template_pills_gate");return(0,a().K8)((()=>{if(t===w().Rr.SitePreview)return!1;if(i.device.isMobile&&(!s||!l))return!1;if(!i.currentUser.isLoggedIn())return!1;const o=r&&r.publicEditModeStore.state;if(null!=o&&o.hasPublicPermission&&"edit"!==(null==o?void 0:o.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const n=e.getContentStores()[0];if(n&&!n.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const a=p().gZ.state,d=p().Di.state;if(a&&e.id===d)return!1;return!((0,h().L5)(t)?c().VY.state:c().u3.state)}),[i,r,e,t,s,l])}function B(e){return(0,a().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(r().xd.externalObjectInstancePage)}),[e])}function _(e){return(0,a().K8)((()=>{if(!(0,g().vL)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===l().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function U(e){return(0,a().K8)((()=>{if(!(0,g().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function E(e){return(0,a().K8)((()=>{if(!M().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===s().IE.CsvImport}),[e])}function L(e){const t=(0,o().v3)(),{device:i,WindowSizeStore:n}=t,r=(0,a().K8)((()=>{const e=n.state.height,o=i.isMobile&&N().A.state.open?e:0;return d().C6(t)+o}),[t,n,i.isMobile]);return(0,a().K8)((()=>"home-phone"===e?y().q3:i.isTablet?380:i.isIOS?Math.max(350,r):i.isMobile?400:"side-peek"===e||"center-peek"===e?b().ln:"home"===e?y().wH:"30vh"),[i,r,e])}function V(e){const t=(0,o().v3)(),i=(0,a().K8)((()=>(0,u().dC)(t,e)),[t,e]);return(0,a().K8)((()=>i&&!e.isFullWidth()?(0,u().Zy)(t,(0,b().cq)(e),(0,b().RX)(e)):0),[t,i,e])}},555267:(e,t,i)=>{i.d(t,{A:()=>l});var o=i(296540),n=()=>i(401497),a=()=>i(62856),r=()=>i(331542),s=i(474848);function l(e){let{loadingMessage:t}=e;const i=(0,n().DP)(),l=(0,a().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(r().A,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:i.text.secondary},children:t})]})})}},567121:(e,t,i)=>{i.d(t,{EG:()=>r,K5:()=>a,RH:()=>n,Yi:()=>s,ls:()=>o});const o=32,n=202,a=1e3,r="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},578194:(e,t,i)=>{i.d(t,{r:()=>o});const o=(0,i(583835).Dv)("importEvernote")},591197:(e,t,i)=>{i.d(t,{VY:()=>s,ZJ:()=>a,u3:()=>r});var o=()=>i(496506);class n extends(()=>i(757695))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const a=new n,r=new(o().default)((()=>!1!==a.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(o().default)((()=>!1!==a.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},592968:(e,t,i)=>{i.d(t,{F:()=>n});class o extends(()=>i(757695))().default{getInitialState(){return{isOpen:!1}}}const n=new o},603815:(e,t,i)=>{i.d(t,{A$:()=>w,JQ:()=>C,Vn:()=>N,s4:()=>k});i(16280),i(944114),i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(354520),i(803949),i(581454);var o=()=>i(857639),n=()=>i(585515),a=()=>i(577449),r=()=>i(388821),s=()=>i(179034),l=()=>i(545285),d=()=>i(534177),c=()=>i(449506),u=()=>i(780054),p=()=>i(989423),m=()=>i(870618),f=()=>i(303626),g=()=>i(14307),h=()=>i(245865),b=()=>i(540758),v=()=>i(670631),y=()=>i(508496),S=()=>i(571963),x=()=>i(603815),M=()=>i(108944);async function N(e){const{environment:t,request:i,abortSignal:o,prefetchCacheKey:n,headers:a}=e;return(0,S().updateLoadCachedPageChunkCalledAt)(),g().isConnected()||g().isConnecting()?c().callApi({eventName:"loadCachedPageChunkV2",environment:t,data:i,abortSignal:o,prefetchCacheKey:n,headers:a}):c().callApi({eventName:"loadPageChunkV2",environment:t,data:i,abortSignal:o,prefetchCacheKey:n,headers:a})}async function k(e){const{mode:t,environment:i,request:d,isFirstChunk:c,abortSignal:g}=e,h={...d,limit:30,cursor:d.cursor||{stack:[]},baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName};if("inMemoryAndDiskCacheWithInexactPreload"===t&&(await x().A$(i,{id:d.page.id,table:s().ev}),null!=g&&g.aborted))throw new Error("Abort signal received");const y=r().RecordMapWithRole.create(),S=[];let M=!1;const N=new Set,k=await n().T(h,a().h.fromMonomorphicFunctionUnsafe((async e=>{const o=await m().h7({environment:i,pointer:e,abortSignal:g,useInMemoryCacheOnly:"inMemoryOnly"===t});if(null!=g&&g.aborted)throw new Error("Abort signal received");if(o)return y.setModelAndRole(e,o.model,o.role),o.model;if("inMemoryOnly"===t)throw new Error(`Record not found: ${e.table},${e.id}`);if((0,l().u)(e)&&!N.has(e.id)&&c){if(void 0===v().A.state.offlinePages)return S.push(e),void(M=!0);if(void 0===v().A.state.offlinePages||!b().Bd(d.page.id))throw new Error(`Record not found: ${e.table},${e.id}`);S.push(e)}})),((e,t,i,o)=>{f().N.enableLogging&&console.log(`Spidering from ${e.table}:${e.id} to ${t.table}:${t.id} (${i})`),null!=o&&o.suppressErrorOnClient&&N.add(t.id)}));if(M&&(await v().A.waitUntil((()=>void 0!==v().A.state.offlinePages)),!b().Bd(d.page.id))){const[e]=S;throw new Error(`Record not found: ${e.table},${e.id}`)}if(S.length>0&&(0,p().LM)({eventName:"offline_page_was_missing_records_in_cache",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((e=>{(0,p().u4)({environment:i,event:{eventName:"offline_page_was_missing_records_in_cache",eventProperties:{}},opts:{sampling:{behavior:"decided",sampleDecision:e}}}),e&&o().log({level:"error",from:"loadingHelpers",type:"offlinePageWasMissingRecordsInCache",data:{pageId:d.page.id,missingRecords:S}})})),null!=g&&g.aborted)throw new Error("Abort signal received");return{recordMap:y.toJson(),cursor:k.cursorValue}}async function w(e,t){const i=e.currentUser.id;if(!i||!e.defaultRecordCache.persistedRecordCache)return Promise.resolve(void 0);(await e.defaultRecordCache.persistedRecordCache.getPageBlocksByParent({page:t,userId:i})).forEach((t=>{e.defaultRecordCache.inMemoryRecordCache.setRecord({pointer:t.pointer,userId:t.userId},t.value),e.defaultRecordCache.inMemoryRecordCache.emitRecord(t.pointer,[]),h().unsubscribeAfterDelay({environment:e,pointer:t.pointer,userId:t.userId})}))}function C(e){if(!y().default.checkGate({gateName:"load_page_chunk_omit_existing_record_versions"}))return;const t=r().RecordMapPolymorphic.create();let i=0;const o=()=>i>=50,n=e=>{"space"!==(null==e?void 0:e.table)&&(o()||e&&void 0===t.get(e.pointer)&&(t.set(e.pointer,e.getVersion()),i++))};if(e.isReady())for(const r of(0,M().E)(e))n(r);if(e.userId){const t=e.environment.defaultRecordCache.inMemoryRecordCache.data.getUserRecordMap(e.userId);n(t.getModel({table:"notion_user",id:e.userId}));let i=0;for(const e of t.getPointersByTable("notion_user")){if(o()||i>=10)break;i++,n(t.getModel(e))}}const a=Array.from(t).map((e=>{let{pointer:t,value:i}=e;if(void 0!==i)return{pointer:t,version:i}})).filter(d().O9);return a.length?a:void 0}},608581:(e,t,i)=>{i.d(t,{A:()=>c});i(898992),i(354520),i(581454),i(941795);var o=i(296540),n=()=>i(401497),a=()=>i(955825),r=()=>i(284371),s=()=>i(963575),l=i(474848);function d(e){const{button:t,isLast:i}=e,s=(0,n().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:r().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return o.cloneElement(t,{...(0,a().AH)(t.props.style,s.button,i&&s.buttonLast),hoveredStyle:(0,a().AH)(s.buttonHovered,i&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const c=function(e){let{children:t,isVisible:c,position:u,style:p}=e;const m=(0,i(484714).v3)(),f=(0,n().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:s().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:m.device.isMobile?"auto":"none",opacity:m.device.isMobile?1:0,fontFamily:r().vc(i(662303).locale).sans,position:"absolute",right:s().A.horizontal.small,bottom:s().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:s().A.vertical.small,bottom:void 0}})),[m]),g=o.Children.toArray(t).filter(i(534177).O9),h=g.length;return(0,l.jsx)(i(145214).A,{animate:{opacity:c?1:0},...(0,a().AH)(f.container,p,c&&f.containerHover,"top"===u&&f.containerTop),children:g.map(((e,t)=>{const n=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===i(859428).A&&o.isValidElement(e))return o.cloneElement(e,{render:(t,i)=>{const o=e.props.render(t,i);return(0,l.jsx)(d,{isLast:n,button:o},e.key)}});if(e.type===i(704152).A&&o.isValidElement(e))return(0,l.jsx)(d,{isLast:n,button:e},e.key)}}))})}},654734:(e,t,i)=>{i.d(t,{A:()=>l});var o=i(296540),n=()=>i(869190),a=()=>i(604995),r=()=>i(416504),s=i(474848);const l=function(e){const t=(0,i(959013).tz)(),l=(0,i(401497).DP)(),u=(0,i(396182).I)(),p=(0,o.useRef)(),m=(0,o.useCallback)((()=>{const t=e.value;if(!t)return;const o=a().q8(t,(0,r().P)());if(!o)return;const n=o.valueOf(),s=n-Date.now();s<0||s>i(720665).nD||p.current&&p.current.timestamp===n||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:n,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),f=(0,o.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,o.useEffect)((()=>{m()}),[m]),(0,o.useEffect)((()=>()=>{f()}),[f]);const{value:g,withComma:h}=e,b=(0,i(847249).K8)((()=>g?(0,n().ZF)({value:g,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,r().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:i(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,g]);if(!g)return null;const v=a().AA(g,(0,r().P)(),i(662303).locale);let y;if(g.reminder){const e=a().Zs(g,(0,r().P)());y=e?{color:l.errorText}:{color:i(100622).Ay.blue}}const S=(0,s.jsxs)(s.Fragment,{children:[b,g.reminder&&(0,i(599987).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),h?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...y},children:S}):(0,s.jsx)(i(859428).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:c(l,e.tooltipHeader),children:[d(v.start),v.end?` → ${d(v.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...y},...t,children:S}),placement:e.tooltipPlacement})};function d(e){return(0,n().eV)({value:e,preset:"medium"})}function c(e,t){return t?{color:e.text.contrastSecondary}:{}}},665638:(e,t,i)=>{i.d(t,{$:()=>p,S:()=>m});var o=()=>i(847249),n=()=>i(401497),a=()=>i(186445),r=()=>i(838364),s=()=>i(644914),l=()=>i(155959),d=()=>i(661179),c=()=>i(508496),u=()=>i(895227);function p(e){const{environment:t,rightEdgeDistance:i,isInPeekRenderer:r}=e,l=e.width??36,c=(0,o().K8)((()=>(0,s().zo)(t,r)-(0,s().Ql)(t)),[t,r]),p=(0,o().K8)((()=>m(t,16+d().A.state)),[t]),f=(0,o().K8)((()=>i+d().A.state),[i]),g=(0,o().K8)((()=>a().$o.state?0:1),[]);return(0,n().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:p,right:f,opacity:g,transform:`translateX(-${c}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${u().L}ms,\n\t\t\t\t\tcolor ${u().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:l,height:l,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[c,p,f,l,g])}function m(e,t){const i=c().default.checkGate({gateName:"tablet_refresh_gate"}),o=e.device.isMobileNative&&!i,n=(0,l().T)("supportsNativeBottomBar"),a=o&&!n;return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet&&i?-12:a?r().l:0))}},681810:(e,t,i)=>{i.d(t,{A:()=>o});const o=new(i(867772).Ay)},739135:(e,t,i)=>{i.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>r,tb:()=>s,x$:()=>a});var o=()=>i(541235),n=()=>i(496603);function a(e,t){return r(c(e,t))}function r(e){return void 0!==e&&(e===o().q_||e===o().YD)}function s(e,t){if(r(t))return;const i=o().c$[e],n=i.steps.findIndex((e=>e.id===t));return-1===n?i.steps[0].id:n===i.steps.length-1?o().q_:i.steps[n+1].id}function l(e,t){const i=c(e,t);if(i&&!r(i))return s(t,i)}function d(e,t){const i=c(e,t);if(i)return function(e,t){const i=o().c$[e];var a;if(r(t))return null===(a=(0,n().HV)(i.steps))||void 0===a?void 0:a.id;const s=i.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?i.steps[s-1].id:void 0}(t,i)}function c(e,t){var i;if(!e)return;const n=((null===(i=e.getSettings())||void 0===i?void 0:i.tutorials)||{})[t];return void 0===n?o().c$[t].steps[0].id:n}},756114:(e,t,i)=>{i.d(t,{D:()=>o});function o(e,t){t.route.name;return!1}},756214:(e,t,i)=>{i.d(t,{R:()=>r});i(898992),i(354520),i(581454),i(737550);var o=()=>i(919709);function n(e){const{userId:t,isFollowingPage:i,discussions:n,discussionToComments:a,groupIdsUserIsIn:r,includeDiscussionsWhereUserOnlyAuthor:s}=e,l=i?n:n.filter((e=>function(e){const{userId:t,comments:i,groupIdsUserIsIn:n}=e;return Boolean(i.some((e=>e.getCreatedById()===t||function(e){const{userId:t,comment:i,groupIdsUserIsIn:n}=e,a=o().Fbh(i.getText());if(a.includes(t))return!0;const r=o().FAS(i.getText());if(r.some((e=>n.has(e.groupId))))return!0;return!1}({userId:t,comment:e,groupIdsUserIsIn:n}))))}({userId:t,comments:a(e),groupIdsUserIsIn:r})));return s?l:l.filter((e=>function(e){const{userId:t,comments:i}=e;return Boolean(i.some((e=>e.getCreatedById()&&e.getCreatedById()!==t)))}({userId:t,comments:a(e)})))}var a=()=>i(534177);function r(e){var t;const{userId:i,blockStore:o,discussionStores:r,groupIdsUserIsIn:s}=e;return n({userId:i,isFollowingPage:Boolean(null===(t=o.getFollowStore())||void 0===t||null===(t=t.getModel())||void 0===t?void 0:t.isFollowingAllComments()),discussions:r,discussionToComments:e=>e.getCommentStores().map((e=>e.getModel())).filter(a().O9),groupIdsUserIsIn:s,includeDiscussionsWhereUserOnlyAuthor:!0})}},765974:(e,t,i)=>{i.r(t),i.d(t,{exclamationMarkTriangleFillIcon:()=>n,iconDefinition:()=>o});i(296540);const o={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},n=(0,i(340498).wt)("exclamationMarkTriangleFill",o)},801678:(e,t,i)=>{i.d(t,{A:()=>h});var o=i(296540),n=()=>i(662303),a=()=>i(484714),r=()=>i(847249),s=()=>i(955825),l=()=>i(959013),d=()=>i(100622),c=()=>i(496603),u=()=>i(284371),p=()=>i(720665),m=()=>i(145214),f=i(474848);const g={isRepositioning:!1};const h=function(e){const t=(0,o.useRef)(null),n=(0,a().v3)(),{isMobile:l}=(0,a().Y0)(),[d,u]=(0,o.useState)(g),m=(0,o.useCallback)((()=>{u(g)}),[]),{renderControl:h,onFlushTemporaryPosition:v,style:y,source:S,store:x}=e,{isRepositioning:M,image:N,startDragRenderedPosition:k,startDragImageScreenHeight:w}=d,C=(0,r().K8)((()=>0===i(502438).default.state.stores.length),[]),[R,A]=(0,o.useState)(!1),I=(0,r().uB)(e.mouseStore,i(454305).A),j=(0,r().K8)((()=>I.state.mouseEntered),[I]),P=(0,i(401497).IS)((()=>({dragContainer:{width:"100%",cursor:M?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[M]),T=(0,r().K8)((()=>function(e,t,i){return(0,c().Et)(i)?i:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,c().Et)(e))return e}const i=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,p().pN)(t)?i:t}}const o=t.getFormat(),n=o.page_cover_position;if((0,c().Et)(n))return n;return i}(e,t)}(S,x,d.temporaryPosition)),[d.temporaryPosition,S,x]);(0,o.useEffect)((()=>{const e=e=>{const i=t.current;i&&!i.contains(e.target)&&M&&v({imagePosition:T,reset:()=>{I.reset(),m()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[T,M,I,v,m]),M&&!C&&m();const B=(0,o.useMemo)((()=>(0,c().nF)((e=>{I.setState({...I.state,mouseEntered:!0})}),100)),[I]),_=(0,o.useMemo)((()=>(0,c().sg)((e=>{I.setState({...I.state,mouseEntered:!1})}),100)),[I]),U=(0,o.useCallback)(((e,t)=>{i(778417).IU({environment:n});const o=new Image;o.onload=()=>{u((e=>({...e,isRepositioning:!0,image:o})))},t&&(o.src=t)}),[n]),E=(0,o.useCallback)((e=>{v({imagePosition:T,reset:()=>{m()}})}),[T,v,m]),L=(0,o.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,i(819121).p)(t)&&A(!0)}),[]),V=(0,o.useCallback)((()=>{A(!0)}),[]),D=(0,o.useCallback)((e=>{if(N&&M){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/N.width*N.height;u((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:T})))}}}),[N,T,M]),F=(0,o.useCallback)((e=>{if(M){const t=e.diffY/(w||0)+(k||0);u((e=>({...e,temporaryPosition:(0,c().LI)((0,i(40845).A)(t,0,1),4)})))}}),[M,w,k]),W=(0,o.useCallback)((()=>{u((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),K=(0,r().K8)((()=>h({handleRepositionClick:U,handleSavePositionClick:E,handleCancelClick:m,isVisible:l||j||R||M,isRepositioning:M})),[U,E,R,l,M,j,h,m]);return(0,f.jsxs)("div",{ref:t,onFocus:L,onBlur:V,onMouseEnter:B,onMouseMove:B,onMouseLeave:_,...(0,s().AH)(P.container,y),children:[(0,f.jsx)(i(603820).A,{onDraggableDragStart:D,onDraggableDragMove:F,onDraggableDragEnd:W,onDraggableDragCancel:W,disabled:!M,render:t=>(0,f.jsx)("div",{...(0,s().AH)(P.dragContainer),...t,children:e.render({imagePosition:T,isRepositioning:M})})}),(0,f.jsx)(b,{small:e.small,isRepositioning:M}),K]})};function b(e){let{small:t,isRepositioning:i}=e;if(t)return null;const o={background:d().Ay.blackWithAlpha(.4),borderRadius:4,color:d().Ay.white,fontSize:12,fontFamily:u().vc(n().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,f.jsx)(m().A,{visible:i,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:o,children:(0,f.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},814388:(e,t,i)=>{i.d(t,{$I:()=>ne,$L:()=>ie,$f:()=>W,Bu:()=>ee,GK:()=>O,IF:()=>se,Ln:()=>E,Nn:()=>K,OM:()=>H,OQ:()=>X,Ui:()=>U,Uo:()=>re,bD:()=>L,ds:()=>V,dy:()=>D,fk:()=>J,g8:()=>Q,kr:()=>ae,sL:()=>te,uj:()=>oe,xt:()=>Z});i(944114),i(898992),i(354520),i(803949),i(581454);var o=()=>i(496603),n=()=>i(534177),a=()=>i(720665),r=()=>i(764880),s=()=>i(278132),l=()=>i(700500),d=()=>i(799288),c=()=>i(787626),u=()=>i(970013),p=()=>i(713998),m=()=>i(597777),f=()=>i(869190),g=()=>i(651124),h=()=>i(80979),b=()=>i(236162),v=()=>i(945778),y=()=>i(792071),S=()=>i(433847),x=()=>i(450648),M=()=>i(296344),N=()=>i(912720),k=()=>i(179034),w=()=>i(824862),C=()=>i(519831),R=()=>i(96689),A=()=>i(437607),I=()=>i(854150),j=()=>i(798880),P=()=>i(919709),T=()=>i(695608),B=()=>i(53528),_=()=>i(931075);const U=(0,i(959013).YK)({defaultPluralizedUserNames:{defaultMessage:"Someone",id:"pushNotification.pluralizedUserNames.defaultLabel"},defaultPermissionGroupName:{defaultMessage:"Deleted group",id:"pushNotification.permissionGroupName.defaultLabel"},defaultPageName:{defaultMessage:"a Notion page",id:"pushNotification.pageName.defaultLabel"},untitledPermissionGroupName:{defaultMessage:"Untitled group",id:"pushNotification.permissionGroupName.untitledLabel"},userEditedPermissionGroup:{defaultMessage:"{userName} edited {permissionGroupName}",id:"pushNotification.userEditedTarget.label"},userDeletedPermissionGroup:{defaultMessage:"{userName} deleted {permissionGroupName}",id:"pushNotification.userDeletedTarget.label"},userCreatedPermissionGroup:{defaultMessage:"{userName} created {permissionGroupName}",id:"pushNotification.userCreatedTarget.label"},unknownAuthor:{defaultMessage:"Unknown author",id:"pushNotification.authorPhrase.unknown"},untitledSpaceName:{defaultMessage:"Untitled",id:"pushNotification.untitledSpaceName.label"},untitledTeamName:{defaultMessage:"Untitled",id:"pushNotification.untitledTeamName.label"},untitledCollectionName:{defaultMessage:"Untitled",id:"pushNotification.untitledCollectionName.placeholder"},untitledBlockTitle:{defaultMessage:"Untitled",id:"pushNotification.untitledBlockTitle.placeholder"},twoUserNames:{defaultMessage:"{firstAuthor} and {secondAuthor}",id:"pushNotification.twoUserNames.label"},threePlusUserNames:{defaultMessage:"{othersCount, plural, one {{firstAuthor} and {othersCount} other} other {{firstAuthor} and {othersCount} others}}",id:"pushNotification.threePlusUserNames.label"},editorPermissionLabel:{defaultMessage:"Full access",id:"pushNotifications.editorPermissionLevel.label"},readerPermissionLabel:{defaultMessage:"Read only",id:"pushNotifications.readerPermissionLevel.label"},editOnlyPermissionLabel:{defaultMessage:"Edit only",id:"pushNotifications.editOnlyPermissionLevel.label"},editPermissionLabel:{defaultMessage:"Edit",id:"pushNotifications.editPermissionLevel.label"},commentOnlyPermissionLabel:{defaultMessage:"Comment only",id:"pushNotifications.commentOnlyPermissionLevel.label"},noAccessPermissionLabel:{defaultMessage:"No access",id:"pushNotifications.noAccessPermissionLevel.label"},publicPermissionRoleLabel:{defaultMessage:"Public ({permissionLevel})",id:"pushNotifications.publicPermissions.label"},userNameWithRole:{defaultMessage:"{userName} ({permissionLevel})",id:"pushNotifications.userPermissionsWithRole.label"},botNameWithRole:{defaultMessage:"{botName} ({permissionLevel})",id:"pushNotifications.botPermissionsWithRole.label"},spaceNameWithRole:{defaultMessage:"{spaceName} ({permissionLevel})",id:"pushNotifications.spacePermissionsWithRole.label"},imageInPushNotification:{defaultMessage:"{imageEmoji} Image",id:"pushNotification.imageInPushNotification.placeholder"},topLevelBlockCreated:{defaultMessage:"{userName} created {targetName} in {spaceName}",id:"pushNotification.userCreatedBlockInSpace.message"},topLevelBlockDeleted:{defaultMessage:"{userName} deleted {targetName} in {spaceName}",id:"pushNotification.userDeletedBlockInSpace.message"},collectionRowCreated:{defaultMessage:"{userName} created {targetName} in {collectionName}",id:"pushNotification.userCreatedRowInCollection.message"},collectionRowDeleted:{defaultMessage:"{userName} deleted {targetName} in {collectionName}",id:"pushNotification.userDeletedRowInCollection.message"},emptyBlockEditedProperty:{defaultMessage:"Empty",id:"pushNotification.emptyBlockPropertyValueEdited.placeholderLabel"},propertyNameAndValueEdited:{defaultMessage:"{propertyName} ({propertyValue})",id:"pushNotification.propertyNameWithEditedValue.notificationSubject"},propertyNameAndValueNotificationBody:{defaultMessage:"{propertyName} ({propertyValue})",id:"pushNotification.propertyNameWithEditedValue.notificationBody"},blockDeletedEditBody:{defaultMessage:"[Deleted] {renderedBlock}",id:"pushNotification.deletedBlock.notificationContents"},blockEditedNotification:{defaultMessage:"{userName} edited {blockName}",id:"pushNotification.blockEdited.notificationSubject"},blockPropertyEditedNotification:{defaultMessage:"{userName} edited {blockName}",id:"pushNotification.blockPropertyEdited.notificationSubject"},mobileBlockPropertyEditedNotification:{defaultMessage:"{userName} edited",id:"pushNotification.mobileBlockPropertyEdited.notificationSubject"},userEditedPermissionsFor:{defaultMessage:"{userName} edited permissions for {targetName}",id:"pushNotifications.permissionsEditedForPageOrSpace.notificationSubject"},userMentionedIn:{defaultMessage:"{userName} mentioned you in {targetName}",id:"pushNotifications.userMentionedInPage.notificationSubject"},mobileUserMentionedIn:{defaultMessage:"{userName} mentioned you",id:"pushNotifications.mobileUserMentionedInPage.notificationSubject"},permissionGroupMentionedIn:{defaultMessage:"{userName} mentioned {groupName} in {targetName}",id:"pushNotifications.groupMentionedInPage.notificationSubject"},teamMentionedIn:{defaultMessage:"{userName} mentioned {teamName} in {targetName}",id:"pushNotifications.teamMentionedInPage.notificationSubject"},userDeletedComment:{defaultMessage:"[Deleted]💬 {commentText}",id:"pushNotifications.userDeletedCommentText.notificationContents"},userCommentedSubject:{defaultMessage:"{userName} commented in {targetName}",id:"pushNotifications.userCommentedSubject.notificationSubject"},userSuggestedSubject:{defaultMessage:"{userName} suggested in {targetName}",id:"pushNotifications.userSuggestedSubject.notificationSubject"},mobileUserCommentedSubject:{defaultMessage:"{userName} commented",id:"pushNotifications.mobileUserCommentedSubject.notificationSubject"},mobileUserSuggestedSubject:{defaultMessage:"{userName} commented",id:"pushNotifications.mobileUserSuggestedSubject.notificationSubject"},userAddedToSpace:{defaultMessage:"{userName} added you to {workspaceName}",id:"pushNotifications.userAddedToSpace.notificationSubject"},mobileUserInvited:{defaultMessage:"{userName} invited you",id:"pushNotifications.mobileUserInvited.notificationSubject"},mobileUserInvitedByBot:{defaultMessage:"You have been invited",id:"pushNotifications.mobileUserInvitedByBot.notificationSubject"},userInvitedToSpace:{defaultMessage:"{userName} invited you to {workspaceName}",id:"pushNotifications.userInvitedToSpace.notificationSubject"},userInvitedToSpaceByBot:{defaultMessage:"You have been invited to {workspaceName}",id:"pushNotifications.userInvitedToSpaceByBot.notificationSubject"},userEditedCollectionSubject:{defaultMessage:"{userName} edited {collectionName}",id:"pushNotifications.collectionEdited.notificationSubject"},userEditedCollectionPageLayoutSubject:{defaultMessage:"{userName} edited the layout of {collectionName}",id:"pushNotifications.collectionPageLayoutEdited.notificationSubject"},userCreatedCollectionSubject:{defaultMessage:"{userName} created {collectionName}",id:"pushNotifications.collectionCreated.notificationSubject"},collectionDescriptionDeleted:{defaultMessage:"{userName} deleted the description for {collectionName}",id:"pushNotifications.collectionDescriptionDeleted.notificationSubject"},collectionDescriptionCreated:{defaultMessage:"{userName} added a description for {collectionName}",id:"pushNotifications.collectionDescriptionAdded.notificationSubject"},untitledCollectionView:{defaultMessage:"Untitled",id:"pushNotifications.untitledCollection.label"},collectionViewEditedSubject:{defaultMessage:"{userName} edited view {collectionViewName} in {collectionName}",id:"pushNotifications.collectionViewEdited.notificationSubject"},collectionPropertyEditedUnknown:{defaultMessage:"Unknown",id:"pushNotifications.unknownCollectionPropertyName.label"},collectionPropertyEditedSubject:{defaultMessage:"{userName} edited property {propertyType} in {collectionName}",id:"pushNotifications.collectionPropertyEdited.subject"},reminderSubject:{defaultMessage:"Reminder in {pageName}",id:"pushNotifications.reminderChanged.subject"},pageLockedActivity:{defaultMessage:"{userName} locked {pageName}",id:"pushNotifications.pageLocked.subject"},pageUnlockedActivity:{defaultMessage:"{userName} unlocked {pageName}",id:"pushNotifications.pageUnlocked.subject"},emailEditedActivity:{defaultMessage:"{userName} edited their account settings",id:"pushNotifications.emailAccountSettingsEdited.subject"},emptyPropertyBody:{defaultMessage:"Empty",id:"pushNotifications.emptyPropertyValueInCollection.label"},unknownRelationValueChange:{defaultMessage:"Unknown",id:"pushNotifications.unknownRelationPropertyChanged.label"},unknownAuthorInPropertySchemaChange:{defaultMessage:"Unknown author",id:"pushNotifications.unknownAuthorUpdatedProperty.label"},accessRequestedSubject:{defaultMessage:"{userName} requested access to {pageName}",id:"pushNotifications.accessRequested.subject"},editAccessRequestedSubject:{defaultMessage:"{userName} requested edit access to {pageName}",id:"pushNotifications.editAccessRequested.subject"},accessRequestResolvedApprovedSubject:{defaultMessage:"Your request to invite {guestEmail} to {pageName} has been approved",id:"pushNotifications.accessRequestResolved.approved.subject"},accessRequestResolvedRejectedSubject:{defaultMessage:"Your request to invite {guestEmail} to {pageName} has been rejected",id:"pushNotifications.accessRequestResolved.subject"},membershipRequestedSubject:{defaultMessage:"{userName} requested to add a new member to {workspaceName}",id:"pushNotifications.membershipRequested.subject"},guestInviteRequestedSubject:{defaultMessage:"{userName} requested to invite a guest to {workspaceName}",id:"pushNotifications.guestInviteRequested.subject"},blockFormatEditPageIconName:{defaultMessage:"Page Icon",id:"pushNotifications.formatChange.pageIcon.label"},pageIconImagePlaceholder:{defaultMessage:"Image",id:"pushNotifications.formatChange.pageIcon.imagePlaceholder"},pageDeletedActivity:{defaultMessage:"{userName} deleted {pageName}",id:"pushNotifications.pageDeleted.subject"},pageRestoredActivity:{defaultMessage:"{userName} restored {pageName}",id:"pushNotifications.pageRestored.subject"},pagePermanentlyDeletedActivity:{defaultMessage:"{userName} permanently deleted {pageName}",id:"pushNotifications.pagePermanentlyDeleted.subject"},userInvitedToTeam:{defaultMessage:"{userName} invited you to {teamName}",id:"pushNotifications.userInvitedToTeam.notificationSubject"},privateContentTransferred:{defaultMessage:"{author} transferred private content from {fromUserName} to you: {pageName}",id:"pushNotifications.privateContentTransferred.notificationSubject"},verificationExpired:{defaultMessage:"Verification expired for {pageName}",id:"pushNotifications.verificationExpired.notificationSubject"},importSuccessful:{defaultMessage:"Your {importSource} import was successful",id:"pushNotifications.importCompleted.notificationSubject"},importFailed:{defaultMessage:"Your {importSource} import has failed",id:"pushNotifications.importFailed.notificationSubject"},exportCompleted:{defaultMessage:"Your workspace export is ready",id:"pushNotifications.exportCompleted.notificationSubject"},inAppNotificationAutomationActionTriggered:{defaultMessage:"{automationName} sent you a message",id:"pushNotifications.inAppNotificationAutomationActionTriggered.notificationSubject"},noConflictsFound:{defaultMessage:"No conflicts found",id:"pushNotifications.noConflictsFound.notificationSubject"},automationTypecheckErrorRaisedSubject:{defaultMessage:"{automationName} is invalid",id:"pushNotifications.automationTypecheckErrorRaised.notificationSubject"},automationTypecheckErrorRaisedBody:{defaultMessage:"Resolve any errors or remove failing steps to enable this automation",id:"pushNotifications.automationTypecheckErrorRaised.notificationBody"},reactionCreated:{defaultMessage:"{userName} reacted to {targetName}",id:"pushNotifications.reactionCreated.notificationSubject"},upgradeRequestCreated:{defaultMessage:"{userName} requested an upgrade",id:"pushNotifications.upgradeRequestCreated.notificationSubject"},appBuilderWorkflowError:{defaultMessage:"A workflow run has failed",id:"pushNotifications.appBuilderWorkflowError.notificationSubject"},appBuilderWorkflowAction:{defaultMessage:"{workflowName} has sent you a message",id:"pushNotifications.appBuilderWorkflowAction.notificationSubject"},customAppBuilderWorkflowActionTitle:{defaultMessage:"From {workflowName}: {customTitle}",id:"pushNotifications.appBuilderWorkflowAction.customNotificationSubject"},externalIntegrationNotificationDefault:{defaultMessage:"An external integration has sent you a message",id:"pushNotifications.externalIntegrationNotificationDefault.notificationSubject"},externalIntegrationNotificationJiraSyncTokenExpiryError:{defaultMessage:"Your Jira sync stopped for {site} due to expired Jira token. Please re-authenticate to continue.",id:"pushNotifications.externalIntegrationNotificationJiraSyncTokenExpiryError.notificationSubject"},trialCreated:{defaultMessage:"{userName} started a {days} day trial of Notion {product}",id:"pushNotifications.trialCreated.notificationSubject"},trialCreatedBody:{defaultMessage:"You now have access to all {product} plan features until {endDate}",id:"pushNotifications.trialCreatedBody.notificationBody"}});function E(e){const{activity:t,getRecordValue:i}=e,n=t.getEdits();return o().oE((0,a().qt)(o().Bq(n.map((e=>e.authors||[])))).map((e=>{const t=i(e);if(t)return(0,r().D3)({table:e.table,value:t})})))}function L(e,t){const i=e.map((e=>e?(0,r().lR)(t,e):t.formatMessage(U.unknownAuthor)));return function(e,t){if(1===t.length)return t[0];if(2===t.length)return e.formatMessage(U.twoUserNames,{firstAuthor:t[0],secondAuthor:t[1]});if(t.length>2){const i=t.length-1;return e.formatMessage(U.threePlusUserNames,{othersCount:i,firstAuthor:t[0]})}return e.formatMessage(U.defaultPluralizedUserNames)}(t,i)}function V(e){var t;const{recipientUser:i,authors:o}=e,n=o.filter((e=>e.id!==(null==i?void 0:i.id)));if(0===n.length)return;const a=n[0];var r;return a.table===j().oo&&null!==(t=a.asActor)&&void 0!==t&&t.profile_photo?null===(r=a.asActor)||void 0===r?void 0:r.profile_photo:void 0}function D(e){if(!o().Im(e))return e[0].id}function F(e){const{blockValue:t,getRecordValue:i,userTimeZone:o,intl:n}=e,a=y().Bj6.fromBlock(t),r=y().b4_.fromGetRecordValueFn(i);return a.getRenderTitleWithEmojiOrPlaceholder({getRecordModel:r,userTimeZone:o,intl:n})}function W(e){return function(e){const{activity:t,getRecordValue:i,pageVisitSource:o,userTimeZone:n,intl:a}=e,r=y().b4_.fromGetRecordValueFn(i),s=t.navigable_block_id||t.top_level_block_id||t.collection_row_id;if(s){const l=i({table:k().ev,id:s,spaceId:t.space_id});if(l){return{url:y().Bj6.fromBlock(l).getRenderUrl({getRecordModel:r,baseUrl:e.baseURL,pageVisitSource:o}),title:F({intl:a,blockValue:l,getRecordValue:i,userTimeZone:n})}}return{url:e.baseURL||"/",title:a.formatMessage(U.untitledBlockTitle)}}if(t.collection_id)return $(e);if("user-invited"===t.type){const o=function(e){const{activity:t}=e,i=y().b4_.fromGetRecordValueFn(e.getRecordValue||e.getRecordModel);if(!t.permission_group_id)return;const o=ne({spaceId:t.space_id,permissionGroupId:t.permission_group_id,getRecordModel:i});if(o)return{icon:o.getIcon(),name:o.getName()};return}({activity:t,getRecordValue:i}),n=r({table:R().NX,id:t.space_id});if(n&&o)return{title:ae(a,o),url:n.getRenderUrl({baseUrl:e.baseURL})}}else{if("team-membership-edited"===t.type)return z(e);if("access-requested"===t.type){const i=r({id:t.getAccessRequestId(),table:M().O,spaceId:t.space_id});if(i&&i.isTeamMembershipRequest())return z(e)}}return G(e)}(e).title.replaceAll(/[\r\n]+/g," ")}function K(e){const{activity:t}=e,i=t.navigable_block_id||t.top_level_block_id||t.collection_row_id;return i||(t.collection_id?t.collection_id:void 0)}function z(e){const{activity:t,getRecordValue:i,intl:o}=e,n=y().b4_.fromGetRecordValueFn(i),a=e.baseURL||"/",r=o.formatMessage(U.untitledTeamName);if(!t.team_id)return{url:a,title:r};const s=n({table:I().yK,id:t.team_id}),l=n({table:R().NX,id:t.space_id});return{url:(null==l?void 0:l.getRenderUrl({baseUrl:e.baseURL}))??a,title:(null==s?void 0:s.getRenderTitleWithEmojiOrPlaceholder({intl:o}))??r}}function O(e){return G(e).title}function G(e){const{activity:t,getRecordValue:i,intl:o}=e,n=i({table:R().NX,id:t.space_id});if(n){const t=y().Bj6.fromSpace(n);return{title:t.getRenderTitleWithEmojiOrPlaceholder({intl:o}),url:t.getRenderUrl({baseUrl:e.baseURL})}}return{url:e.baseURL||"/",title:o.formatMessage(U.untitledSpaceName)}}function H(e){return $(e).title}function $(e){const{activity:t,getRecordValue:i,pageVisitSource:o,userTimeZone:n,intl:a}=e;if(t.collection_id){const r=i({table:C().Vl,id:t.collection_id,spaceId:t.space_id});if(r){const t=y().Bj6.fromCollection(r),i=y().b4_.fromGetRecordValueFn(e.getRecordValue),s=t.getRenderTitleWithEmojiOrPlaceholder({getRecordModel:i,userTimeZone:n,intl:a});return{url:t.getRenderUrl({getRecordModel:i,baseUrl:e.baseURL,pageVisitSource:o}),title:s}}return{url:e.baseURL||"/",title:a.formatMessage(U.untitledCollectionName)}}return{url:e.baseURL||"/",title:a.formatMessage(U.untitledCollectionName)}}function Z(e){const{activity:t,getRecordValue:i,intl:o}=e;if("in-app-notification-automation-action-triggered"===t.type||"automation-typecheck-error-raised"===t.type){const e=y().b4_.fromGetRecordValueFn(i),n=e({table:N().yB,id:t.getEdits()[0].automation_id,spaceId:t.space_id});return(null==n?void 0:n.getNameWithDefault(e,o))??(0,s().PK)(o)}}function q(e){if(e.blockValue.properties)return(0,x().r4)({intl:e.intl,textValue:e.blockValue.properties.title,getRecordModel:y().b4_.fromGetRecordValueFn(e.getRecordValue),userTimeZone:e.userTimeZone})}function Y(e,t){const i=(0,S().an)(t,void 0);return e.formatMessage(i)}function J(e){let{userTimeZone:t,activity:i,getRecordValue:n,pageVisitSource:a,intl:r,experimentService:s,collectionFeatureGates:l}=e;const c=i.getEdits();if(c.length){const e=[];c.forEach((t=>{"permission-created"===t.type?e.push(t.permission_data):"permission-deleted"===t.type?e.push({...t.permission_data,role:"none"}):"permission-restriction-created"===t.type||"permission-restriction-deleted"===t.type?(t.permission_data.calculated_changes||[]).forEach((t=>{let[i,o]=t;e.push(o)})):e.push(t.permission_data.after)}));const u=o().oE(e.sort(S().zK).map((e=>{if("user_permission"===e.type){const t=n({table:j().oo,id:e.user_id}),i=(0,T().c6)(r,t),o=Y(r,e.role);return r.formatMessage(U.userNameWithRole,{userName:i,permissionLevel:o})}if("space_permission"===e.type){const o=O({intl:r,activity:i,getRecordValue:n,userTimeZone:t,pageVisitSource:a,experimentService:s,collectionFeatureGates:l}),d=Y(r,e.role);return r.formatMessage(U.spaceNameWithRole,{spaceName:o,permissionLevel:d})}if("public_permission"===e.type){const t=Y(r,e.role);return r.formatMessage(U.publicPermissionRoleLabel,{permissionLevel:t})}if("bot_permission"===e.type){const t=n({table:w().GP,id:e.bot_id}),i=(0,d().Hg)(t),o=Y(r,e.role);return r.formatMessage(U.botNameWithRole,{botName:i,permissionLevel:o})}})));return r.formatList(u,{type:"conjunction",style:"narrow"})}}function Q(e){const{intl:t}=e;switch(e.blockValue.type){case l().xd.text:case l().xd.encryptedText:case l().xd.header:case l().xd.subHeader:case l().xd.subSubHeader:case l().xd.factory:case l().xd.equation:case l().xd.code:return q(e);case l().xd.toggle:return`▸ ${q(e)}`;case l().xd.bulletedList:return`• ${q(e)}`;case l().xd.numberedList:return`1. ${q(e)}`;case l().xd.quote:return`“${q(e)}”`;case l().xd.toDo:return(function(e){let{blockValue:t}=e;return p().wu(t.properties&&t.properties.checked)}(e)?"✓ ":"▢ ")+q(e);case l().xd.file:case l().xd.bookmark:return`🔗 ${q(e)}`;case l().xd.embed:case l().xd.framer:case l().xd.whimsical:case l().xd.mixpanel:case l().xd.miro:case l().xd.abstract:case l().xd.sketch:case l().xd.excalidraw:case l().xd.replit:case l().xd.hex:case l().xd.deepnote:case l().xd.tweet:case l().xd.gist:case l().xd.maps:case l().xd.invision:case l().xd.video:case l().xd.audio:case l().xd.image:return t.formatMessage(U.imageInPushNotification,{imageEmoji:"🖼"});case l().xd.drive:return function(e){const{blockValue:t}=e,i=(0,g().v)(y().Bj6.fromBlock(t));return i&&i.title?i.title:F(e)}(e);case l().xd.page:case l().xd.collectionView:case l().xd.collectionViewPage:return F(e);case l().xd.tableRow:return function(e){var t;const{blockValue:i,getRecordValue:o,userTimeZone:n,intl:a}=e,r=o({table:i.parent_table,id:i.parent_id,spaceId:i.space_id});if(!r||!i)return;const s=i.properties,l=(null===(t=r.format)||void 0===t?void 0:t.table_block_column_order)||[];return l&&s?l.map((e=>(0,x().r4)({textValue:s[e],getRecordModel:y().b4_.fromGetRecordValueFn(o),userTimeZone:n,intl:a}))).join(", "):void 0}(e)}}function X(e){const{getRecordValue:t,baseURL:i,userTimeZone:o,intl:n,collectionFeatureGates:a}=e,r=t({table:k().ev,id:e.blockId});if(r){if("page"===r.type){const s=(0,b().zN)({block:r,getRecordValue:t});if(s){const i=u().Dp(s),o=i[e.property],l=o?o.name:void 0,d=ee({property:e.property,schema:i,block:r,getRecordValue:t,userTimeZone:e.userTimeZone,baseURL:e.baseURL,intl:n,experimentService:e.experimentService,collectionFeatureGates:a})||n.formatMessage(U.emptyPropertyBody);return n.formatMessage(U.propertyNameAndValueNotificationBody,{propertyName:l,propertyValue:d})}return Q({intl:n,blockValue:r,getRecordValue:t,baseURL:i,userTimeZone:o})}return Q({intl:n,blockValue:r,getRecordValue:t,baseURL:i,userTimeZone:o})}}function ee(e){const{property:t,schema:i,getRecordValue:o,userTimeZone:n,baseURL:s,intl:l,experimentService:d,collectionFeatureGates:c}=e,g=i[t],b=y().Bj6.fromBlock(e.block);if(!b.getProperties()||!g)return;const v=b.getProperties()[t];if("formula"===g.type){const e=y().b4_.fromGetRecordValueFn(o),r=(0,h().primitiveFormulaValueFromPropertySchema)({schema:i,property:t,blockModel:b,getRecordModel:e,intl:l,userTimeZone:n,depth:0,resultCache:new Map,regExpCache:new Map,experimentService:d,collectionFeatureGates:c});return m().kC(r)?(0,f().ZF)({allowRelativeDates:!0,intl:l,value:r,userTimeZone:n}):"boolean"==typeof r?r?u().I1:u().oP:(0,a().Et)(r)?r.toString():r}if("person"===g.type)return l.formatList(p().e5({textValue:v,propertySchema:g,blockCreatorPointer:b.getCreatedByPointer()}).map((e=>{const t=o(e),i=(0,r().D3)({table:e.table,value:t});return(0,r().lR)(l,i)})),{type:"conjunction",style:"narrow"});if("created_by"===g.type){const e=b.getCreatedByPointer();if(!e)return l.formatMessage(U.unknownAuthorInPropertySchemaChange);const t=o(e),i=t&&(0,r().D3)({table:e.table,value:t});return i?(0,r().lR)(l,i):l.formatMessage(U.unknownAuthorInPropertySchemaChange)}return"created_time"===g.type?(0,f().W_)(b.getCreatedTime(),"short",l.locale,n):v?te({propertySchema:g,textValue:v,getRecordValue:o,userTimeZone:n,baseURL:s,intl:l,experimentService:d}):void 0}function te(e){const{propertySchema:t,textValue:i,getRecordValue:o,userTimeZone:a,baseURL:s,intl:l}=e;if("title"===t.type||"text"===t.type||"geo_point"===t.type)return(0,x().r4)({intl:l,textValue:i,getRecordModel:y().b4_.fromGetRecordValueFn(o),userTimeZone:a});if("select"===t.type){const e=t.options||[];return p().L3(i,e)}if("multi_select"===t.type){const e=t.options||[];return l.formatList(p().o2(i,e),{type:"conjunction",style:"narrow"})}if("checkbox"===t.type)return p().wu(i)?u().I1:u().oP;if("date"===t.type){const e=(0,c().b)(i);if(e)return(0,f().ZF)({allowRelativeDates:!0,intl:l,value:e,date_format:t.date_format,time_format:t.time_format,userTimeZone:a})}else{if("person"===t.type)return l.formatList(p().e5({textValue:i,propertySchema:t,blockCreatorPointer:void 0}).map((e=>{const t=o(e),i=(0,r().D3)({table:e.table,value:t});return(0,r().lR)(l,i)})),{type:"conjunction",style:"narrow"});if("relation"===t.type){const e=p().bG({relationValue:p().n(i),getRecordModel:y().b4_.fromGetRecordValueFn(o),propertySchema:t,includeNoAccess:!0});return l.formatList(e.map(o).map((e=>e?F({intl:l,blockValue:e,getRecordValue:o,baseURL:s,userTimeZone:a}):l.formatMessage(U.unknownRelationValueChange))),{type:"conjunction",style:"narrow"})}if("number"===t.type){const e=p().Me(i);if(void 0!==e)return e.toString()}else if("auto_increment_id"===t.type){const e=p().On(i);if(void 0!==e)return e.toString()}else{if("file"===t.type)return l.formatList(p().pJ(i).map((e=>e.name||e.url)),{type:"conjunction",style:"narrow"});if("url"===t.type||"phone_number"===t.type||"email"===t.type)return(0,P().k4p)(i);if("created_by"===t.type)return;if("created_time"===t.type)return;if("formula"===t.type)return;if("rollup"===t.type)return;if("last_edited_by"===t.type)return;if("last_edited_time"===t.type)return;if("last_visited_time"===t.type)return;if("button"===t.type)return;if("status"===t.type)return p().RZ(i,t);if("location"===t.type)return;if("verification"===t.type){const e=_().U1(i),t=e?_().B2(e):{type:"none"};if("none"===t.type)return l.formatMessage(_().nl.none);const n=o(t.actorPointer),s=(0,r().D3)({table:t.actorPointer.table,value:n}),d=(0,r().lR)(l,s);return"verified"===t.type&&t.isIndefinite?l.formatMessage(_().nl.verifiedIndefinitely,{actor:d}):l.formatMessage(_().nl.verifiedUntil,{actor:d,datetime:B().T2({dateTime:t.dateTimeRange.end,intl:l,userTimeZone:a,displayInUserTimezone:!1,alwaysIncludeTimezone:!0})})}(0,n().HB)(t)}}}function ie(e){if("page_icon"===e.formatProperty)return e.intl.formatMessage(U.blockFormatEditPageIconName)}function oe(e){const{formatProperty:t,block:i,getRecordValue:o,intl:n}=e;if("page_icon"===t){const e=y().Bj6.fromBlock(i).getRenderIcon({getRecordModel:y().b4_.fromGetRecordValueFn(o)});return e?(0,v().A)(e.icon)?e.icon:n.formatMessage(U.pageIconImagePlaceholder):n.formatMessage(U.emptyBlockEditedProperty)}}function ne(e){const t=y().b4_.fromGetRecordValueFn(e.getRecordValue||e.getRecordModel),{spaceId:i,permissionGroupId:o}=e;return t({table:A().n,id:(0,A().T1)({spaceId:i,spacePermissionGroupId:o}),spaceId:i})}function ae(e,t){if(t){return[(0,v().A)(t.icon)?t.icon:void 0,t.name.length>0?t.name:e.formatMessage(U.untitledPermissionGroupName)].filter(Boolean).join(" ")}return e.formatMessage(U.defaultPermissionGroupName)}function re(e){const t=y().b4_.fromGetRecordValueFn(e.getRecordValue||e.getRecordModel),{spaceId:i,teamId:o}=e;return t({table:I().yK,id:o,spaceId:i})}function se(e){switch(e){case"block-property-edited":case"reacted":case"commented":case"permission-group-mentioned":case"team-mentioned":case"reminder":case"user-invited":case"in-app-notification-automation-action-triggered":case"user-mentioned":case"app-builder-notification":return!0;case"access-requested":case"access-request-resolved":case"email-edited":case"private-content-transferred":case"team-membership-edited":case"verification-expired":case"export-completed":case"import-completed":case"no-conflicts-found":case"automation-typecheck-error-raised":case"external-integration-notification":case"block-edited":case"collection-edited":case"collection-page-layout-edited":case"collection-property-edited":case"collection-row-created":case"collection-row-deleted":case"collection-view-edited":case"page-deleted":case"page-locked":case"page-permanently-deleted":case"page-restored":case"page-unlocked":case"permissions-edited":case"trial-created":case"top-level-block-created":case"upgrade-request-created":case"top-level-block-deleted":return!1;default:return(0,n().ub)(e),!1}}},843189:(e,t,i)=>{i.d(t,{E:()=>r});var o=i(296540),n=()=>i(960715),a=i(474848);const r=o.forwardRef(((e,t)=>{let{children:o,color:r,disabled:s,icon:l,iconStyle:d,isLoading:c,shape:u="default",size:p="md",style:m,...f}=e;const g=(0,i(401497).IS)((e=>{const t=r?`${r}Primary`:"primary",a=r||"regular",f=r?`${r}Hover`:"primaryHover",g=r?`${r}Pressed`:"primaryPressed";return{button:{...(0,n().qq)({shape:u,size:p,hasIconOnly:Boolean(l)&&!o}),justifyContent:"center",color:e.text[t],background:e.tint[a],opacity:s||c?.3:1,fontWeight:i(284371).Wy.medium,...m},hovered:{background:s?e.tint[a]:e.tint[f]},pressed:{background:s?e.tint[a]:e.tint[g]},icon:{...(0,n().D3)({size:p,hasIconOnly:!o}),...d}}}),[o,r,s,l,d,c,u,p,m]);return(0,a.jsxs)(i(197190).A,{ref:t,style:g.button,hoveredStyle:g.hovered,pressedStyle:g.pressed,disabled:s,isLoading:c,...f,children:[l?l(g.icon):null,o]})}));r.displayName="TintButton"},848565:(e,t,i)=>{i.d(t,{FB:()=>p,Ql:()=>m,SM:()=>f,Wv:()=>a,Yz:()=>s,ds:()=>n,e4:()=>o,eQ:()=>r,im:()=>d,jw:()=>l,k2:()=>u,uG:()=>c});const o=8,n=10,a=8,r=24,s=6,l=1.5,d=(r-l)/2,c=r+s,u=`calc(100% + ${a+(o-s)-c}px)`,p=r+8,m=-16;function f(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},863330:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>o,plusSmallIcon:()=>n});i(296540);const o={viewBox:"0 0 16 16",svg:(0,i(474848).jsx)("path",{d:"M8 2.3a.7.7 0 0 0-.7.7v4.3H3a.7.7 0 1 0 0 1.4h4.3V13a.7.7 0 1 0 1.4 0V8.7H13a.7.7 0 1 0 0-1.4H8.7V3a.7.7 0 0 0-.7-.7"})},n=(0,i(340498).wt)("plusSmall",o)},867772:(e,t,i)=>{i.d(t,{Ay:()=>l,Gi:()=>a,Wc:()=>o,pF:()=>r,vS:()=>n});const o="loadingLocalImage",n="uploading",a="downloading",r="loaded";class s extends(()=>i(757695))().default{getInitialState(){return{loadingMode:r}}}const l=s},965351:(e,t,i)=>{i.d(t,{Ay:()=>_,Lk:()=>B,UM:()=>P});i(581454);var o=i(296540),n=()=>i(484714),a=()=>i(847249),r=()=>i(401497),s=()=>i(934999),l=()=>i(454503),d=()=>i(396350),c=()=>i(863522),u=()=>i(340498),p=()=>i(959013),m=()=>i(534177),f=()=>i(953448),g=()=>i(572080),h=()=>i(751156),b=()=>i(760217),v=()=>i(406699),y=()=>i(285790),S=()=>i(928600),x=()=>i(939740),M=()=>i(89924),N=()=>i(859428),k=()=>i(125565),w=()=>i(753199),C=()=>i(722872),R=()=>i(575301),A=()=>i(538075),I=i(474848);const j=(0,p().YK)({changePageNotificationSettings:{defaultMessage:"Change page notification settings",id:"inboxActionsMenu.notificationSettings.tooltipMessage"},markUnread:{defaultMessage:"Mark this notification as unread",id:"inboxActionsMenu.markNotificationAsUnread.tooltipMessage"},markRead:{defaultMessage:"Mark this notification as read",id:"inboxActionsMenu.markNotificationAsRead.tooltipMessage"},archive:{defaultMessage:"Archive this notification",id:"inboxActionsMenu.handleArchive.tooltipMessage"},unarchive:{defaultMessage:"Unarchive",id:"inboxActionsMenu.handleUnarchive.tooltipMessage"}}),P=96;function T(e){const{notification:t,rootStore:m,onArchiveClicked:f,onUnarchiveClicked:b,onMarkAsReadClicked:S,onMarkAsUnreadClicked:x}=e,M=(0,n().v3)(),k=(0,n().Y0)(),C=(0,p().tz)(),P=(0,o.useContext)(i(929469).B),T=(0,a().K8)((()=>!!t&&(0,i(814388).IF)(t.type)),[t]),_=(0,a().K8)((()=>{const e=null==t?void 0:t.navigable_block_id;if(e)return i(630116).Bv.createChildStore(m,{table:i(179034).ev,id:e})}),[m,t]),U=(0,a().K8)((()=>null==_?void 0:_.getFollowSettingsKey()),[_]),E=(0,a().K8)((()=>{if(!U)return[];if(!_)return[];return A().H8({followSettingsKey:U,environment:M,blockStore:_,from:"inbox"})}),[U,M,_]),L=(0,a().K8)((()=>T&&E.length>0),[T,E]),V=(0,o.useCallback)((e=>{t&&(0,w().SQ)({event:e,context:w().y$.NotificationClick,callback:()=>{f(),h().createAndCommit({userAction:"InboxActionsMenu.handleArchive",environment:M,canUndo:!0,perform:e=>{g().s4({notification:t,rootStore:m,transaction:e})}})}})}),[M,t,f,m]),D=(0,o.useCallback)((e=>{t&&(0,w().SQ)({event:e,context:w().y$.NotificationClick,callback:()=>{b(),h().createAndCommit({userAction:"Activity.handleUnarchive",environment:M,canUndo:!0,perform:e=>{g().JV({notificationId:t.id,visited:!1,rootStore:m,transaction:e})}})}})}),[M,t,b,m]),F=(0,o.useCallback)((e=>{t&&(0,w().SQ)({event:e,context:w().y$.NotificationClick,callback:()=>{t.read?x():S(),h().createAndCommit({userAction:"InboxActionsMenu.toggleNotificationReadStatus",environment:M,canUndo:!0,perform:e=>{g().ZB({notification:t,rootStore:m,transaction:e,read:!t.read})}})}})}),[M,t,S,x,m]),W=(0,o.useCallback)((()=>{U&&_&&t&&i(848259).zP({environment:M,notificationId:t.id,pageId:_.pointer.id,isCurrentlyFollowing:(0,i(518773).A)(U).following,from:"inbox"})}),[M,_,U,t]),K=(0,r().IS)((e=>({container:{display:"flex",gap:1,height:"min-content",padding:2,borderWidth:k.isMobile?0:1,borderStyle:"solid",borderColor:e.stroke.primary,background:e.buttonGroupBackground,borderRadius:6,boxShadow:k.isMobile?void 0:"0px 2px 4px 0px rgba(22, 29, 27, 0.02)"},button:{height:k.isMobile?30:24,width:k.isMobile?30:24},icon:{fill:e.icon.secondary,padding:0,width:k.isMobile?u().lD.default:u().Ev.default,height:k.isMobile?u().lD.default:u().Ev.default}})),[k.isMobile]),z=(0,R().T4)();return t.visited?(0,I.jsx)("div",{style:K.container,children:(0,I.jsx)(N().A,{renderTooltip:()=>C.formatMessage(j.unarchive),render:e=>(0,I.jsx)(y().A,{ariaLabel:C.formatMessage(j.unarchive),style:K.button,icon:l().arrowUTurnUpLeftIcon,iconStyle:K.icon,onClick:D,...e})})}):(0,I.jsxs)("div",{style:K.container,children:[L&&(0,I.jsx)(N().A,{renderTooltip:()=>(0,I.jsx)(p().sA,{...j.changePageNotificationSettings}),render:e=>(0,I.jsx)(v().Ay,{style:z.popup,popupType:k.isMobile?v().z7.SlideUp:v().z7.Popup,alignmentToOrigin:v().yP.Start,placementToOrigin:v().sx.Bottom,render:e=>(0,I.jsx)(B,{blockStore:_,notification:t,handlers:{handleUnarchive:D,handleArchive:V,toggleNotificationReadStatus:F},closePopup:()=>e.close()}),renderOrigin:t=>(0,I.jsx)(y().A,{ariaLabel:C.formatMessage(j.changePageNotificationSettings),style:K.button,icon:i(104077).r,iconStyle:K.icon,...e,...(0,i(553965).A)(t,{onClick:()=>W()})})})},"pageNotificationSettings"),(0,I.jsx)(N().A,{renderTooltip:()=>C.formatMessage(t.read?j.markUnread:j.markRead),render:e=>(0,I.jsx)(y().A,{ariaLabel:C.formatMessage(t.read?j.markUnread:j.markRead),style:K.button,icon:t.read?c().C:d().i,iconStyle:K.icon,onClick:F,...e})},"markUnread"),"activity"!==P&&(0,I.jsx)(N().A,{renderTooltip:()=>C.formatMessage(j.archive),render:e=>(0,I.jsx)(y().A,{ariaLabel:C.formatMessage(j.archive),style:K.button,icon:s().B,iconStyle:K.icon,onClick:V,...e})},"archive")]})}function B(e){const{blockStore:t,notification:i,handlers:o,closePopup:u}=e,{handleArchive:g,handleUnarchive:h,toggleNotificationReadStatus:v}=o,y=(0,n().v3)(),N=(0,n().Y0)(),w=(0,p().tz)(),P=(0,a().K8)((()=>null==t?void 0:t.getFollowSettingsKey()),[t]),T=(0,a().K8)((()=>{if(!P)return[];if(!t)return[];return A().H8({followSettingsKey:P,environment:y,blockStore:t,from:"inbox"})}),[P,y,t]),B=(0,R().T4)(),_=(0,r().IS)((()=>({iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",...B.icon},icon:{height:24,width:24}})),[B.icon]),U=(0,f().J)();return(0,I.jsx)(S().A,{menuType:C().gu.Popup,height:N.isMobile?"50vh":void 0,minWidth:250,maxWidth:N.isMobile?"100vw":void 0,scrollerStyle:B.menuScroller,header:!N.isMobile&&(0,I.jsx)(k().A,{style:B.header,isSmall:!N.isMobile,isSecondaryColor:!N.isMobile,children:(0,I.jsx)(p().sA,{id:"UpdateSidebarTabUpdatesHeader.pageNotificationSettings.label",defaultMessage:"Page notification settings"})}),children:(0,I.jsx)(x().Ay,{type:x().Oh.Vertical,sections:[...N.isMobile?[{key:"Actions title",render:()=>(0,I.jsx)(k().A,{style:B.header,isSmall:!N.isMobile,isSecondaryColor:!N.isMobile,children:(0,I.jsx)(p().sA,{id:"inbox.actionsSectionTitle.label",defaultMessage:"Actions"})}),items:[]},{key:"Actions",render:e=>(0,I.jsx)(M().A,{...e,topBorder:!1,style:B.sectionMenuItem}),items:["markAsReadOrUnread","archive"].map(((e,t)=>{const o=t===T.length-1,n=N.isMobile&&o;return{key:e,render:t=>"archive"===e?(0,I.jsx)(b().A,{...t,style:{...B.buttonMenuItem,...n&&B.transparentButtonMenuItemBorder},pressedStyle:B.buttonMenuItemPressed,icon:i.visited?(0,l().arrowUTurnUpLeftIcon)({...B.icon,padding:3}):(0,s().B)(B.icon),title:w.formatMessage(i.visited?j.unarchive:j.archive),titleStyle:B.title}):"markAsReadOrUnread"===e?(0,I.jsx)(b().A,{...t,style:{...B.buttonMenuItem,...n&&B.transparentButtonMenuItemBorder},pressedStyle:B.buttonMenuItemPressed,icon:i.read?(0,I.jsx)("div",{style:_.iconContainer,children:(0,c().C)(_.icon)}):(0,I.jsx)("div",{style:_.iconContainer,children:(0,d().i)(_.icon)}),title:w.formatMessage(i.read?j.markUnread:j.markRead),titleStyle:B.title}):void(0,m().HB)(e),action:t=>{let{event:o}=t;"markAsReadOrUnread"===e?v(o):"archive"===e?i.visited?h(o):g(o):(0,m().HB)(e),u()}}}))}]:[],...N.isMobile?[{key:"Page notification settings title",render:()=>(0,I.jsx)(k().A,{style:B.subheader,isSmall:!N.isMobile,isSecondaryColor:!N.isMobile,children:(0,I.jsx)(p().sA,{id:"inbox.notifyMeForSectionTitle.label",defaultMessage:"Notify me for"})}),items:[]}]:[],{key:"Page notification settings",render:e=>(0,I.jsx)(M().A,{...e,topBorder:!1,style:B.sectionMenuItem}),items:T.map(((e,t)=>{const i=t===T.length-1,o=N.isMobile&&i;return{key:e.action.analyticsName,render:t=>(0,I.jsx)(b().A,{...t,style:{...B.buttonMenuItem,...o&&B.transparentButtonMenuItemBorder},pressedStyle:B.buttonMenuItemPressed,title:e.title,titleStyle:B.title,isChecked:e.isSelectedOption}),action:()=>{e.action.action({environment:y,blocks:[],publicEditMode:void 0,analyticsFrom:"inbox_long_press_menu",lazyDependencies:U}),u()}}}))}],initialFocus:void 0,onAccept:()=>u()})})}const _=o.memo(T)}}]);