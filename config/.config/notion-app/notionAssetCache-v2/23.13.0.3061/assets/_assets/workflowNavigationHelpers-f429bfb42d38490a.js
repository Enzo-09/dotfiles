"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92821],{564037:(e,t,i)=>{i.r(t),i.d(t,{getCurrentWorkflowNavigationState:()=>S,getDefaultClosedNavigationState:()=>k,getDefaultOpenNavigationState:()=>v,getIsWorkflowEditorOpen:()=>O,getIsWorkflowEditorStateOpen:()=>b,getIsWorkflowNavigationStateCurrent:()=>V,getMergedWorkflowNavigationState:()=>m,routeArgsGivenNavigationState:()=>j,useIsWorkflowEditorOpen:()=>N,useWorkflowNavigationState:()=>I});var n=()=>i(484714),o=()=>i(847249),r=()=>i(496603),a=()=>i(498212),c=()=>i(534177),s=()=>i(671593),u=()=>i(638681),l=()=>i(351360),w=()=>i(46986);const p=u().object({required:{isOpen:u().literal(!0)},optional:{}}),f={configure:u().intersection([p,u().object({required:{type:u().literal("configure")},optional:{prompt:u().string()}})]),function:u().intersection([p,u().object({required:{type:u().literal("function"),key:u().string()},optional:{}})]),module:u().intersection([p,u().object({required:{type:u().literal("module"),key:u().string()},optional:{}})]),trigger:u().intersection([p,u().object({required:{type:u().literal("trigger"),key:u().string()},optional:{}})]),debug:u().intersection([p,u().object({required:{type:u().literal("debug")},optional:{}})]),preview:u().intersection([p,u().object({required:{type:u().literal("preview")},optional:{collectionViewId:u().string()}})]),runtime_actor:u().intersection([p,u().object({required:{type:u().literal("runtime_actor")},optional:{}})]),view_settings:u().intersection([p,u().object({required:{type:u().literal("view_settings"),key:u().string()},optional:{}})]),view:u().intersection([p,u().object({required:{type:u().literal("view"),key:u().string()},optional:{}})]),runs:u().intersection([p,u().object({required:{type:u().literal("runs")},optional:{runId:u().string()}})]),test:u().intersection([p,u().object({required:{type:u().literal("test"),name:u().string(),functionKey:u().string()},optional:{}})])},g=u().union(Object.values(f)),d=u().object({required:{isOpen:u().literal(!1)},optional:{}}),y=u().union([g,d]);function v(){return{isOpen:!0,type:"configure"}}function k(){return{isOpen:!1}}function b(e){return(null==e?void 0:e.isOpen)??!1}function O(e){return b(S(e))}function V(e){const{currentNavigationState:t,navigationState:i}=e,n=m({defaultNavigationState:{isOpen:!1},currentNavigationState:t,newNavigationState:i});return(0,r().n4)(t,n)}function S(e){const{RouterStore:t}=e;if("page"!==t.state.route.name)return;const i=l().default.state.mainEditorCurrentBlockStore;return i&&i.isCollectionView()&&i.canEdit()&&!i.isLocked()?function(e){const{workflowViewType:t,workflowViewKey:i,workflowPrompt:n,collectionViewId:o}=e;switch(t){case"debug":case"runtime_actor":return{isOpen:!0,type:t};case"function":case"module":case"trigger":case"view_settings":case"view":if(!i)return;return{isOpen:!0,type:t,key:i};case"preview":return{isOpen:!0,type:"preview",collectionViewId:o};case"configure":return{isOpen:!0,type:"configure",prompt:n?decodeURIComponent(n):void 0};case"runs":return{isOpen:!0,type:"runs",runId:(0,a().ZA)(i)};case"test":if(!i)return;const[e,r]=i.split(",");if(!e||!r)return;return{isOpen:!0,type:"test",name:r,functionKey:e};default:return}}(t.state.route):void 0}function m(e){const{defaultNavigationState:t,currentNavigationState:i,newNavigationState:n}=e;if(!(0,w().sx)())return{isOpen:!1};const o={...t};if(i)for(const[a,c]of Object.entries(i))o[a]=c;if(n)for(const[a,c]of Object.entries(n))o[a]=c;const r=(0,s().tf)(y,o);if(r)throw r;return o}function j(e){if(!e.isOpen)return{workflowViewType:void 0,workflowViewKey:void 0,collectionViewId:void 0};const t=e.type,i={};switch(t){case"configure":case"debug":case"runtime_actor":return{...i,workflowViewType:t,workflowViewKey:void 0};case"function":case"module":case"trigger":case"view_settings":case"view":return{...i,workflowViewType:t,workflowViewKey:e.key};case"runs":return{...i,workflowViewType:t,workflowViewKey:e.runId};case"test":return{...i,workflowViewType:t,workflowViewKey:`${e.functionKey},${e.name}`};case"preview":return{...i,workflowViewType:"preview",collectionViewId:e.collectionViewId};default:(0,c().HB)(t)}}function I(){const e=(0,n().v3)();return(0,o().K8)((()=>S(e)??{isOpen:!1}),[e])}function N(){const e=(0,n().v3)();return(0,o().K8)((()=>O(e)),[e])}}}]);