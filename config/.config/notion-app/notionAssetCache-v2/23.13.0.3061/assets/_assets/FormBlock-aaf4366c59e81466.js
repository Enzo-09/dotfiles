(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[47381,65688],{15144:(e,t,o)=>{"use strict";o.d(t,{R:()=>s});o(296540);var r=()=>o(959013),n=()=>o(554509),i=o(474848);function s(e){let{error:t,id:o}=e;return t?(0,i.jsx)(n().D,{id:o,styleName:"UISmall-12px/Regular",colorName:"uiRedPrimary",children:"object"==typeof t?(0,i.jsx)(r().sA,{...t}):t}):null}},43972:(e,t,o)=>{"use strict";o.d(t,{w:()=>l});o(296540);var r=()=>o(764880),n=()=>o(534177),i=()=>o(256863),s=()=>o(453697),a=o(474848);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,r().H3)(t)?(0,a.jsx)(i().A,{botValue:t.asActor,...o}):(0,r().ps)(t)?(0,a.jsx)(s().A,{userValue:t.asActor,...o}):(0,r().h2)(t)?(0,a.jsx)(s().A,{userValue:void 0,...o}):void(0,n().HB)(t)}},132389:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});o(296540);var r=o(474848);function n(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,r.jsx)("div",{style:t})}},158359:(e,t,o)=>{"use strict";o.d(t,{P:()=>n});o(296540);var r=o(474848);const n=(0,o(340498).wt)("arrowDown",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},175213:(e,t,o)=>{"use strict";o.d(t,{G:()=>i});var r=()=>o(989423),n=()=>o(508496);function i(e,t){r().vd(e,"delete_property",t),n().default.logEvent("delete_property")}},201170:(e,t,o)=>{"use strict";o.d(t,{HX:()=>i,Hi:()=>n().Hi,lR:()=>s});var r=()=>o(736026),n=()=>o(348337);function i(){r().A.setState({open:!0,submitted:!1,error:void 0})}function s(){r().A.setState({open:!1})}},242634:()=>{},281401:(e,t,o)=>{"use strict";o.d(t,{Cy:()=>x,JK:()=>y,K6:()=>b,PD:()=>C,c8:()=>w,i_:()=>S,lE:()=>A,lY:()=>I,mz:()=>k});var r=()=>o(819121),n=()=>o(427704),i=()=>o(798880),s=()=>o(452939),a=()=>o(705540),l=()=>o(729283),c=()=>o(780054),d=()=>o(753199),u=()=>o(731320),m=()=>o(299545),f=()=>o(351360),p=()=>o(948914),g=()=>o(508496),v=()=>o(630116),h=()=>o(172079);function S(e){const{store:t,environment:o}=e,r=f().default.state.currentSpaceStore,n=!t||(0,m()._C)(t),{id:s}=o.currentUser,a=s&&r?v().LU.createChildStore(r,{table:i().oo,id:s}):void 0,l=!a||a.isReady();return n&&l}function b(e,t){return!c().A.isAdminMode&&(0,u().qb)(t,e)}function y(){return g().default.checkGate({gateName:"sites_deprecate_edit_and_comment_top_bar"})}n().JZ.signup,n().JZ.product;async function x(e){const{environment:t,route:o,openInNewTab:r}=e;s().LT(t,{variant:"made_with_notion"}),await l().VE(t,{utmContent:"topbar_cta",nextRoute:o,openInNewTab:r})}async function I(e){const{environment:t,route:o,formId:r,spaceId:n,openInNewTab:i}=e;s().LT(t,{variant:"made_with_notion"}),await l()._q(t,{utmContent:"topbar_cta",nextRoute:o,formId:r,spaceId:n,openInNewTab:i})}function k(e){e.target!==e.currentTarget||p().A.state.isShowingTabBar||(0,d().SQ)({event:e,context:d().y$.EditorDoubleClick,callback:a().toggleMaximized})}function A(e){const t=e.target;t instanceof HTMLElement&&(0,r().p)(t)&&h().A.setState(!0)}function w(){h().A.setState(!1)}function C(e){let{device:t,shouldShowAddTo:o,isMobileTopbarRedesignEnabled:r}=e;return!o&&(!(!t.isMobileNative||t.isMobileBrowser||t.isTablet)&&r)}},299177:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});class r extends(()=>o(757695))().default{getInitialState(){return{}}}const n=new r;o(604341).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",n);const i=n},348337:(e,t,o)=>{"use strict";o.d(t,{$4:()=>v,Hi:()=>b,T7:()=>h,aL:()=>S});o(296540);var r=()=>o(584262),n=()=>o(427704),i=()=>o(959013),s=()=>o(989423),a=()=>o(186445),l=()=>o(492414),c=()=>o(411671),d=()=>o(452939),u=()=>o(901389),m=()=>o(507785),f=()=>o(729283),p=()=>o(435009),g=o(474848);async function v(e){d().LT(e,{variant:"open_notion"}),d().uB(e,{target:"open_notion"}),await f().VE(e,{utmContent:"topbar_cta",nextRoute:n().JZ.root})}function h(e,t){const{RouterStore:o}=e,s=o.state.route,f=a().ao();if(d().A8(e),"page"===s.name&&s.requestedOnPublicDomain&&f){const t=(0,l().Ay)({store:f,preferPublicLink:!1,pageVisitSource:r().y8.EditPublicPage,disableSlug:!0,embedded:!1});p().navigateOnBaseUrl({environment:e,url:t,openInNewTab:s.embedded})}else e.currentUser.isLoggedIn()?u().ui({showCancel:!0,keepFocus:!1,message:(0,g.jsx)(i().sA,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"action.startPublicEditDialog.message"}),items:[{label:(0,g.jsx)(i().sA,{defaultMessage:"Continue",id:"action.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){c().A.setState({editing:!0,commenting:!0})}}]}):(m().iZ({currentUserId:e.currentUser.id,blockId:t}),p().navigateOnBaseUrl({environment:e,url:n().JZ.login}))}function S(e,t){const{RouterStore:o}=e,i=o.state.route,s=a().ao();if(d().$W(e),"page"===i.name&&i.requestedOnPublicDomain&&s){const t=(0,l().Ay)({store:s,preferPublicLink:!1,pageVisitSource:r().y8.CommentPublicPage,disableSlug:!0,embedded:!1});p().navigateOnBaseUrl({environment:e,url:t,openInNewTab:i.embedded})}else m().iZ({currentUserId:e.currentUser.id,blockId:t}),p().navigateOnBaseUrl({environment:e,url:n().JZ.login})}function b(e,t){(0,s().u4)({environment:e,event:{eventName:"report_form_clicked",eventProperties:{form_id:t}}}),p().navigateOnBaseUrl({environment:e,url:n().JZ.reportInappropriateForm})}},390527:(e,t,o)=>{"use strict";o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>j,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>k,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>I,MAX_RECURRENCE_INTERVAL:()=>h,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>S,RRULE_WEEKDAYS_MAP:()=>v,adjustedStartDateIfPossible:()=>w,areRecurrenceSchedulesEqual:()=>D,convertFromUnpersistedRecurrenceConfig:()=>z,convertToUnpersistedRecurrenceConfig:()=>E,getFormattedEndCondition:()=>B,getFormattedNextRecurrenceTime:()=>M,getNewEndTimestamp:()=>P,getNextDateUtc:()=>_,getRecurrenceAfter:()=>C,isRunningBetweenMidnightAnd3AM:()=>F,isValidRecurrenceInterval:()=>b,isValidRecurrenceNumberOfRuns:()=>y,rruleFromRecurrence:()=>x,templateAncestorsViolateRecurrenceNesting:()=>A});o(898992),o(354520),o(581454);var r=()=>o(244641);o(944114);function n(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];if(0===o.length)return e.map((e=>[e]));const i=[];for(const s of e)i.push(...n(o[0],...o.slice(1)).map((e=>[s,...e])));return i}var i=()=>o(496603),s=()=>o(534177),a=()=>o(720665),l=()=>o(597777),c=()=>o(869190),d=()=>o(416504),u=()=>o(402390);class m extends(()=>o(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var f=()=>o(912720);const p=(0,o(959013).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12â€“3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),g={day:m.DAILY,week:m.WEEKLY,month:m.MONTHLY,year:m.YEARLY},v={MO:m.MO,TU:m.TU,WE:m.WE,TH:m.TH,FR:m.FR,SA:m.SA,SU:m.SU},h=99,S=999;function b(e){return(0,a().Et)(e)&&Number.isInteger(e)&&e>0&&e<=h}function y(e){return(0,a().Et)(e)&&Number.isInteger(e)&&e>0&&e<=S}function x(e){const{start_date:t,frequency:o,interval:r,weekdays:i,timezone:a,hour:c,minute:d}=e,u="week"===o&&i?i.map((e=>v[e])):void 0,f={};return(0,s().O9)(e.end_condition)&&("date"===e.end_condition.type?f.until=(0,l().eU)(e.end_condition.end_at):"number"===e.end_condition.type?f.count=e.end_condition.number_of_occurrences:(0,s().HB)(e.end_condition)),"month"===e.frequency&&(0,s().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?f.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?f.byweekday=n(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,o]=e;return v[t].nth(o)})):(0,s().HB)(e.monthly_restriction)),new m({freq:g[o],dtstart:(0,l().eU)(t),interval:r,byweekday:u,tzid:a,byhour:c??0,byminute:d??0,bysecond:0,...f})}const I=1,k=1;function A(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),r=e.length,n=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,i=r>I,s=o.length>=k;return{violatesConstraint:i||s,templateNestingExceedsMaxDepth:i,ancestorHasDailyTemplate:s,nestedDepthOfAutomationAncestors:r,immediateAncestorRecurrenceType:n}}function w(e){var t;const{recurrence:o,afterDate:n}=e;if("number"===(null===(t=o.end_condition)||void 0===t?void 0:t.type)||o.start_date>=n)return o;let i=r().c9.fromMillis(o.start_date,{zone:"utc"});const s=r().c9.fromMillis(n,{zone:"utc"});switch(o.frequency){case"year":{const e=Math.floor(s.diff(i,"years").years/o.interval);i=i.plus({years:e*o.interval});break}case"month":{const e=Math.floor(s.diff(i,"months").months/o.interval);i=i.plus({months:e*o.interval});break}case"week":{const e=Math.floor(s.diff(i,"weeks").weeks/o.interval);i=i.plus({weeks:e*o.interval});break}case"day":{const e=Math.floor(s.diff(i,"days").days/o.interval);i=i.plus({days:e*o.interval});break}}return{...o,start_date:(0,l().DH)(i.toMillis())}}function C(e){const{recurrence:t,afterDate:o}=e;if((0,f().wt)(t)){const e=(0,l().l1)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=x(w({recurrence:t,afterDate:o})).after((0,l().eU)(o));if(!e)return;return(0,l().h1)(e)}}function F(e){return 0===e.hour||1===e.hour||2===e.hour}function _(e){return x(e).after((0,l().eU)((0,l().Rz)()))||void 0}function M(e){const{recurrence:t,intl:o}=e,n=_(z(t));if(!n)return;const i=F(t),s=r().c9.fromJSDate(n).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,u().H)(o)).setZone(t.timezone),a=(0,c().Yq)({date:s,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(i)return o.formatMessage(p.dateBetweenMidnightAnd3AM,{date:a});{let e=s.toLocaleString(r().c9.TIME_SIMPLE);return t.timezone!==(0,d().P)()&&(e+=` ${s.toFormat("ZZZZ")}`),o.formatMessage(p.dateAtTime,{date:a,time:e})}}function B(e,t){return(0,s().O9)(e)?"number"===e.type?t.formatMessage(p.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,c().Yq)({date:r().c9.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,s().HB)(e):t.formatMessage(p.noEndCondition)}const j=100;function E(e){return{...e,start_date:(0,l().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().l1)(e.end_condition.end_at)}:(0,s().HB)(e.end_condition):void 0}}function P(e,t,o){return e.plus(o-t)}function R(e,t){const o=r().c9.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Rz)(o.toJSDate())}}function z(e){return{...e,start_date:(0,l().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?R(e,e.end_condition):(0,s().HB)(e.end_condition):void 0}}function D(e,t){const o=i().fN(e,(e=>void 0!==e)),r=i().fN(t,(e=>void 0!==e));return i().n4(o,r)}},392895:(e,t,o)=>{"use strict";o.d(t,{d:()=>n});o(296540);var r=o(474848);const n=(0,o(340498).wt)("pageErrorUnsafe",{viewBox:"0 0 72 72",svg:(0,r.jsx)("path",{d:"M36 68C36.5 68 37.2812 67.8125 38.0625 67.4062C55.8438 58.0938 61.5625 53.4375 61.5625 42.2188V18.6562C61.5625 15.4375 60.1875 14.4062 57.5625 13.3125C53.9062 11.8125 42.2188 7.5625 38.5938 6.3125C37.75 6.03125 36.875 5.875 36 5.875C35.125 5.875 34.25 6.0625 33.4375 6.3125C29.7812 7.5 18.0938 11.8438 14.4375 13.3125C11.8438 14.375 10.4375 15.4375 10.4375 18.6562V42.2188C10.4375 53.4375 16.4688 57.5625 33.9375 67.4062C34.75 67.8438 35.5 68 36 68ZM36 41.5938C34.375 41.5938 33.5 40.6875 33.4688 39.0312L33.0312 22C33 20.3438 34.2188 19.1562 35.9688 19.1562C37.6875 19.1562 38.9688 20.375 38.9375 22.0312L38.5 39.0312C38.4688 40.7188 37.5625 41.5938 36 41.5938ZM36 52.0625C34.125 52.0625 32.5 50.5625 32.5 48.7188C32.5 46.875 34.0938 45.3438 36 45.3438C37.9062 45.3438 39.5 46.8438 39.5 48.7188C39.5 50.5938 37.875 52.0625 36 52.0625Z"})})},402137:(e,t,o)=>{"use strict";o.d(t,{w:()=>l});o(18107),o(967357),o(814603),o(147566),o(198721);const r="://",n="www.",i=/.+\..+\..+/,s=/\.{2,}/,a=/.+\..+/;function l(e){const t=e.trim();if(0===t.length)return!1;if(-1===t.indexOf(".")&&-1===t.indexOf("localhost"))return!1;if("."===t.at(t.length-1)||-1!==t.indexOf(" "))return!1;let o,l=`${-1===t.indexOf(r)?"http://":""}${t}`;try{o=new URL(l)}catch(d){const e=-1===l.indexOf(n),[t,i]=l.split(r);l=`${t}${r}${e?"www.":""}${i}`;try{o=new URL(l)}catch(d){return!1}}const c=o.hostname;return!s.test(c)&&(!(t.includes(n)&&"localhost"!==c&&!i.test(c))&&!("localhost"!==c&&!a.test(c)))}},412532:(e,t,o)=>{"use strict";o.d(t,{l:()=>n});o(296540);const r={viewBox:"0 0 16 16",svg:(0,o(474848).jsx)("path",{d:"M13.165 12.75a.8.8 0 0 0 .69-1.203L8.692 2.693a.8.8 0 0 0-1.382 0l-5.165 8.854a.8.8 0 0 0 .691 1.203z"})},n=(0,o(340498).wt)("arrowCaretUpFillSmall",r)},471095:(e,t,o)=>{"use strict";o.r(t),o.d(t,{iconDefinition:()=>r,lockFillIcon:()=>n});o(296540);const r={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M6 5.95a4 4 0 1 1 8 0v1.433a2.426 2.426 0 0 1 2.025 2.392v5.4A2.425 2.425 0 0 1 13.6 17.6H6.4a2.425 2.425 0 0 1-2.425-2.425v-5.4c0-1.203.876-2.201 2.025-2.392zm6.75 1.4v-1.4a2.75 2.75 0 1 0-5.5 0v1.4zm-2.2 5.458a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"})},n=(0,o(340498).wt)("lockFill",r)},498474:(e,t,o)=>{"use strict";o.d(t,{q:()=>n});o(296540);var r=o(474848);const n=(0,o(340498).wt)("arrowUp",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 14.5586C8.44434 14.5586 8.74512 14.251 8.74512 13.7998V5.30957L8.69043 3.83984L10.4951 5.84961L12.0469 7.38086C12.1836 7.51074 12.3682 7.59961 12.5801 7.59961C12.9902 7.59961 13.291 7.28516 13.291 6.86816C13.291 6.66992 13.2158 6.49219 13.0586 6.32812L8.55371 1.81641C8.40332 1.66602 8.20508 1.57715 8 1.57715C7.79492 1.57715 7.59668 1.66602 7.44629 1.81641L2.94141 6.32812C2.78418 6.49219 2.70898 6.66992 2.70898 6.86816C2.70898 7.28516 3.0166 7.59961 3.42676 7.59961C3.63184 7.59961 3.82324 7.51074 3.95312 7.38086L5.50488 5.84961L7.30957 3.83301L7.25488 5.30957V13.7998C7.25488 14.251 7.5625 14.5586 8 14.5586Z"})})},504514:(e,t,o)=>{"use strict";o.r(t),o.d(t,{FormBlock:()=>it});o(16280),o(944114),o(898992),o(354520),o(672577),o(803949),o(581454),o(737550);var r=o(296540),n=()=>o(484714),i=()=>o(847249),s=()=>o(401497),a=()=>o(757695),l=()=>o(764880),c=()=>o(31503),d=()=>o(970013),u=()=>o(713998),m=()=>o(278238),f=()=>o(392895),p=()=>o(251822),g=()=>o(427704),v=()=>o(919709),h=()=>o(959013),S=()=>o(496603),b=()=>o(498212),y=()=>o(534177),x=()=>o(284371),I=()=>o(720665),k=()=>o(449506),A=()=>o(915086),w=()=>o(201170),C=()=>o(436572),F=()=>o(297872),_=()=>o(204063),M=()=>o(132389),B=()=>o(299772),j=()=>o(997752),E=()=>o(989423),P=()=>o(43972),R=()=>o(921855),z=()=>o(731320),D=()=>o(953418),T=()=>o(524461),L=()=>o(940186),N=()=>o(817942),K=()=>o(963900),U=()=>o(601726),H=()=>o(406792),V=()=>o(129522);class q extends(()=>o(959180))().A{findFormQuestionContainer(e){let{formQuestionStore:t}=e;return this.find((e=>e.formQuestionStore===t))}}const O=new q;var W=()=>o(351360),Q=()=>o(518888),Z=()=>o(961581),$=()=>o(606932),Y=()=>o(630116),J=()=>o(832857),X=()=>o(646796),G=(o(823215),()=>o(221844)),ee=()=>o(465741);var te=()=>o(728915),oe=()=>o(417257),re=()=>o(340498),ne=o(474848);const ie=(0,re().wt)("formError",{viewBox:"0 0 56 56",svg:(0,ne.jsxs)("g",{children:[(0,ne.jsx)("path",{fill:"#C7C6C4",d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 001.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 00-1.054-.44c-.41 0-.762.147-1.055.44a1.42 1.42 0 00-.44 1.037c0 .422.147.78.44 1.072zm0 6.575a1.48 1.48 0 001.055.439c.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44a1.44 1.44 0 00-.44 1.055c0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 00-.756-.334H25.04a1.08 1.08 0 00-.791.334c-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773z"}),(0,ne.jsx)("path",{fill:"#C7C6C4",d:"M12.336 47.205c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 01-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 01-.07-.808v-1.793c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.665a9.594 9.594 0 012.83-.533V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078z"}),(0,ne.jsx)("path",{fill:"#C7C6C4",fillRule:"evenodd",d:"M21.121 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055a3.691 3.691 0 00-2.636 1.055c-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 01-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 011.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",clipRule:"evenodd"}),(0,ne.jsx)("path",{fill:"#D44C47",d:"M44.992 54.984a7.663 7.663 0 01-3.088-.628 8.08 8.08 0 01-2.55-1.725 8.097 8.097 0 01-1.733-2.543A7.763 7.763 0 0137 46.992c0-1.095.207-2.124.62-3.088a8.254 8.254 0 011.726-2.55 8.08 8.08 0 012.55-1.726A7.72 7.72 0 0144.992 39c1.095 0 2.124.21 3.088.628a7.97 7.97 0 012.55 1.726 8.189 8.189 0 011.734 2.55 7.66 7.66 0 01.628 3.088c0 1.1-.21 2.132-.628 3.096a8.097 8.097 0 01-1.733 2.543 7.991 7.991 0 01-2.543 1.725 7.681 7.681 0 01-3.096.628zm-2.376-4.745a.88.88 0 00.65-.257l1.741-1.741 1.749 1.74a.848.848 0 00.635.258.843.843 0 00.621-.25.859.859 0 00.25-.62.786.786 0 00-.265-.606L46.24 47l1.763-1.764a.828.828 0 00.258-.605.834.834 0 00-.25-.613.834.834 0 00-.613-.25.852.852 0 00-.628.25l-1.764 1.756-1.755-1.749a.878.878 0 00-.636-.25.833.833 0 00-.613.25.818.818 0 00-.25.613.83.83 0 00.257.606L43.774 47l-1.764 1.77a.804.804 0 00-.257.599.86.86 0 00.25.62.83.83 0 00.613.25z"})]})}),se=(0,re().wt)("formErrorDark",{viewBox:"0 0 56 56",svg:(0,ne.jsxs)("g",{children:[(0,ne.jsx)("path",{fill:"#fff",fillOpacity:"0.445",d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 001.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 00-1.054-.44c-.41 0-.762.147-1.055.44a1.42 1.42 0 00-.44 1.037c0 .422.147.78.44 1.072zm0 6.575a1.48 1.48 0 001.055.439c.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44a1.44 1.44 0 00-.44 1.055c0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 00-.756-.334H25.04a1.08 1.08 0 00-.791.334c-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773z"}),(0,ne.jsx)("path",{fill:"#fff",fillOpacity:"0.445",d:"M12.336 47.205c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 01-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 01-.07-.808v-1.793c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.665a9.594 9.594 0 012.83-.533V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078z"}),(0,ne.jsx)("path",{fill:"#fff",fillOpacity:"0.445",fillRule:"evenodd",d:"M21.121 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055a3.691 3.691 0 00-2.636 1.055c-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 01-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 011.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",clipRule:"evenodd"}),(0,ne.jsx)("path",{fill:"#DE5550",d:"M44.992 54.984a7.663 7.663 0 01-3.088-.628 8.08 8.08 0 01-2.55-1.725 8.097 8.097 0 01-1.733-2.543A7.763 7.763 0 0137 46.992c0-1.095.207-2.124.62-3.088a8.254 8.254 0 011.726-2.55 8.08 8.08 0 012.55-1.726A7.72 7.72 0 0144.992 39c1.095 0 2.124.21 3.088.628a7.97 7.97 0 012.55 1.726 8.189 8.189 0 011.734 2.55 7.66 7.66 0 01.628 3.088c0 1.1-.21 2.132-.628 3.096a8.097 8.097 0 01-1.733 2.543 7.991 7.991 0 01-2.543 1.725 7.681 7.681 0 01-3.096.628zm-2.376-4.745a.88.88 0 00.65-.257l1.741-1.741 1.749 1.74a.848.848 0 00.635.258.843.843 0 00.621-.25.859.859 0 00.25-.62.786.786 0 00-.265-.606L46.24 47l1.763-1.764a.828.828 0 00.258-.605.834.834 0 00-.25-.613.834.834 0 00-.613-.25.852.852 0 00-.628.25l-1.764 1.756-1.755-1.749a.878.878 0 00-.636-.25.833.833 0 00-.613.25.818.818 0 00-.25.613.83.83 0 00.257.606L43.774 47l-1.764 1.77a.804.804 0 00-.257.599.86.86 0 00.25.62.83.83 0 00.613.25z"})]})});var ae=()=>o(175947);const le=r.forwardRef((function(e,t){let{formDisplayState:o,formDataStore:r,aliasStore:i}=e;const a=(0,s().DP)(),l=(0,h().tz)(),c=(0,n().WS)(),d=(0,s().IS)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:(0,te().TX)(c),padding:24,width:"100%",...void 0!==i?{height:"100%"}:{position:"absolute",top:-ae().Qy,height:`calc(100% + ${ae().Qy}px)`}},errorIcon:{width:56,height:56}})),[i,c]),u=te().M8[o.type];return(0,ne.jsxs)("div",{ref:t,style:d.container,children:["light"===a.mode?ie(d.errorIcon):se(d.errorIcon),(0,ne.jsx)("h2",{style:{marginBottom:8,textAlign:"center"},children:l.formatMessage(te().EJ[o.type])}),u&&(0,ne.jsx)("div",{style:{textAlign:"center",maxWidth:500},children:l.formatMessage(u)}),"submissionError"===o.type?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(M().A,{size:48}),(0,ne.jsx)(_().A,{color:"black",size:"lg",onClick:()=>{var e;return r.updateFormState({submitFormState:{type:"notSubmitted"},draftFormBlockStore:null===(e=r.getFormState())||void 0===e?void 0:e.draftFormBlockStore})},children:(0,ne.jsx)(h().sA,{id:"FormBlock.submissionError.button",defaultMessage:"Back to form"})})]}):null]})}));var ce=()=>o(584262),de=()=>o(148307),ue=(o(814603),o(147566),o(198721),o.n(o(755373)));var me=()=>o(452951);const fe=(0,re().wt)("formSubmit",{viewBox:"0 0 56 56",svg:(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("path",{d:"M44.938 54.875a7.597 7.597 0 0 1-3.063-.625 7.912 7.912 0 0 1-2.531-1.703 8.13 8.13 0 0 1-1.719-2.531A7.635 7.635 0 0 1 37 46.938c0-1.094.208-2.115.625-3.063a8.13 8.13 0 0 1 1.719-2.531 7.789 7.789 0 0 1 2.531-1.719A7.597 7.597 0 0 1 44.938 39c1.093 0 2.12.208 3.078.625a7.912 7.912 0 0 1 2.53 1.703 7.912 7.912 0 0 1 1.704 2.531c.417.959.625 1.985.625 3.078A7.597 7.597 0 0 1 52.25 50a8.001 8.001 0 0 1-1.734 2.531 8.13 8.13 0 0 1-2.532 1.719 7.559 7.559 0 0 1-3.047.625zm-.954-3.656c.365 0 .636-.125.813-.375l4.547-6.297c.073-.104.125-.208.156-.313a.767.767 0 0 0 .063-.28.88.88 0 0 0-.297-.688.97.97 0 0 0-.688-.282c-.344 0-.62.146-.828.438l-3.813 5.281-1.921-2.078a.966.966 0 0 0-.75-.328c-.271 0-.5.094-.688.281a.954.954 0 0 0-.281.703c0 .104.02.224.062.36.042.125.105.24.188.343l2.656 2.891a.804.804 0 0 0 .36.25c.145.063.286.094.421.094z",fill:"#2383E2"}),(0,ne.jsx)("path",{d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 0 0-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 0 0 1.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 0 0-1.054-.44c-.41 0-.762.147-1.055.44-.293.293-.44.639-.44 1.037 0 .422.147.78.44 1.072zm0 6.575c.305.292.656.439 1.055.439.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 0 0-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.645-.44 1.055 0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 0 0-.756-.334H25.04c-.305 0-.568.111-.791.334-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 0 0-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 0 0-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773zm-11.914 9.967c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 0 1-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 0 1-.07-.808V11.135c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.666a9.594 9.594 0 0 1 2.83-.532V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078zM21.12 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055-1.019 0-1.898.352-2.636 1.055-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 0 1-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 0 1 1.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",fill:"#C7C6C4"})]})}),pe=(0,re().wt)("formSubmitDark",{viewBox:"0 0 56 56",svg:(0,ne.jsxs)("g",{children:[(0,ne.jsx)("path",{fill:"#2383E2",d:"M44.938 54.875a7.597 7.597 0 01-3.063-.625 7.912 7.912 0 01-2.531-1.703 8.13 8.13 0 01-1.719-2.531A7.635 7.635 0 0137 46.938c0-1.094.208-2.115.625-3.063a8.13 8.13 0 011.719-2.531 7.789 7.789 0 012.531-1.719A7.597 7.597 0 0144.938 39a7.63 7.63 0 013.078.625 7.912 7.912 0 012.53 1.703 7.912 7.912 0 011.704 2.531c.417.959.625 1.985.625 3.078A7.597 7.597 0 0152.25 50a8.001 8.001 0 01-1.734 2.531 8.13 8.13 0 01-2.532 1.719 7.559 7.559 0 01-3.047.625zm-.954-3.656c.365 0 .636-.125.813-.375l4.547-6.297c.073-.104.125-.208.156-.313a.767.767 0 00.063-.28.88.88 0 00-.297-.688.97.97 0 00-.688-.282c-.344 0-.62.146-.828.438l-3.813 5.281-1.921-2.078a.966.966 0 00-.75-.328c-.271 0-.5.094-.688.281a.954.954 0 00-.281.703c0 .104.02.224.062.36.042.125.105.24.188.343l2.656 2.891a.804.804 0 00.36.25c.145.063.286.094.421.094z"}),(0,ne.jsx)("path",{fill:"#fff",fillOpacity:"0.445",d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 001.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 00-1.054-.44c-.41 0-.762.147-1.055.44a1.42 1.42 0 00-.44 1.037c0 .422.147.78.44 1.072zm0 6.575a1.48 1.48 0 001.055.439c.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44a1.44 1.44 0 00-.44 1.055c0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 00-.756-.334H25.04a1.08 1.08 0 00-.791.334c-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773z"}),(0,ne.jsx)("path",{fill:"#fff",fillOpacity:"0.445",d:"M12.336 47.205c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 01-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 01-.07-.808v-1.793c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.665a9.594 9.594 0 012.83-.533V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078z"}),(0,ne.jsx)("path",{fill:"#fff",fillOpacity:"0.445",fillRule:"evenodd",d:"M21.121 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055a3.691 3.691 0 00-2.636 1.055c-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 01-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 011.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",clipRule:"evenodd"})]})});var ge=()=>o(985595),ve=()=>o(517592),he=()=>o(179034),Se=()=>o(857783),be=()=>o(729283),ye=()=>o(623580),xe=()=>o(864943),Ie=()=>o(836251),ke=()=>o(148832),Ae=()=>o(697430),we=()=>o(173215),Ce=()=>o(842599);function Fe(e){let{formBlockStore:t,environment:o,questionsAndAnswers:n,responseBlockId:i,email:s,isNotionBrandingOn:a,internalForm:l}=e;const[c,d]=(0,r.useState)("not_submitted"),u=(0,r.useCallback)((async e=>{if(e.preventDefault(),"submitting"===c||"success"===c)return;if(d("submitting"),!t)return d("error"),void C().D6({label:(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.submitEmailError",defaultMessage:"Something went wrong. Please try again later."})});if(!(0,Ce().DT)(s))return d("invalid_email"),void C().D6({label:(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.invalidEmailError",defaultMessage:"Please enter a valid email address"})});const r=await k().callApi({eventName:"saveAndEmailFormResponse",environment:o,data:{formId:t.id,spaceId:t.getSpaceId(),snapshotData:{formTitle:(0,R().r4)(t.getTitleValue(),t),formUrl:"",questionsAndAnswers:n??[]},formResponseBlockId:i,userProvidedEmail:s,userId:o.currentUser.id,isNotionBrandingOn:a}});if(l||(0,Ae().K)({environment:o,source:"form_success_screen_email_form_response_button",formId:t.id}),r&&"failed"!==r.type)d("success"),l&&C().D6({label:(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.internalForm.submitEmailSuccess",defaultMessage:"Email sent to {email}",values:{email:s}})});else{var u;d("error");const e="email_unreachable"!==(null==r||null===(u=r.body)||void 0===u||null===(u=u.clientData)||void 0===u?void 0:u.type)||l?(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.submitEmailError",defaultMessage:"Something went wrong. Please try again later."}):(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.submitEmailError.emailUnreachable",defaultMessage:"We could not reach the email address you provided. Please try again with a different email."});C().D6({label:e})}}),[t,o,n,i,s,a,l,c]);return{submitEmailStatus:c,handleSubmitEmail:u,setSubmitEmailStatus:d}}const _e=(0,h().YK)({emailInputPlaceholder:{id:"FormBlock.emailInput.placeholder",defaultMessage:"Your email"},buildForms:{id:"FormBlock.formPromoCard.buildForms",defaultMessage:"Build forms"},manageTasks:{id:"FormBlock.formPromoCard.manageTasks",defaultMessage:"Manage tasks"},writeDocs:{id:"FormBlock.formPromoCard.writeDocs",defaultMessage:"Write docs"}}),Me=o(972435).A.formatMessage(_e.emailInputPlaceholder),Be=r.forwardRef((function(e,t){let{formDataStore:a,formBlockWidth:l,isNotionBrandingOn:c,aliasStore:d}=e;const u=(0,n().v3)(),m=(0,n().Y0)(),{value:f}=(0,o(645873).fJ)(o(614415).fM),[p,g]=(0,r.useState)(!1),{formBlockStore:v,questionsAndAnswers:h,submitFormState:S}=(0,i().K8)((()=>{const e=a.getFormState();return{formBlockStore:null==e?void 0:e.formBlockStore,questionsAndAnswers:null==e?void 0:e.questionsAndAnswers,submitFormState:null==e?void 0:e.submitFormState}}),[a]),b=(0,i().K8)((()=>!u.currentUser.isLoggedIn()),[u]),{formId:y,spaceId:x}=(0,i().K8)((()=>({formId:null==v?void 0:v.id,spaceId:null==v?void 0:v.getSpaceId()})),[v]),I=(0,s().IS)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:m.isPhone?"space-between":"center",height:"100%",...void 0!==d?{minHeight:(0,te().TX)(m.isPhone),justifyContent:"center"}:{}}})),[d,m.isPhone]);if("submittedSuccessfully"!==(null==S?void 0:S.type))return null;let k=(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(je,{isNotionBrandingOn:c,formBlockStore:v,formDataStore:a,questionsAndAnswers:h,responseBlockId:S.responseBlockId,formBlockWidth:l,setIsEmailInputFocused:g}),b&&c&&(0,ne.jsx)(ne.Fragment,{children:m.isPhone?(0,ne.jsx)(Oe,{formId:y,spaceId:x}):(0,ne.jsx)(ne.Fragment,{children:f&&(0,ne.jsx)(He,{formId:y,spaceId:x,framerMotion:f,showMinimalCards:"medium"===l||"narrow"===l})})})]});return m.isPhone||(k=(0,ne.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxHeight:"100%"},children:k})),(0,ne.jsx)(F().A,{capture:p,render:e=>(0,ne.jsx)("div",{...e,ref:t,style:I.container,children:k})})}));function je(e){let{isNotionBrandingOn:t,formDataStore:o,formBlockStore:r,questionsAndAnswers:a,responseBlockId:l,formBlockWidth:c,setIsEmailInputFocused:d}=e;const u=(0,n().v3)(),m=(0,n().Y0)(),f=(0,i().K8)((()=>u.currentUser.isLoggedIn()),[u.currentUser]),p="medium"===c||"narrow"===c,g=(0,s().IS)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:24,minwidth:m.isPhone?"calc(100% - 96px)":"calc(100% - 192px)",maxWidth:600}})),[m.isPhone]);return(0,ne.jsxs)("div",{style:g.container,children:[(0,ne.jsx)(Ee,{formBlockStore:r,formDataStore:o,isLoggedIn:f}),f?(0,ne.jsx)(Re,{formBlockStore:r,responseBlockId:l,questionsAndAnswers:a,isNotionBrandingOn:t}):(0,ne.jsx)(Pe,{formBlockStore:r,questionsAndAnswers:a,responseBlockId:l,isNotionBrandingOn:t,shouldApplyNarrowEmailStyles:p,setIsEmailInputFocused:d})]})}function Ee(e){let{formBlockStore:t,formDataStore:o,isLoggedIn:r}=e;const n=(0,s().DP)(),a=(0,s().IS)((e=>({header:{marginBottom:8,textAlign:"center"},subtitle:{margin:0,textAlign:"center"},icon:{width:56,height:56}})),[]),l=(0,i().K8)((()=>{var e;return(null==o||null===(e=o.getFormState())||void 0===e?void 0:e.isCustomizationSupported)??!1}),[o]),{customConfirmationScreenTitle:c,customConfirmationScreenBody:d,spaceId:u}=(0,i().K8)((()=>{if(!t||!l)return{customConfirmationScreenTitle:void 0,customConfirmationScreenBody:void 0,spaceId:void 0};const e=t.getFormConfigStore();return{customConfirmationScreenTitle:e.getKeyStore("custom_confirmation_screen_title"),customConfirmationScreenBody:e.getKeyStore("custom_confirmation_screen_body"),spaceId:t.getSpaceId()}}),[t,l]),m=(0,we().x)({textStore:c,parentStore:t,spaceId:u}),f=(0,we().x)({textStore:d,parentStore:t,spaceId:u}),p=(0,i().K8)((()=>m||(r?(0,ne.jsx)(h().sA,{id:"FormBlock.confirmationScreen.internal.title",defaultMessage:"Thank you!"}):(0,ne.jsx)(h().sA,{id:"FormBlock.confirmationScreen.public.title",defaultMessage:"Your response has been submitted."}))),[m,r]),g=(0,i().K8)((()=>f||(r?(0,ne.jsx)(h().sA,{id:"FormBlock.confirmationScreen.internal.subtitle",defaultMessage:"Your response has been submitted successfully."}):(0,ne.jsx)(h().sA,{id:"FormBlock.confirmationScreen.public.subtitle",defaultMessage:"Enter your email to receive a copy of your response."}))),[r,f]);return(0,ne.jsxs)(ne.Fragment,{children:["light"===n.mode?fe(a.icon):pe(a.icon),(0,ne.jsx)("h2",{style:a.header,children:p}),(0,ne.jsx)("p",{style:a.subtitle,children:g})]})}function Pe(e){const t=(0,n().v3)(),o=(0,n().Y0)(),{formBlockStore:a,questionsAndAnswers:l,responseBlockId:c,isNotionBrandingOn:d,shouldApplyNarrowEmailStyles:u,setIsEmailInputFocused:m}=e,f=(0,s().IS)((e=>({emailContainer:u?{display:"flex",flexDirection:"column",alignItems:"center",gap:12,width:"100%"}:{display:"flex",flexDirection:"row",gap:12},emailInput:u?{height:47,fontSize:16,width:"100%",borderRadius:6,boxShadow:"none"}:{fontSize:14,borderRadius:6},mobileBorderRadiusOverride:{borderRadius:12}})),[u]),p=(0,i().K8)((()=>{var e;return null===(e=W().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),[g,v]=(0,r.useState)(p??""),[h,S]=(0,r.useState)(Me),{submitEmailStatus:b,handleSubmitEmail:y,setSubmitEmailStatus:x}=Fe({formBlockStore:a,environment:t,questionsAndAnswers:l,responseBlockId:c,email:g,isNotionBrandingOn:d,internalForm:!1});return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(M().A,{size:48}),(0,ne.jsxs)("div",{style:f.emailContainer,children:[(0,ne.jsx)(ye().A,{type:"email",value:g,placeholder:h,focusInitial:!o.isMobile,onSubmit:y,onChange:e=>{v(e.target.value),x("not_submitted")},onFocus:()=>{u&&S(""),m(!0)},onBlur:()=>{u&&S(Me),m(!1)},style:{...f.emailInput,...o.isMobile?f.mobileBorderRadiusOverride:{}},inputStyle:u?{textAlign:"center"}:void 0}),(0,ne.jsx)(ze,{submitEmailStatus:b,handleSubmitEmail:y,shouldApplyNarrowEmailStyles:u,internalForm:!1})]})]})}function Re(e){const{formBlockStore:t,responseBlockId:o,questionsAndAnswers:r,isNotionBrandingOn:a}=e,l=(0,n().v3)(),d=(0,s().IS)((e=>({buttonContainer:{display:"flex",gap:12}})),[]),u=(0,i().K8)((()=>{var e;return null===(e=W().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),{submitEmailStatus:m,handleSubmitEmail:f}=Fe({formBlockStore:t,environment:l,questionsAndAnswers:r,responseBlockId:o,email:u??"",isNotionBrandingOn:a,internalForm:!0}),p=(0,i().K8)((()=>{var e;return Boolean(null==t||null===(e=t.getFormBlockParentBlockStore())||void 0===e?void 0:e.canRead())}),[t]),g=(0,i().K8)((()=>{if(!t)return!1;return"none"!==(0,c().m$)(null==t?void 0:t.getFormSubmissionPermissions(),null==t?void 0:t.getIsFormAnonymousSubmissionEnabled(),null==t?void 0:t.getIsFormPublic())}),[t]),v=p||g;return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(M().A,{size:48}),(0,ne.jsxs)("div",{style:d.buttonContainer,children:[v&&(0,ne.jsx)(_().A,{color:"black",size:"lg",onClick:()=>{const e=new(ke().B)(l,{table:he().ev,id:o,spaceId:null==t?void 0:t.getSpaceId()});Se().uK({environment:l,store:e,pageVisitSource:ce().y8.FormViewResponses})},children:(0,ne.jsx)(h().sA,{id:"FormBlock.viewMyResponseButton.button",defaultMessage:"View my response"})}),(0,ne.jsx)(ze,{submitEmailStatus:m,handleSubmitEmail:f,shouldApplyNarrowEmailStyles:!1,internalForm:!0})]})]})}function ze(e){let{submitEmailStatus:t,handleSubmitEmail:o,shouldApplyNarrowEmailStyles:r,internalForm:i}=e;const a=(0,n().Y0)(),l=(0,s().IS)((e=>({submitEmailButton:r?{height:47,width:"100%",padding:"6px 12px",fontSize:17,borderRadius:6,fontWeight:x().Wy.medium,textAlign:"center",whiteSpace:"nowrap"}:{height:32,padding:"4px 12px",fontSize:15,borderRadius:6,fontWeight:x().Wy.regular,whiteSpace:"nowrap"},mobileBorderRadiusOverride:{borderRadius:12}})),[r]),c=i?(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.internalForm.buttonLabel",defaultMessage:"Email me a copy"}):(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.buttonLabel",defaultMessage:"Send a copy"});return(0,ne.jsxs)(xe().A,{size:"lg",onClick:o,style:{...l.submitEmailButton,...a.isMobile&&!i?l.mobileBorderRadiusOverride:{}},disabled:"success"===t||"submitting"===t,children:[(0,ge().n)({width:a.isMobile?20:16,marginRight:8}),"success"===t?(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.submitEmailSuccess",defaultMessage:"Email sent!"}):a.isMobile?(0,ne.jsx)(h().sA,{id:"FormBlock.emailInput.mobile.buttonLabel",defaultMessage:"Send me a copy"}):c]})}const De=64,Te=.6,Le=.5,Ne=.075,Ke=(0,o(604043).A)(.34,1.56,.64,1);function Ue(e){return{transition:{duration:Te+.1*e,delay:Le+e*Ne,ease:Ke},animate:{opacity:1,top:0}}}function He(e){let{framerMotion:t,showMinimalCards:o,formId:n,spaceId:i}=e;const a=(0,s().DP)(),[l,c]=(0,r.useState)(!1),d=(0,s().IS)((e=>({cardContainer:{display:"flex",flexDirection:"row",gap:14,marginBottom:36,marginTop:150,flexShrink:0},survey:{color:"dark"===e.mode?e.accentColors.yellow[800]:e.accentColors.yellow[500]},todos:{color:"dark"===e.mode?e.accentColors.blue[800]:e.accentColors.blue[500]},docs:{color:"dark"===e.mode?e.accentColors.red[800]:e.accentColors.red[500]}})),[]);return(0,ne.jsxs)("div",{style:d.cardContainer,children:[(0,ne.jsx)(qe,{formId:n,spaceId:i,cardIndex:0,framerMotion:t,onAnimationComplete:()=>{c(!0)}}),!o&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Ve,{title:_e.buildForms,cardLink:(0,Ie().VY)({routeId:"product.forms",spaceId:i,formId:n}),formId:n,color:d.survey.color,framerMotion:t,src:"dark"===a.mode?de().A.images.forms.surveyDarkPng:de().A.images.forms.surveyPng,cardIndex:1,skipAnimation:l}),(0,ne.jsx)(Ve,{title:_e.manageTasks,cardLink:(0,Ie().VY)({routeId:"guides.projects",spaceId:i,formId:n}),formId:n,color:d.todos.color,framerMotion:t,src:"dark"===a.mode?de().A.images.forms.todosDarkPng:de().A.images.forms.todosPng,cardIndex:2,skipAnimation:l}),(0,ne.jsx)(Ve,{title:_e.writeDocs,cardLink:(0,Ie().VY)({routeId:"guides.docs",spaceId:i,formId:n}),formId:n,color:d.docs.color,framerMotion:t,cardIndex:3,skipAnimation:l,src:"dark"===a.mode?de().A.images.forms.docsDarkPng:de().A.images.forms.docsPng})]})]})}function Ve(e){let{title:t,cardLink:o,formId:r,color:i,framerMotion:a,src:l,cardIndex:c,skipAnimation:d}=e;const u=(0,n().v3)(),m=(0,s().IS)((e=>({card:{width:208,height:180,fontSize:18,fontWeight:x().Wy.medium,backgroundSize:"cover",color:i,textDecoration:"none",cursor:"pointer",position:"relative",opacity:0,top:De},image:{width:"100%",height:"100%"},cardText:{position:"absolute",top:16,left:22}})),[i]);return(0,ne.jsxs)(a.motion.a,{...Ue(c),initial:!d&&void 0,href:o,target:"_blank",onClick:()=>(0,Ae().K)({environment:u,source:"form_success_screen_promo_card",sourceData:t.defaultMessage,formId:r}),style:m.card,children:[(0,ne.jsx)("img",{src:l,style:m.image}),(0,ne.jsx)("div",{style:m.cardText,children:(0,ne.jsx)(h().sA,{...t})})]})}function qe(e){let{formId:t,spaceId:o,framerMotion:r,cardIndex:i,onAnimationComplete:a}=e;const l=(0,n().v3)(),c=(0,s().IS)((e=>({card:{display:"flex",position:"relative",width:240,height:180,borderRadius:12,padding:"16px 0 0 23px",borderWidth:1,borderStyle:"solid",borderColor:"light"===e.mode?e.accentColors.gray[30]:e.accentColors.gray[200],backgroundColor:"light"===e.mode?e.accentColors.gray[30]:e.accentColors.gray[200],opacity:0,top:De},caption:{marginTop:14,width:160,color:e.accentColors.gray[900],fontSize:14,lineHeight:1.4,fontWeight:x().Wy.medium},button:{marginTop:18},peekingCharacter:{height:180,marginLeft:-18,marginTop:-10}})),[]);return(0,ne.jsxs)(r.motion.div,{...Ue(i),style:c.card,onAnimationComplete:a,children:[(0,ne.jsxs)("div",{children:[(0,ve().A)({marginTop:4,width:24,height:24}),(0,ne.jsx)("div",{style:c.caption,children:(0,ne.jsx)(h().sA,{id:"FormBlock.formPromoCardNotion.caption",defaultMessage:"Forms, docs, tasks.{br}With AI at your side.",values:{br:(0,ne.jsx)("br",{})}})}),(0,ne.jsxs)(_().A,{color:"black",size:"xl",style:c.button,onClick:async()=>{(0,Ae().K)({environment:l,source:"form_success_screen_promo_card",sourceData:"Try Notion free",formId:t}),await be()._q(l,{utmContent:"form_success_screen",nextRoute:g().JZ.signup,formId:t,spaceId:o})},children:[(0,ne.jsx)(h().sA,{id:"FormBlock.formPromoCardNotion.label",defaultMessage:"Try Notion free"}),(0,me().Z)({marginLeft:8,width:16,height:16})]})]}),(0,ne.jsx)("img",{src:de().A.images.forms.peekingCharacterPng,style:c.peekingCharacter})]})}function Oe(e){let{formId:t,spaceId:a}=e;const l=(0,n().v3)(),c=(0,n().Y0)(),d=c.isApple,u=c.isAndroid,m=(0,i().K8)((()=>l.WindowSizeStore.isLandscape()),[l.WindowSizeStore]),f=(0,s().IS)((e=>({container:{display:"flex",width:"100vw",gap:c.isTablet?24:18,flexShrink:0},cuteGirl:{width:c.isTablet?400:150},promoHeading:{fontSize:c.isTablet?24:18,fontWeight:x().Wy.semibold,textAlign:m?"center":void 0},mobileOSIcon:{width:16,height:16,marginRight:8},button:{marginTop:16,borderRadius:12,height:46,fontSize:17}})),[c.isTablet,m]),p=(v=g().JZ.playStore,S={utm_medium:"internal",utm_source:"notion",utm_campaign:"forms",utm_content:a,utm_term:t},(0,r.useMemo)((()=>{const e=new URL(v),t=Object.entries(S??{}),o=Object.fromEntries(t.filter((e=>{let[t]=e;return t.startsWith("utm_")})));return e.searchParams.set("referrer",ue().stringify({...o,referer:"undefined"!=typeof document?document.referrer:""})),e.href}),[S,v]));var v,S;const b=d?g().JZ.appStore:p;return(0,ne.jsxs)("div",{style:f.container,children:[m?null:(0,ne.jsx)("img",{src:de().A.images.forms.mobileFooterCharacterPng,style:f.cuteGirl}),(0,ne.jsxs)("div",{style:m?{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"}:{marginTop:20},children:[(0,ne.jsx)("div",{style:f.promoHeading,children:(0,ne.jsx)(h().sA,{id:"FormBlock.formPromoCardNotion.caption",defaultMessage:"Forms, docs, tasks.{br}With AI at your side.",values:{br:(0,ne.jsx)("br",{})}})}),d||u?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(_().A,{color:"black",size:"xl",style:f.button,href:b,onClick:()=>(0,Ae().K)({environment:l,source:"form_success_screen_mobile_app_store_button",sourceData:d?"ios":"android",formId:t}),children:[d?(0,o(711901).L)(f.mobileOSIcon):(0,o(925846).q)(f.mobileOSIcon),(0,ne.jsx)(h().sA,{id:"FormBlock.mobileFormPromoCardNotion.downloadApp.label",defaultMessage:"Download app"})]}),m&&(0,ne.jsx)(M().A,{size:36})]}):null]})]})}function We(){const e=(0,s().DP)();return(0,n().WS)()?(0,ne.jsx)("link",{rel:"preload",as:"image",href:de().A.images.forms.mobileFooterCharacterPng}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("link",{rel:"preload",as:"image",href:de().A.images.forms.peekingCharacterPng}),(0,ne.jsx)("link",{rel:"preload",as:"image",href:"dark"===e.mode?de().A.images.forms.surveyDarkPng:de().A.images.forms.surveyPng}),(0,ne.jsx)("link",{rel:"preload",as:"image",href:"dark"===e.mode?de().A.images.forms.todosDarkPng:de().A.images.forms.todosPng}),(0,ne.jsx)("link",{rel:"preload",as:"image",href:"dark"===e.mode?de().A.images.forms.docsDarkPng:de().A.images.forms.docsPng})]})}var Qe=()=>o(790748),Ze=()=>o(29247),$e=()=>o(41459),Ye=()=>o(364280),Je=()=>o(15144),Xe=()=>o(205682),Ge=()=>o(471645),et=()=>o(279897),tt=()=>o(511177);function ot(e){let{formQuestionStore:t,draftSubmissionPageStore:o,collectionStore:n,questionIndex:a}=e;const l=(0,h().tz)(),d=(0,oe().H)(),m=(0,r.useRef)(null),{hasCoverImage:f,hasPageIcon:p,hasTitle:g,hasDescription:S,isEmbedded:b,isFormPublic:y}=(0,i().K8)((()=>{const e=d.getFormState();if(!e)return{};const t=e.formBlockStore,o=(0,v().q4_)(t.getTitleValue()),r=(0,v().q4_)(t.getFormDescriptionStore().getValue());return{hasCoverImage:Boolean(t.getCover()),hasPageIcon:Boolean(t.getIcon()),hasTitle:""!==o,hasDescription:""!==r,isEmbedded:Boolean(e.aliasStore),isFormPublic:t.getIsFormPublic()}}),[d]),{collectionSchema:x,questionError:I,propertyId:k}=(0,i().K8)((()=>{var e;const o=d.getFormState();if(!o)throw new Error("FormDataStore not loaded");return{collectionSchema:o.collectionSchema,questionError:d.getQuestionError(t.id),propertyId:null===(e=t.getConfig())||void 0===e?void 0:e.propertyId}}),[d,t]),A=(0,i().K8)((()=>{var e;const o=null===(e=t.getConfig())||void 0===e?void 0:e.propertyId;if(x&&o)return(0,u()._g)({schema:x,property:o})}),[x,t]),w=(0,ee().Vm)({formQuestionStore:t,propertySchema:A}),C=(0,i().K8)((()=>t.isRequired()),[t]),F=(0,i().K8)((()=>"required"===I?l.formatMessage(rt.requiredError):"invalid_number"===I?l.formatMessage(rt.invalidNumericInputError):"invalid_email"===I?l.formatMessage(rt.invalidEmailError):"invalid_url"===I?l.formatMessage(rt.invalidUrlError):"invalid_phone_number"===I?l.formatMessage(rt.invalidPhoneNumberError):void 0),[l,I]);(0,Qe().b)(O,(()=>({formQuestionStore:t,getNode:()=>m.current})),[t,m]);const _=(0,s().IS)((e=>({container:{marginTop:!f&&!p&&!g&&!S&&0===a&&b&&y?0:30,marginBottom:16}})),[f,p,g,S,a,b,y]);if(!k||!A)return null;const M=(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(tt().j,{formMode:"viewer",disabled:!0,formQuestionStore:t,onChange:()=>{}}),(0,ne.jsx)(Ge().P,{disabled:!0,formQuestionStore:t,formMode:"viewer"}),(0,c().OG)(A)&&(0,ne.jsx)(et().A,{formQuestionStore:t,propertySchema:A,formMode:"viewer"}),(0,ne.jsxs)(Ye().VP,{gap:"file"===(null==A?void 0:A.type)?0:8,children:[(0,ne.jsx)(Ze().m,{store:o,property:k,disabled:!1,locked:!0,format:$e().j.FormViewer,blockPropertyValueOverlayStore:Xe().A,collectionStore:n,tableWrap:!1,formQuestionStore:t,formDataStore:d,focusButtonAfterClose:!0},k),(0,ne.jsx)(Je().R,{id:`form-question-error-${k}`,error:F})]})]});return"multi_select"===A.type?(0,ne.jsx)("fieldset",{style:_.container,ref:m,"aria-required":C,"aria-labelledby":`form-description-${null==t?void 0:t.id}`,...w?{role:"radiogroup"}:{},children:M}):(0,ne.jsx)("div",{style:_.container,ref:m,children:M})}const rt=(0,h().YK)({requiredError:{id:"FormBlock.questionError.required",defaultMessage:"This question is required"},invalidNumericInputError:{id:"FormBlock.questionError.invalidNumericInput",defaultMessage:"Invalid number"},invalidEmailError:{id:"FormBlock.questionError.invalidEmail",defaultMessage:"Invalid email"},invalidUrlError:{id:"FormBlock.questionError.invalidUrl",defaultMessage:"Invalid URL"},invalidPhoneNumberError:{id:"FormBlock.questionError.invalidPhoneNumber",defaultMessage:"Invalid phone number"}});function nt(e){const{store:t,aliasStore:s,innerRenderLoading:a}=e,l=(0,n().v3)(),d=(0,r.useRef)(null),u=(0,i().uB)(void 0,o(132174).A),[m,f]=(0,r.useState)(!0),[p,v]=(0,r.useState)(!1),[h,S]=(0,r.useState)(),{collectionSchema:b,relationPropertyIdToIsCollectionPublicMap:y,submitFormState:x,isCustomizationSupported:I}=(0,i().K8)((()=>{const e=u.getFormState();return{collectionSchema:null==e?void 0:e.collectionSchema,relationPropertyIdToIsCollectionPublicMap:null==e?void 0:e.relationPropertyIdToIsCollectionPublicMap,submitFormState:null==e?void 0:e.submitFormState,isCustomizationSupported:(null==e?void 0:e.isCustomizationSupported)??!1}}),[u]),A=(0,o(47170).O)(),{blockType:w,isFormClosed:C,isFormDeleted:_}=(0,i().K8)((()=>({blockType:null==t?void 0:t.getType(),isFormClosed:null==t?void 0:t.getIsFormClosed(),isFormDeleted:t.pathIsDead()})),[t]),M=(0,i().K8)((()=>null==t?void 0:t.getSiteStore()),[t]),B=(0,i().K8)((()=>{var e;if(!t||!t.getIsFormPublic())return!1;if(!M)return!1;const o=null===(e=M.getHeader())||void 0===e?void 0:e.hideWatermark;return!I||!o}),[M,t,I]),j=(0,i().K8)((()=>!l.currentUser.isLoggedIn()),[l.currentUser]),P=(0,i().K8)((()=>p&&!b),[b,p]),R=function(e,t,o,s){const a=(0,n().v3)(),[l]=(0,r.useState)((()=>new(G().A)({name:"FormBlockRecordCache"}))),{isFormClosed:d,isFormPublic:u}=(0,i().K8)((()=>({isFormClosed:null==e?void 0:e.getIsFormClosed(),isFormPublic:null==e?void 0:e.hasSitePublicPermission()})),[e]);l.addCacheFallback(a.defaultRecordCache.inMemoryRecordCache);const m=a.currentUser.id,f=(0,i().K8)((()=>{if(!e||d)return;if(!o)return;const t=(0,ee().Dx)(e);if(!t)throw new Error("No layout store found from block");return t}),[e,d,o]),p=(0,i().K8)((()=>{if(!t)return;const o=null==f?void 0:f.getNormalizedFormQuestionStoresForFormLayout({collectionSchema:t});return o&&o.every((e=>e.isReady()))?o.filter((o=>{const r=o.getConfig();if(!r)throw new Error("Question config must be present");const n=r.propertyId;if(!n)return!1;const i=t[n],a=null==i?void 0:i.type;if(e&&u&&a){if("person"===a)return!1;if("relation"===a&&s&&!s[n])return!1}if(!i||!(0,c().Sg)(i))return!1;if("select"===i.type||"multi_select"===i.type){const e=i.options;if(!e||0===e.length)return!1}return!0})):void 0}),[t,e,u,f,s]),g=(0,i().K8)((()=>p&&p.every((e=>e.isReady()))),[p]),[v,h]=(0,r.useState)({areAllRecordsReady:!1});return(0,r.useEffect)((()=>{if(v.areAllRecordsReady)return;if(!(e&&t&&f&&f.isReady()&&p&&g))return;l.setModelAndRole({pointer:e.pointer,userId:m},e.getModel(),"reader");const o=new(Y().Bv)(a,e.pointer,{inMemoryRecordCache:l});l.setModelAndRole({pointer:f.pointer,userId:m},f.getModel(),"reader");const r=Y().K_.createChildStore(o,f.pointer),n=[];for(const e of p)l.setModelAndRole({pointer:e.pointer,userId:m},e.getModel(),"reader"),n.push(Y().c7.createChildStore(r,e.pointer));h({areAllRecordsReady:!0,nonReactiveFormBlockStore:o,nonReactiveLayoutStore:r,nonReactiveFormQuestionStores:n})}),[m,a,p,l,f,g,v.areAllRecordsReady,e,t]),v}(t,b,p,y),z=(0,r.useCallback)((e=>{var t;if(!e)return null===(t=d.current)||void 0===t||t.disconnect(),void(d.current=null);d.current=new ResizeObserver((e=>{const t=e[0].contentRect.width;t>880&&"wide"!==h&&S("wide"),t>440&&t<=880&&"medium"!==h&&S("medium"),t<=440&&"narrow"!==h&&S("narrow")})),d.current.observe(e)}),[h]);if((0,o(852507).l)((async()=>{var e,r,n;const i=l.currentUser.id,a=await k().callApi({eventName:"getFormData",environment:l,data:{formId:t.id,spaceId:A},userId:i});"failed"!==a.type?(u.setState({isLoaded:!0,collectionSchema:a.data.collectionSchema,layoutId:a.data.layoutId,collectionId:a.data.collectionId,relationPropertyIdToIsCollectionPublicMap:a.data.relationPropertyIdToIsCollectionPublicMap,aliasStore:s,filePropertyIdToFormFiles:{},formBlockStore:t,formQuestionStores:void 0,questionIdsVisibleAtLastSubmissionAttempt:[],formQuestionErrorMap:new Map,submitFormState:{type:"notSubmitted"},questionsAndAnswers:[],maxFileSizeMb:(null===(e=a.data.additionalFeatures)||void 0===e?void 0:e.maxFileSizeMb)??o(308145).$5,isCustomizationSupported:(null===(r=a.data.additionalFeatures)||void 0===r?void 0:r.customization)??!1,conditionalLogicEnabled:(null===(n=a.data.additionalFeatures)||void 0===n?void 0:n.advanced)??!1}),v(!0),(0,E().u4)({environment:l,event:{eventName:"form_viewer_visit",eventProperties:{form_id:t.id,is_public_form:t.hasSitePublicPermission(),is_embedded_form:void 0!==s}}})):o(435009).oo({environment:l,url:g().JZ.root,redirect:!0})})),(0,r.useEffect)((()=>{R.areAllRecordsReady&&u.updateFormState({formQuestionStores:R.nonReactiveFormQuestionStores,formBlockStore:R.nonReactiveFormBlockStore})}),[u,R]),(0,r.useEffect)((()=>{(async()=>{await o(130636).m.load().then((e=>{f(!1)}))})()}),[]),!t||"form"!==w)return null;const D=a?a():null;return!p||m?D:P?(0,ne.jsx)(le,{formDisplayState:{type:"inaccessible"},formDataStore:u,aliasStore:s}):C||_?(0,ne.jsx)(le,{formDisplayState:{type:"closedOrDeleted"},formDataStore:u,aliasStore:s}):R.areAllRecordsReady?"submittedWithError"===(null==x?void 0:x.type)?(0,ne.jsx)(le,{formDisplayState:{type:"submissionError"},formDataStore:u,aliasStore:s}):"submittedSuccessfully"===(null==x?void 0:x.type)?(0,ne.jsx)(Be,{ref:z,formDataStore:u,formBlockWidth:h,aliasStore:s,isNotionBrandingOn:B}):(0,ne.jsx)(F().A,{capture:!0,allowEsc:!0,allowBackspace:!0,allowUndo:!0,allowCopyPaste:!0,allowMenuList:!0,allowSearch:!0,allowOpenLinkMenu:!0,render:e=>(0,ne.jsxs)("div",{ref:z,...e,style:{width:"100%",cursor:"default"},children:[j&&B?(0,ne.jsx)(We,{}):null,(0,ne.jsx)(oe().o.Provider,{value:u,children:(0,ne.jsx)(N().Mx,{type:s&&"narrow"===h?"form-viewer-embed":"form-viewer",style:{minHeight:"100%"},children:(0,ne.jsx)(st,{layoutStore:R.nonReactiveLayoutStore,aliasStore:s,formBlockWidth:h})})})]})}):D}const it=r.memo(nt);function st(e){let{layoutStore:t,aliasStore:o,formBlockWidth:r}=e;return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(at,{layoutStore:t,aliasStore:o,formBlockWidth:r}),(0,ne.jsx)(lt,{layoutStore:t,aliasStore:o,formBlockWidth:r})]})}function at(e){let{layoutStore:t,aliasStore:o,formBlockWidth:s}=e;const l=(0,n().v3)(),c=(0,oe().H)(),{collectionSchema:d,formBlockStore:u}=(0,i().K8)((()=>{const e=c.getFormState();if(!e)throw new Error("FormDataStore not loaded");const t=e.collectionSchema;if(!t)throw new Error(`Collection schema not found in FormHeader (schema: ${t})`);return{collectionSchema:t,formBlockStore:e.formBlockStore}}),[c]),m=(0,i().K8)((()=>{var e;return Boolean(o&&u.getModel()&&(null===(e=u.getModel())||void 0===e?void 0:e.isNonverifiedContentClassification()))}),[o,u]),f=(0,i().K8)((()=>(null==t?void 0:t.getModules({collectionSchema:d}).form_layout_schema)??[]),[d,t]).filter((e=>(0,p().cy)("form_layout_schema",e))),[g]=(0,r.useState)(a().default.createValue(!1,{name:"headerFocusStore"}));return(0,ne.jsx)(ne.Fragment,{children:f.map((e=>{if("formTitle"===e.type)return(0,ne.jsxs)(N().vV,{children:[(0,ne.jsx)(K().zE,{formBlockStore:u,disabled:!0,formMode:"viewer",headerFocusStore:g,onHeaderMouseEnter:S().lQ,onHeaderMouseLeave:S().lQ,aliasStore:o,formBlockWidth:s}),m&&(0,ne.jsx)(dt,{}),(0,ne.jsx)(ct,{formBlockStore:u})]},e.id);if("cover"===e.type)return(0,ne.jsx)(U().f,{store:u,isEditable:!1,paddingX:0,pageCoverHeight:o?L().B:(0,B().Qs)(l),onMouseEnter:S().lQ,onMouseLeave:S().lQ},e.id);throw new Error("Unexpected module type in header")}))})}function lt(e){let{layoutStore:t,aliasStore:o,formBlockWidth:a}=e;const l=(0,n().v3)(),f=(0,h().tz)(),p=(0,oe().H)(),g=new(Y().md)(l,{table:"collection",id:(0,b().Ay)(),spaceId:(0,b().Ay)()}),{formBlockStore:S,spaceId:x,formQuestionStores:w,collectionSchema:F,collectionId:B,filePropertyIdToFormFiles:P,submitFormState:L}=(0,i().K8)((()=>{const e=p.getFormState();if(!e)throw new Error("FormDataStore not loaded");const t=e.collectionId,o=e.collectionSchema;if(!t||!o)throw new Error(`Collection schema or ID not found in FormBody (schema: ${o}, id: ${t})`);const r=e.formBlockStore;return{formBlockStore:r,spaceId:r.getSpaceId(),formQuestionStores:e.formQuestionStores,collectionId:t,collectionSchema:o,filePropertyIdToFormFiles:e.filePropertyIdToFormFiles,submitFormState:e.submitFormState}}),[p]);(0,r.useEffect)((()=>{if(o||!w)return;const e=()=>({form_id:S.id,is_public_form:S.hasSitePublicPermission(),question_count:w.length,question_count_bucket:w.length>10?"gt_10":"lte_10",includes_page_origin_to_app_start:!0});if(Z().A.state.initialRenderCompleted){const t=$().A.popTimings();t&&H().default.measureAfterNextFlush({metricName:"navigation_form_render",startTime:t.navigationStart},{environment:l,getData:e})}else A().setInitialRenderCompleted(),H().default.measureFromPageOriginAfterNextFlush("initial_form_render",{environment:l,getData:e,shouldSendIfStatsigNotInitialized:!0})}),[o,l,S,w]);const K=(0,i().K8)((()=>t.getModules({collectionSchema:F}).form_layout_schema.filter((e=>"formQuestion"===e.type))),[t,F]),U=(0,i().K8)((()=>t.getModules({collectionSchema:F}).form_conditional_modules),[t,F]),[q,G]=(0,r.useState)(K),ee=(0,i().K8)((()=>{if(w)return(0,I().MU)(w.map((e=>[e.id,e])))}),[w]),re=(0,i().K8)((()=>q.map((e=>null==ee?void 0:ee[e.formQuestionId])).filter(y().O9)),[q,ee]),ie=(0,X().W)({inMemoryRecordCacheName:"FormBlockTemporaryRecordCache",collectionSchema:F,collectionId:B,spaceId:x,formMode:"viewer"}),se=(0,i().K8)((()=>Q().default.isUploading((e=>(0,T().pZ)(e,ie.id)))),[ie]),ae=(0,i().K8)((()=>{var e;return(null===(e=p.getFormState())||void 0===e?void 0:e.isCustomizationSupported)??!1}),[p]),le=(0,j().t)({store:S}),ce=(0,i().K8)((()=>{const e=W().default.state.currentSpaceStore;return null==e?void 0:e.canRead()}),[]),de=(0,i().K8)((()=>!!le||!S.getIsFormPublic()&&z().qw(S)&&(!l.currentUser.isLoggedIn()||!ce)),[S,l.currentUser,le,ce]),{customSubmitButtonColor:ue,customSubmitButtonText:me}=(0,i().K8)((()=>{var e,t;return{customSubmitButtonColor:null===(e=S.getFormConfigStore().getKeyStore("custom_submit_button_color"))||void 0===e?void 0:e.getValue(),customSubmitButtonText:null===(t=S.getFormConfigStore().getKeyStore("custom_submit_button_text"))||void 0===t?void 0:t.getValue()}}),[S]),fe=(0,r.useCallback)((async()=>{var e,r,n;p.updateFormState({questionIdsVisibleAtLastSubmissionAttempt:re.map((e=>e.id))}),p.updateFormErrorMap(re,f);const i=null===(e=p.getFormState())||void 0===e?void 0:e.collectionSchema;if(!(S&&t&&ie&&i))return;const s=null===(r=p.getFormState())||void 0===r?void 0:r.formQuestionErrorMap;if(s&&s.size>0)return void(()=>{var e;const t=null==re?void 0:re.find((e=>Boolean(p.getQuestionError(e.id))));if(!t)return;const o=null===(e=O.findFormQuestionContainer({formQuestionStore:t}))||void 0===e?void 0:e.getNode();o&&(0,D().$v)({element:o,environment:l,blockAlignment:"nearest",inlineAlignment:"nearest",additionalPadding:{top:100,bottom:100}})})();if(se)return void C().D6({label:(0,ne.jsx)(h().sA,{id:"FormBlock.submitForm.fileUploadInProgress",defaultMessage:"Please wait for all file uploads to complete before submitting form."})});p.updateFormState({submitFormState:{type:"submitting"}});const a=[];for(const t of re??[]){var m;const e=null===(m=t.getConfig())||void 0===m?void 0:m.propertyId;if(!e)continue;const o=(0,u()._g)({schema:i,property:e});if(!o||!c().js[o.type])continue;const r=o.type,n=(0,R().r4)(t.getNameStore().getValue(),t.getNameStore()),s=(0,te().cf)({questionType:r,filePropertyIdToFormFiles:P,draftSubmissionPageStore:ie,propertyId:e});a.push({questionType:r,question:n,answer:s})}p.updateFormState({questionsAndAnswers:a});const g=ie.getProperties();Object.entries(g).forEach((e=>{let[t,o]=e;null!=re&&re.some((e=>{var o;return(null===(o=e.getConfig())||void 0===o?void 0:o.propertyId)===t}))||delete g[t]}));if(!(null==re?void 0:re.some((e=>{var t;return(null===(t=e.getConfig())||void 0===t?void 0:t.propertyId)===d().rn})))){const e=(0,v().x9d)(f.formatMessage({id:"FormBlock.submitForm.defaultTitle",defaultMessage:"New submission"}));g[d().rn]=e}const b=(0,I().MU)((0,y().WP)(P).map((e=>{let[t,o]=e;return[t,o.map((e=>e.token))]}))),x=S.getIsFormPublic()?void 0:l.currentUser.id,A=await k().callApi({eventName:"submitForm",environment:l,data:{formId:S.id,blockProperties:g,spaceId:S.getSpaceId(),filePropertyIdToTokens:b},userId:x});if(p.updateFormState({submitFormState:"failed"===A.type?{type:"submittedWithError"}:{type:"submittedSuccessfully",responseBlockId:A.data.submissionBlockId}}),"success"===A.type&&o){const e=V().K.find((e=>e.getBlockStore().id===o.id)),t=null==e?void 0:e.getNode();t instanceof Element&&(0,D().$v)({element:t,environment:l,blockAlignment:"start",inlineAlignment:"nearest",additionalPadding:{top:50,bottom:50}})}(0,E().u4)({environment:l,event:{eventName:"submit_form_response",eventProperties:{form_id:S.id,successful_submission:"success"===A.type,is_public_form:S.hasSitePublicPermission(),is_embed:void 0!==o,submission_block_id:"success"===A.type?A.data.submissionBlockId:void 0,is_anonymous:S.hasSitePublicPermission()||S.getIsFormAnonymousSubmissionEnabled(),submission_permissions:S.getFormSubmissionPermissions(),has_conditional_logic:Boolean(null===(n=p.getFormState())||void 0===n?void 0:n.conditionalLogicEnabled)}}})}),[p,f,S,t,ie,se,P,l,o,re]);(0,i().K8)((()=>{var e;if(!U)return;if(null===(e=p.getFormState())||void 0===e||!e.conditionalLogicEnabled)return;const t=(0,J().jD)({questionModulesToVisit:K,draftSubmissionPageStore:ie,collectionSchema:F,nestedQuestionModules:U,intl:f});G(t)}),[F,K,ie,U,f,p]),(0,i().K8)((()=>{p.getFormState()&&p.updateFormErrorMap(re,f)}),[p,f,re]);const pe=(0,s().IS)((e=>({submitButton:{marginTop:o?16:32,padding:"4px 12px",fontSize:16,lineHeight:1.75,borderRadius:6,...ae&&ue&&"gray"!==ue?{background:m().l8[e.mode][ue]}:{}},submitButtonHover:{...ae&&ue&&"gray"!==ue?{opacity:.8,background:m().l8[e.mode][ue]}:{}},submitButtonPressed:{...ae&&ue&&"gray"!==ue?{opacity:.5,background:m().l8[e.mode][ue]}:{}}})),[o,ae,ue]),ge=(0,i().K8)((()=>{let e=96;return o&&(e=48,o&&"narrow"===a&&(e-=te().Yj)),e}),[o,a]),ve=q.map(((e,t)=>{const o=null==ee?void 0:ee[e.formQuestionId];return o?(0,ne.jsx)(ot,{formQuestionStore:o,draftSubmissionPageStore:ie,collectionStore:g,questionIndex:t},e.id):null})),he=(0,r.useMemo)((()=>"submitting"===(null==L?void 0:L.type)?(0,ne.jsx)(h().sA,{id:"FormBlock.submitButton.loading",defaultMessage:"Submitting..."}):ae&&me?me:(0,ne.jsx)(h().sA,{id:"FormBlock.submitButton.title",defaultMessage:"Submit"})),[L,ae,me]);return(0,ne.jsxs)(N().vV,{children:[ve,(0,ne.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,ne.jsx)(_().A,{color:"black",size:"xl",disabled:de||"submitting"===(null==L?void 0:L.type),style:pe.submitButton,onClick:fe,hoveredStyle:pe.submitButtonHover,pressedStyle:pe.submitButtonPressed,children:he}),(0,ne.jsx)(ut,{formBlockStore:S}),(0,ne.jsx)(M().A,{size:ge})]})]})}function ct(e){let{formBlockStore:t}=e;const o=(0,h().tz)(),r=(0,i().K8)((()=>{var e;return null===(e=W().default.state.currentUserStore)||void 0===e?void 0:e.getModel()}),[]),{isAnonymousSubmission:n,isPublic:a}=(0,i().K8)((()=>({isAnonymousSubmission:t.getIsFormAnonymousSubmissionEnabled(),isPublic:t.getIsFormPublic()})),[t]),c=(0,i().K8)((()=>Boolean(t.getIcon())||Boolean(t.getCover())||!t.isEmptyTitle()),[t]),d=(0,s().IS)((e=>({container:{background:"light"===e.mode?e.accentColors.gray[30]:e.accentColors.translucentGray[100],color:e.text.secondary,padding:"6px 10px",borderRadius:6,display:"flex",gap:8,width:"fit-content",fontSize:14,marginTop:c?24:0}})),[c]),u=(0,i().K8)((()=>{if(r)return(0,ne.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,P().w)({actor:r,size:20,style:{marginRight:6}}),(0,l().lR)(o,r)]})}),[r,o]);return a?null:(0,ne.jsx)("div",{style:d.container,children:!r||n?(0,ne.jsx)(h().sA,{...te().Ai.anonymousSubmissionLabel}):(0,ne.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,ne.jsx)(h().sA,{id:"formBlock.formResponderWarning.label",defaultMessage:"Submitting response as"}),(0,ne.jsx)(M().A,{size:6}),u]})})}function dt(){const e=(0,s().IS)((e=>({container:{background:e.accentColors.red[100],color:e.text.uiRedPrimary,padding:"12px 10px",borderRadius:6,display:"flex",gap:8,width:"fit-content",fontSize:16,fontWeight:x().Wy.medium,marginTop:20}})),[]);return(0,ne.jsxs)("div",{style:e.container,children:[(0,ne.jsx)("div",{style:{padding:"4px 2px"},children:(0,f().d)({width:18,height:18})}),(0,ne.jsx)(h().sA,{id:"formBlock.embedFormContentWarning.label",defaultMessage:"This form has been flagged as unsafe. Only proceed if you trust the source."})]})}function ut(e){const t=(0,n().v3)(),o=(0,i().K8)((()=>e.formBlockStore.getIsFormPublic()),[e.formBlockStore]),r=(0,i().K8)((()=>e.formBlockStore.id),[e.formBlockStore]),a=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"flex-start",color:e.text.secondary,fontSize:12},reportAbuse:{textDecoration:"underline",cursor:"pointer"}})),[]);return o?(0,ne.jsxs)("div",{style:a.container,children:[(0,ne.jsx)(M().A,{size:24}),(0,ne.jsx)(h().sA,{id:"formBlock.publicFormWarning.label",defaultMessage:"Never submit sensitive personal information, like passwords, through Notion Forms."}),(0,ne.jsx)("span",{role:"button",style:a.reportAbuse,onClick:()=>{w().Hi(t,r)},children:(0,ne.jsx)(h().sA,{id:"formBlock.publicFormWarning.reportAbuse",defaultMessage:"Report abuse"})})]}):null}},517592:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});o(296540);var r=o(474848);const n=(0,o(340498).wt)("notionLogoStroked",{viewBox:"0 0 41 42",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M4.253 2.903h0-.01c-1.02.09-1.806.481-2.322 1.142-.5.642-.671 1.441-.671 2.21v23.228c0 1.267.47 2.316 1.416 3.577h0l.006.008 4.99 6.477h0l.005.005c.465.593.963 1.017 1.617 1.256.63.23 1.33.26 2.138.221h.01l24.652-1.49h.008c1.137-.08 2.038-.396 2.632-1.071.588-.668.746-1.543.746-2.431V9.904c0-.584-.133-1.05-.508-1.486-.27-.311-.669-.602-1.113-.925a54.305 54.305 0 01-.176-.13l-.007-.004-.005-.004-6.772-4.761c-.838-.609-1.516-1.017-2.365-1.21-.824-.187-1.75-.156-3.047-.044L4.253 2.903z",fill:"#fff",stroke:"#fff",strokeWidth:"1.5"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.257 3.158L5.176 4.637c-1.62.14-2.184 1.197-2.184 2.464v21.971c0 .987.352 1.83 1.198 2.959l4.72 6.126c.776.987 1.48 1.198 2.96 1.127l23.32-1.408c1.973-.14 2.537-1.057 2.537-2.606V10.552c0-.801-.316-1.032-1.25-1.714l-.16-.117-6.41-4.507c-1.55-1.126-2.184-1.268-4.65-1.056zM12.4 10.146c-1.904.129-2.337.158-3.418-.72l-2.75-2.183c-.28-.283-.14-.635.565-.705L26.102 5.13c1.62-.141 2.466.423 3.1.916l3.311 2.394c.141.07.493.492.07.492L12.645 10.13l-.245.016zM10.179 35.06V14.074c0-.916.281-1.338 1.126-1.41l22.898-1.337c.777-.07 1.128.423 1.128 1.338v20.844c0 .916-.14 1.691-1.41 1.761l-21.91 1.268c-1.269.07-1.832-.352-1.832-1.48zm21.63-19.86c.141.635 0 1.268-.635 1.34l-1.056.21v15.492c-.916.493-1.761.775-2.466.775-1.128 0-1.41-.352-2.255-1.408l-6.905-10.845v10.493l2.185.493s0 1.267-1.763 1.267l-4.86.282c-.142-.282 0-.986.492-1.127l1.269-.351V17.947l-1.761-.142c-.141-.634.21-1.549 1.197-1.62l5.214-.351 7.187 10.986V17.1l-1.832-.21c-.14-.776.422-1.339 1.127-1.409l4.863-.283z",fill:"#222"})]})})},524461:(e,t,o)=>{"use strict";o.d(t,{FF:()=>u,Pe:()=>l,Ru:()=>d,pZ:()=>c});o(16280);var r=o(296540),n=()=>o(892632),i=()=>o(518888);function s(e,t){return`${e}-${t}`}function a(e,t,o){return`${s(e,t)}-${o}`}function l(e,t,o){const r=s(t,o);return e.startsWith(r)}function c(e,t){return e.startsWith(t)}function d(e){const{blockStore:t,propertyId:o,environment:r,saveUploadedFile:n}=e;return m({blockStore:t,propertyId:o,environment:r,saveUploadedFile:n})}function u(e){const{blockStore:t,propertyId:o,environment:r,onSingleFileStartCallback:n,onSingleFileErrorCallback:i,formMetadata:s}=e,{spaceId:a,formId:l}=s,c=m({blockStore:t,propertyId:o,environment:r,onSingleFileStartCallback:n,onSingleFileErrorCallback:i,formMetadata:{spaceId:a??"",formId:l??""}});return a&&l?c:e=>{throw new Error("spaceId and formId are not defined")}}function m(e){const{blockStore:t,propertyId:o,environment:s,onSingleFileStartCallback:l,onSingleFileErrorCallback:c,saveUploadedFile:d,formMetadata:u}=e;return(0,r.useCallback)((e=>{const r=(e,r,n)=>{const s=a(t.pointer.id,o,r);i().default.setKeyState(s,{progressPercent:0,file:e.file,name:e.name,size:e.size}),l&&n&&l({...n,globalFileUploadStoreKey:s})},m=(e,r)=>{let{progressPercent:n,progressText:s}=e;const l=a(t.pointer.id,o,r),c=i().default.getKeyState(l);if(!c)throw new Error("uploading file cannot be found in global file upload state");i().default.setKeyState(l,{...c,progressPercent:n,progressText:s})},f=(e,r)=>{const n=a(t.pointer.id,o,r),s=i().default.getKeyState(n);if(i().default.setKeyState(n,void 0),!s||null==s||!s.name)throw new Error("completed file upload cannot be found in global file upload state");d&&d({name:null==s?void 0:s.name,url:e},void 0)},p=(e,r)=>{const n=a(t.pointer.id,o,r);i().default.setKeyState(n,void 0),c&&c(n)},g=u?{environment:s,files:e,bucket:"temporary",formMetadata:u,onSingleFileStart:r,onSingleFileProgress:m,onSingleFileComplete:f,onSingleFileError:p}:{environment:s,files:e,bucket:"secure",record:t.pointer,isFileBlock:!1,onSingleFileStart:r,onSingleFileProgress:m,onSingleFileComplete:f,onSingleFileError:p};n().Zn(g)}),[d,t.pointer,s,o,u,l,c])}},614415:(e,t,o)=>{"use strict";o.d(t,{Wx:()=>s,fM:()=>r,l9:()=>n,sM:()=>i});const r=new(o(645873).O2)("framer-motion",(async()=>await Promise.all([o.e(44711),o.e(53321),o.e(31895),o.e(37043)]).then(o.bind(o,492869))));function n(e){return e.useAnimate()}function i(e){return e.useAnimation()}function s(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return e.useInView(...o)}},626466:(e,t,o)=>{"use strict";o.r(t),o.d(t,{arrowChevronSingleDownFillIcon:()=>n,iconDefinition:()=>r});o(296540);const r={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M9.381 13.619a.875.875 0 0 0 1.238 0l5.4-5.4A.875.875 0 1 0 14.78 6.98L10 11.763 5.219 6.98A.875.875 0 1 0 3.98 8.22z"})},n=(0,o(340498).wt)("arrowChevronSingleDownFill",r)},697430:(e,t,o)=>{"use strict";o.d(t,{K:()=>n});var r=()=>o(989423);function n(e){let{environment:t,source:o,sourceData:n,formId:i}=e;(0,r().u4)({environment:t,event:{eventName:"forms_growth_click",eventProperties:{source:o,source_data:n,form_id:i}}})}},711901:(e,t,o)=>{"use strict";o.d(t,{L:()=>n});o(296540);var r=o(474848);const n=(0,o(340498).wt)("appleLogo",{viewBox:"0 0 170 170",svg:(0,r.jsx)("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})})},725649:(e,t,o)=>{"use strict";function r(e){return!(!e||"askUserToPick"in e)}function n(e){if(!e||!("askUserToPick"in e))return e}function i(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}o.d(t,{DK:()=>n,K$:()=>r,j6:()=>i})},736026:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});class r extends(()=>o(757695))().default{getInitialState(){return{open:!1}}}const n=new r},754199:(e,t,o)=>{"use strict";function r(e){return/^(\+\d{1,2}[\s.-])?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$/.test(e)}function n(e){return/^[0-9 .()\-\+]{7,}$/.test(e)}o.d(t,{W:()=>r,e:()=>n})},888325:(e,t,o)=>{"use strict";function r(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>r})},925846:(e,t,o)=>{"use strict";o.d(t,{q:()=>n});o(296540);var r=o(474848);const n=(0,o(340498).wt)("androidLogo",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"})})},966759:(e,t,o)=>{"use strict";o.d(t,{i:()=>i});var r=()=>o(476492),n=()=>o(175213);function i(e){const{environment:t,collectionContextStore:o,property_type:i,from:s,property:a,...l}=e,c=(0,r().sl)(o)||{};(0,n().G)(t,{property:a,property_type:i,from:s,...l,...c})}},985595:(e,t,o)=>{"use strict";o.d(t,{n:()=>n});o(296540);var r=o(474848);const n=(0,o(340498).wt)("mailRound",{viewBox:"0 0 17 12",svg:(0,r.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},997752:(e,t,o)=>{"use strict";o.d(t,{t:()=>l});var r=()=>o(484714),n=()=>o(847249),i=()=>o(836251),s=()=>o(792415),a=()=>o(281401);function l(e){const{store:t}=e,o=(0,r().v3)();return(0,n().K8)((()=>{if(!t)return!1;const{device:e}=o;if(e.isMobile||!(0,i().w6)(o))return!1;if(!(0,a().K6)(t,o))return!1;const{publicPageData:r}=s().A.state;return!(null==r||!r.template)}),[o,t])}}}]);