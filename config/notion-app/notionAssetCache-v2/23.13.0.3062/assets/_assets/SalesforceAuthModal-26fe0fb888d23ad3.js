"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[75155],{674582:(e,t,n)=>{n.d(t,{m:()=>d});n(296540);var o=()=>n(401497),i=()=>n(442277),s=()=>n(426388),r=()=>n(284371),l=n(474848);function d(e){const{title:t,description:n,integrationIconUrl:d,integrationIcon:a,children:c,styles:u}=e,h=(0,o().IS)((e=>({header:{fontWeight:r().Wy.medium,fontSize:17,textAlign:"center",marginTop:8},iconGroup:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gridColumnGap:9,marginBottom:9},arrowRight:{width:20,height:20,opacity:.4,fontWeight:r().Wy.bold,padding:3},notionLogo:{height:40,width:40,color:e.regularIconColor},icon:{height:40,width:40}})),[]);return(0,l.jsxs)("div",{style:null==u?void 0:u.wrapper,children:[(0,l.jsxs)("div",{style:{...h.iconGroup,...null==u?void 0:u.iconGroup},children:[d?(0,l.jsx)("img",{style:{...h.icon,...null==u?void 0:u.icon},src:d,alt:"Integration Icon"}):a,(0,i().B)(h.arrowRight),(0,s().S)(h.notionLogo)]}),(0,l.jsx)("div",{style:{...h.header,...null==u?void 0:u.header},children:t}),(0,l.jsx)("div",{style:null==u?void 0:u.description,children:n}),c]})}},693163:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});n(898992),n(672577);var o=n(296540),i=()=>n(484714),s=()=>n(847249),r=()=>n(401497),l=()=>n(66913),d=()=>n(959013),a=()=>n(640653),c=()=>n(859004),u=()=>n(351360),h=()=>n(994641),g=()=>n(704152),p=()=>n(493823),f=()=>n(760217),y=()=>n(297872),m=()=>n(676007),x=()=>n(933117),A=()=>n(674582),v=n(474848);const j=(0,d().YK)({headerTitle:{id:"salesforceAuthModal.header.title",defaultMessage:"Connect to Salesforce"},integrationInfo:{id:"salesforceAuthModal.integrationInfo",defaultMessage:"Connect your Salesforce account to Notion to access your Salesforce data in Notion."},permissions:{id:"salesforceAuthModal.permissions",defaultMessage:"Permissions"},nonAdminUserWarning:{id:"salesforceAuthModal.nonAdminUserWarning",defaultMessage:"Only workspace admins can connect to Salesforce. Contact your admin to setup this integration."}}),B=[{key:"double_auth",title:(0,v.jsx)(d().sA,{id:"salesforceAuthModal.doubleAuth",defaultMessage:"Require authentication"}),description:(0,v.jsx)(d().sA,{id:"salesforceAuthModal.doubleAuthDescription",defaultMessage:"Members will be required to authenticate with Salesforce to use this integration."})},{key:"unrestricted",title:(0,v.jsx)(d().sA,{id:"salesforceAuthModal.unrestricted",defaultMessage:"Allow everyone to use this integration"}),description:(0,v.jsx)(d().sA,{id:"salesforceAuthModal.unrestrictedDescription",defaultMessage:"All members in your workspace will be able to use this integration without additional authentication."})}];function b(){const e=(0,i().v3)(),{open:t,selectedAccess:n,flowId:b,from:w}=(0,s().K8)((()=>{const e=h().A.state;return"auth"===e.type&&e.open?e:{open:!1,selectedAccess:void 0,flowId:void 0,from:void 0}}),[]),{spaceId:I,isAdminUser:k}=(0,s().K8)((()=>{const e=u().default.state.currentSpaceStore;return{spaceId:null==e?void 0:e.id,isAdminUser:(0,a().p4)(e)}}),[]),S=(0,o.useCallback)((e=>{const t=h().A.state;"auth"===t.type&&t.open&&h().A.setState({...t,selectedAccess:e.key})}),[]),M=(0,o.useCallback)((async()=>{I&&b&&w&&await c().jI({environment:e,spaceId:I,flowId:b,from:w,authType:"admin"})}),[b,w,e,I]),C=(0,d().tz)(),H=(0,r().IS)((e=>({wrapper:{padding:"20px 14px 10px 14px",minHeight:300,height:"100%",display:"flex",flexDirection:"column",gap:12},info:{flexGrow:1,height:"100%",fontSize:13},connectButton:{fontWeight:500,background:e.outlineBlueButtonHoveredBackground,textAlign:"center",justifyContent:"center"},connectButtonHoveredOrPressed:{background:e.outlineBlueButtonPressedBackground},selectButton:{display:"flex",alignItems:"center"},closeButton:{position:"absolute",top:14,right:14,zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:20,height:20},closeButtonHover:{background:e.buttonPressedBackground},closeButtonIcon:{width:14,fill:e.text.secondary}})),[]),T={items:B,getKey:e=>e.key,selectedItem:n&&B.find((e=>e.key===n)),onSelect:S,renderItem:e=>(0,v.jsx)(f().A,{...e,style:{width:"100%",paddingTop:6,paddingBottom:6},title:e.value.title,body:e.value.description,focused:!1}),width:"100%",renderOrigin:e=>{var t;return(0,v.jsx)(p().p,{...e,style:H.selectButton,children:n?null===(t=B.find((e=>e.key===n)))||void 0===t?void 0:t.title:"Select Access"})}};return(0,v.jsx)(m().A,{open:t,ariaLabel:C.formatMessage(j.headerTitle),ariaDescribedBy:"salesforce-auth-modal-description",innerStyle:{width:450,height:"fit-content",borderRadius:5,maxHeight:675,padding:6},render:()=>(0,v.jsx)(y().A,{capture:!0,allowEsc:!0,render:()=>(0,v.jsxs)("div",{style:H.wrapper,children:[(0,v.jsx)(g().A,{onClick:()=>{h().A.reset()},style:H.closeButton,hoveredStyle:H.closeButtonHover,children:(0,l().V)(H.closeButtonIcon)}),(0,v.jsx)(A().m,{integrationIconUrl:"/images/salesforce.png",title:(0,v.jsx)(d().sA,{...j.headerTitle}),description:k?(0,v.jsxs)("div",{style:H.info,children:[(0,v.jsx)("div",{style:{marginBottom:4},children:(0,v.jsx)(d().sA,{...j.integrationInfo})}),(0,v.jsx)("div",{style:{marginBottom:12},children:(0,v.jsx)(d().sA,{...j.permissions})}),(0,v.jsx)(x().A,{...T})]}):(0,v.jsx)("div",{style:H.info,children:(0,v.jsx)("div",{style:{marginBottom:4},children:(0,v.jsx)(d().sA,{...j.nonAdminUserWarning})})}),children:(0,v.jsx)(p().p,{isBlue:k,isGray:!k,disabled:!k,style:H.connectButton,hoveredStyle:H.connectButtonHoveredOrPressed,pressedStyle:H.connectButtonHoveredOrPressed,onClick:M,children:(0,v.jsx)(d().sA,{id:"connectedAppSettingsDiscoverItem.connectButton.label",defaultMessage:"Connect"})})})]})}),onDismiss:()=>{h().A.reset()}})}}}]);