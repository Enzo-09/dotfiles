"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22464,30733,49157,54518],{346:(e,t,n)=>{n.d(t,{MG:()=>g,T1:()=>m,a1:()=>v,dt:()=>f,kg:()=>h,lC:()=>y,n_:()=>b});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(187174),s=()=>n(645873),l=()=>n(941463),c=()=>n(441199),d=()=>n(749687),u=()=>n(737230),p=()=>n(756114);const m=new(s().O2)("PerformanceToolbar",(()=>Promise.all([n.e(96346),n.e(16471),n.e(85864),n.e(92845),n.e(71718),n.e(21194),n.e(17989),n.e(90625),n.e(37580),n.e(45624)]).then(n.bind(n,140401)))),g=(0,s()._h)(m,(e=>e.PerformanceToolbar)),f=(0,s()._h)(m,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function b(){const e=(0,i().v3)(),t=x("PerformanceToolbarStore"),n=x("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function y(){const e=x("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function v(){const e=(0,i().v3)(),t=x("createPerformanceToolbarMouseListeners"),n=x("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:m,updateSidebarExpanded:g,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:d().sidebarExpandedStore.state,sidebarWidth:d().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,o.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,m,g,f)}),[t,e,n,a,s,p,m,g,f])}function x(e){const t=h(),[{value:n}]=(0,a().Yb)((()=>t?m.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},6208:(e,t,n)=>{n.d(t,{L:()=>c,y:()=>l});var o=()=>n(847249),i=()=>n(798880),r=()=>n(959013),a=()=>n(351360),s=()=>n(630116);function l(e){const t=(0,r().tz)();return(0,o().K8)((()=>{const{currentSpaceStore:n}=a().default.state;if(!n||!e)return;return s().LU.createChildStore(n,{table:i().oo,id:e}).getDisplayName(t)}),[t,e])}function c(){const e=(0,r().tz)();return(0,o().K8)((()=>{const{currentUserStore:t}=a().default.state,n=null!=t&&t.isDefined()?t.getModel():void 0;return n?n.getDisplayName(e):void 0}),[e])}},10123:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(570551);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){(0,o().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},21735:(e,t,n)=>{n.d(t,{A:()=>r});class o extends(()=>n(757695))().default{getInitialState(){return{shouldUseEdgeCache:!1}}}const i=new o;n(604341).exposeDebugValue("EdgeCacheStore",i);const r=i},43972:(e,t,n)=>{n.d(t,{w:()=>l});n(296540);var o=()=>n(764880),i=()=>n(534177),r=()=>n(256863),a=()=>n(453697),s=n(474848);function l(e){const{actor:t}=e,n={size:e.size??14,style:{marginRight:2,...e.style}};return(0,o().H3)(t)?(0,s.jsx)(r().A,{botValue:t.asActor,...n}):(0,o().ps)(t)?(0,s.jsx)(a().A,{userValue:t.asActor,...n}):(0,o().h2)(t)?(0,s.jsx)(a().A,{userValue:void 0,...n}):void(0,i().HB)(t)}},53528:(e,t,n)=>{n.d(t,{OH:()=>s,T2:()=>l,do:()=>c});var o=()=>n(597777),i=()=>n(869190),r=()=>n(604995),a=()=>n(416504);function s(e){const{dateTime:t,intl:n,shortenDateAndRange:o}=e,a=r().C6.toPersistedDate(t.valueOf());return i().ZF({value:a,allowRelativeDates:!0,intl:n,shortenDateAndRange:o,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:n,userTimeZone:o,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=r().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return i().ZF({value:l,allowRelativeDates:!0,intl:n,userTimeZone:o,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:n}=e,s=r().C6.toPersistedDateRange(t),l=i().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:n,displayInUserTimezone:!0}),c=t.end.setZone((0,a().P)()),d=i().fU({start_time:c.toFormat(o().GE),humanReadable:!1,intl:n});return n.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:d})}},63467:(e,t,n)=>{n.d(t,{y:()=>d});var o=()=>n(637997),i=()=>n(267419);const r={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222))};let a=!1,s=!1;async function l(e){for(const[n,i]of Object.entries(e.emojiLocaleKeywords)){var t;o().fB[n]={...o().fB[n],keywords:[...i,...(null===(t=o().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:n,...o}=t;return{...o,emojiByName:{...n,...e.emojiByName}}}))}async function c(){if(a)return;const[e]=n(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const d=(0,n(279900).A)((async()=>{await async function(){s||(await l(await n.e(51872).then(n.bind(n,443716))),s=!0)}(),await c()}))},69447:(e,t,n)=>{n.d(t,{Lq:()=>o,WK:()=>r,nh:()=>i});const o=40,i=48,r=60},72307:(e,t,n)=>{n.d(t,{A:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},97059:(e,t,n)=>{n.d(t,{W:()=>f,w:()=>g});n(944114);var o=()=>n(585515),i=()=>n(577449),r=()=>n(161479),a=()=>n(545285),s=()=>n(763824),l=()=>n(780054),c=()=>n(870618),d=()=>n(670631),u=()=>n(227440),p=()=>n(508496),m=()=>n(540758);async function g(e){const{environment:t}=e;return(await s().lX(Object.keys(d().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:n}=e,s={page:{id:n,spaceId:(0,r().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},d=[];return await o().T(s,i().h.sideEffect((e=>((0,a().u)(e)&&d.push(e.id),Promise.resolve())),i().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await c().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==n?void 0:n.model})))),d}({environment:t,pageId:e})))).flat()}function f(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,m().Bd)(t)}},105819:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,pencilLineIcon:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,n(340498).wt)("pencilLine",o)},165121:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{constructor(){super()}getInitialState(){}}const i=new o},173019:(e,t,n)=>{n.d(t,{r:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},175116:(e,t,n)=>{n.d(t,{ET:()=>l,Ks:()=>c,RI:()=>s,p2:()=>a});n(16280);var o=n(296540);const i="collectionContextStore",r=(0,n(446943).C)({displayName:i,legacyContextKey:i,modernContextDefaultValue:void 0}),a=r.context,s=r.Provider;function l(){const e=o.useContext(a);if(void 0===e)throw new Error(`No context provided: ${i}`);return e}function c(){return o.useContext(a)}},194188:(e,t,n)=>{function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{A:()=>o})},205618:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:n(854150).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const i=o},224011:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(705540);class i extends(()=>n(757695))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await o().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},o().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},240562:(e,t,n)=>{n.d(t,{p:()=>r});var o=()=>n(645873);const i=new(o().O2)("HelpButtonContent",(async()=>await n.e(42481).then(n.bind(n,101107)))),r=(0,o()._h)(i,(e=>e.HelpButtonContent))},249696:(e,t,n)=>{n.d(t,{W:()=>r});var o=()=>n(847249),i=()=>n(540144);function r(){return(0,o().K8)((()=>(0,i().M5)()),[])}},256863:(e,t,n)=>{n.d(t,{A:()=>a});n(296540);var o=()=>n(847249),i=()=>n(824862),r=n(474848);const a=function(e){const{botValue:t,botStore:a,showActiveDot:s,style:l,size:c}=e,d=(0,n(959013).tz)(),u=(0,o().K8)((()=>{if(a){const e=a.getIcon();if(e)return{pointer:{table:i().GP,id:a.id,spaceId:a.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:i().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[a,t]),p=(0,o().K8)((()=>(null==a?void 0:a.getDisplayName(d))??(0,n(799288).Hg)(t)),[a,t,d]),{activeDotStyle:m}=(0,n(401497).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.accentColors.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}})),[]);return(0,r.jsxs)("div",{style:l,children:[(0,r.jsx)(n(614505).B,{icon:u,title:p,size:c||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),s?(0,r.jsx)("div",{style:m}):void 0]})}},271084:(e,t,n)=>{n.d(t,{k:()=>i});n(581454);class o extends(()=>n(757695))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[n,o]=e,[i,r]=t;return r-o})).map((e=>{let[t,n]=e;return t}))}}const i=new o;(0,n(604341).exposeDebugValue)("UserSimilarityStore",i)},277201:(e,t,n)=>{n.d(t,{I:()=>S,i:()=>k});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(387964),l=()=>n(340498),c=()=>n(959013),d=()=>n(186445),u=()=>n(38337),p=()=>n(869562),m=()=>n(749687),g=()=>n(962730),f=()=>n(948914),h=()=>n(145214),b=()=>n(285790),y=()=>n(35392),v=()=>n(859428),x=n(474848);function S(e){const t=(0,i().v3)(),n=(0,i().Y0)(),o=(0,c().tz)(),a=(0,r().O$)(m().sidebarMouseEnteredStore),l=(0,r().O$)(f().b),u=(0,r().O$)(d().$o),g=o.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),h=(!n.isElectronMac||!u)&&!l&&a;return(0,x.jsx)(k,{isVisible:h,icon:s().S,caption:g,onClick:()=>{p().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const w={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function k(e){const t=(0,i().Y0)(),n=(0,a().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.mediumIconColor}})),[]),r=(0,o.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...n.button,...e.style})),[e.style,n.button,t.isMobile]);return(0,x.jsx)(v().A,{renderTooltip:()=>(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,x.jsx)(y().A,{style:n.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?g().W.Right:g().W.Bottom,render:n=>(0,x.jsx)(h().A,{tag:b().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:w,mobileFeedback:t.isMobile,onClick:e.onClick,className:u().P7S,...n})})}},279900:(e,t,n)=>{function o(e){let t,n,o;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(o=r,n||(n=t.then((()=>(n=void 0,t=e(...o),t))),n)):(t=e(...r),t)}}n.d(t,{A:()=>o})},320260:(e,t,n)=>{n.d(t,{y:()=>c});var o=n(296540),i=()=>n(401497),r=()=>n(644187),a=()=>n(720665),s=()=>n(645873);const l=new(s().O2)("notionCalendarLogos",(async()=>n.e(94366).then(n.bind(n,543276))));function c(e){const t=(0,s().fJ)(l),n=function(){const[e,t]=(0,o.useState)(new Date),n=(0,o.useRef)();return(0,o.useEffect)((()=>{const o=()=>{const n=new Date;n.getDate()!==e.getDate()&&t(n)},i=new Date,r=new Date(i);r.setHours(i.getHours()+1),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);const s=r.getTime()-i.getTime(),l=setTimeout((()=>{o(),n.current=window.setInterval(o,a().pT)}),s);return()=>{clearTimeout(l),clearInterval(n.current)}}),[e]),e}(),c=e.dateNumber??n.getDate(),d=(0,i().IS)((t=>({icon:{width:16,height:16,color:t.icon.secondary,...e.style}})),[e.style]),u=(0,o.useCallback)((e=>{const n=r().K;if(e<1||e>31)return n(d.icon);const o=`calendarDate${e<10?`0${e}`:`${e}`}Icon`;if("resolved"!==t.status)return n(d.icon);return(0,t.value[o])(d.icon)}),[d,t]);return u(c)}},352759:(e,t,n)=>{n.d(t,{p:()=>y,t:()=>v});n(581454),n(296540);var o=()=>n(484714),i=()=>n(847249),r=()=>n(584262),a=()=>n(959013),s=()=>n(857783),l=()=>n(255018),c=()=>n(939740),d=()=>n(958378),u=()=>n(89924),p=()=>n(900967),m=()=>n(728611),g=()=>n(211716),f=()=>n(592968),h=()=>n(551619),b=n(474848);function y(e){let{store:t}=e;return(0,b.jsx)("div",{style:{width:"100%",maxWidth:"100%",margin:"0 auto 6px auto"},onMouseDown:h().NV,onClick:h().sx,children:(0,b.jsx)(l().A,{type:"page",store:t,headerText:(0,b.jsx)(a().sA,{defaultMessage:"Linked to this page",id:"page.expandedBacklinks.label"}),disableCurrentPageToken:!0,disableInaccessiblePages:!0})})}function v(e){let{store:t}=e;const n=(0,o().v3)(),a=(0,i().K8)((()=>(0,p().c)(t,n)),[t,n]),l=(0,i().K8)((()=>a.backlinks.map((e=>e.backlinkStore))),[a]).map(((e,t)=>({key:e.id,render:t=>(0,b.jsx)(d().A,{...t,store:e,hidePath:!1}),action:t=>{let{event:o}=t;f().F.setState({isOpen:!1});const i=m().Vr(o);s().uK({environment:n,store:e,openInNew:i,visitType:g().ig.Link,pageVisitSource:r().y8.Backlinks})}})));return(0,b.jsx)(c().Ay,{type:c().Oh.Vertical,initialFocus:void 0,sections:[{key:"all",items:l,render:e=>(0,b.jsx)(u().A,{...e})}]})}},378347:(e,t,n)=>{n(746518)({target:"Object",stat:!0},{hasOwn:n(39297)})},381138:(e,t,n)=>{n.d(t,{q:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},387964:(e,t,n)=>{n.d(t,{S:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,o.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},r=(0,n(340498).wt)("arrowChevronDoubleBackward",i)},392998:(e,t,n)=>{n.d(t,{A:()=>a});var o=()=>n(194188),i=()=>n(10123),r=()=>n(570551);function a(e,t){(0,r().A)(2,arguments);var n=(0,i().A)(e),a=(0,o().A)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},398842:(e,t,n)=>{n.d(t,{Jv:()=>y,Zr:()=>v,Rl:()=>x,mA:()=>b});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(970013),l=()=>n(743176),c=()=>n(68465),d=()=>n(159588),u=()=>n(963589),p=()=>n(331542),m=n(474848);function g(){const e=(0,a().DP)();return(0,m.jsx)("span",{style:{marginLeft:6,fontSize:11,padding:"1px 4px",borderRadius:4,display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1,color:"light"===e.mode?e.accentColors.blue[500]:e.accentColors.blue[600]},children:(0,m.jsx)(p().A,{legacySize:14})})}var f=()=>n(399275);const h=function(){return(0,m.jsx)(n(464708).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,m.jsx)(n(959013).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const b=o.memo((function(e){const{propertySchema:t,showIcon:o,showDragIcon:r,hideName:s,badge:l,style:c,iconStyle:u,iconSize:p,dragHandleStyle:g,className:f,labelSizeVariant:h}=e,b=(0,i().v3)(),{device:y}=b,v=y.isMobile?16:14,S=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:v,...c},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:s?void 0:"small"===h||r?4:6,...u},dragHandle:{gridColumn:1,gridRow:1,opacity:r?1:0,transition:`opacity ${d().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:r?0:1,transition:`opacity ${d().bM}`},dragIcon:{fill:e.icon.secondary}})),[v,s,u,h,r,c]);return(0,m.jsxs)("div",{className:f,style:S.container,children:[o&&(0,m.jsxs)("div",{style:S.iconWrapper,children:[(0,m.jsx)("div",{style:S.itemIcon,children:(0,m.jsx)(x,{propertySchema:t,iconSize:p,iconStyle:u})}),(0,m.jsx)("div",{style:S.dragHandle,children:(0,m.jsx)(n(57232).A,{style:g,iconSize:12,iconStyle:S.dragIcon})})]}),!s&&(0,m.jsx)("div",{style:{...n(284371).RC},children:t.name}),l]})}));function y(e){const{propertySchema:t}=e,n=(0,i().v3)();return(0,r().K8)((()=>(0,c().O0)(n)&&s().$M(t)&&s().om(t)),[n,t])?(0,m.jsx)(h,{}):null}function v(e){let{propertyId:t,collectionContextStore:n}=e;return(0,r().K8)((()=>{var e;const o=null===(e=n.collectionStore())||void 0===e?void 0:e.id;if(!o)return!1;const i=f().d.state.collectionsProperties[o];return!!i&&"Loading"===i[t]}),[n,t])?(0,m.jsx)(g,{}):null}function x(e){const{propertySchema:t,iconSize:n,iconStyle:o}=e,{isMobile:r}=(0,i().Y0)(),s=(0,a().DP)(),c=(0,u().X)("nds_default_property_noticon"),d=r?18:16;return(0,m.jsx)(l().zB,{type:t.type,icon:t.icon,size:n||d,theme:s,style:o,isDefaultNoticonEnabled:c})}},399275:(e,t,n)=>{n.d(t,{d:()=>i});n(898992),n(354520);class o extends(()=>n(757695))().default{getInitialState(){return{flowId:void 0,type:"connected_properties_setup",collectionsProperties:{}}}createNewFlowId(){const e=(0,n(206267).JW)();return this.setState({...this.state,flowId:e}),e}getFlowId(){return this.state.flowId?this.state.flowId:this.createNewFlowId()}addCollectionProperties(e,t){const n=this.state.collectionsProperties[e],o=n?{...n,...t}:t;this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:o}})}removeCollectionProperties(e,t){const n=this.state.collectionsProperties[e];if(!n)return;const o=Object.fromEntries(Object.entries(n).filter((e=>{let[n]=e;return!t.has(n)})));if(0===Object.keys(o).length){const{[e]:t,...n}=this.state.collectionsProperties;this.setState({...this.state,collectionsProperties:n})}else this.setState({...this.state,collectionsProperties:{...this.state.collectionsProperties,[e]:o}})}}const i=new o;(0,n(604341).exposeDebugValue)("ConnectedPropertiesSyncStore",i)},406533:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,o.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,n(340498).wt)("questionMarkCircle",i)},408197:(e,t,n)=>{n.d(t,{s:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M10.566 16.22a4.6 4.6 0 0 1-2.068-.487v-.01l-1.423-.487h-.122V7.498l1.76-1.876c.293-.375.576-.938.846-1.475.179-.355.352-.7.519-.972l.36-.74a1.29 1.29 0 0 1 1.551-.527c.624.243.955.916.77 1.56l-.507 1.774c-.099.343-.241.63-.384.917a5.6 5.6 0 0 0-.376.887.404.404 0 0 0 .39.517h4.095a1.22 1.22 0 0 1 1.218 1.218c0 .42-.224.78-.555.995a1.2 1.2 0 0 1-.147 2.213c.274.224.459.556.459.936a1.21 1.21 0 0 1-1.21 1.219 1.22 1.22 0 0 1-.868 2.077zM5.734 8.148H3.663a.975.975 0 0 0-.975.975v5.138c0 .538.436.975.974.975h2.072z"})},i=(0,n(340498).wt)("handThumbsUpFill",o)},413267:(e,t,n)=>{n.d(t,{b:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},427636:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(e){const{botStore:t,avatarSize:i,shouldShowBadge:r,style:a,inline:s}=e,l=(0,n(959013).tz)(),c=(0,n(484714).Y0)(),d=(0,n(847249).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:p,badgeStyle:m}=(0,n(401497).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...a},avatarWrapStyle:s?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:c.isMobile?11:9,lineHeight:c.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[a,s,c]);return(0,o.jsxs)("div",{style:u,children:[(0,o.jsx)("div",{style:p,children:(0,o.jsx)(n(256863).A,{botStore:t,size:i})}),(0,o.jsx)("div",{style:{...n(284371).RC},children:d}),r&&(0,o.jsx)("div",{style:m,children:"Bot"})]})}},436150:(e,t,n)=>{n.d(t,{v:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"m6.953 12.502 1.76 1.876c.293.375.576.938.846 1.475.179.356.352.7.519.972l.36.741c.322.527.976.741 1.551.527.624-.244.955-.917.77-1.56l-.507-1.775a5.3 5.3 0 0 0-.384-.917c-.138-.278-.276-.556-.376-.887a.404.404 0 0 1 .39-.517h4.095a1.22 1.22 0 0 0 1.218-1.218c0-.42-.224-.78-.555-.995.4-.195.672-.594.672-1.072a1.2 1.2 0 0 0-.819-1.141 1.21 1.21 0 0 0 .459-.936 1.21 1.21 0 0 0-1.21-1.219 1.22 1.22 0 0 0-.868-2.077h-4.308c-.722 0-1.424.166-2.068.488v.01l-1.423.487h-.122zM5.734 4.764v7.088H3.663a.975.975 0 0 1-.975-.975V5.74c0-.538.436-.975.974-.975z"})},i=(0,n(340498).wt)("handThumbsDownFill",o)},454531:(e,t,n)=>{n.d(t,{W:()=>m});var o=()=>n(972435),i=()=>n(867772),r=()=>n(681810),a=()=>n(901389),s=()=>n(896628),l=()=>n(383594),c=()=>n(751156),d=()=>n(892632);const u=1500,p=(0,n(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function m(e){let{environment:t,intl:n,store:o,rect:i}=e;l().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:n.formatMessage(p.pageCover),onDelete:()=>{!function(e){let{environment:t,store:n}=e;l().I(),c().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:n,transaction:e})}})}({environment:t,store:o})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:n,position:i}=e;f({environment:t,store:o,url:{originUrl:n},position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:n.formatMessage(p.fileTypeCaption,{idealImageWidth:u}),onUpload:e=>{var i;l().I(),d().QM({environment:t,file:e[0],bucket:"secure",record:(null===(i=o.getCoverStore())||void 0===i?void 0:i.pointer)??o.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:h,onProgress:b,onComplete:e=>{var n;n={environment:t,store:o,url:{originUrl:e}},g({...n,position:.5})},onError:()=>{a().f1(n.formatMessage(p.uploadFailed))}})}},{type:"embed",title:n.formatMessage(p.embedTitle),inputPlaceholder:n.formatMessage(p.embedPlaceholder),caption:n.formatMessage(p.embedCaption),buttonText:n.formatMessage(p.embedSubmit),onChange:e=>{var n;n={environment:t,store:o,url:e},g({...n,position:.5}),l().I()}},{type:"unsplash",onChange:e=>{let{url:n,position:i}=e;f({environment:t,store:o,url:{originUrl:n},position:i})}}]})}async function g(e){const{environment:t,store:n,url:a,position:l}=e,{serverCommitResult:d}=c().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:n,url:a,position:l||.5,transaction:e})}});await d,r().A.state.loadingMode===i().vS&&r().A.setState({loadingMode:i().Gi,dataURL:r().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:o().A.formatMessage(p.downloading)})}function f(e){g(e),e.environment.device.isMobile&&l().I()}function h(e){const{file:t,name:n,size:a}=e;if(l().I(),r().A.setState({loadingMode:i().Wc,file:t,name:n,size:a}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,dataURL:t.dataURL,progressText:o().A.formatMessage(p.preparing)});else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,progressText:o().A.formatMessage(p.preparing)})}function b(e){const{progressPercent:t,progressText:n}=e;r().A.state.loadingMode===i().vS&&r().A.setState({...r().A.state,uploadProgress:t,progressText:n})}},458156:(e,t,n)=>{n.r(t),n.d(t,{TranscriptionBlock:()=>Xt});n(898992),n(354520),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(401497),s=()=>n(209969),l=()=>n(959013),c=()=>n(155004),d=()=>n(406699),u=()=>n(285790),p=()=>n(331542),m=()=>n(378765),g=()=>n(8980),f=()=>n(493733),h=()=>n(199896),b=()=>n(524702),y=()=>n(989423),v=()=>n(792540),x=()=>n(744705),S=()=>n(891078),w=()=>n(376203),k=()=>n(962730),C=()=>n(227440),j=()=>n(271380);function A(e,t,n){return`${e}-${t}-${n}`}var M=()=>n(540144),T=()=>n(340498);const I=2,B=10,R=12,P=4,z=T().Ev.sm,D=(0,l().YK)({notes:{defaultMessage:"Notes",id:"transcriptionBlock.tab.notes"},transcript:{defaultMessage:"Transcript",id:"transcriptionBlock.tab.transcript"},summary:{defaultMessage:"Summary",id:"transcriptionBlock.tab.summary"}});function _(e,t){if(!e.getContentStores().includes(t))return;const n=e.getFormat();return(null==n?void 0:n.transcription_notes_id)===t.id?"notes":(null==n?void 0:n.transcription_transcript_id)===t.id?"transcript":(null==n?void 0:n.transcription_summary_id)===t.id?"summary":void 0}var E=()=>n(792485),F=()=>n(68263),L=()=>n(731320);function W(e){const{store:t}=e,n=(0,i().v3)(),o=(0,E().S)(),a=(0,r().K8)((()=>null==o?void 0:o.publicEditModeStore.state),[o]),s=(0,r().K8)((()=>{if(!n.currentUser.id)return!1;return(0,L().A$)({userId:n.currentUser.id,store:t}).filter((e=>{let{type:t,role:n}=e;return!!n&&("public_permission"!==t&&(0,F().p2)(n))})).length>0&&(0,L().MI)({environment:n,blockStore:t})}),[n,t]);return!(0,L().QT)(a)&&s}var N=()=>n(964345);function V(e){return(0,r().K8)((()=>N().gZ.state&&N().Di.state===e.id),[e])}n(18107),n(967357);function K(e){return(0,r().K8)((()=>(0,M().by)(e)),[e])}n(16280),n(672577);var H=()=>n(748197);var O=()=>n(534177),U=()=>n(351360);var $=n(474848);const Y={viewBox:"0 0 20 20",svg:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("path",{d:"M7.3 1.995a.55.55 0 1 0 0 1.1h5.4a.55.55 0 0 0 0-1.1zm-2.35 2.8a.55.55 0 0 1 .55-.55h9a.55.55 0 0 1 0 1.1h-9a.55.55 0 0 1-.55-.55m1.022 4.594c.36-.45.896-.72 1.545-.72.65 0 1.185.27 1.546.72.35.437.51 1.006.51 1.587 0 .58-.16 1.15-.51 1.586-.361.45-.896.72-1.546.72s-1.185-.27-1.545-.72c-.35-.437-.51-1.006-.51-1.586s.16-1.15.51-1.587m.857.689c-.16.199-.268.508-.268.898s.109.698.268.897c.15.187.368.31.688.31s.539-.123.688-.31c.16-.199.268-.508.268-.897 0-.39-.108-.7-.268-.898-.15-.187-.367-.31-.688-.31s-.538.123-.688.31m4.108-.689c.361-.45.896-.72 1.546-.72s1.185.27 1.546.72c.35.437.51 1.006.51 1.587 0 .58-.16 1.15-.51 1.586-.361.45-.896.72-1.546.72s-1.185-.27-1.546-.72c-.35-.437-.51-1.006-.51-1.586s.16-1.15.51-1.587m.858.689c-.16.199-.268.508-.268.898s.108.698.268.897c.15.187.367.31.688.31s.538-.123.688-.31c.16-.199.268-.508.268-.897 0-.39-.108-.7-.268-.898-.15-.187-.367-.31-.688-.31s-.538.123-.688.31"}),(0,$.jsx)("path",{d:"M2.963 8.545c0-1.174.951-2.125 2.125-2.125h9.825c1.174 0 2.125.951 2.125 2.125v6.45a2.125 2.125 0 0 1-2.125 2.125H5.088a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v6.45c0 .378.24.7.576.823.316-1.179 1.436-2.024 2.728-2.024 1.06 0 2.003.568 2.483 1.423.48-.855 1.424-1.423 2.483-1.423 1.292 0 2.412.845 2.728 2.024a.88.88 0 0 0 .577-.823v-6.45a.875.875 0 0 0-.875-.875zm8.974 8.2c-.257-.564-.853-.976-1.58-.976-.725 0-1.321.412-1.579.976zm-4.966 0c-.257-.564-.853-.976-1.579-.976s-1.322.412-1.58.976z"})]})},Z=(0,T().wt)("peopleStack",Y);var G=()=>n(496603),q=()=>n(436572),Q=()=>n(972435);const X=new(n(178624).R)({key:"transcriptionConsentMessage:personal",namespace:n(419494).cd,important:!0,trackingType:"preference"}),J=(0,l().YK)({defaultConsentMessage:{id:"transcription.consentActions.defaultMessage",defaultMessage:"I’m using Notion AI to transcribe this meeting and generate notes."}});function ee(){return X.getState()||Q().A.getIntl().formatMessage(J.defaultConsentMessage)}const te=(0,G().sg)((e=>{X.setState(e)}),1e3);async function ne(){try{await navigator.clipboard.writeText(ee()),q().D6({label:Q().A.getIntl().formatMessage({defaultMessage:"Consent message copied to clipboard",id:"transcription.consentActions.copyToast.success"})})}catch{q().D6({label:Q().A.getIntl().formatMessage({defaultMessage:"Failed to copy consent message to clipboard",id:"transcription.consentActions.copyToast.failure"})})}}var oe=()=>n(859428);function ie(e){let{hideTooltip:t,...n}=e;return t?(0,$.jsx)(re,{...n}):(0,$.jsx)(oe().A,{renderTooltip:()=>(0,$.jsx)(l().sA,{...n.label}),render:e=>(0,$.jsx)("div",{...e,children:(0,$.jsx)(re,{...n})})})}function re(e){let{icon:t,label:n,onClick:o}=e;const i=(0,l().tz)();return(0,$.jsx)(u().A,{ariaLabel:i.formatMessage(n),icon:t,onClick:o})}const ae=(0,l().YK)({copyButtonTooltip:{id:"TranscriptionBlockConsentActions.copyMessage.tooltip",defaultMessage:"Copy consent message"}});function se(){return(0,$.jsx)(ie,{icon:n(764781).V,label:ae.copyButtonTooltip,onClick:ne})}var le=()=>n(554509),ce=()=>n(21140);const de=(0,l().YK)({dismissButtonLabel:{id:"TranscriptionBlockHeader.actions.dismiss.label",defaultMessage:"Dismiss AI Meeting Notes block header"}});function ue(e){let{actions:t,children:o,icon:i,onDismiss:r,persistent:s}=e;const l=(0,a().IS)((e=>({container:{display:"flex",gap:4,padding:"10px 16px",cursor:"default",background:e.fill.lightGraySecondary},icon:{width:20,height:20,fill:e.icon.secondary},label:{lineHeight:"20px",color:e.text.secondary}})),[]),d=!s,u=t||d;return(0,$.jsxs)(c().s,{allowSelectionWithin:!1,style:l.container,children:[(0,$.jsxs)(ce().Ye,{flexGrow:1,gap:8,style:{paddingTop:u?2:void 0},children:[i(l.icon),(0,$.jsx)(le().D,{styleName:"Body-14px/Regular",customStyles:l.label,children:o})]}),u?(0,$.jsxs)(ce().Ye,{flexShrink:0,children:[t,d?(0,$.jsx)(ie,{hideTooltip:!0,icon:n(599813).xMarkIcon,label:de.dismissButtonLabel,onClick:r}):null]}):null]})}const pe={id:"consent",isEligible:e=>{const{environment:t,state:n,canEdit:o}=e,{currentUser:i,device:r}=t;return!!o&&(!!(0,M().b8)(r)&&("summarizing"!==n.state&&"idle"!==n.state&&("initial"===n.state||"paused"===n.state||("transcribing"===n.state?n.transcriber_id===i.id:(0,O().HB)(n)))))},render:()=>(0,$.jsx)(ue,{actions:(0,$.jsx)(se,{}),icon:Z,persistent:!0,children:(0,$.jsx)(l().sA,{defaultMessage:"Always get consent from all participants before transcribing.",id:"transcription.consentHeader.label"})})},me={viewBox:"0 0 20 20",svg:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("g",{clipPath:"url(#clip0_9152_13029)",children:(0,$.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v8.25H.5v.75a1 1 0 0 0 1 1h17a1 1 0 0 0 1-1v-.75h-1.875V6.25A2.125 2.125 0 0 0 15.5 4.125zM16.375 14.5H3.625V6.25c0-.483.392-.875.875-.875h11c.483 0 .875.392.875.875z"})}),(0,$.jsx)("defs",{children:(0,$.jsx)("clipPath",{id:"clip0_9152_13029",children:(0,$.jsx)("path",{d:"M0 0h20v20H0z"})})})]})},ge=(0,T().wt)("laptopComputer",me);var fe=()=>n(406533),he=()=>n(914649);const be=(0,l().YK)({helpButtonTooltip:{id:"TranscriptionBlockDownloadDesktopAppHeader.learnMoreButton.tooltip",defaultMessage:"Learn more"}});function ye(){return(0,$.jsx)(ie,{icon:fe().questionMarkCircleIcon,label:be.helpButtonTooltip,onClick:()=>{window.open(he().WQ,"_blank")}})}const ve=[pe,{id:"download-desktop-app",isEligible:e=>{const{environment:t,state:n}=e;return("initial"===n.state||"paused"===n.state)&&!(0,M().b8)(t.device)},render:()=>(0,$.jsx)(ue,{actions:(0,$.jsx)(ye,{}),icon:ge,persistent:!0,children:(0,$.jsx)(l().sA,{defaultMessage:"Open the desktop app to start transcribing a meeting.",id:"transcription.downloadDesktopAppHeader.label"})})}];var xe=()=>n(955363),Se=()=>n(284371),we=()=>n(704152),ke=()=>n(135221),Ce=()=>n(553965),je=()=>n(431895);const Ae=(0,l().YK)({transcribing:{id:"dictation.transcriptionBlock.recordingButton.stop",defaultMessage:"Stop"},summarizing:{id:"dictation.transcriptionBlock.recordingButton.summarizing",defaultMessage:"Summarizing"},paused:{id:"dictation.transcriptionBlock.recordingButton.paused",defaultMessage:"Resume"}}),Me=(0,l().YK)({thinking:{id:"dictation.transcriptionBlock.recordingButton.summarizing.thinking",defaultMessage:"Thinking"},summarizing:{id:"dictation.transcriptionBlock.recordingButton.summarizing.summarizing",defaultMessage:"Summarizing"}}),Te=(0,l().YK)({resume:{id:"dictation.transcriptionBlock.recordingButton.resume",defaultMessage:"Resume"}}),Ie=(0,l().YK)({noPermissionTooltip:{id:"dictation.transcriptionBlock.recordingButton.noPermissionTooltip",defaultMessage:"You do not have permission to transcribe"},stopButtonTooltip:{id:"dictation.transcriptionBlock.recordingButton.stopButtonTooltip",defaultMessage:"Stop and summarize"}});function Be(e){const{store:t}=e,o=(0,i().v3)(),a=K(t),s=!W({store:t}),c=(0,r().K8)((()=>H().c.getIsLoading(t.id)),[t.id]),d=(0,i().Y0)(),u=(0,r().K8)((()=>{if(n(508496).default.checkGate({gateName:"enable_transcription_on_browser_for_debug_enabled"}))return!0}),[]);return c?(0,$.jsx)(De,{disabled:s,icon:(0,$.jsx)(p().A,{}),text:(0,$.jsx)(l().sA,{id:"transcriptionBlockControlButton.stopWhenLoading",defaultMessage:"Stop"}),onClick:()=>{(0,j().stopTranscription)({environment:o,blockStore:t,from:"stop_button"})}}):u||(0,M().b8)(d)||"initial"!==a.state&&"paused"!==a.state?"idle"===a.state?null:"transcribing"===a.state?(0,$.jsx)(De,{isActive:!0,disabled:s,icon:(0,$.jsx)(Ee,{disabled:s}),text:(0,$.jsx)(l().sA,{...Ae.transcribing}),tooltipMessage:(0,$.jsx)(l().sA,{...Ie.stopButtonTooltip}),onClick:()=>{(0,j().stopTranscription)({environment:o,blockStore:t,from:"stop_button"})}}):"summarizing"===a.state?(0,$.jsx)(ze,{state:a}):"paused"===a.state?(0,$.jsx)(De,{disabled:s,icon:(0,$.jsx)(_e,{disabled:s}),text:(0,$.jsx)(l().sA,{...Te.resume}),onClick:()=>{(0,j().startTranscription)({environment:o,blockStore:t,from:"resume"})}}):"initial"===a.state?(0,$.jsx)(Pe,{disabled:s,store:t}):(0,O().HB)(a):(0,$.jsx)(Re,{disabled:s})}function Re(e){let{disabled:t}=e;const n=(0,i().v3)(),o=(0,a().IS)((e=>({icon:{width:16,height:16,borderRadius:"50%",fill:t?e.icon.tertiary:void 0}})),[t]);return(0,$.jsx)(De,{disabled:t,icon:(0,xe().arrowDiagonalUpRightIcon)(o.icon),text:(0,$.jsx)(l().sA,{id:"transcriptionBlockControlButton.missingRequirement.openDesktopApp",defaultMessage:"Open desktop app"}),tooltipMessage:(0,$.jsx)(l().sA,{id:"transcriptionBlockControlButton.missingRequirement.appRequiredTooltip",defaultMessage:"To transcribe, you must use the Notion app."}),onClick:()=>{(0,je().MZ)(n)}})}function Pe(e){const{store:t,disabled:n}=e,r=(0,i().v3)(),a=(0,o.useCallback)((()=>{(0,j().startTranscription)({environment:r,blockStore:t,from:"consent_affirmed"}),(0,y().u4)({environment:r,event:{eventName:"transcription_consent_affirmed",eventProperties:{block_id:t.id}}})}),[r,t]);return(0,$.jsx)(De,{disabled:n,icon:(0,$.jsx)(_e,{disabled:n}),text:(0,$.jsx)(l().sA,{id:"transcriptionBlockControlButton.confirmConsent",defaultMessage:"Confirm consent and start"}),onClick:a})}function ze(e){const{state:t}=e,n=(0,a().IS)((e=>({text:{fontSize:14,fontWeight:Se().Wy.medium,color:e.text.tertiary}})),[]);return(0,$.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,$.jsx)(ke().A,{isTriColored:!0}),(0,$.jsx)("span",{style:n.text,children:(0,$.jsx)(l().sA,{...Me[t.step]})})]})}function De(e){const{icon:t,text:n,tooltipMessage:i,onClick:r,isActive:s,disabled:c}=e,[d,u]=(0,o.useState)(!1),p=function(e,t,n){return(0,a().IS)((o=>({container:{height:32,display:"flex",justifyContent:"center",alignItems:"center",gap:6,paddingTop:14,paddingBottom:14,paddingLeft:8,paddingRight:8,borderRadius:6,border:"none",cursor:n?"not-allowed":"pointer",background:t?o.tint.uiRed:o.fill.lightGrayPrimary},hoveredStyle:n?{background:t?o.tint.uiRedHover:o.tint.uiRed}:{},text:{fontSize:14,color:n?o.text.tertiary:e||t?o.text.uiRedPrimary:o.text.primary,fontWeight:Se().Wy.medium}})),[e,t,n])}(d,s,c),m=e=>{const o={onClick:r};return c||(o.onMouseEnter=()=>u(!0),o.onMouseLeave=()=>u(!1)),(0,$.jsxs)(we().A,{...(0,Ce().A)(e,o),style:p.container,hoveredStyle:p.hoveredStyle,disabled:c,children:[t,(0,$.jsx)("span",{style:p.text,children:n})]})};return c||i?(0,$.jsx)(oe().A,{render:e=>m(e),renderTooltip:()=>c?(0,$.jsx)(l().sA,{...Ie.noPermissionTooltip}):i}):m({})}function _e(e){let{disabled:t}=e;const n=(0,a().IS)((e=>({icon:{width:12,height:12,borderRadius:"50%",backgroundColor:t?e.icon.tertiary:e.icon.uiRedPrimary}})),[t]);return(0,$.jsx)("div",{style:n.icon})}function Ee(e){let{disabled:t}=e;const n=(0,a().IS)((e=>({icon:{width:12,height:12,borderRadius:3,backgroundColor:t?e.icon.tertiary:e.icon.uiRedPrimary}})),[t]);return(0,$.jsx)("div",{style:n.icon})}var Fe=()=>n(436150),Le=()=>n(408197),We=()=>n(297872),Ne=()=>n(623580),Ve=()=>n(676007),Ke=()=>n(864943),He=()=>n(204063),Oe=()=>n(449506);function Ue(e){const{environment:t,blockStore:n,feedback:o,comment:i}=e;Oe().callApi({eventName:"saveInferenceTranscriptFeedback",environment:t,data:{type:"summarize-transcript",traceId:n.id,feedbackType:o,userComment:i,spaceId:n.getSpaceId()}})}function $e(e){let{state:t,store:n}=e;const o=(0,r().K8)((()=>{if("summarizing"===t.state)return!1;const e=(0,M().y1)(n,"summary");return!!e&&e.hasContent()}),[t.state,n]),i=!(0,r().O$)(C().e);return!o||i?null:(0,$.jsx)(Ye,{store:n})}function Ye(e){let{store:t}=e;const[n,r]=(0,o.useState)(void 0),s=(0,i().v3)(),c=(0,l().tz)(),d=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",gap:8,marginTop:12,color:e.text.tertiary,fontSize:14}})),[]);return(0,$.jsxs)("div",{style:d.container,children:[(0,$.jsx)(l().sA,{id:"TranscriptionBlockFeedbackMenu.feedback",defaultMessage:"Was this summary helpful?"}),(0,$.jsxs)("div",{children:[(0,$.jsx)(u().A,{icon:Le().s,onClick:()=>r("thumbsUp"),ariaLabel:c.formatMessage(Ge.thumbsUpAriaLabel)}),(0,$.jsx)(u().A,{icon:Fe().v,onClick:()=>r("thumbsDown"),ariaLabel:c.formatMessage(Ge.thumbsDownAriaLabel)})]}),(0,$.jsx)(Ze,{state:n,onClose:()=>r(void 0),submit:e=>{let{feedback:o}=e;"thumbsUp"===n?Ue({environment:s,blockStore:t,feedback:"thumbs_up",comment:o}):"thumbsDown"===n&&Ue({environment:s,blockStore:t,feedback:"thumbs_down",comment:o})}})]})}function Ze(e){const{state:t,onClose:n,submit:i}=e,r=void 0!==t,[s,c]=(0,o.useState)(""),d=(0,l().tz)(),u=(0,w().B)(),p=(0,w().B)(),m=(0,a().IS)((e=>({wrap:{display:"flex",flexDirection:"column",minHeight:128},modalWrap:{width:"32rem",padding:24,fontSize:14,maxWidth:"100%"},modalTitle:{margin:0,fontSize:16,fontWeight:Se().Wy.medium},modalSubtitle:{fontSize:13,color:e.text.tertiary},titleContainer:{marginBottom:12},buttonArea:{display:"flex",justifyContent:"flex-end",marginTop:18,gap:6},feedbackArea:{marginTop:17,padding:8}})),[]),g=(0,o.useCallback)((e=>{const t=e.target.value;c(t)}),[]),f=(0,o.useCallback)((()=>{n(),c("")}),[n]),h=(0,o.useCallback)((()=>{i({feedback:s}),f()}),[s,i,f]),b="thumbsUp"===t?Ge.feedbackPlaceholderThumbsUp:Ge.feedbackPlaceholderThumbsDown;return(0,$.jsx)(Ve().A,{open:r,ariaLabelledBy:u,ariaDescribedBy:p,onDismiss:f,render:()=>(0,$.jsx)(We().A,{capture:!0,allowUndo:!1,allowEsc:!0,allowTabUntab:!1,render:e=>(0,$.jsx)("div",{style:m.wrap,children:(0,$.jsxs)("div",{style:m.modalWrap,...e,children:[(0,$.jsxs)("div",{style:m.titleContainer,children:[(0,$.jsx)("h3",{id:u,style:m.modalTitle,children:(0,$.jsx)(l().sA,{...Ge.title})}),(0,$.jsx)("div",{id:p,style:m.modalSubtitle,children:(0,$.jsx)(l().sA,{...Ge.subtitle})})]}),(0,$.jsx)(Ne().A,{placeholder:d.formatMessage(b),value:s,onChange:g,focusInitial:!0,style:m.feedbackArea,textarea:!0,"aria-label":d.formatMessage(Ge.feedbackTextAreaAriaLabel)}),(0,$.jsxs)("div",{style:m.buttonArea,children:[(0,$.jsx)(Ke().A,{size:"lg",onClick:f,children:(0,$.jsx)(l().sA,{...Ge.cancel})}),(0,$.jsx)(He().A,{size:"lg",onClick:h,children:(0,$.jsx)(l().sA,{...Ge.submit})})]})]})})})})}const Ge=(0,l().YK)({title:{id:"TranscriptionBlockFeedbackModal.title",defaultMessage:"AI Meeting Notes feedback"},subtitle:{id:"TranscriptionBlockFeedbackModal.subtitle",defaultMessage:"Your feedback helps us improve meeting notes."},feedbackTextAreaAriaLabel:{id:"TranscriptionBlockFeedbackModal.input.ariaLabel",defaultMessage:"Feedback"},feedbackPlaceholderThumbsUp:{id:"TranscriptionBlockFeedbackModal.feedbackPlaceholderThumbsUp",defaultMessage:"What did you like about the summary or transcript?"},feedbackPlaceholderThumbsDown:{id:"TranscriptionBlockFeedbackModal.feedbackPlaceholderThumbsDown",defaultMessage:"What issues did you notice with the summary or transcript? Please be as specific as possible."},cancel:{id:"TranscriptionBlockFeedbackModal.cancel",defaultMessage:"Cancel"},submit:{id:"TranscriptionBlockFeedbackModal.submit",defaultMessage:"Submit feedback"},thumbsUpAriaLabel:{id:"TranscriptionBlockFeedbackModal.thumbsUpAriaLabel",defaultMessage:"Thumbs up"},thumbsDownAriaLabel:{id:"TranscriptionBlockFeedbackModal.thumbsDownAriaLabel",defaultMessage:"Thumbs down"}});n(944114);const qe={viewBox:"0 0 20 20",svg:(0,$.jsx)("path",{d:"M4.75 3.125c-.897 0-1.625.728-1.625 1.625v10.5c0 .898.728 1.625 1.625 1.625H7.5c.897 0 1.625-.727 1.625-1.625V4.75c0-.897-.728-1.625-1.625-1.625zM4.375 4.75c0-.207.168-.375.375-.375H7.5c.207 0 .375.168.375.375v10.5a.375.375 0 0 1-.375.375H4.75a.375.375 0 0 1-.375-.375zM12.5 3.125c-.898 0-1.625.728-1.625 1.625v10.5c0 .898.727 1.625 1.625 1.625h2.75c.898 0 1.625-.727 1.625-1.625V4.75c0-.897-.727-1.625-1.625-1.625zm-.375 1.625c0-.207.168-.375.375-.375h2.75c.207 0 .375.168.375.375v10.5a.375.375 0 0 1-.375.375H12.5a.375.375 0 0 1-.375-.375z"})},Qe=(0,T().wt)("mediaPause",qe),Xe={viewBox:"0 0 20 20",svg:(0,$.jsx)("path",{d:"M15.405 2.586c-.423 0-.837.117-1.197.338l-2.709 1.663a7.8 7.8 0 0 1-4.068 1.149H4.226a2.2 2.2 0 0 0-2.2 2.2v2.133a2.2 2.2 0 0 0 2.2 2.2h.085l1.191 3.953a1.675 1.675 0 0 0 1.604 1.192h.998c.925 0 1.675-.75 1.675-1.675v-3.107c.6.19 1.178.453 1.72.785l2.709 1.663a2.288 2.288 0 0 0 3.485-1.95V4.874a2.29 2.29 0 0 0-2.288-2.288m-6.876 9.76v3.393c0 .235-.19.425-.425.425h-.998a.425.425 0 0 1-.407-.302l-1.082-3.594H7.43q.555 0 1.098.078m6.73-8.5a1.04 1.04 0 0 1 1.184 1.028v8.256a1.038 1.038 0 0 1-1.183 1.028zm-1.1.574v9.164l-2.006-1.232a9 9 0 0 0-2.41-1.032V6.684a9 9 0 0 0 2.41-1.032zM7.43 11.019H4.226a.95.95 0 0 1-.95-.95V7.936a.95.95 0 0 1 .95-.95H7.43q.611 0 1.213-.082V11.1a9 9 0 0 0-1.213-.082"})},Je=(0,T().wt)("megaphone",Xe);const et={viewBox:"0 0 20 20",svg:(0,$.jsx)("path",{d:"M8.65 2.525c.345 0 .625.28.625.625v13.7a.625.625 0 1 1-1.25 0V3.15c0-.345.28-.625.625-.625M6.575 5.45a.625.625 0 1 0-1.25 0v9.1a.625.625 0 1 0 1.25 0zm-2.7 3.2a.625.625 0 0 0-1.25 0v2.7a.625.625 0 1 0 1.25 0zm10.8-2.7a.625.625 0 1 0-1.25 0v8.1a.625.625 0 0 0 1.25 0zm2.075 2.075c.345 0 .625.28.625.625v2.7a.625.625 0 1 1-1.25 0v-2.7c0-.345.28-.625.625-.625m-4.775-.775a.625.625 0 1 0-1.25 0v5.5a.625.625 0 1 0 1.25 0z"})},tt=(0,T().wt)("waveform",et),nt=(0,l().YK)({autoTitle:{id:"transcriptionSummarizationFormat.label.auto",defaultMessage:"Auto"},autoSubtitle:{id:"transcriptionSummarizationFormat.subtitle.auto",defaultMessage:"Notion AI chooses the best format"},salesCallTitle:{id:"transcriptionSummarizationFormat.label.salesCall",defaultMessage:"Sales Call"},salesCallSubtitle:{id:"transcriptionSummarizationFormat.subtitle.salesCall",defaultMessage:"Customer insights, needs, follow-ups"},standupTitle:{id:"transcriptionSummarizationFormat.label.standup",defaultMessage:"Standup"},standupSubtitle:{id:"transcriptionSummarizationFormat.subtitle.standup",defaultMessage:"Progress, blockers, action items"},teamMeetingTitle:{id:"transcriptionSummarizationFormat.label.teamMeeting",defaultMessage:"Team Meeting"},teamMeetingSubtitle:{id:"transcriptionSummarizationFormat.subtitle.teamMeeting",defaultMessage:"Updates, decisions, action items"}}),ot=[{type:"auto",title:nt.autoTitle,subtitle:nt.autoSubtitle},{type:"sales-call",title:nt.salesCallTitle,subtitle:nt.salesCallSubtitle,instructions:"\nThis conversation is a sales call. Make sure to capture:\n- Any needs or asks the customer has brought up.\n- Background information about the customer, such as the customer's role, company, if they are using the product or service, etc.\n- A detailed but concise summary of the conversation.\n- Decisions or commitments that were made during the call if any.\n- Next steps.\n- Action items to be taken after the call.\n"},{type:"standup",title:nt.standupTitle,subtitle:nt.standupSubtitle,instructions:"\nThis conversation is a standup. Make sure to capture:\n- Progress on any projects or tasks.\n- Any blockers or issues that need to be addressed.\n- Action items to be taken after the standup. If possible, include who is responsible for each action item and a deadline for when it should be completed.\n"},{type:"team-meeting",title:nt.teamMeetingTitle,subtitle:nt.teamMeetingSubtitle,instructions:"\nThis conversation is a team meeting. Make sure to capture:\n- Updates on any projects or tasks.\n- Any decisions that were made.\n- Action items to be taken after the meeting. If possible, include who is responsible for each action item and a deadline for when it should be completed.\n"}];var it=()=>n(301948),rt=()=>n(760217),at=()=>n(928600),st=()=>n(939740),lt=()=>n(89924),ct=()=>n(662971),dt=()=>n(722872);const ut=(0,l().YK)({stopAndSummarize:{defaultMessage:"Stop and summarize",id:"transcriptionBlockSettings.stopAndSummarize"},pauseTranscription:{defaultMessage:"Pause transcription",id:"transcriptionBlockSettings.pauseTranscription"},resumeTranscription:{defaultMessage:"Resume transcription",id:"transcriptionBlockSettings.resumeTranscription"},startTranscription:{defaultMessage:"Start transcription",id:"transcriptionBlockSettings.startTranscription"},retrySummary:{defaultMessage:"Retry summary",id:"transcriptionBlockSettings.retrySummary"}}),pt=(0,l().YK)({connectNotionCalendar:{defaultMessage:"Connect Notion Calendar",id:"transcriptionBlockSettings.connectNotionCalendar"}});function mt(e){let{blockStore:t}=e;const a=(0,i().v3)(),s=W({store:t}),c=K(t),d=V(t),u=(0,r().K8)((()=>{var e;return(null===(e=N().ei.state)||void 0===e?void 0:e.id)===t.id}),[t.id]),p=d&&u,m=(0,r().K8)((()=>(0,n(583238).mX)()),[]),f=(0,o.useMemo)((()=>{const e=[];var n,o;return s&&(p||"initial"!==c.state&&"transcribing"!==c.state)&&e.push(function(e){const{blockStore:t,state:n}=e;return{key:"transcription-state",render:e=>(0,$.jsx)(lt().A,{...e}),items:[{key:"transcription-state",render:e=>{let{ref:o,...i}=e;return(0,$.jsx)(ft,{...i,blockStore:t,state:n,ref:o})},action:G().lQ},{key:"summarize-transcription",render:e=>{let{ref:n,...o}=e;return(0,$.jsx)(yt,{...o,blockStore:t,ref:n})},action:G().lQ}]}}({blockStore:t,state:c.state})),p?e.push((o=a.device.isMobile,{key:"audio-input",render:e=>(0,$.jsx)(lt().A,{...e,topBorder:!0}),items:[{key:"microphone",render:(e,t)=>{let{ref:n,...o}=e;return(0,$.jsx)(vt,{...o,ref:n,onFocus:t.onFocus})},action:G().lQ},...o?[]:[{key:"system-audio",render:e=>{let{ref:t,...n}=e;return(0,$.jsx)(xt,{...n,ref:t})},action:G().lQ}],{key:"language",render:(e,t)=>{let{ref:n,...o}=e;return(0,$.jsx)(St,{...o,ref:n,onFocus:t.onFocus})},action:G().lQ}]})):"transcribing"===c.state&&e.push((n={blockStore:t,transcriberId:c.transcriber_id,transcriberTable:c.transcriber_table},{key:"audio-capture",render:e=>(0,$.jsx)(lt().A,{...e}),items:[{key:"transcriber",render:e=>{let{ref:t,...o}=e;return(0,$.jsx)(wt,{...o,...n,ref:t})},action:G().lQ}]})),s&&"summarizing"!==c.state&&e.push(function(e){return{key:"transcription-options",render:e=>(0,$.jsx)(lt().A,{...e,topBorder:!0}),items:[{key:"format-option",render:(t,n)=>{let{ref:o,...i}=t;return(0,$.jsx)(kt,{...i,ref:o,onFocus:n.onFocus,blockStore:e})},action:G().lQ},{key:"consent-option",render:(e,t)=>{let{ref:n,...o}=e;return(0,$.jsx)(jt,{...o,ref:n,onFocus:t.onFocus})},action:G().lQ}]}}(t)),m||e.push({key:"connect-calendar",render:e=>(0,$.jsx)(lt().A,{...e,topBorder:!0}),items:[{key:"connect-notion-calendar",render:e=>{let{ref:t,...n}=e;return(0,$.jsx)(Tt,{...n,ref:t})},action:G().lQ}]}),e.push(function(e){let{topBorder:t}=e;return{key:"learn-more",render:e=>(0,$.jsx)(lt().A,{...e,topBorder:t}),items:[{key:"give-feedback",render:e=>{let{ref:t,...n}=e;return(0,$.jsx)(rt().A,{...n,icon:(0,$.jsx)(g().I,{icon:Je}),title:(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.giveFeedback.title",defaultMessage:"Give us feedback"})})},action:()=>{window.open(he().Dn,"_blank")}},{key:"learn-more",render:e=>{let{ref:t,...n}=e;return(0,$.jsx)(rt().A,{...n,icon:(0,$.jsx)(g().I,{icon:fe().questionMarkCircleIcon}),title:(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.learnMore.title",defaultMessage:"Learn more"}),right:(0,$.jsx)(it().A,{})})},action:()=>{window.open(he().WQ,"_blank")}}]}}({topBorder:!m||s||"transcribing"===c.state})),e}),[a.device.isMobile,s,p,c,t,m]);return(0,$.jsx)(gt,{sections:f})}function gt(e){let{sections:t,...n}=e;return(0,$.jsx)(at().A,{...n,menuType:dt().gu.Popup,children:(0,$.jsx)(st().Ay,{type:st().Oh.Vertical,initialFocus:0,style:{minWidth:250},sections:t})})}const ft=(0,o.forwardRef)(((e,t)=>{let{state:n,...o}=e;return"summarizing"===n?null:"transcribing"===n?(0,$.jsx)(ht,{...o,ref:t}):"initial"===n||"paused"===n||"idle"===n?(0,$.jsx)(bt,{...o,ref:t}):(0,O().HB)(n)}));ft.displayName="StateManagementTranscriptionItem";const ht=(0,o.forwardRef)(((e,t)=>{let{blockStore:n,...o}=e;const r=(0,i().v3)(),a=ut.pauseTranscription;return(0,$.jsx)(rt().A,{...o,ref:t,onClick:()=>{(0,j().pauseTranscription)({environment:r,blockStore:n,shouldStopDictation:!0,from:"pause_button"})},icon:(0,$.jsx)(g().I,{icon:Qe}),title:(0,$.jsx)(l().sA,{...a})})}));ht.displayName="PauseTranscriptionItem";const bt=(0,o.forwardRef)(((e,t)=>{let{blockStore:n,...o}=e;const a=(0,i().v3)(),s=(0,r().K8)((()=>(0,M().lk)(n)?ut.resumeTranscription:ut.startTranscription),[n]),c=(0,r().O$)(C().e);return(0,$.jsx)(oe().A,{disableTooltip:c,renderTooltip:()=>(0,$.jsx)(l().sA,{defaultMessage:"Unavailable while offline",id:"transcriptionBlock.resumeTranscription.offlineTooltip"}),render:e=>(0,$.jsx)(rt().A,{...o,disabled:!c,buttonStyle:c?void 0:{opacity:.4},ref:t,onClick:()=>{(0,j().startTranscription)({environment:a,blockStore:n,from:"resume"})},icon:(0,$.jsx)(_e,{}),title:(0,$.jsx)(l().sA,{...s}),...e})})}));bt.displayName="ResumeTranscriptionItem";const yt=(0,o.forwardRef)(((e,t)=>{let{blockStore:r,...a}=e;const s=(0,i().v3)(),c=K(r),[d,u]=(0,o.useState)(!1);if((0,n(852507).w)((()=>{u((0,M().lk)(r)||(0,M().Fz)({blockStore:r}))})),!d)return null;const p=(()=>{switch(c.state){case"initial":case"transcribing":case"paused":return ut.stopAndSummarize;case"summarizing":case"idle":return ut.retrySummary;default:return(0,O().HB)(c)}})();return(0,$.jsx)(rt().A,{...a,ref:t,onClick:()=>{(0,j().stopTranscription)({environment:s,blockStore:r,from:"idle"===c.state?"summary_retry_requested":"summary_requested"})},icon:(0,$.jsx)(g().I,{icon:n(116089).magicWandIcon}),title:(0,$.jsx)(l().sA,{...p})})}));yt.displayName="SummarizeTranscriptionItem";const vt=(0,o.forwardRef)(((e,t)=>{const o=It(),i=(0,r().O$)(n(426175).dc);return(0,$.jsx)(ct().A,{...e,ref:t,renderOrigin:(e,t)=>(0,$.jsx)(rt().A,{...e,ref:t,icon:(0,$.jsx)(g().I,{icon:n(90932).E}),title:(0,$.jsxs)("div",{style:o.sectionTitle,children:[(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.microphone.title",defaultMessage:"Mic"}),(0,$.jsx)("div",{style:o.selection,children:null==i?void 0:i.label})]})}),renderExtension:()=>(0,$.jsx)(n(784749).w,{})})}));vt.displayName="MicrophoneItem";const xt=(0,o.forwardRef)(((e,t)=>{const r=(0,i().v3)(),a=It(),s=function(e){const{environment:t}=e,[i,r]=(0,o.useState)();return(0,(()=>n(187174))().Yb)((async()=>{if(t.device.isElectron){const e=await n(705540).getDeviceName();r(e)}}),[t.device.isElectron]),i}({environment:r});return(0,$.jsx)(rt().A,{...e,ref:t,icon:(0,$.jsx)(g().I,{icon:tt}),title:(0,$.jsxs)("div",{style:a.sectionTitle,children:[(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.systemAudio.title",defaultMessage:"Audio"}),(0,$.jsx)("div",{style:{...a.selection,maxWidth:152},children:s||(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.systemAudio.selection",defaultMessage:"System"})})]})})}));xt.displayName="SystemAudioItem";const St=(0,o.forwardRef)(((e,t)=>{const o=(0,i().v3)(),a=It(),s=(0,r().K8)((()=>(0,n(632503).FT)(o.currentUser.id)),[o.currentUser.id]);return(0,$.jsx)(ct().A,{...e,ref:t,renderOrigin:(e,t)=>(0,$.jsx)(rt().A,{...e,ref:t,icon:(0,$.jsx)(g().I,{icon:n(12193).globeIcon}),title:(0,$.jsxs)("div",{style:a.sectionTitle,children:[(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.language.title",defaultMessage:"Language"}),(0,$.jsx)("div",{style:a.selection,children:s})]})}),renderExtension:(e,t)=>(0,$.jsx)(n(577579).Z,{parent:t})})}));St.displayName="LanguageItem";const wt=(0,o.forwardRef)(((e,t)=>{const{blockStore:o,transcriberId:i,transcriberTable:a,...s}=e,c=(0,n(6208).y)(i),d=(0,r().K8)((()=>n(630116).LU.createChildStore(o,{id:i,table:a}).getModel()),[o,i,a]);return(0,$.jsx)(n(678553).Ay,{...s,ref:t,icon:(0,$.jsx)(n(453697).A,{userValue:d,size:18,style:{borderRadius:12}}),title:(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.transcriber.title",defaultMessage:"{userName} is transcribing",values:{userName:c}})})}));wt.displayName="TranscriberItem";const kt=(0,o.forwardRef)(((e,t)=>{let{blockStore:a,...s}=e;const c=(0,i().v3)(),d=It(),u=(0,r().K8)((()=>{var e;return(null===(e=a.getModel())||void 0===e||null===(e=e.getFormat())||void 0===e?void 0:e.transcription_summarization_format_type)??"auto"}),[a]),p=ot.find((e=>e.type===u))??ot[0],m=(0,o.useCallback)((e=>{(0,j().updatePreferredSummarizationFormat)({environment:c,blockStore:a,format:e}),H().c.setSettingsOpenForBlockId(void 0)}),[c,a]);return(0,$.jsx)(ct().A,{...s,alignmentToOrigin:k().C.Start,ref:t,renderOrigin:(e,t)=>(0,$.jsx)(rt().A,{...e,ref:t,icon:(0,$.jsx)(g().I,{icon:n(105819).pencilLineIcon}),title:(0,$.jsxs)("div",{style:d.sectionTitle,children:[(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.format.title",defaultMessage:"Format"}),(0,$.jsx)("div",{style:d.selection,children:(0,$.jsx)(l().sA,{...p.title})})]})}),renderExtension:e=>(0,$.jsx)(Ct,{...e,selectedFormat:p,onFormatChange:m})})}));function Ct(e){const{selectedFormat:t,onFormatChange:n,...o}=e;return(0,$.jsx)(gt,{...o,sections:[{key:"formatting-options",render:e=>(0,$.jsx)(lt().A,{...e}),items:ot.map((e=>({key:e.type,render:n=>{let{ref:o,...i}=n;return(0,$.jsx)(rt().A,{...i,ref:o,isChecked:t.type===e.type,title:(0,$.jsx)(l().sA,{...e.title}),caption:(0,$.jsx)(l().sA,{...e.subtitle})})},action:()=>{n(e.type)}})))}]})}kt.displayName="FormatItem";const jt=(0,o.forwardRef)(((e,t)=>(0,$.jsx)(ct().A,{...e,alignmentToOrigin:k().C.Start,disableDefaultClick:!0,ref:t,renderOrigin:(e,t)=>(0,$.jsx)(rt().A,{...e,ref:t,icon:(0,$.jsx)(g().I,{icon:Z}),title:(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.consent.title",defaultMessage:"Consent"})}),renderExtension:(e,t)=>(0,$.jsx)(At,{...e,onClose:t.close})})));function At(e){let{onClose:t,...o}=e;return(0,$.jsx)(gt,{...o,sections:[{key:"configure-consent-message",render:e=>(0,$.jsx)(lt().A,{...e,topBorder:!1}),items:[{key:"message",render:e=>{let{ref:t}=e;return(0,$.jsx)(Mt,{ref:t})},action:G().lQ}]},{key:"configure-consent-buttons",render:e=>(0,$.jsx)(lt().A,{...e,topBorder:!0}),items:[{key:"learn-more",render:e=>{let{ref:t,...o}=e;return(0,$.jsx)(rt().A,{...o,icon:(0,$.jsx)(g().I,{icon:n(525884).A}),ref:t,title:(0,$.jsx)(l().sA,{id:"transcriptionBlockSettings.consent.learnMore.title",defaultMessage:"Learn more"})})},action:()=>{window.open(he().WQ,"_blank"),t()}}]}]})}jt.displayName="ConsentItem";const Mt=(0,o.forwardRef)(((e,t)=>{const i=(0,w().B)(),r=(0,o.useMemo)((()=>n(17022).A.withListenerIgnored((()=>ee()))),[]),s=(0,o.useCallback)((e=>te(e.target.value)),[]),c=(0,a().IS)((()=>({wrapper:{padding:6},label:{paddingLeft:4}})),[]);return(0,$.jsxs)(ce().wt,{ref:t,gap:4,style:c.wrapper,children:[(0,$.jsx)(le().D,{as:"label",colorName:"secondary",id:i,styleName:"UISmall-12px/Semibold",customStyles:c.label,children:(0,$.jsx)(l().sA,{defaultMessage:"Consent message",id:"transcriptionBlockSettings.consent.input.label"})}),(0,$.jsx)(n(805751).A,{allowEsc:!0,capture:!0,debugName:"ConsentMessageMenuSection",children:(0,$.jsx)(Ne().A,{inputElementAttributes:{"aria-labelledby":i},maxlength:500,onChange:s,textarea:!0,value:r})})]})}));Mt.displayName="ConsentMessageMenuSection";const Tt=(0,o.forwardRef)(((e,t)=>{let{...s}=e;const c=(0,i().v3)(),d=(0,r().O$)(U().AppStoreCurrentSpaceStore),u=(0,o.useCallback)((()=>{n(645200).Op({environment:c,spaceStore:d,collectionViewStore:void 0,from:"meetingNotesSignupClick"})}),[c,d]),p=(0,a().IS)((e=>({icon:{color:e.text.primary,width:20,height:20}})),[]);return(0,$.jsx)(rt().A,{...s,ref:t,icon:(0,$.jsx)(n(320260).y,{style:p.icon}),title:(0,$.jsx)(l().sA,{...pt.connectNotionCalendar}),onClick:u})}));function It(){return(0,a().IS)((e=>({sectionTitle:{display:"flex",flexDirection:"row",alignItems:"center",gap:8},selection:{flex:1,color:e.text.tertiary,maxWidth:140,...Se().RC}})),[])}Tt.displayName="ConnectNotionCalendarItem";const Bt={viewBox:"0 0 20 20",svg:(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("g",{clipPath:"url(#clip0_10430_11060)",children:[(0,$.jsx)("path",{d:"M18.471 4.733a3.59 3.59 0 0 0-4.921 1.235l-5.285 8.825a.625.625 0 0 0 .436.938l4.591.744a.625.625 0 0 0 .2-1.234l-3.681-.597 4.811-8.034a2.338 2.338 0 0 1 4.024.02.625.625 0 0 0 1.08-.63 3.6 3.6 0 0 0-1.255-1.267"}),(0,$.jsx)("path",{d:"M15.57 9.98a1.06 1.06 0 1 0 .339-2.094 1.06 1.06 0 0 0-.34 2.094m-7.6-5.86a3.59 3.59 0 0 1 5.104.326.625.625 0 0 1-.944.819 2.34 2.34 0 0 0-3.326-.213.625.625 0 0 1-.834-.932M9.98 9.074a1.06 1.06 0 1 0 .339-2.094 1.06 1.06 0 0 0-.34 2.094m-1.673 3.218.748-1.25H.9a.625.625 0 0 0 0 1.25zm-1.309 3.333a1.88 1.88 0 0 1 .08-1.25H.9a.625.625 0 1 0 0 1.25zm.864-7.917c-.061.44.006.87.174 1.25H.9a.625.625 0 0 1 0-1.25zM6.825 5.625a1.87 1.87 0 0 1-.302-1.25H.9a.625.625 0 0 0 0 1.25z"})]}),(0,$.jsx)("defs",{children:(0,$.jsx)("clipPath",{id:"clip0_10430_11060",children:(0,$.jsx)("path",{d:"M0 0h20v20H0z"})})})]})},Rt=(0,T().wt)("aiDescription",Bt);var Pt=()=>n(324254),zt=()=>n(284611);const Dt={viewBox:"0 0 20 20",svg:(0,$.jsx)("path",{d:"M2.9 4.375a.625.625 0 1 0 0 1.25h14.2a.625.625 0 1 0 0-1.25zm0 3.333a.625.625 0 0 0 0 1.25h9.457a.625.625 0 1 0 0-1.25zM2.275 15c0-.345.28-.625.625-.625h9.457a.625.625 0 1 1 0 1.25H2.9A.625.625 0 0 1 2.275 15m.625-3.958a.625.625 0 1 0 0 1.25h14.2a.625.625 0 0 0 0-1.25z"})},_t=(0,T().wt)("textAlignLeft",Dt);var Et=()=>n(493823),Ft=(n(908872),()=>n(773363));const Lt=B+R+P+z;function Wt(e){const{blockRef:t,store:n,state:a,tabStores:s,selectedTabType:c,disabled:d}=e,u=(0,i().v3)(),p=(0,o.useCallback)((e=>{e<0?e=s.length-1:e>=s.length&&(e=0);const t=s[e];H().c.setTabState(n.id,t.id);const o=_(n,t);if(o){var i;const e=A(n.id,o,"tab");null===(i=document.getElementById(e))||void 0===i||i.focus(),(0,y().u4)({environment:u,event:{eventName:"transcription_tab_opened",eventProperties:{tab:o,block_id:n.id}}})}}),[u,n,s]),m=(0,r().K8)((()=>s.map((e=>_(n,e))).filter(O().O9)),[n,s]),g=function(e){const{blockRef:t,tabTypes:n,state:r}=e,a=(0,l().tz)(),s=(0,i().Y0)(),c="summarizing"===r.state||"idle"===r.state,[d,u]=(0,o.useState)((()=>s.isPhone?c?"dropdown":"dropdown_icon_only":"tabs")),p=(0,o.useMemo)((()=>new(Ft().k)({style:{fontSize:`${Se().J.UIRegular.desktop}px`,fontWeight:Se().Wy.medium}})),[]),m=(0,o.useRef)(new Map),g=(0,o.useCallback)((e=>{if(m.current.has(e))return m.current.get(e)??0;const t=D[e],n=p.measure(a.formatMessage(t)),o=Lt+n.width;return m.current.set(e,o),o}),[a,p]);return(0,o.useEffect)((()=>{const e=t.current;if(s.isPhone||!e)return void u(c?"dropdown":"dropdown_icon_only");const o=new ResizeObserver((e=>{const t=e[0];if(!t)return;const o=t.contentRect.width;if(!c&&o<=500)return void u("dropdown_icon_only");const i=n.reduce(((e,t)=>e+g(t)),0),r=(n.length-1)*I;u(.45*o<i+r?"dropdown":"tabs")}));return o.observe(e),()=>o.unobserve(e)}),[t,s.isPhone,c,n,g]),d}({blockRef:t,tabTypes:m,state:a});return"tabs"!==g?(0,$.jsx)(Vt,{tabType:c||"notes",tabTypes:m,disabled:d,hideLabel:"dropdown_icon_only"===g,onSelectTab:p}):"tabs"===g?(0,$.jsx)("div",{"aria-orientation":"horizontal",role:"tablist",style:{display:"flex",gap:I,alignItems:"center",flexDirection:"row"},children:m.map(((e,t)=>(0,$.jsx)(Nt,{disabled:d,index:t,store:n,tabType:e,selected:e===c,onChangeTab:p},e)))}):void(0,O().HB)(g)}function Nt(e){const{store:t,tabType:n,selected:i,disabled:r,index:a,onChangeTab:s}=e,l=(0,o.useCallback)((e=>{e.shiftKey||e.ctrlKey||e.altKey||("ArrowLeft"===e.key?(e.stopPropagation(),s(a-1)):"ArrowRight"===e.key&&(e.stopPropagation(),s(a+1)))}),[a,s]),c=(0,o.useCallback)((()=>{s(a)}),[a,s]);return(0,$.jsx)(Kt,{disabled:r,"aria-selected":i,"aria-controls":A(t.id,n,"tabpanel"),id:A(t.id,n,"tab"),role:"tab",tabType:n,selected:i,onKeyDown:l,onClick:c})}function Vt(e){const{tabType:t,tabTypes:n,hideLabel:o,disabled:i,onSelectTab:r}=e,a=(0,l().tz)();return(0,$.jsx)(d().Ay,{popupType:d().z7.Popup,placementToOrigin:d().sx.Bottom,originGap:4,renderOrigin:e=>(0,$.jsx)(Kt,{...e,dropdown:!0,selected:!0,disabled:i,tabType:t,hideLabel:o}),render:e=>{const o=[{key:"transcription-tabs-menu",render:e=>(0,$.jsx)(lt().A,{...e}),items:n.map(((n,o)=>({key:n,action:()=>{r(o),e.close()},render:e=>(0,$.jsx)(rt().A,{...e,icon:(0,$.jsx)(Ht,{tabType:n}),title:a.formatMessage(D[n]),isChecked:n===t})})))}];return(0,$.jsx)(at().A,{menuType:dt().gu.Popup,children:(0,$.jsx)(st().Ay,{type:st().Oh.Vertical,sections:o,initialFocus:void 0})})}})}function Kt(e){const{tabType:t,selected:n,hideLabel:o,dropdown:i,...r}=e,s=(0,a().IS)((e=>({tabStyle:{display:"flex",justifyContent:"center",paddingTop:6,paddingBottom:6,paddingRight:R,paddingLeft:B,whiteSpace:"nowrap",minWidth:0,flexShrink:0,fontWeight:Se().Wy.medium,position:n?"relative":void 0,borderRadius:999,gap:P,color:n?e.text.primary:e.text.tertiary,background:n?e.fill.lightGrayPrimary:"transparent"},chevron:{width:z,height:z,fill:e.lightIconColor}})),[n]);return(0,$.jsx)(oe().A,{disableTooltip:!o,renderTooltip:()=>(0,$.jsx)(l().sA,{...D[t]}),render:e=>(0,$.jsxs)(Et().p,{...r,...e,size:"lg",style:s.tabStyle,children:[(0,$.jsx)(Ht,{tabType:t,selected:n}),!o&&(0,$.jsx)(l().sA,{...D[t]}),i&&n?(0,Pt().arrowChevronSingleDownSmallIcon)(s.chevron):null]})})}function Ht(e){const{tabType:t,selected:n}=e,o=n?"primary":"secondary";return"summary"===t?(0,$.jsx)(g().I,{icon:Rt,color:o}):"transcript"===t?(0,$.jsx)(g().I,{icon:zt().b,color:o}):"notes"===t?(0,$.jsx)(g().I,{icon:_t,color:o}):(0,O().HB)(t)}const Ot=(0,l().YK)({moreOptions:{defaultMessage:"Options",id:"transcriptionBlock.options"},notesPlaceholder:{defaultMessage:"Prep the agenda and take notes...",id:"transcriptionBlock.notes.placeholder"}}),Ut=o.forwardRef(((e,t)=>{const s=(0,o.useRef)(null),p=(0,o.useRef)(null),m=(0,r().uB)(void 0,n(17090).A),g=(0,l().tz)(),f=(0,r().K8)((()=>e.store.id),[e.store]),h=(0,r().K8)((()=>H().c.isSettingsOpenForBlockId(f)),[f]),{selectedTabStore:b,selectedTabType:v,selectedTabRootStore:x}=(w=e.store,(0,r().K8)((()=>{const e=H().c.getTabState(w.id),t=w.getContentStores(),n=t.find((t=>t.id===e));if(n)return{selectedTabStore:n.getContentStore(),selectedTabRootStore:n,selectedTabType:_(w,n)};if(t.length>0)return{selectedTabStore:t[0].getContentStore(),selectedTabRootStore:t[0],selectedTabType:_(w,t[0])};throw new Error("No content store found")}),[w]));var w;const A=K(e.store),T=(0,M().b8)((0,i().Y0)()),I=(0,r().O$)(C().e),B=function(e){const t=V(e),n=K(e),o=(0,r().O$)(N().gZ),i=(0,r().K8)((()=>N().Ay.state.loading),[]),a=(0,r().K8)((()=>U().default.state.currentUserStore),[]);return"transcribing"===n.state&&i&&(null==a?void 0:a.id)===n.transcriber_id?o:!!t||"idle"!==n.state&&"summarizing"!==n.state&&("transcribing"===n.state||"paused"===n.state||"initial"===n.state||(0,O().HB)(n))}(e.store),R=V(e.store),P=(0,r().K8)((()=>e.store.getContentStores()),[e.store]),z=(0,i().v3)();!function(e){const{store:t}=e,n=K(t),i=(0,r().K8)((()=>{const e=(0,M().y1)(t,"transcript");if(e)return e.getContentStores().at(-1)}),[t]);(0,o.useEffect)((()=>{var e,o;if((null===(e=N().Ay.state.rootBlock)||void 0===e?void 0:e.id)!==t.id&&(null===(o=N().Ay.state.block)||void 0===o?void 0:o.id)!==(null==i?void 0:i.id))if("transcribing"===n.state&&i){const e={...N().Ay.state.passiveBlockMap,[t.id]:{rootBlockStore:t,dictatingBlockStore:i}};N().Ay.setState({...N().Ay.state,passiveBlockMap:e})}else{const{[t.id]:e,...n}=N().Ay.state.passiveBlockMap;N().Ay.setState({...N().Ay.state,passiveBlockMap:n})}}),[i,n.state,t])}({store:e.store});const[D,E]=(0,n(548527).P)();(0,o.useEffect)((()=>(H().c.getVisibilityStatus(f)!==E&&H().c.setVisibility(f,E),()=>{H().c.setVisibility(f,!1)})),[E,f]);const F=(0,S().pW)(e.store,!0),L=(0,a().IS)((t=>({root:{borderRadius:16,border:`1px solid ${t.regularDividerColor}`,overflow:"hidden",...F,...e.style},controlRowContainer:{display:"flex",alignItems:"center",gap:8,minHeight:24,padding:"16px 16px 10px",backgroundColor:"transparent"},buttonsContainer:{display:"flex",gap:4,flexShrink:0},audioVisualizerContainer:{flex:1,minWidth:0,display:"flex"},spacer:{flex:1,minWidth:0},moreIconButton:{width:30,height:32}})),[F,e.style]),W=(0,$.jsxs)(n(42425).Ay,{style:L.root,ref:s,children:[(0,$.jsx)($t,{state:A,store:e.store}),(0,$.jsx)(c().s,{allowSelectionWithin:!1,ref:D,children:(0,$.jsxs)(n(2143).H,{role:"title","aria-label":"Transcription title",type:n(756279).A.X,store:m,style:L.controlRowContainer,ref:p,className:n(817942).A5,children:[(0,$.jsx)(Wt,{blockRef:s,store:e.store,state:A,tabStores:P,selectedTabType:v}),B?(0,$.jsx)("div",{style:L.audioVisualizerContainer,children:(0,$.jsx)(n(405689).t,{fakeSoundwave:!R&&"transcribing"===A.state,fillWidth:!0,forceRender:"paused"===A.state||!T})}):(0,$.jsx)("div",{style:L.spacer}),(0,$.jsxs)("div",{style:L.buttonsContainer,children:[I?(0,$.jsx)(Be,{store:e.store}):null,T?(0,$.jsx)(d().Ay,{renderOrigin:e=>(0,$.jsx)(u().A,{icon:n(126617).Y,iconStyle:{width:16,height:16},style:L.moreIconButton,ariaLabel:g.formatMessage(Ot.moreOptions),...e}),render:()=>(0,$.jsx)(mt,{blockStore:e.store}),popupType:n(897119).nl.Popup,placementToOrigin:k().W.Bottom,alignmentToOrigin:k().C.End,open:h,onClick:()=>{H().c.setSettingsOpenForBlockId(e.store.id),(0,y().u4)({environment:z,event:{eventName:"transcription_settings_menu_opened",eventProperties:{block_id:e.store.id}}})},onClose:()=>{H().c.setSettingsOpenForBlockId(void 0)}}):null]})]})}),P.map((t=>(0,$.jsx)(Yt,{disabled:e.disabled,disableCommentMenu:e.disableCommentMenu,disableDrag:e.disableDrag,disableHoverMenu:"transcript"===v,selectedTabRootStore:x,selectedTabStore:b,selectedTabType:v,state:A,store:e.store,tabStore:t},t.id)))]});return(0,S().NW)(e.store,t,(0,o.useMemo)((()=>({renderedType:"transcription",getNode:()=>s.current,getBlockStore:()=>e.store,handleCreated(){(0,j().placeCursorInNotesTab)({blockStore:e.store})}})),[e.store]),W)}));function $t(e){const{state:t,store:n}=e,o=(0,i().v3)(),r=W({store:n}),a=ve.filter((e=>e.isEligible({environment:o,state:t,canEdit:r})))[0];return a?a.render():null}function Yt(e){const{store:t,tabStore:n,selectedTabType:o}=e,i=(0,r().K8)((()=>_(t,n)),[t,n]),a=(0,r().K8)((()=>i===o),[i,o]);return i?(0,$.jsx)("div",{"aria-labelledby":A(t.id,i,"tab"),hidden:!a,id:A(t.id,i,"tabpanel"),role:"tabpanel",style:{padding:"2px 20px 14px"},children:a&&(0,$.jsx)(Zt,{...e})}):null}function Zt(e){const{disabled:t,store:n,selectedTabType:o,state:i}=e,s=(0,l().tz)(),d=(0,w().B)(),u=(0,r().K8)((()=>(0,x().X)(n)||!n.isDefaultRecordCache()),[n]),p=(0,r().K8)((()=>{var t;if("notes"===o&&1===(null===(t=e.selectedTabStore.getValue())||void 0===t?void 0:t.length))return s.formatMessage(Ot.notesPlaceholder)}),[o,e.selectedTabStore,s]),g=(0,a().IS)((e=>({innerContainer:{display:"flex",alignItems:"flex-start"},content:"transcript"===o?{display:"flex",flexDirection:"column",width:"100%",borderLeft:`3px solid ${e.accentColors.gray[500]}`,paddingLeft:14,paddingRight:14,marginTop:8}:{display:"flex",flexDirection:"column",width:"100%"}})),[o]);return(0,$.jsxs)($.Fragment,{children:["notes"!==o?(0,$.jsx)(Gt,{disabled:t||"transcript"===o&&"transcribing"===i.state,store:n}):null,(0,$.jsx)(m().A,{id:d,loaded:u,spinnerSize:"relative",showSpinnerTimeout:500,innerStyle:g.content,style:g.innerContainer,children:(0,$.jsxs)(h().A,{store:e.selectedTabRootStore,analyticsName:"page_content",canSelect:!0,canDrag:!1,shouldShowHalo:!1,children:[(0,$.jsx)(qt,{state:i,selectedTabType:o}),(0,$.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,$.jsx)(f().A,{store:e.selectedTabStore,placeholder:p,disabled:t,disableCommentMenu:e.disableCommentMenu,disableHoverMenu:e.disableHoverMenu,disableDrag:e.disableDrag})})]},e.selectedTabRootStore.id)}),"summary"===o?(0,$.jsx)(c().s,{allowSelectionWithin:!1,children:(0,$.jsx)($e,{state:i,store:n})}):null]})}function Gt(e){const{disabled:t,store:n}=e,o=(0,r().K8)((()=>n.getBlockTitleStore()),[n]),i=(0,r().K8)((()=>(o.getValue()||[]).length>0),[o]),s=(0,a().IS)((()=>({titleText:{fontSize:"1.25em"}})),[]);return i?(0,$.jsx)(b().A,{store:o,style:s.titleText,inPageFind:v().Os.block_match,disabled:t,disableDrag:!0,disableEnter:!0,disableSlashCommands:!0,pasteBehavior:"inline"}):null}function qt(e){const{state:t,selectedTabType:n}=e,o=(0,r().K8)((()=>n?"summary"!==n||"summarizing"!==t.state||"thinking"!==t.step?[]:t.thinkingSteps??[]:[]),[t,n]),i=(0,a().IS)((e=>({list:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:12,fontSize:14,fontWeight:500,color:e.text.primary,padding:0,marginBottom:0}})),[]);return 0===o.length?null:(0,$.jsx)("ul",{style:i.list,children:o.map(((e,t)=>(0,$.jsx)(Qt,{step:e,isLast:t===o.length-1},e)))})}function Qt(e){const{step:t,isLast:n}=e,o=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",gap:8,alignItems:"center"},text:{color:e.text.tertiary},spinner:{marginLeft:2,marginRight:2}})),[]),i=n?(0,$.jsx)(p().A,{legacySize:16,style:o.spinner}):(0,$.jsx)(g().I,{icon:s().checkmarkCircleFillIcon,color:"uiBluePrimary"});return(0,$.jsxs)("div",{style:o.container,children:[i,(0,$.jsx)("span",{style:o.text,children:t})]})}Ut.displayName="TranscriptionBlockImpl";const Xt=o.memo(o.forwardRef(((e,t)=>(0,$.jsx)(Ut,{...e,ref:t}))))},490044:(e,t,n)=>{n.d(t,{A:()=>p});n(296540);var o=()=>n(484714),i=()=>n(847249),r=()=>n(401497),a=()=>n(500066),s=()=>n(159588),l=()=>n(963589),c=()=>n(644914),d=n(474848);function u(){const e=(0,r().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,a().G)(e.icon)})}function p(e){var t;const n=(0,o().v3)(),a=n.device.isMobile,{isTablet:p}=(0,o().Y0)(),m=(0,l().X)("tablet_refresh_gate"),g=(0,i().K8)((()=>{var t,o;if(a)return n.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(o=e.style)||void 0===o?void 0:o.paddingLeft:10)}),[n.WindowSizeStore,a,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),f=(0,r().IS)((t=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:p&&m?4:8,paddingBottom:p&&m?4:8,paddingLeft:g,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:c().Zr,paddingTop:4,paddingBottom:4,...(0,s().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:a?24:c().ry,height:a?24:c().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,p,m,g,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,d.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:f.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:f.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:f.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(u,{})]}),(0,d.jsx)("div",{style:f.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:f.right,children:e.right})]})}},525884:(e,t,n)=>{n.d(t,{A:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M8.65 8.25a.625.625 0 1 0 0 1.25h.725v3.25H8.65a.625.625 0 1 0 0 1.25h2.7a.625.625 0 1 0 0-1.25h-.725V8.875A.625.625 0 0 0 10 8.25zM10.7 6.3a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,o.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,n(340498).wt)("infoCircle",i)},527580:(e,t,n)=>{n.d(t,{TK:()=>s,YC:()=>a,ui:()=>r});var o=()=>n(645873);const i={pageVerification:new(o().O2)("pageVerification",(()=>n.e(94891).then(n.bind(n,80826)))),pageVerificationBadge:new(o().O2)("pageVerificationBadge",(()=>Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(28866),n.e(6463),n.e(1213),n.e(59794),n.e(75601),n.e(58504),n.e(14590),n.e(41412)]).then(n.bind(n,161901)))),pageVerificationMenuRenderer:new(o().O2)("pageVerificationMenuRenderer",(()=>Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(28866),n.e(6463),n.e(1213),n.e(59794),n.e(75601),n.e(58504),n.e(14590),n.e(26207)]).then(n.bind(n,196770))))},r=(0,o()._h)(i.pageVerification,(e=>e.PageAddVerificationButton)),a=(0,o()._h)(i.pageVerificationBadge,(e=>e.PageVerificationBadge)),s=(0,o()._h)(i.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},529803:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{}const i=new o},544862:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(296540),i=()=>n(484714),r=()=>n(847249),a=()=>n(959013),s=()=>n(896628),l=()=>n(454531),c=()=>n(751156),d=()=>n(600871),u=()=>n(478726),p=()=>n(227440),m=()=>n(867772),g=()=>n(681810),f=()=>n(608581),h=()=>n(145214),b=()=>n(704152),y=()=>n(807683),v=()=>n(401497),x=()=>n(534177),S=n(474848);function w(e){let{src:t,placeholderSrc:n,placeholderBehavior:i,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[c,d]=(0,o.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!n&&(c||void 0===t);break;default:(0,x().HB)(i)}const p=(0,v().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,o.useEffect)((()=>{void 0!==t&&d(!0)}),[t]);const m=(0,o.useCallback)((e=>{d(!1),null==s||s()}),[s]);return(0,S.jsxs)("div",{style:p.container,children:[(0,S.jsx)(y().Ay,{src:t,onLoad:m,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),n&&(0,S.jsx)(y().Ay,{src:n,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var k=()=>n(24611);const C=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:d,height:u,proxyWidth:p}=e;const f=(0,i().v3)(),h=(0,r().uB)(void 0,n(454305).A),b=(0,r().K8)((()=>a||"suggest"===n(77246).Uv.getMode(t)),[a,t]),v=(0,r().K8)((()=>t.getCover()),[t]),x=(0,r().O$)(g().A),[k,C]=(0,o.useState)(void 0);if(!v)return null;const M=x.loadingMode!==m().pF&&x.loadingMode!==m().Wc;return(0,S.jsx)(n(801678).A,{mouseStore:h,onFlushTemporaryPosition:e=>function(e,t,n){const{imagePosition:o,reset:i}=e;c().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:n,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:o,transaction:e}),i()}})}(e,t,f),renderControl:e=>{let{handleRepositionClick:n,handleSavePositionClick:o,handleCancelClick:i,isVisible:r,isRepositioning:a}=e;return(0,S.jsx)(A,{handleRepositionClick:n,handleSavePositionClick:o,handleCancelClick:i,isVisible:r,isRepositioning:a,lastProxiedUrl:k,store:t,disabled:b,paddingRight:l,paddingLeft:d,mouseStore:h})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},render:e=>(0,S.jsxs)(o.Fragment,{children:[(0,S.jsx)(n(360083).A,{url:v.cover,isAuthenticated:!0,permissionRecord:v.pointer,width:p,onFinishedLoadingProxyUrl:C,render:(t,n)=>{const o={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:M?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,S.jsx)(w,{src:n,placeholderSrc:M?x.dataURL:void 0,placeholderBehavior:M?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:o,onLoadComplete:j,testId:"pageCover"})}}),M&&(0,S.jsxs)("div",{style:y().fd,children:[(0,S.jsx)(n(331542).A,{size:"md",style:{marginRight:4}}),(0,S.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==x.uploadProgress?(0,S.jsx)(n(773382).A,{percentage:x.uploadProgress}):x.progressText?(0,S.jsx)("span",{children:x.progressText}):null})]})]})})};function j(){g().A.reset()}function A(e){let{isVisible:t,isRepositioning:n,handleCancelClick:s,handleRepositionClick:c,handleSavePositionClick:y,lastProxiedUrl:v,store:x,disabled:w,paddingRight:C,paddingLeft:j,mouseStore:A}=e;const M=(0,i().v3)(),T=(0,a().tz)(),I=(0,o.useCallback)((e=>function(e,t,n,o,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:n,store:o,rect:r})}(e,M,T,x,A)),[M,T,x,A]),B=(0,r().K8)((()=>g().A.state.loadingMode),[]),R=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":u().x6,t}(x)),[x]),{device:P}=M,z=(0,r().K8)((()=>!n&&!(0,d().LX)({device:P})),[n,P]),D=(0,r().O$)(p().e);if(w||B!==m().pF||!D)return null;const{isMobile:_}=P;return(0,S.jsx)(h().A,{animate:{width:R,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,S.jsxs)(f().A,{isVisible:t,position:"bottom",style:{marginRight:C,marginLeft:j},children:[z&&(0,S.jsx)(b().A,{style:{borderRight:_?"none":void 0,...k().k},onClick:I,children:(0,S.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!n&&!_&&(0,S.jsx)(b().A,{style:{...k().k,borderRight:"none"},onClick:e=>c(e,v),children:(0,S.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),n&&!_&&(0,S.jsx)(b().A,{style:k().k,onClick:y,children:(0,S.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),n&&!_&&(0,S.jsx)(b().A,{style:{...k().k,borderRight:"none"},onClick:s,children:(0,S.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},551619:(e,t,n)=>{n.d(t,{Hy:()=>B,NV:()=>T,O9:()=>P,Rg:()=>R,Sm:()=>D,dK:()=>_,f7:()=>z,l8:()=>E,n$:()=>F,no:()=>L,sx:()=>I});var o=()=>n(484714),i=()=>n(792485),r=()=>n(847249),a=()=>n(700500),s=()=>n(651124),l=()=>n(519831),c=()=>n(620689),d=()=>n(591197),u=()=>n(835066),p=()=>n(964345),m=()=>n(68465),g=()=>n(753199),f=()=>n(504836),h=()=>n(478726),b=()=>n(747100),y=()=>n(963589),v=()=>n(665579),x=()=>n(351360),S=()=>n(525569),w=()=>n(508496),k=()=>n(375447),C=()=>n(66496),j=()=>n(548821),A=()=>n(712505),M=()=>n(302022);function T(e){(0,g().SQ)({event:e,context:g().y$.EditorMouseDown,callback:()=>{}})}function I(e){(0,g().SQ)({event:e,context:g().y$.EditorClick,callback:()=>{}})}function B(e){return(0,r().K8)((()=>Boolean(M().A.state.pageMap[e.id])||C().A.state.pages.has(e.id)),[e.id])}function R(e,t){const n=(0,o().v3)(),a=(0,i().S)(),s=B(e),l=(0,r().K8)((()=>{var n,o;return t===j().Rr.Frame?Boolean(null===(n=x().default.state.currentLoadingContainerStore)||void 0===n?void 0:n.state.ready):t===j().Rr.PeekView&&A().default.state.open?Boolean(null===(o=A().default.state.loadingContainerStore)||void 0===o?void 0:o.state.ready):t===j().Rr.CollectionPageView||t===j().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),c=z(e);return(0,r().K8)((()=>{if(!l)return!1;const t=n.currentUser.isLoggedIn(),o=a&&a.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=o&&o.hasPublicPermission)||"edit"===(null==o?void 0:o.permission))&&!s&&!c&&(!(0,m().ZE)(o)||"completionPopup"!==S().default.state.type))}),[n.currentUser,c,l,a,s,e])}function P(e,t){const n=(0,o().v3)(),a=(0,i().S)(),{isTablet:s}=(0,o().Y0)(),l=(0,y().X)("tablet_refresh_template_pills_gate");return(0,r().K8)((()=>{if(t===j().Rr.SitePreview)return!1;if(n.device.isMobile&&(!s||!l))return!1;if(!n.currentUser.isLoggedIn())return!1;const o=a&&a.publicEditModeStore.state;if(null!=o&&o.hasPublicPermission&&"edit"!==(null==o?void 0:o.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const i=e.getContentStores()[0];if(i&&!i.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const r=p().gZ.state,c=p().Di.state;if(r&&e.id===c)return!1;return!((0,h().L5)(t)?d().VY.state:d().u3.state)}),[n,a,e,t,s,l])}function z(e){return(0,r().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(a().xd.externalObjectInstancePage)}),[e])}function D(e){return(0,r().K8)((()=>{if(!(0,f().vL)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===l().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function _(e){return(0,r().K8)((()=>{if(!(0,f().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function E(e){return(0,r().K8)((()=>{if(!w().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===s().IE.CsvImport}),[e])}function F(e){const t=(0,o().v3)(),{device:n,WindowSizeStore:i}=t,a=(0,r().K8)((()=>{const e=i.state.height,o=n.isMobile&&k().A.state.open?e:0;return c().C6(t)+o}),[t,i,n.isMobile]);return(0,r().K8)((()=>"home-phone"===e?v().q3:n.isTablet?380:n.isIOS?Math.max(350,a):n.isMobile?400:"side-peek"===e||"center-peek"===e?b().ln:"home"===e?v().wH:"30vh"),[n,a,e])}function L(e){const t=(0,o().v3)(),n=(0,r().K8)((()=>(0,u().dC)(t,e)),[t,e]);return(0,r().K8)((()=>n&&!e.isFullWidth()?(0,u().Zy)(t,(0,b().cq)(e),(0,b().RX)(e)):0),[t,n,e])}},555267:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(401497),r=()=>n(62856),a=()=>n(331542),s=n(474848);function l(e){let{loadingMessage:t}=e;const n=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(a().A,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t})]})})}},563615:(e,t,n)=>{n.d(t,{$b:()=>d,Nz:()=>l,Q1:()=>a,Vh:()=>u,ZO:()=>c,bl:()=>s,eN:()=>r,oQ:()=>i});var o=()=>n(645873);const i={WorkflowPageBlock:new(o().O2)("WorkflowPageBlock",(async()=>await n.e(87700).then(n.bind(n,885789)))),WorkflowEditorTopbar:new(o().O2)("WorkflowEditorTopbar",(async()=>await Promise.all([n.e(96346),n.e(55373),n.e(36192),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(92143)]).then(n.bind(n,484654)))),WorkflowInPlaceEditor:new(o().O2)("WorkflowInPlaceEditor",(async()=>await Promise.all([n.e(75134),n.e(43380),n.e(9304),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(67780),n.e(96933),n.e(4253),n.e(9150),n.e(50437)]).then(n.bind(n,742628)))),ChatCollectionView:new(o().O2)("ChatCollectionView",(async()=>await Promise.all([n.e(96346),n.e(55373),n.e(85864),n.e(7114),n.e(45666)]).then(n.bind(n,227519)))),CustomCollectionView:new(o().O2)("CustomCollectionView",(async()=>await Promise.all([n.e(96346),n.e(55373),n.e(36192),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(64165)]).then(n.bind(n,120250)))),WorkflowEditorCollectionViewPage:new(o().O2)("WorkflowEditorCollectionViewPage",(async()=>await Promise.all([n.e(75134),n.e(43380),n.e(96346),n.e(55373),n.e(36192),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(1213),n.e(78846),n.e(43741),n.e(93282),n.e(67780),n.e(16697)]).then(n.bind(n,258651)))),WorkflowContainerEmptyState:new(o().O2)("WorkflowContainerEmptyState",(async()=>await n.e(97891).then(n.bind(n,50512)))),workflowActions:new(o().O2)("workflowActions",(async()=>await Promise.all([n.e(96346),n.e(55373),n.e(36192),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(11097)]).then(n.bind(n,847)))),workflowNavigationActions:new(o().O2)("workflowNavigationActions",(async()=>await n.e(93139).then(n.bind(n,691093)))),workflowNavigationHelpers:new(o().O2)("workflowNavigationHelpers",(async()=>await n.e(92821).then(n.bind(n,564037)))),workflowAdvanced:new(o().O2)("workflowAdvanced",(async()=>await Promise.all([n.e(75134),n.e(43380),n.e(9304),n.e(96346),n.e(55373),n.e(36192),n.e(44711),n.e(62475),n.e(3151),n.e(16471),n.e(53321),n.e(58550),n.e(98629),n.e(90825),n.e(37353),n.e(29151),n.e(31895),n.e(83647),n.e(85864),n.e(92845),n.e(71718),n.e(83324),n.e(48486),n.e(95794),n.e(85515),n.e(74562),n.e(38744),n.e(63077),n.e(28271),n.e(17254),n.e(41870),n.e(90966),n.e(42120),n.e(7114),n.e(67435),n.e(92012),n.e(22462),n.e(8184),n.e(4422),n.e(28721),n.e(28866),n.e(21194),n.e(6463),n.e(71993),n.e(1213),n.e(17989),n.e(90625),n.e(59794),n.e(78846),n.e(26483),n.e(43741),n.e(81768),n.e(94387),n.e(82850),n.e(52393),n.e(77692),n.e(75601),n.e(11341),n.e(7060),n.e(82136),n.e(12739),n.e(26090),n.e(73594),n.e(93282),n.e(12341),n.e(50984),n.e(66984),n.e(40828),n.e(26199),n.e(18057),n.e(90978),n.e(56264),n.e(5023),n.e(55927),n.e(61151),n.e(72226),n.e(48199),n.e(67780),n.e(96933),n.e(4253),n.e(9150)]).then(n.bind(n,140659))))},r=(0,o()._h)(i.WorkflowPageBlock,(e=>e.default)),a=(0,o()._h)(i.ChatCollectionView,(e=>e.ChatCollectionView)),s=(0,o()._h)(i.CustomCollectionView,(e=>e.CustomCollectionView)),l=(0,o()._h)(i.WorkflowEditorTopbar,(e=>e.WorkflowEditorTopbar)),c=(0,o()._h)(i.WorkflowInPlaceEditor,(e=>e.WorkflowInPlaceEditor)),d=(0,o()._h)(i.WorkflowEditorCollectionViewPage,(e=>e.WorkflowEditorCollectionViewPage)),u=(0,o()._h)(i.WorkflowContainerEmptyState,(e=>e.WorkflowContainerEmptyState))},567121:(e,t,n)=>{n.d(t,{EG:()=>a,K5:()=>r,RH:()=>i,Yi:()=>s,ls:()=>o});const o=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},570551:(e,t,n)=>{function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>o})},578194:(e,t,n)=>{n.d(t,{r:()=>o});const o=(0,n(583835).Dv)("importEvernote")},591197:(e,t,n)=>{n.d(t,{VY:()=>s,ZJ:()=>r,u3:()=>a});var o=()=>n(496506);class i extends(()=>n(757695))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const r=new i,a=new(o().default)((()=>!1!==r.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(o().default)((()=>!1!==r.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},592968:(e,t,n)=>{n.d(t,{F:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{isOpen:!1}}}const i=new o},603815:(e,t,n)=>{n.d(t,{A$:()=>j,JQ:()=>A,Vn:()=>k,s4:()=>C});n(16280),n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(803949),n(581454);var o=()=>n(857639),i=()=>n(585515),r=()=>n(577449),a=()=>n(388821),s=()=>n(179034),l=()=>n(545285),c=()=>n(534177),d=()=>n(449506),u=()=>n(780054),p=()=>n(989423),m=()=>n(870618),g=()=>n(303626),f=()=>n(14307),h=()=>n(245865),b=()=>n(540758),y=()=>n(670631),v=()=>n(508496),x=()=>n(571963),S=()=>n(603815),w=()=>n(108944);async function k(e){const{environment:t,request:n,abortSignal:o,prefetchCacheKey:i,headers:r}=e;return(0,x().updateLoadCachedPageChunkCalledAt)(),f().isConnected()||f().isConnecting()?d().callApi({eventName:"loadCachedPageChunkV2",environment:t,data:n,abortSignal:o,prefetchCacheKey:i,headers:r}):d().callApi({eventName:"loadPageChunkV2",environment:t,data:n,abortSignal:o,prefetchCacheKey:i,headers:r})}async function C(e){const{mode:t,environment:n,request:c,isFirstChunk:d,abortSignal:f}=e,h={...c,limit:30,cursor:c.cursor||{stack:[]},baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName};if("inMemoryAndDiskCacheWithInexactPreload"===t&&(await S().A$(n,{id:c.page.id,table:s().ev}),null!=f&&f.aborted))throw new Error("Abort signal received");const v=a().RecordMapWithRole.create(),x=[];let w=!1;const k=new Set,C=await i().T(h,r().h.fromMonomorphicFunctionUnsafe((async e=>{const o=await m().h7({environment:n,pointer:e,abortSignal:f,useInMemoryCacheOnly:"inMemoryOnly"===t});if(null!=f&&f.aborted)throw new Error("Abort signal received");if(o)return v.setModelAndRole(e,o.model,o.role),o.model;if("inMemoryOnly"===t)throw new Error(`Record not found: ${e.table},${e.id}`);if((0,l().u)(e)&&!k.has(e.id)&&d){if(void 0===y().A.state.offlinePages)return x.push(e),void(w=!0);if(void 0===y().A.state.offlinePages||!b().Bd(c.page.id))throw new Error(`Record not found: ${e.table},${e.id}`);x.push(e)}})),((e,t,n,o)=>{g().N.enableLogging&&console.log(`Spidering from ${e.table}:${e.id} to ${t.table}:${t.id} (${n})`),null!=o&&o.suppressErrorOnClient&&k.add(t.id)}));if(w&&(await y().A.waitUntil((()=>void 0!==y().A.state.offlinePages)),!b().Bd(c.page.id))){const[e]=x;throw new Error(`Record not found: ${e.table},${e.id}`)}if(x.length>0&&(0,p().LM)({eventName:"offline_page_was_missing_records_in_cache",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((e=>{(0,p().u4)({environment:n,event:{eventName:"offline_page_was_missing_records_in_cache",eventProperties:{}},opts:{sampling:{behavior:"decided",sampleDecision:e}}}),e&&o().log({level:"error",from:"loadingHelpers",type:"offlinePageWasMissingRecordsInCache",data:{pageId:c.page.id,missingRecords:x}})})),null!=f&&f.aborted)throw new Error("Abort signal received");return{recordMap:v.toJson(),cursor:C.cursorValue}}async function j(e,t){const n=e.currentUser.id;if(!n||!e.defaultRecordCache.persistedRecordCache)return Promise.resolve(void 0);(await e.defaultRecordCache.persistedRecordCache.getPageBlocksByParent({page:t,userId:n})).forEach((t=>{e.defaultRecordCache.inMemoryRecordCache.setRecord({pointer:t.pointer,userId:t.userId},t.value),e.defaultRecordCache.inMemoryRecordCache.emitRecord(t.pointer,[]),h().unsubscribeAfterDelay({environment:e,pointer:t.pointer,userId:t.userId})}))}function A(e){if(!v().default.checkGate({gateName:"load_page_chunk_omit_existing_record_versions"}))return;const t=a().RecordMapPolymorphic.create();let n=0;const o=()=>n>=50,i=e=>{"space"!==(null==e?void 0:e.table)&&(o()||e&&void 0===t.get(e.pointer)&&(t.set(e.pointer,e.getVersion()),n++))};if(e.isReady())for(const a of(0,w().E)(e))i(a);if(e.userId){const t=e.environment.defaultRecordCache.inMemoryRecordCache.data.getUserRecordMap(e.userId);i(t.getModel({table:"notion_user",id:e.userId}));let n=0;for(const e of t.getPointersByTable("notion_user")){if(o()||n>=10)break;n++,i(t.getModel(e))}}const r=Array.from(t).map((e=>{let{pointer:t,value:n}=e;if(void 0!==n)return{pointer:t,version:n}})).filter(c().O9);return r.length?r:void 0}},606982:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(10123),i=()=>n(570551);function r(e,t){(0,i().A)(2,arguments);var n=(0,o().A)(e),r=(0,o().A)(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}},608581:(e,t,n)=>{n.d(t,{A:()=>d});n(898992),n(354520),n(581454),n(941795);var o=n(296540),i=()=>n(401497),r=()=>n(955825),a=()=>n(284371),s=()=>n(963575),l=n(474848);function c(e){const{button:t,isLast:n}=e,s=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return o.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,n&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,n&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const d=function(e){let{children:t,isVisible:d,position:u,style:p}=e;const m=(0,n(484714).v3)(),g=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:s().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:m.device.isMobile?"auto":"none",opacity:m.device.isMobile?1:0,fontFamily:a().vc(n(662303).locale).sans,position:"absolute",right:s().A.horizontal.small,bottom:s().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:s().A.vertical.small,bottom:void 0}})),[m]),f=o.Children.toArray(t).filter(n(534177).O9),h=f.length;return(0,l.jsx)(n(145214).A,{animate:{opacity:d?1:0},...(0,r().AH)(g.container,p,d&&g.containerHover,"top"===u&&g.containerTop),children:f.map(((e,t)=>{const i=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===n(859428).A&&o.isValidElement(e))return o.cloneElement(e,{render:(t,n)=>{const o=e.props.render(t,n);return(0,l.jsx)(c,{isLast:i,button:o},e.key)}});if(e.type===n(704152).A&&o.isValidElement(e))return(0,l.jsx)(c,{isLast:i,button:e},e.key)}}))})}},644187:(e,t,n)=>{n.d(t,{K:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M5.612 4.08A1.895 1.895 0 0 0 3.971 5.81l-.005.092.001 9.439-.864.053h-.035a.883.883 0 0 1-.571-.245.921.921 0 0 1-.28-.646V4.137c0-.88.683-1.61 1.562-1.665l10.187-.651a.755.755 0 0 1 .786.551.826.826 0 0 1 .03.175v.943l-9.133.583-.037.007Zm12.172 12.67a.779.779 0 0 1-.617.747c-.006 0-.013.003-.02.003l-11.045.681h-.034a.883.883 0 0 1-.571-.245.921.921 0 0 1-.28-.647l-.001-.03V6.072l.001-.047a.777.777 0 0 1 .67-.709c.01 0 .018-.003.027-.003l11.052-.706a.755.755 0 0 1 .786.551.824.824 0 0 1 .03.175l.002 11.418Zm-1.248-8.726a.388.388 0 0 0-.418-.393l-9.213.563c-.23.012-.439.177-.439.436v7.533c-.01.484.31.61.673.583L16 16.221l.002-.001c.466-.018.534-.374.534-.65V8.024Zm-7.35 2.458c-.429.026-.574.353-.573.856v.089c-.051.012-.094.023-.146.026-.309.02-.531-.232-.532-.682 0-.689.616-1.336 1.79-1.41 1.045-.064 1.714.441 1.715 1.333 0 .67-.556 1.147-1.104 1.296 1.028.05 1.458.624 1.459 1.357.001 1.254-.915 1.964-2.329 2.052l-.034.002c-1.063.066-1.809-.338-1.81-1.035 0-.397.29-.733.728-.76.035-.003.068.004.103.002.087.71.567.97 1.046.941.463-.029.788-.34.788-.782v-.018c0-.688-.575-.723-1.44-.757l-.138-.822c.805-.147 1.207-.41 1.207-.887 0-.512-.284-.83-.73-.801Zm3.864-.339c-.857.248-1.045-.129-.952-.523.514-.12 1.85-.521 2.356-.703l.006 5.289.934.136c0 .344-.197.56-.548.581-.291.018-.968.043-1.294.063-.505.031-1.43.107-1.43.107a.572.572 0 0 1-.035-.201c0-.168.068-.34.29-.416l.677-.219-.004-4.114Z"})},i=(0,n(340498).wt)("calendarDate31",o)},654734:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(869190),r=()=>n(604995),a=()=>n(416504),s=n(474848);const l=function(e){const t=(0,n(959013).tz)(),l=(0,n(401497).DP)(),u=(0,n(396182).I)(),p=(0,o.useRef)(),m=(0,o.useCallback)((()=>{const t=e.value;if(!t)return;const o=r().q8(t,(0,a().P)());if(!o)return;const i=o.valueOf(),s=i-Date.now();s<0||s>n(720665).nD||p.current&&p.current.timestamp===i||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:i,timer:setTimeout((()=>u("DateBox","DateBox/createReminderTimer")),s)})}),[u,e.value]),g=(0,o.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,o.useEffect)((()=>{m()}),[m]),(0,o.useEffect)((()=>()=>{g()}),[g]);const{value:f,withComma:h}=e,b=(0,n(847249).K8)((()=>f?(0,i().ZF)({value:f,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,f]);if(!f)return null;const y=r().AA(f,(0,a().P)(),n(662303).locale);let v;if(f.reminder){const e=r().Zs(f,(0,a().P)());v=e?{color:l.errorText}:{color:n(100622).Ay.blue}}const x=(0,s.jsxs)(s.Fragment,{children:[b,f.reminder&&(0,n(599987).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),h?", ":null]});return e.disableTooltip?(0,s.jsx)("div",{className:e.className,style:{...e.style,...v},children:x}):(0,s.jsx)(n(859428).A,{renderTooltip:()=>(0,s.jsxs)(s.Fragment,{children:[e.tooltipHeader,(0,s.jsxs)("div",{style:d(l,e.tooltipHeader),children:[c(y.start),y.end?` → ${c(y.end)}`:""]})]}),render:t=>(0,s.jsx)("div",{className:e.className,style:{...e.style,...v},...t,children:x}),placement:e.tooltipPlacement})};function c(e){return(0,i().eV)({value:e,preset:"medium"})}function d(e,t){return t?{color:e.text.contrastSecondary}:{}}},665579:(e,t,n)=>{n.d(t,{$E:()=>M,$L:()=>s,BZ:()=>d,EC:()=>g,EI:()=>x,E_:()=>A,Ed:()=>p,Fq:()=>b,Lu:()=>w,Mk:()=>m,O0:()=>j,UO:()=>T,V$:()=>C,VQ:()=>f,Xx:()=>S,Xy:()=>c,YS:()=>h,_g:()=>v,dd:()=>u,pW:()=>l,q3:()=>a,wH:()=>r});var o=()=>n(496603),i=()=>n(534177);const r=160,a=40,s=24,l=20,c=600,d=270,u=405,p=480,m=500,g=void 0,f=16,h=10,b=8,y=(n(69447).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),v=4;function x(e){return{icon:e.mediumIconColor,text:e.text.secondary}}function S(e){return{width:48,height:48,fill:e.lightIconColor}}function w(e){let{theme:t,isPhone:n}=e;return n?t.personalHomeBackgroundPhone:t.surface.page}const k=1;function C(e){let{isPhone:t,theme:n}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:n.home.tile.background,boxShadow:A({isPhone:t,theme:n}),...y}}function j(e){let{mode:t}=e;switch(t){case"dark":return 0;case"light":return k;default:return(0,i().ub)(t),0}}function A(e){let{isPhone:t,theme:n,borderOnly:i}=e;if("dark"===n.mode)return"unset";n.mode;const r=j({mode:n.mode});return(0,o().oE)([i||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}function M(e){return{display:"flex",flexDirection:"column",width:"100%",gap:24}}function T(e){const{isPhone:t,theme:n,borderOnly:o}=e;return{unhoveredBoxShadow:A({isPhone:t,theme:n,borderOnly:o}),hoveredBoxShadow:"light"===n.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):n.homeShadow.card.hovered}}},665638:(e,t,n)=>{n.d(t,{$:()=>p,S:()=>m});var o=()=>n(847249),i=()=>n(401497),r=()=>n(186445),a=()=>n(838364),s=()=>n(644914),l=()=>n(155959),c=()=>n(661179),d=()=>n(508496),u=()=>n(895227);function p(e){const{environment:t,rightEdgeDistance:n,isInPeekRenderer:a}=e,l=e.width??36,d=(0,o().K8)((()=>(0,s().zo)(t,a)-(0,s().Ql)(t)),[t,a]),p=(0,o().K8)((()=>m(t,16+c().A.state)),[t]),g=(0,o().K8)((()=>n+c().A.state),[n]),f=(0,o().K8)((()=>r().$o.state?0:1),[]);return(0,i().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:p,right:g,opacity:f,transform:`translateX(-${d}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${u().L}ms,\n\t\t\t\t\tcolor ${u().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:l,height:l,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[d,p,g,l,f])}function m(e,t){const n=d().default.checkGate({gateName:"tablet_refresh_gate"}),o=e.device.isMobileNative&&!n,i=(0,l().T)("supportsNativeBottomBar"),r=o&&!i;return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet&&n?-12:r?a().l:0))}},681810:(e,t,n)=>{n.d(t,{A:()=>o});const o=new(n(867772).Ay)},709687:(e,t,n)=>{n.d(t,{r:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("bell",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.36914 11.7627C1.36914 12.3369 1.80664 12.7266 2.51074 12.7266H5.32031C5.38184 14.0322 6.44824 15.2285 8 15.2285C9.55176 15.2285 10.6182 14.0391 10.6797 12.7266H13.4893C14.2002 12.7266 14.6309 12.3369 14.6309 11.7627C14.6309 11.0381 13.9678 10.416 13.3457 9.81445C12.8672 9.34277 12.751 8.39941 12.6621 7.46289C12.5732 4.87207 11.8213 3.14258 10.0371 2.49316C9.77734 1.59082 9.01855 0.900391 8 0.900391C6.98145 0.900391 6.22266 1.59082 5.96289 2.49316C4.17871 3.14258 3.42676 4.87207 3.33789 7.46289C3.24902 8.39941 3.13965 9.34277 2.6543 9.81445C2.03906 10.416 1.36914 11.0381 1.36914 11.7627ZM3.00293 11.4756V11.3936C3.18066 11.1953 3.57715 10.833 3.91211 10.4434C4.38379 9.90332 4.60254 8.92578 4.6709 7.62695C4.75293 4.85156 5.60059 3.92871 6.70801 3.62793C6.87207 3.58691 6.96777 3.50488 6.98145 3.32031C7.01562 2.62305 7.39844 2.1582 8 2.1582C8.60156 2.1582 8.99121 2.62305 9.01855 3.32031C9.03223 3.50488 9.12793 3.58691 9.29883 3.62793C10.3994 3.92871 11.2539 4.85156 11.3291 7.62695C11.3975 8.92578 11.623 9.90332 12.0879 10.4434C12.4297 10.833 12.8125 11.1953 12.9834 11.3936V11.4756H3.00293ZM6.6123 12.7266H9.3877C9.33984 13.5811 8.7793 14.1348 8 14.1348C7.22754 14.1348 6.66699 13.5811 6.6123 12.7266Z"})})},748539:(e,t,n)=>{n.d(t,{f:()=>o});const o=new(n(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await n.e(40198).then(n.bind(n,519737));return e}))},756114:(e,t,n)=>{n.d(t,{D:()=>o});function o(e,t){t.route.name;return!1}},765974:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkTriangleFillIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},i=(0,n(340498).wt)("exclamationMarkTriangleFill",o)},773363:(e,t,n)=>{n.d(t,{k:()=>i});let o;class i{constructor(e){this.style=void 0,this.lastResult=void 0,this.style=e.style}measure(e){var t;if(e===(null===(t=this.lastResult)||void 0===t?void 0:t.text))return this.lastResult.rect;o||(o=document.createElement("div"),o.style.position="absolute",o.style.left="0",o.style.top="0",o.style.pointerEvents="none",o.style.opacity="0",document.body.appendChild(o)),n(496603).uk(this.style,((e,t)=>{o&&(o.style[t]=e)})),o.textContent=e;const i=o.getBoundingClientRect();return this.lastResult={text:e,rect:i},i}}},801678:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(296540),i=()=>n(662303),r=()=>n(484714),a=()=>n(847249),s=()=>n(955825),l=()=>n(959013),c=()=>n(100622),d=()=>n(496603),u=()=>n(284371),p=()=>n(720665),m=()=>n(145214),g=n(474848);const f={isRepositioning:!1};const h=function(e){const t=(0,o.useRef)(null),i=(0,r().v3)(),{isMobile:l}=(0,r().Y0)(),[c,u]=(0,o.useState)(f),m=(0,o.useCallback)((()=>{u(f)}),[]),{renderControl:h,onFlushTemporaryPosition:y,style:v,source:x,store:S}=e,{isRepositioning:w,image:k,startDragRenderedPosition:C,startDragImageScreenHeight:j}=c,A=(0,a().K8)((()=>0===n(502438).default.state.stores.length),[]),[M,T]=(0,o.useState)(!1),I=(0,a().uB)(e.mouseStore,n(454305).A),B=(0,a().K8)((()=>I.state.mouseEntered),[I]),R=(0,n(401497).IS)((()=>({dragContainer:{width:"100%",cursor:w?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[w]),P=(0,a().K8)((()=>function(e,t,n){return(0,d().Et)(n)?n:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,d().Et)(e))return e}const n=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,p().pN)(t)?n:t}}const o=t.getFormat(),i=o.page_cover_position;if((0,d().Et)(i))return i;return n}(e,t)}(x,S,c.temporaryPosition)),[c.temporaryPosition,x,S]);(0,o.useEffect)((()=>{const e=e=>{const n=t.current;n&&!n.contains(e.target)&&w&&y({imagePosition:P,reset:()=>{I.reset(),m()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[P,w,I,y,m]),w&&!A&&m();const z=(0,o.useMemo)((()=>(0,d().nF)((e=>{I.setState({...I.state,mouseEntered:!0})}),100)),[I]),D=(0,o.useMemo)((()=>(0,d().sg)((e=>{I.setState({...I.state,mouseEntered:!1})}),100)),[I]),_=(0,o.useCallback)(((e,t)=>{n(778417).IU({environment:i});const o=new Image;o.onload=()=>{u((e=>({...e,isRepositioning:!0,image:o})))},t&&(o.src=t)}),[i]),E=(0,o.useCallback)((e=>{y({imagePosition:P,reset:()=>{m()}})}),[P,y,m]),F=(0,o.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,n(819121).p)(t)&&T(!0)}),[]),L=(0,o.useCallback)((()=>{T(!0)}),[]),W=(0,o.useCallback)((e=>{if(k&&w){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/k.width*k.height;u((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:P})))}}}),[k,P,w]),N=(0,o.useCallback)((e=>{if(w){const t=e.diffY/(j||0)+(C||0);u((e=>({...e,temporaryPosition:(0,d().LI)((0,n(40845).A)(t,0,1),4)})))}}),[w,j,C]),V=(0,o.useCallback)((()=>{u((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),K=(0,a().K8)((()=>h({handleRepositionClick:_,handleSavePositionClick:E,handleCancelClick:m,isVisible:l||B||M||w,isRepositioning:w})),[_,E,M,l,w,B,h,m]);return(0,g.jsxs)("div",{ref:t,onFocus:F,onBlur:L,onMouseEnter:z,onMouseMove:z,onMouseLeave:D,...(0,s().AH)(R.container,v),children:[(0,g.jsx)(n(603820).A,{onDraggableDragStart:W,onDraggableDragMove:N,onDraggableDragEnd:V,onDraggableDragCancel:V,disabled:!w,render:t=>(0,g.jsx)("div",{...(0,s().AH)(R.dragContainer),...t,children:e.render({imagePosition:P,isRepositioning:w})})}),(0,g.jsx)(b,{small:e.small,isRepositioning:w}),K]})};function b(e){let{small:t,isRepositioning:n}=e;if(t)return null;const o={background:c().Ay.blackWithAlpha(.4),borderRadius:4,color:c().Ay.white,fontSize:12,fontFamily:u().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,g.jsx)(m().A,{visible:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:o,children:(0,g.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},835755:(e,t,n)=>{n.d(t,{p:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},843189:(e,t,n)=>{n.d(t,{E:()=>a});var o=n(296540),i=()=>n(960715),r=n(474848);const a=o.forwardRef(((e,t)=>{let{children:o,color:a,disabled:s,icon:l,iconStyle:c,isLoading:d,shape:u="default",size:p="md",style:m,...g}=e;const f=(0,n(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",g=a?`${a}Hover`:"primaryHover",f=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:u,size:p,hasIconOnly:Boolean(l)&&!o}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||d?.3:1,fontWeight:n(284371).Wy.medium,...m},hovered:{background:s?e.tint[r]:e.tint[g]},pressed:{background:s?e.tint[r]:e.tint[f]},icon:{...(0,i().D3)({size:p,hasIconOnly:!o}),...c}}}),[o,a,s,l,c,d,u,p,m]);return(0,r.jsxs)(n(197190).A,{ref:t,style:f.button,hoveredStyle:f.hovered,pressedStyle:f.pressed,disabled:s,isLoading:d,...g,children:[l?l(f.icon):null,o]})}));a.displayName="TintButton"},851775:(e,t,n)=>{n.d(t,{A:()=>a});var o=()=>n(194188),i=()=>n(10123),r=()=>n(570551);function a(e,t){(0,r().A)(2,arguments);var n=(0,i().A)(e),a=(0,o().A)(t),s=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(s,a,15),c.setHours(0,0,0,0);var d=function(e){(0,r().A)(1,arguments);var t=(0,i().A)(e),n=t.getFullYear(),o=t.getMonth(),a=new Date(0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}(c);return n.setMonth(a,Math.min(l,d)),n}},867772:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>o,pF:()=>a,vS:()=>i});const o="loadingLocalImage",i="uploading",r="downloading",a="loaded";class s extends(()=>n(757695))().default{getInitialState(){return{loadingMode:a}}}const l=s},877051:(e,t,n)=>{n.d(t,{V:()=>a});var o=()=>n(847249),i=()=>n(351360),r=()=>n(963589);function a(){const e=(0,r().X)("lazier_dependencies"),t=(0,o().K8)((()=>i().default.state.renderPhase),[]);return e&&"rendered"!==t}},883234:(e,t,n)=>{n.d(t,{_:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},894074:(e,t,n)=>{n.d(t,{A:()=>l});var o=()=>n(10123),i=()=>n(851775),r=()=>n(194188),a=()=>n(570551);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if((0,a().A)(2,arguments),"object"!==s(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,o().A)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,i().A)(n,t.month)),null!=t.date&&n.setDate((0,r().A)(t.date)),null!=t.hours&&n.setHours((0,r().A)(t.hours)),null!=t.minutes&&n.setMinutes((0,r().A)(t.minutes)),null!=t.seconds&&n.setSeconds((0,r().A)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,r().A)(t.milliseconds)),n)}}}]);