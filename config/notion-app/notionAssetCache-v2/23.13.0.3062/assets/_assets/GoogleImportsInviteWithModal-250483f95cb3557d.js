"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[51226,90871],{47273:(e,t,n)=>{n.d(t,{DS:()=>o,Fe:()=>c,GB:()=>a,Gf:()=>u,V_:()=>d,j1:()=>l,j8:()=>r,yp:()=>f,yw:()=>s});var i=()=>n(762433);function o(e){return(0,i().Fq)({subscription:e})}function r(e){return(0,i().Ry)({subscription:e,trial:void 0})}function a(e){let{subscriptionState:t,logFunction:n,spaceId:o}=e;const r=g(t);return(0,i().yB)({billingData:{subscription:r,trial:void 0},logFunction:n,spaceId:o})}function s(e){return(0,i().q8)({subscription:e})}function l(e){return(0,i().V9)({subscription:g(e),trial:void 0})}function c(e){return(0,i().d$)({subscription:g(e),trial:void 0})}function d(e){return(0,i().ji)({subscription:g(e),trial:void 0})}function u(e){return(0,i().AI)({subscription:g(e),trial:void 0})}function f(e,t){return(0,i().KH)({subscription:g(e),trial:void 0},t)}function g(e){return e?{...e,trialEnd:void 0}:void 0}},240865:(e,t,n)=>{n.d(t,{V:()=>r});var i=()=>n(847249),o=()=>n(351360);function r(){return(0,i().K8)((()=>{const{currentSpaceStore:e}=o().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())??void 0}),[])}},256863:(e,t,n)=>{n.d(t,{A:()=>a});n(296540);var i=()=>n(847249),o=()=>n(824862),r=n(474848);const a=function(e){const{botValue:t,botStore:a,showActiveDot:s,style:l,size:c}=e,d=(0,n(959013).tz)(),u=(0,i().K8)((()=>{if(a){const e=a.getIcon();if(e)return{pointer:{table:o().GP,id:a.id,spaceId:a.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:o().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[a,t]),f=(0,i().K8)((()=>(null==a?void 0:a.getDisplayName(d))??(0,n(799288).Hg)(t)),[a,t,d]),{activeDotStyle:g}=(0,n(401497).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.accentColors.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}})),[]);return(0,r.jsxs)("div",{style:l,children:[(0,r.jsx)(n(614505).B,{icon:u,title:f,size:c||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),s?(0,r.jsx)("div",{style:g}):void 0]})}},324561:(e,t,n)=>{n.d(t,{Gi:()=>v,OD:()=>d,Q7:()=>g,UU:()=>p,_3:()=>f,a9:()=>u,f_:()=>c});var i=()=>n(484714),o=()=>n(847249),r=()=>n(857639),a=()=>n(762433),s=()=>n(596513),l=()=>n(714300);function c(e){let{spaceId:t}=e;const n=(0,i().v3)();return(0,o().K8)((()=>{if(t)return s().t.getData(n,{spaceId:t})}),[n,t])}function d(e){let{environment:t,spaceId:n}=e;return n?s().t.awaitData(t,{spaceId:n}):Promise.resolve(void 0)}function u(e){if("admin"===(null==e?void 0:e.type))return e}function f(e){let{spaceId:t}=e;return u((0,l().l)({spaceId:t}))}function g(e,t,n){if(!t)return 0;const i=(0,a().yB)({spaceId:e,logFunction:r().log.bind(r()),billingData:t});return i?Math.max(i,n):0}function v(e){var t;const n=null===(t=(0,a().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const i=n.unitAmount,o="year"===n.billingInterval?12:1;return{amount:i.amount/o,currencyCode:i.currencyCode}}function p(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},328347:(e,t,n)=>{n.d(t,{h:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("globe2",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},390527:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>E,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>S,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>b,MAX_RECURRENCE_INTERVAL:()=>C,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>y,RRULE_WEEKDAYS_MAP:()=>m,adjustedStartDateIfPossible:()=>A,areRecurrenceSchedulesEqual:()=>D,convertFromUnpersistedRecurrenceConfig:()=>V,convertToUnpersistedRecurrenceConfig:()=>H,getFormattedEndCondition:()=>R,getFormattedNextRecurrenceTime:()=>T,getNewEndTimestamp:()=>j,getNextDateUtc:()=>x,getRecurrenceAfter:()=>M,isRunningBetweenMidnightAnd3AM:()=>k,isValidRecurrenceInterval:()=>_,isValidRecurrenceNumberOfRuns:()=>h,rruleFromRecurrence:()=>I,templateAncestorsViolateRecurrenceNesting:()=>w});n(898992),n(354520),n(581454);var i=()=>n(244641);n(944114);function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(0===n.length)return e.map((e=>[e]));const r=[];for(const a of e)r.push(...o(n[0],...n.slice(1)).map((e=>[a,...e])));return r}var r=()=>n(496603),a=()=>n(534177),s=()=>n(720665),l=()=>n(597777),c=()=>n(869190),d=()=>n(416504),u=()=>n(402390);class f extends(()=>n(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var g=()=>n(912720);const v=(0,n(959013).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12â€“3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),p={day:f.DAILY,week:f.WEEKLY,month:f.MONTHLY,year:f.YEARLY},m={MO:f.MO,TU:f.TU,WE:f.WE,TH:f.TH,FR:f.FR,SA:f.SA,SU:f.SU},C=99,y=999;function _(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=C}function h(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=y}function I(e){const{start_date:t,frequency:n,interval:i,weekdays:r,timezone:s,hour:c,minute:d}=e,u="week"===n&&r?r.map((e=>m[e])):void 0,g={};return(0,a().O9)(e.end_condition)&&("date"===e.end_condition.type?g.until=(0,l().eU)(e.end_condition.end_at):"number"===e.end_condition.type?g.count=e.end_condition.number_of_occurrences:(0,a().HB)(e.end_condition)),"month"===e.frequency&&(0,a().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?g.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?g.byweekday=o(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,n]=e;return m[t].nth(n)})):(0,a().HB)(e.monthly_restriction)),new f({freq:p[n],dtstart:(0,l().eU)(t),interval:i,byweekday:u,tzid:s,byhour:c??0,byminute:d??0,bysecond:0,...g})}const b=1,S=1;function w(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const n=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),i=e.length,o=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,r=i>b,a=n.length>=S;return{violatesConstraint:r||a,templateNestingExceedsMaxDepth:r,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:i,immediateAncestorRecurrenceType:o}}function A(e){var t;const{recurrence:n,afterDate:o}=e;if("number"===(null===(t=n.end_condition)||void 0===t?void 0:t.type)||n.start_date>=o)return n;let r=i().c9.fromMillis(n.start_date,{zone:"utc"});const a=i().c9.fromMillis(o,{zone:"utc"});switch(n.frequency){case"year":{const e=Math.floor(a.diff(r,"years").years/n.interval);r=r.plus({years:e*n.interval});break}case"month":{const e=Math.floor(a.diff(r,"months").months/n.interval);r=r.plus({months:e*n.interval});break}case"week":{const e=Math.floor(a.diff(r,"weeks").weeks/n.interval);r=r.plus({weeks:e*n.interval});break}case"day":{const e=Math.floor(a.diff(r,"days").days/n.interval);r=r.plus({days:e*n.interval});break}}return{...n,start_date:(0,l().DH)(r.toMillis())}}function M(e){const{recurrence:t,afterDate:n}=e;if((0,g().wt)(t)){const e=(0,l().l1)(n);return t.start_date>=e?new Date(t.start_date):void 0}{const e=I(A({recurrence:t,afterDate:n})).after((0,l().eU)(n));if(!e)return;return(0,l().h1)(e)}}function k(e){return 0===e.hour||1===e.hour||2===e.hour}function x(e){return I(e).after((0,l().eU)((0,l().Rz)()))||void 0}function T(e){const{recurrence:t,intl:n}=e,o=x(V(t));if(!o)return;const r=k(t),a=i().c9.fromJSDate(o).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,u().H)(n)).setZone(t.timezone),s=(0,c().Yq)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:n,shortenDate:!0});if(r)return n.formatMessage(v.dateBetweenMidnightAnd3AM,{date:s});{let e=a.toLocaleString(i().c9.TIME_SIMPLE);return t.timezone!==(0,d().P)()&&(e+=` ${a.toFormat("ZZZZ")}`),n.formatMessage(v.dateAtTime,{date:s,time:e})}}function R(e,t){return(0,a().O9)(e)?"number"===e.type?t.formatMessage(v.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,c().Yq)({date:i().c9.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,a().HB)(e):t.formatMessage(v.noEndCondition)}const E=100;function H(e){return{...e,start_date:(0,l().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().l1)(e.end_condition.end_at)}:(0,a().HB)(e.end_condition):void 0}}function j(e,t,n){return e.plus(n-t)}function O(e,t){const n=i().c9.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Rz)(n.toJSDate())}}function V(e){return{...e,start_date:(0,l().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?O(e,e.end_condition):(0,a().HB)(e.end_condition):void 0}}function D(e,t){const n=r().fN(e,(e=>void 0!==e)),i=r().fN(t,(e=>void 0!==e));return r().n4(n,i)}},603815:(e,t,n)=>{n.d(t,{A$:()=>A,JQ:()=>M,Vn:()=>S,s4:()=>w});n(16280),n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(803949),n(581454);var i=()=>n(857639),o=()=>n(585515),r=()=>n(577449),a=()=>n(388821),s=()=>n(179034),l=()=>n(545285),c=()=>n(534177),d=()=>n(449506),u=()=>n(780054),f=()=>n(989423),g=()=>n(870618),v=()=>n(303626),p=()=>n(14307),m=()=>n(245865),C=()=>n(540758),y=()=>n(670631),_=()=>n(508496),h=()=>n(571963),I=()=>n(603815),b=()=>n(108944);async function S(e){const{environment:t,request:n,abortSignal:i,prefetchCacheKey:o,headers:r}=e;return(0,h().updateLoadCachedPageChunkCalledAt)(),p().isConnected()||p().isConnecting()?d().callApi({eventName:"loadCachedPageChunkV2",environment:t,data:n,abortSignal:i,prefetchCacheKey:o,headers:r}):d().callApi({eventName:"loadPageChunkV2",environment:t,data:n,abortSignal:i,prefetchCacheKey:o,headers:r})}async function w(e){const{mode:t,environment:n,request:c,isFirstChunk:d,abortSignal:p}=e,m={...c,limit:30,cursor:c.cursor||{stack:[]},baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName};if("inMemoryAndDiskCacheWithInexactPreload"===t&&(await I().A$(n,{id:c.page.id,table:s().ev}),null!=p&&p.aborted))throw new Error("Abort signal received");const _=a().RecordMapWithRole.create(),h=[];let b=!1;const S=new Set,w=await o().T(m,r().h.fromMonomorphicFunctionUnsafe((async e=>{const i=await g().h7({environment:n,pointer:e,abortSignal:p,useInMemoryCacheOnly:"inMemoryOnly"===t});if(null!=p&&p.aborted)throw new Error("Abort signal received");if(i)return _.setModelAndRole(e,i.model,i.role),i.model;if("inMemoryOnly"===t)throw new Error(`Record not found: ${e.table},${e.id}`);if((0,l().u)(e)&&!S.has(e.id)&&d){if(void 0===y().A.state.offlinePages)return h.push(e),void(b=!0);if(void 0===y().A.state.offlinePages||!C().Bd(c.page.id))throw new Error(`Record not found: ${e.table},${e.id}`);h.push(e)}})),((e,t,n,i)=>{v().N.enableLogging&&console.log(`Spidering from ${e.table}:${e.id} to ${t.table}:${t.id} (${n})`),null!=i&&i.suppressErrorOnClient&&S.add(t.id)}));if(b&&(await y().A.waitUntil((()=>void 0!==y().A.state.offlinePages)),!C().Bd(c.page.id))){const[e]=h;throw new Error(`Record not found: ${e.table},${e.id}`)}if(h.length>0&&(0,f().LM)({eventName:"offline_page_was_missing_records_in_cache",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((e=>{(0,f().u4)({environment:n,event:{eventName:"offline_page_was_missing_records_in_cache",eventProperties:{}},opts:{sampling:{behavior:"decided",sampleDecision:e}}}),e&&i().log({level:"error",from:"loadingHelpers",type:"offlinePageWasMissingRecordsInCache",data:{pageId:c.page.id,missingRecords:h}})})),null!=p&&p.aborted)throw new Error("Abort signal received");return{recordMap:_.toJson(),cursor:w.cursorValue}}async function A(e,t){const n=e.currentUser.id;if(!n||!e.defaultRecordCache.persistedRecordCache)return Promise.resolve(void 0);(await e.defaultRecordCache.persistedRecordCache.getPageBlocksByParent({page:t,userId:n})).forEach((t=>{e.defaultRecordCache.inMemoryRecordCache.setRecord({pointer:t.pointer,userId:t.userId},t.value),e.defaultRecordCache.inMemoryRecordCache.emitRecord(t.pointer,[]),m().unsubscribeAfterDelay({environment:e,pointer:t.pointer,userId:t.userId})}))}function M(e){if(!_().default.checkGate({gateName:"load_page_chunk_omit_existing_record_versions"}))return;const t=a().RecordMapPolymorphic.create();let n=0;const i=()=>n>=50,o=e=>{"space"!==(null==e?void 0:e.table)&&(i()||e&&void 0===t.get(e.pointer)&&(t.set(e.pointer,e.getVersion()),n++))};if(e.isReady())for(const a of(0,b().E)(e))o(a);if(e.userId){const t=e.environment.defaultRecordCache.inMemoryRecordCache.data.getUserRecordMap(e.userId);o(t.getModel({table:"notion_user",id:e.userId}));let n=0;for(const e of t.getPointersByTable("notion_user")){if(i()||n>=10)break;n++,o(t.getModel(e))}}const r=Array.from(t).map((e=>{let{pointer:t,value:n}=e;if(void 0!==n)return{pointer:t,version:n}})).filter(c().O9);return r.length?r:void 0}},652631:(e,t,n)=>{n.d(t,{X:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("openTeam",{viewBox:"0 0 28 28",svg:(0,i.jsx)("path",{d:"M3.24121 21.4326C3.24121 22.4082 3.80371 23.0322 4.7002 23.0322H22.4629C23.3506 23.0322 23.9131 22.4082 23.9131 21.4326V10.2178C23.9131 9.24219 23.3506 8.61816 22.4629 8.61816H17.2334V5.89355C17.2334 4.91797 16.6709 4.29395 15.7832 4.29395H4.7002C3.80371 4.29395 3.24121 4.91797 3.24121 5.89355V21.4326ZM4.65625 21.1074V6.21875C4.65625 5.86719 4.81445 5.70898 5.16602 5.70898H15.3174C15.6602 5.70898 15.8184 5.86719 15.8184 6.21875V21.1074C15.8184 21.4502 15.6602 21.6172 15.3174 21.6172H13.2959V19.0244C13.2959 18.2686 12.9619 17.917 12.2412 17.917H8.2334C7.5127 17.917 7.17871 18.2686 7.17871 19.0244V21.6172H5.16602C4.81445 21.6172 4.65625 21.4502 4.65625 21.1074ZM7.31934 9.5498H9.0332C9.24414 9.5498 9.39355 9.40918 9.39355 9.18945V7.52832C9.39355 7.31738 9.24414 7.16797 9.0332 7.16797H7.31934C7.1084 7.16797 6.97656 7.31738 6.97656 7.52832V9.18945C6.97656 9.40918 7.1084 9.5498 7.31934 9.5498ZM11.4414 9.5498H13.1465C13.3574 9.5498 13.5068 9.40918 13.5068 9.18945V7.52832C13.5068 7.31738 13.3574 7.16797 13.1465 7.16797H11.4414C11.2217 7.16797 11.0898 7.31738 11.0898 7.52832V9.18945C11.0898 9.40918 11.2217 9.5498 11.4414 9.5498ZM17.2334 21.4326V10.0332H21.9971C22.3398 10.0332 22.498 10.2002 22.498 10.543V21.1074C22.498 21.4502 22.3398 21.6172 21.9971 21.6172H17.2246C17.2334 21.5557 17.2334 21.4941 17.2334 21.4326ZM7.31934 13.0303H9.0332C9.24414 13.0303 9.39355 12.8896 9.39355 12.6699V11.0088C9.39355 10.7979 9.24414 10.6484 9.0332 10.6484H7.31934C7.1084 10.6484 6.97656 10.7979 6.97656 11.0088V12.6699C6.97656 12.8896 7.1084 13.0303 7.31934 13.0303ZM11.4414 13.0303H13.1465C13.3574 13.0303 13.5068 12.8896 13.5068 12.6699V11.0088C13.5068 10.7979 13.3574 10.6484 13.1465 10.6484H11.4414C11.2217 10.6484 11.0898 10.7979 11.0898 11.0088V12.6699C11.0898 12.8896 11.2217 13.0303 11.4414 13.0303ZM19.1582 13.4521H20.5732C20.749 13.4521 20.8721 13.3291 20.8721 13.1533V11.7822C20.8721 11.6064 20.749 11.4834 20.5732 11.4834H19.1582C18.9736 11.4834 18.8682 11.6064 18.8682 11.7822V13.1533C18.8682 13.3291 18.9736 13.4521 19.1582 13.4521ZM7.31934 16.5107H9.0332C9.24414 16.5107 9.39355 16.3613 9.39355 16.1504V14.4893C9.39355 14.2695 9.24414 14.1289 9.0332 14.1289H7.31934C7.1084 14.1289 6.97656 14.2695 6.97656 14.4893V16.1504C6.97656 16.3613 7.1084 16.5107 7.31934 16.5107ZM11.4414 16.5107H13.1465C13.3574 16.5107 13.5068 16.3613 13.5068 16.1504V14.4893C13.5068 14.2695 13.3574 14.1289 13.1465 14.1289H11.4414C11.2217 14.1289 11.0898 14.2695 11.0898 14.4893V16.1504C11.0898 16.3613 11.2217 16.5107 11.4414 16.5107ZM19.1582 16.8096H20.5732C20.749 16.8096 20.8721 16.6865 20.8721 16.5107V15.1396C20.8721 14.9639 20.749 14.8408 20.5732 14.8408H19.1582C18.9736 14.8408 18.8682 14.9639 18.8682 15.1396V16.5107C18.8682 16.6865 18.9736 16.8096 19.1582 16.8096ZM19.1582 20.167H20.5732C20.749 20.167 20.8721 20.0439 20.8721 19.8682V18.4971C20.8721 18.3213 20.749 18.1982 20.5732 18.1982H19.1582C18.9736 18.1982 18.8682 18.3213 18.8682 18.4971V19.8682C18.8682 20.0439 18.9736 20.167 19.1582 20.167ZM8.33008 19.3496C8.33008 19.165 8.42676 19.0684 8.61133 19.0684H11.8633C12.0566 19.0684 12.1445 19.165 12.1445 19.3496V21.6172H8.33008V19.3496Z"})})},714300:(e,t,n)=>{n.d(t,{l:()=>l});var i=()=>n(484714),o=()=>n(847249),r=()=>n(176983),a=()=>n(596513),s=()=>n(324561);function l(e){let{spaceId:t}=e;const n=(0,i().v3)(),l=(0,r().J)();return(0,o().K8)((()=>{if(!t||!l)return;const e=a().t.getData(n,{spaceId:t});return(0,s().a9)(e)}),[n,t,l],{useDeepEqual:!0})}},720193:(e,t,n)=>{n.r(t),n.d(t,{GoogleImportsInviteWithModal:()=>re,default:()=>ae});var i=n(296540),o=()=>n(484714),r=()=>n(847249),a=()=>n(278407),s=()=>n(433876),l=()=>n(803557),c=()=>n(529183),d=()=>n(787766),u=()=>n(232461),f=()=>n(549200);let g=function(e){return e.SearchInput="search_input",e.NoFocus="no_focus",e}({});class v extends(()=>n(757695))().default{getInitialState(){return{flowId:n(206267).JW(),modalOpen:!1,focus:g.NoFocus}}}const p=v;n(898992),n(354520);var m=()=>n(617871),C=()=>n(857639),y=()=>n(319625),_=()=>n(502800),h=()=>n(449506),I=()=>n(928600),b=()=>n(38337),S=()=>n(722872),w=()=>n(351360),A=()=>n(53137),M=()=>n(970585),k=(n(581454),()=>n(959013)),x=()=>n(562866),T=()=>n(204063),R=()=>n(178830),E=()=>n(157501),H=n(474848);function j(e){const{googleImportsInviteStore:t,inviteTargetsStore:n,inviteOrigin:s,onInviteComplete:l,onInviteClick:c}=e,u=(0,o().v3)(),f=(0,k().tz)(),v=(0,d().X3)(),p=(0,r().O$)(w().AppStoreCurrentSpaceStore),m=(0,r().K8)((()=>t.state.flowId),[t]),C=(0,r().K8)((()=>n.state.inviteTargets.length),[n]),_=(0,i.useCallback)((async e=>{const{response:n,invitedUserEmails:i}=e;a().GH(u,{invite_stage:"invite_complete",invite_flow_id:m,origin:s,is_success:n.success,invited_user_count:i.length}),n.success&&t.setState({...t.state,modalOpen:!1}),null==l||l(n.success,C);(await x().uf.personPropertyInviteActions.load()).showMessageForInviteComplete({success:n.success,invitedUserEmails:i})}),[s,u,m,l,t,C]),h=(0,i.useCallback)((e=>{const t=(0,y().A)(e);a().GH(u,{invite_stage:"invite_member",invited_user_count:C,invite_flow_id:m,error:t,origin:s,is_success:!1})}),[u,m,s,C]),I=(0,i.useCallback)((async()=>{const e=n.state.inviteTargets.filter((e=>"newUser"===e.type||"existingUser"===e.type)).map((e=>e.value.email));if(!p)return null;await R().s({environment:u,spaceStore:p,flowId:m,intl:f,inviteTargetsStore:n,inviteOrigin:s,onInviteComplete:t=>_({response:t,invitedUserEmails:e}),onInviteClick:c,onError:h}),n.reset()}),[p,u,m,n,f,s,c,_,h]),b=(0,i.useCallback)((async()=>{t.setState({...t.state,focus:g.NoFocus}),a().Kt(u,{invited_user_count:C,origin:s,inviteTargets:n.state.inviteTargets.map((e=>e.type.toString())),inviteTokenQuery:n.state.tokenQuery,invite_flow_id:m}),await I()}),[I,u,m,s,t,n,C]);return(0,H.jsx)("div",{style:v.footerStyle,children:(0,H.jsx)(T().A,{size:"lg",style:{borderRadius:6},onClick:b,disabled:0===C,children:(0,H.jsx)(E().V,{totalInviteCount:C})})})}var O=()=>n(331542),V=()=>n(125565);function D(e){const{isLoading:t}=e,n=(0,d().iO)(),i=t?(0,H.jsx)(O().A,{style:{marginLeft:6}}):null;return(0,H.jsxs)("div",{style:n.topContainer,children:[(0,H.jsx)(V().A,{style:n.sendInviteLabel,children:(0,H.jsx)(k().sA,{id:"invite.google_imports.header_title",defaultMessage:"Import from Google"})}),i]})}var L=()=>n(134696),U=()=>n(856952),N=()=>n(47170),B=()=>n(527059);function P(e){const{inviteTargetsStore:t,googleImportsInviteStore:n,inviteOrigin:a}=e,s=(0,k().tz)(),l=(0,o().v3)(),{tokenQuery:c}=(0,r().K8)((()=>{const{tokenQuery:e}=t.state;return{tokenQuery:e}}),[t]),{focus:u,flowId:f}=(0,r().K8)((()=>({focus:n.state.focus===g.SearchInput,flowId:n.state.flowId})),[n]),v=(0,d().vG)({focus:u}),p=s.formatMessage({id:"invite.google_imports.search.placeholder",defaultMessage:"Search people, emails..."}),m=(0,N().O)(),C=(0,B().lI)({spaceId:m}),y=(0,i.useCallback)((e=>{t.setState({...t.state,tokenQuery:e.target.value}),Z({environment:l,flowId:f,billingData:C,origin:a})}),[t,f,a,l,C]);return(0,H.jsx)("div",{style:v.searchBar,children:(0,H.jsx)(U().Ay,{focus:u,onClick:()=>{n.setState({...n.state,focus:g.SearchInput})},format:U().le.Share,value:c,onChange:y,type:"email",tokens:[],autoComplete:"off",placeholder:p,onRemoveLastToken:()=>{},showBorder:!0,inputFullWidth:!0})})}const Z=n(496603).sg((e=>{let{environment:t,flowId:n,billingData:i,origin:o}=e;L().D2(t,{invite_flow_id:n,billingData:i,invite_origin:o})}),1e3);var K=()=>n(187174),F=()=>n(542056),z=()=>n(760217),G=()=>n(802790),Q=()=>n(939740),$=()=>n(89924),q=()=>n(508496),W=()=>n(552710),Y=()=>n(788427),J=()=>n(535279),X=()=>n(10984);const ee=i.forwardRef((function(e,t){const{inviteTarget:n}=e;return(0,H.jsx)(te,{...e,ref:t,inviteTarget:n})})),te=i.forwardRef((function(e,t){const{inviteTarget:o,isInInviteTargets:a,...s}=e,l=(0,n(401497).IS)((e=>({cellMemberAvatarContainer:{paddingTop:8,paddingBottom:8},iconBox:{position:"absolute",bottom:-3,right:-3},iconBoxImage:{background:"white",padding:2,borderRadius:"100%"}})),[]),c=(0,i.useMemo)((()=>({actorStore:void 0,avatar:{email:o.value.email,name:"google"===o.source?o.value.name:void 0,avatarUrl:"google"===o.source?o.value.avatar_url:void 0}})),[o]),d=(0,r().K8)((()=>"on"===q().default.getEligibleGroup({experimentId:"contact_import_notion_account",defaultGroup:"control",parameter:"variant"})),[]);return(0,H.jsx)(z().A,{...s,ref:t,title:(0,H.jsx)(n(623742).A,{caption:d&&o.value.user_id?(0,H.jsx)(n(231039).N,{inviteTarget:o}):null,isLarge:!0,...c,containerStyle:l.cellMemberAvatarContainer,avatarBadge:(0,H.jsx)(n(854672).A,{type:"image_url",imageURL:n(148307).A.images.externalIntegrations.googleGIconPng,size:18,style:l.iconBox,imageStyle:l.iconBoxImage})}),right:(0,H.jsx)(W().O,{checked:a})})}));function ne(e){const{inviteTargetsStore:t,googleImportsInviteStore:n}=e,i=(0,o().v3)(),a=(0,k().tz)(),s=(0,r().K8)((()=>t.state.tokenQuery),[t]),l=(0,r().K8)((()=>"on"===q().default.getEligibleGroup({experimentId:"contact_import_notion_account",defaultGroup:"control",parameter:"variant"})),[]),c=(0,r().K8)((()=>n.state.flowId),[n]),[{value:d,status:u}]=(0,K().Yb)((async()=>F().hQ({query:s,sectionLimit:{userLimit:0,botLimit:0,groupLimit:0,importContactLimit:1e3},environment:i,intl:a,membersOnly:!l,importContactType:"google"})),[i,a,s,l],{debounce:40});return(0,H.jsx)(ie,{...e,tokenQuery:s,ready:"pending"!==u,error:"rejected"===u,result:d,flowId:c,environment:i})}function ie(e){const{inviteTargetsStore:t,googleImportsInviteStore:n,tokenQuery:i,error:o,ready:s,result:l,inviteOrigin:c,flowId:u,environment:f}=e,v=(0,d().S3)(),p=(0,r().K8)((()=>(null==l?void 0:l.importedContacts)??[]),[l]),m=(0,r().uB)(e.menuListStore,M().A),C={key:"select all",render:e=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)($().A,{...e,style:v.selectAllSectionStyle}),(0,H.jsx)(G().A,{size:1,innerStyle:v.dividerInnerStyle,style:v.dividerStyle})]}),items:[{key:"select all item",render:e=>(0,H.jsx)(z().A,{...e,title:(0,H.jsxs)("div",{style:v.selectAllStyle,children:[(0,H.jsx)(k().sA,{id:"invite.google_imports.select_all.title",defaultMessage:"Select all"}),(0,H.jsx)(V().A,{style:v.totalCountsStyle,isSmall:!0,children:`(${p.length})`})]}),right:(0,H.jsx)(W().O,{checked:(0,d().dE)({filteredImportedContacts:p,inviteTargetsStore:t})})}),action:()=>{!function(e){const{filteredImportedContacts:t,inviteTargetsStore:n,environment:i,origin:o,flowId:r,tokenQuery:s}=e;if(n.state.inviteTargets.length===t.length)return n.setState({...n.state,inviteTargets:[]}),void a().we(i,{origin:o,invite_flow_id:r,invited_user_count:0,is_unselect:!0,invite_token_query:s});a().we(i,{origin:o,invite_flow_id:r,invited_user_count:t.length,is_unselect:!1,invite_token_query:s}),n.setState({...n.state,inviteTargets:t})}({filteredImportedContacts:p,inviteTargetsStore:t,origin:c,flowId:u,environment:f,tokenQuery:i}),n.setState({...n.state,focus:g.NoFocus})}}]},y=(0,d().Mg)({filteredImportedContacts:p}),_=Object.keys(y).sort(((e,t)=>"#"===e?1:"#"===t?-1:e.localeCompare(t))).map((e=>function(e){const{charKey:t,importedContacts:n,inviteTargetsStore:i,googleImportsInviteStore:o,menuListStore:r,style:a,tokenQuery:s,environment:l}=e,c={key:`imported contacts with ${t}`,render:e=>(0,H.jsx)($().A,{...e,style:a,title:(0,H.jsx)(k().sA,{id:"invite.google_imports.grouped_section.title",defaultMessage:"{charKey}",values:{charKey:t}})}),items:n.sort(((e,t)=>(e.value.name||"").localeCompare(t.value.name||""))).map(((e,t)=>({key:e.value.email,render:t=>(0,H.jsx)(ee,{...t,invited:!1,inviteTarget:e,isInInviteTargets:J().P4({target:e,inviteTargetsStore:i})}),action:()=>{J().P4({target:e,inviteTargetsStore:i})?i.setState({...i.state,inviteTargets:i.state.inviteTargets.filter((t=>"newUser"!==t.type||e.value.email!==t.value.email))}):(L().kH(l,{invite_token_query:s,selected_user_token:e,selected_user_token_rank:t,from:"google_imports_space_setting",subscription_tier:(0,X().AI)(),type:"google_contacts"}),o.setState({...o.state,focus:g.NoFocus}),i.setState({...i.state,inviteTargets:[...i.state.inviteTargets,e]}),r.unsetFocus())}})))};return c}({charKey:e,importedContacts:y[e],inviteTargetsStore:t,googleImportsInviteStore:n,menuListStore:m,style:v.sectionMenuItem,tokenQuery:i,environment:f})));return o?(0,H.jsx)(Y().V,{isLoading:!s}):(0,H.jsx)(Q().Ay,{type:Q().Oh.Vertical,initialFocus:i.length>0?0:void 0,sections:[C,..._],store:m})}function oe(e){const{inviteTargetsStore:t,googleImportsInviteStore:n,inviteOrigin:s,onInviteComplete:l,onInviteClick:c}=e,d=(0,o().v3)(),[u,f]=(0,i.useState)(!1),g=(0,r().K8)((()=>A().A.externalAuthentications.state.filter((e=>e.integration_id===m().E8))),[]),v=(0,r().O$)(w().AppStoreCurrentSpaceStore),p=(0,r().K8)((()=>n.state.flowId),[n]),k=(0,r().uB)(void 0,M().A);(0,i.useEffect)((()=>{a().k_(d,{invite_flow_id:p,origin:s})}),[d,s,p]),(0,i.useEffect)((()=>{!async function(){if(v&&!u){for(const e of g)await h().callApi({eventName:"loadContacts",environment:d,data:{botId:e.id,spaceId:v.id,integrationId:m().E8,importContactType:"google"}}).catch((e=>{const t=(0,y().A)(e);a().GH(d,{invite_stage:"load_google_contacts",invited_user_count:0,invite_flow_id:p,error:t,origin:s,is_success:!1}),C().log({level:"error",from:"GoogleImportInvite",type:"loadGoogleContacts",error:(0,_().convertErrorToLog)(e)})}));f(!0)}}()}),[v,g,d,u,s,n,p]);const x=function(e){let{googleImportsInviteStore:t,inviteTargetsStore:n,inviteOrigin:i,isLoading:o}=e;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(D,{isLoading:o}),(0,H.jsx)(P,{inviteTargetsStore:n,googleImportsInviteStore:t,inviteOrigin:i})]})}({inviteTargetsStore:t,googleImportsInviteStore:n,inviteOrigin:s,isLoading:!u}),T=function(e){let{googleImportsInviteStore:t,inviteTargetsStore:n,inviteOrigin:i,onInviteComplete:o,onInviteClick:r}=e;return(0,H.jsx)(j,{googleImportsInviteStore:t,inviteTargetsStore:n,inviteOrigin:i,onInviteComplete:o,onInviteClick:r})}({googleImportsInviteStore:n,inviteTargetsStore:t,inviteOrigin:s,onInviteComplete:l,onInviteClick:c}),R=function(e){let{googleImportsInviteStore:t,inviteTargetsStore:n,inviteOrigin:i,menuListStore:o,isLoading:r}=e;if(r)return null;return(0,H.jsx)(ne,{googleImportsInviteStore:t,inviteTargetsStore:n,inviteOrigin:i,menuListStore:o})}({googleImportsInviteStore:n,inviteTargetsStore:t,inviteOrigin:s,menuListStore:k,isLoading:!u}),E={menuType:S().gu.Popup,width:480,height:"60vh",header:x,footer:T,tokenInputHeader:!1,disableScroller:!1};return(0,H.jsx)(I().A,{...E,className:b().bFE,children:(0,H.jsx)("div",{children:R})})}function re(e){const t=(0,o().v3)(),{inviteOrigin:n,onInviteComplete:g,onInviteClick:v,buttonLabel:m,buttonStyle:C,buttonContainerStyle:y}=e,_=(0,d().Io)(C,y),h=(0,r().uB)(void 0,p),{modalOpen:I,flowId:b}=(0,r().O$)(h),S=(0,i.useCallback)((()=>{!function(e){e.reset()}(h),a().JD(t,{origin:n,invite_flow_id:b})}),[h,n,t,b]),w=(0,u().J)();(0,r().K8)((()=>{w&&(0,f().f)({environment:t,flowId:b,origin:n,type:"google"})}),[w,t,b,n]);const A=(0,r().uB)(void 0,c().Ay);return w?(0,H.jsx)(s().A,{open:I,onDismiss:S,renderContent:()=>(0,H.jsx)(oe,{googleImportsInviteStore:h,inviteTargetsStore:A,inviteOrigin:n,onInviteComplete:g,onInviteClick:v}),origin:(0,H.jsx)(l().KG,{onClickAuthenticated:()=>function(e){e.setState({...e.state,modalOpen:!0})}(h),hideChevronIcon:!0,containerStyle:_.buttonContainer,buttonStyle:_.button,buttonLabel:m,from:"space_settings",inviteOrigin:n,flowId:b,loadContacts:!1})}):null}const ae=re},725649:(e,t,n)=>{function i(e){return!(!e||"askUserToPick"in e)}function o(e){if(!e||!("askUserToPick"in e))return e}function r(e){return!(!e||!("askUserToPick"in e))&&e.askUserToPick}n.d(t,{DK:()=>o,K$:()=>i,j6:()=>r})},749356:(e,t,n)=>{n.d(t,{VY:()=>f,Qm:()=>g,z6:()=>u,OC:()=>m,L6:()=>v,Zc:()=>C,x3:()=>p});var i=()=>n(857639),o=()=>n(386164);const r={plans_page:["lic_25","lic_50","resurrection_offer","ai_fifty_percent_upgrade"],sidebar_upsell:["lic_25","lic_50"]};var a=()=>n(502800),s=()=>n(449506),l=()=>n(901389),c=()=>n(989423),d=()=>n(351360);async function u(e,t){var n;const{spaceId:i,offerCampaign:o}=t;if(!i||!o||null===(n=d().default.state.currentSpaceStore)||void 0===n||!n.canAdmin())return;const r=await s().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:i,offerCampaign:o}});return"failed"!==r.type&&"offer"in r.data&&r.data.offer?r.data.offer:void 0}async function f(e){const{environment:t,spaceId:n,offerCampaign:i,entrypoint:o}=e,r=await s().callApi({eventName:"applyCustomerOffer",environment:t,data:{spaceId:n,offerCampaign:i,entrypoint:o??"unknown"}});if("failed"!==r.type)return r;l().Qg(r)}async function g(e,t){const n=await s().callApi({eventName:"applyCustomerOffer",environment:e,data:{...t}});if("failed"!==n.type)return n;l().Qg(n)}async function v(e){const{environment:t,spaceId:n,offerCampaign:i}=e;return void 0!==await u(t,{spaceId:n,offerCampaign:i})}async function p(e){var t;const{environment:n,hasReceived:r,offerType:l,newPlan:c,coupon:u}=e,f=null===(t=d().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId();if(!f)return;const g=await s().callApi({eventName:"updateCustomerOffer",environment:n,data:{spaceId:f,hasReceived:r,offerType:l,newPlan:c,coupon:u},headers:(0,o().WS)({cellId:void 0,spaceId:f})});"failed"===g.type&&i().log({level:"error",from:"offerActions",type:"updateLegacyCustomerOfferFailed",error:(0,a().convertErrorToLog)(g.error)})}async function m(e,t,n){const i=function(e){if(r.hasOwnProperty(e))return r[e]}(n);if(i)for(const o of i){const n=await u(e,{spaceId:t,offerCampaign:o});if((null==n?void 0:n.campaign)===o)return n}}function C(e){let{environment:t,spaceName:n,offerCampaign:i}=e;if(n)switch(i){case"lic_25":case"lic_50":(0,c().WU)(t,"lic_offer_eligible","lic_offer_eligible",3600,{workspace_name:n,lic_25:"lic_25"===i,lic_50:"lic_50"===i});break;case"resurrection_offer":(0,c().WU)(t,"resurrection_offer_eligible","resurrection_offer_eligible",3600,{workspace_name:n});break;default:return}}},824160:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var i=()=>n(484714),o=()=>n(401497),r=()=>n(704152),a=n(474848);function s(e){const t=(0,i().Y0)(),n=(0,o().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,a.jsx)(r().A,{style:{...n.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,a.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})}):(0,a.jsx)(r().A,{style:{...n.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,a.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})})}},919172:(e,t,n)=>{n.d(t,{Q:()=>p});n(296540);var i=()=>n(484714),o=()=>n(847249),r=()=>n(401497),a=()=>n(328347),s=()=>n(652631),l=()=>n(47966),c=()=>n(433847),d=()=>n(959013),u=()=>n(284371),f=()=>n(47373),g=()=>n(824160),v=n(474848);function p(e){const{style:t,labelType:n,shouldUseTabStyle:p}=e,{isMobile:m}=(0,i().Y0)(),C="invited"===n,{label:y,icon:_}=(0,o().K8)((()=>"invited"===n?{label:c().Sf.invitedLabel,icon:a().h}:(0,f().Qd)()?"team_level_guest"===n?{label:c().Sf.teamGuestLabel,icon:s().X}:{label:c().Sf.pageGuestLabel,icon:l().Y}:{label:c().Sf.guestLabel,icon:a().h}),[n]),h=(0,r().IS)((e=>({container:{display:"flex",alignItems:"center",background:void 0,color:e.guestIconColor,lineHeight:u().K_.UISmall.desktop,fontSize:u().J.UISmall.desktop,fontWeight:u().Wy.medium,textTransform:"none",letterSpacing:void 0,...p?{background:C?e.tint.regular:e.fill.yellowSecondary,color:C?e.text.secondary:e.icon.yellowSecondary,padding:"0px 4px",borderRadius:4,height:m?20:16,textTransform:"none",fontSize:m?12:10,fontWeight:u().Wy.medium,letterSpacing:m?void 0:"0.12px",lineHeight:m?"16px":"13px"}:{}},icon:{display:"inline",verticalAlign:"middle",fill:e.guestIconColor,width:12,marginRight:4}})),[p,m,C]);return(0,v.jsxs)(g().A,{innerStyle:{...h.container,...t},children:[!p&&_(h.icon),(0,v.jsx)(d().sA,{...y})]})}}}]);