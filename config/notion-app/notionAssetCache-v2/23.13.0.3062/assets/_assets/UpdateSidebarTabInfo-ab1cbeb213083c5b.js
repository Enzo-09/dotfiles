"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[21377],{97059:(e,o,t)=>{t.d(o,{W:()=>h,w:()=>S});t(944114);var n=()=>t(585515),i=()=>t(577449),a=()=>t(161479),r=()=>t(545285),l=()=>t(763824),s=()=>t(780054),c=()=>t(870618),d=()=>t(670631),u=()=>t(227440),p=()=>t(508496),y=()=>t(540758);async function S(e){const{environment:o}=e;return(await l().lX(Object.keys(d().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:o,pageId:t}=e,l={page:{id:t,spaceId:(0,a().e)(void 0)},baseUrl:s().A.domainBaseUrl,publicDomainName:s().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},d=[];return await n().T(l,i().h.sideEffect((e=>((0,r().u)(e)&&d.push(e.id),Promise.resolve())),i().h.fromMonomorphicFunctionUnsafe((async e=>{const t=await c().h7({environment:o,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==t?void 0:t.model})))),d}({environment:o,pageId:e})))).flat()}function h(e,o){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,y().Bd)(o)}},152713:(e,o,t)=>{t.d(o,{f:()=>i});var n=()=>t(847249);function i(e){return{modules:(0,n().K8)((()=>{if(!e)return;const o=e.getAssociatedCollectionStore(),t=null==o?void 0:o.getLayoutStore();return null==t?void 0:t.getModules().page_details}),[e])}}},556048:(e,o,t)=>{t.d(o,{C8:()=>p,Dz:()=>s,GC:()=>S,GL:()=>h,YY:()=>y,dM:()=>d,h9:()=>c,jX:()=>l,oF:()=>u,uj:()=>r});var n=()=>t(645873);const i={JiraSyncInfoPopup:new(n().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([t.e(75134),t.e(68744)]).then(t.bind(t,408453)))),ImproveJiraSyncPopup:new(n().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([t.e(75134),t.e(2686)]).then(t.bind(t,484967)))),JiraDCAuthModal:new(n().O2)("JiraDCAuthModal",(async()=>await t.e(28763).then(t.bind(t,992567)))),ExternalImportAndSyncIndicator:new(n().O2)("ExternalImportAndSyncIndicator",(async()=>await t.e(98288).then(t.bind(t,984289)))),JiraSyncedAllProjectsTooltip:new(n().O2)("JiraSyncedAllProjectsTooltip",(async()=>await t.e(21446).then(t.bind(t,470020)))),JiraSyncedAllIssuesTooltip:new(n().O2)("JiraSyncedAllIssuesTooltip",(async()=>await t.e(21446).then(t.bind(t,470020)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await t.e(21446).then(t.bind(t,470020)))),JiraSyncSourceTooltip:new(n().O2)("JiraSyncSourceTooltip",(async()=>await t.e(21446).then(t.bind(t,470020)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await t.e(21446).then(t.bind(t,470020))))},a={JiraSyncTeamSpaceModal:new(n().O2)("JiraSyncTeamSpaceModal",(async()=>t.e(56188).then(t.bind(t,604698))))},r=(0,n()._h)(a.JiraSyncTeamSpaceModal,(e=>e.default)),l=(0,n()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),s=(0,n()._h)(i.JiraDCAuthModal,(e=>e.default)),c=(0,n()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),d=(0,n()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,n()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),p=(0,n()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),y=(0,n()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),S=(0,n()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),h=(0,n()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,t(340498).xh)("jira",{default:{loader:()=>t.e(60677).then(t.bind(t,460677)),size:20},small:{loader:()=>t.e(60677).then(t.bind(t,460677)),size:16},mini:{loader:()=>t.e(60677).then(t.bind(t,460677)),size:14},large:{loader:()=>t.e(60677).then(t.bind(t,460677)),size:24}})},722143:(e,o,t)=>{t.r(o),t.d(o,{UpdateSidebarTabInfo:()=>O});var n=t(296540),i=()=>t(484714),a=()=>t(847249),r=()=>t(13679),l=()=>t(175116),s=()=>t(889097),c=()=>t(152713),d=(t(581454),()=>t(908006)),u=()=>t(401497),p=()=>t(721908),y=()=>t(120997),S=()=>t(778781),h=()=>t(534177),m=()=>t(112873),v=()=>t(476380),b=()=>t(300857),g=()=>t(2143),f=()=>t(38337),w=()=>t(756279),A=()=>t(735372),I=()=>t(864994),T=()=>t(933951),x=()=>t(455994),J=()=>t(918487),P=()=>t(793282),_=()=>t(483832),k=()=>t(9768),M=t(474848);function j(e){const{modules:o,store:t,context:r,disabled:l,shownAs:s,collectionStore:c}=e,y=n.useRef(null),S=(0,i().v3)(),I=(0,a().K8)((()=>{if(!A().qu.state)return null;const e=A().wb.state;return"page_property_value"===(null==e?void 0:e.type)||"page_property_name"===(null==e?void 0:e.type)?e:null}),[]),T=(0,a().K8)((()=>null==c?void 0:c.getSchema()),[c]);n.useEffect((()=>{d().default.afterNextFlush().then((()=>{y.current&&v().Hc(y.current,S)}))}),[I,S]);const J=(0,a().K8)((()=>"page"===S.RouterStore.state.route.name?S.RouterStore.state.route.discussionId:void 0),[S.RouterStore]),P=(0,a().K8)((()=>x().A.state.propertyIdDiscussionToOpenOnPanelOpen),[]);n.useEffect((()=>{P&&J&&(x().A.update((e=>({...e,propertyIdDiscussionToOpenOnPanelOpen:void 0}))),d().default.afterNextFlush().then((()=>{(0,b().b)({discussionId:J,blockId:t.id,environment:S,animate:!1})&&m().B4({analyticsFrom:"notification",blockStore:t,environment:S,recursivelyLoadAllDiscussions:!1,shouldFocusDiscussion:!0,property_id:P,discussionIds:[J]})})))}),[S,J,P,t]);const _=(0,u().IS)((e=>{let o={};return"popup"===s?o={height:"70vh",maxHeight:"70vh",background:e.popoverBackground,borderRadius:4,boxShadow:e.shadowMD}:"sidebar"===s?o={background:e.contentBackground}:"static_sidebar"===s?o={background:e.peekModalBackground}:(0,h().HB)(s),{container:{position:"relative",minHeight:0,display:"flex",flexDirection:"column",pointerEvents:"auto",height:"100%"},scroller:{position:"relative",display:"flex",flexDirection:"column",pointerEvents:"auto",overflow:"auto",padding:"16px 16px 16px 20px",minHeight:"100%",...o}}}),[s]),k="static_sidebar"===s?"peek":"mainPage",j=(0,p().d)((e=>{const o=e.target;o instanceof Element&&o.closest(`.${f().e6W}`)?x().A.setIsMouseHoveringPanel({panelLocation:k,isMouseHoveringPanel:!0}):x().A.setIsMouseHoveringPanel({panelLocation:k,isMouseHoveringPanel:!1})}),100);return n.useEffect((()=>{if("peek"===k)return window.addEventListener("mousemove",j),()=>window.removeEventListener("mousemove",j)}),[j,k]),(0,M.jsx)("div",{className:f().e6W,style:_.container,ref:y,children:(0,M.jsx)(g().H,{type:w().A.Y,style:_.scroller,children:o.map((e=>(0,M.jsx)(D,{module:e,store:t,context:r,disabled:l,collectionStore:c,collectionSchema:T},e.id)))})})}function D(e){let{module:o,store:t,context:r,disabled:l,collectionStore:s,collectionSchema:c}=e;const d=(0,i().v3)(),{isMobile:u}=(0,i().Y0)(),p=(0,a().K8)((()=>!!s&&(0,J().v)({collectionStore:s,module:o,isMobile:u})),[s,u,o]),m="page_details",v=(0,T().sS)({pageStore:t,pageViewBlockStore:void 0,collectionStore:s,collectionSchema:c})[m],b=(0,k().Jh)({layoutModule:o,area:m,collectionSchema:c,collectionStore:s,showDetailsPanelToggleButtonBelowTitle:p,modules:v}),g=(0,a().K8)((()=>{if("properties"!==o.type)return!0;return!(0,I().g)({environment:d,layoutArea:"page_details",moduleType:o.type,pageViewBlockContext:r})}),[d,o.type,r]);return(0,y().p)(o,"page_details")?(0,S().gx)(o)?(0,M.jsx)(_().v,{context:r,disabled:l,propertyId:o.propertyId,store:t,pageModule:o,wrapper:b,stackPropertyLabelAndValue:g},`${o.id}-${t.id}`):(0,S().i_)(o)?(0,M.jsx)(n.Fragment,{children:(0,M.jsx)(P().h,{context:r,disabled:l,store:t,wrapper:b,layoutModule:o,customization:{neverShowPropertiesElsewhereInLayout:!0,stackPropertyLabelAndValue:g,disableContainerPadding:!0,disableLastRowBottomPadding:g},showDefaultTitle:!0})},`${o.id}-${t.id}`):"deleted_property"===o.type?null:void(0,h().HB)(o):(console.warn("Invalid module type in sidebar:",o.type),null)}function O(e){const{modules:o,store:t,context:d,disabled:u,shownAs:p}=e,y=(0,i().v3)(),{modules:S}=(0,c().f)(t),h=o??S,m=(0,n.useMemo)((()=>new(s().A)(y)),[y]),v=(0,a().K8)((()=>t.getAssociatedCollectionStore()),[t]),b=(0,a().K8)((()=>null==v?void 0:v.getParentStore()),[v]);if((0,n.useEffect)((()=>{v&&b&&"block"===b.table&&b.isCollectionView()&&m.setContext({type:"collectionPage",collectionViewBlockStore:b,collectionStore:v})}),[m,v,b,h]),!h||!m.collectionStore)return null;return(0,M.jsx)(r().A,{store:t,droppable:!0,render:()=>(0,M.jsx)(l().RI,{value:m,children:(0,M.jsx)(j,{modules:h,context:d,disabled:u,store:t,shownAs:p,collectionStore:v})})},t.id)}}}]);