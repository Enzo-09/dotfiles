"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[40902],{490044:(e,t,i)=>{i.d(t,{A:()=>y});i(296540);var r=()=>i(484714),o=()=>i(847249),n=()=>i(401497),a=()=>i(500066),l=()=>i(159588),d=()=>i(963589),s=()=>i(644914),c=i(474848);function p(){const e=(0,n().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,c.jsx)("div",{children:(0,a().G)(e.icon)})}function y(e){var t;const i=(0,r().v3)(),a=i.device.isMobile,{isTablet:y}=(0,r().Y0)(),u=(0,d().X)("tablet_refresh_gate"),v=(0,o().K8)((()=>{var t,r;if(a)return i.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(r=e.style)||void 0===r?void 0:r.paddingLeft:10)}),[i.WindowSizeStore,a,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),m=(0,n().IS)((t=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:y&&u?4:8,paddingBottom:y&&u?4:8,paddingLeft:v,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:s().Zr,paddingTop:4,paddingBottom:4,...(0,l().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:a?24:s().ry,height:a?24:s().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,y,u,v,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,c.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:m.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,c.jsx)("div",{style:m.left,children:e.left}),e.icon&&(0,c.jsxs)("div",{style:m.icon,children:[e.icon,e.isAlias&&(0,c.jsx)(p,{})]}),(0,c.jsx)("div",{style:m.children,children:e.children}),e.right&&(0,c.jsx)("div",{style:m.right,children:e.right})]})}},605777:(e,t,i)=>{i.d(t,{R:()=>o});i(296540);const r={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M10 4.563c-2.385-1.586-5.433-1.496-7.742.271a.63.63 0 0 0-.246.497v10.607a.625.625 0 0 0 1.005.496c1.986-1.52 4.617-1.52 6.603 0a.624.624 0 0 0 .76 0c1.986-1.52 4.617-1.52 6.603 0a.625.625 0 0 0 1.005-.497V5.332a.63.63 0 0 0-.246-.497c-2.31-1.767-5.357-1.857-7.742-.27M3.262 14.8V5.65c1.871-1.283 4.242-1.283 6.113 0v9.15a6.56 6.56 0 0 0-6.113 0m7.363 0V5.65c1.87-1.283 4.242-1.283 6.113 0v9.15a6.56 6.56 0 0 0-6.113 0"})},o=(0,i(340498).wt)("book",r)},624959:(e,t,i)=>{i.r(t),i.d(t,{SidebarLibraryButton:()=>B});var r=i(296540),o=()=>i(484714),n=()=>i(847249),a=()=>i(401497),l=()=>i(605777),d=()=>i(959013),s=()=>i(284371),c=()=>i(296798),p=()=>i(859428),y=()=>i(490044),u=()=>i(742943),v=()=>i(644914),m=()=>i(962730),h=(i(581454),()=>i(584262)),g=()=>i(179034),b=()=>i(869558),_=()=>i(257216),f=()=>i(246826),S=()=>i(435009),w=()=>i(751156),I=()=>i(492414),x=()=>i(351360),k=()=>i(589994),C=()=>i(630116);var M=i(474848);function B(e){const t=(0,o().v3)(),i=(0,d().tz)(),B=(0,n().K8)((()=>(0,u().T0)(t)),[t]),R=(0,r.useCallback)((()=>{!async function(e){const t=e.currentUser.id;if(!t)return;const i=x().default.state.currentSpaceStore;if(!i)return;const r=i.getSpaceId(),o=e.idCreator.getSpaceIdCreatorSync(r),n=(0,u().hY)(t,o),a=C().sk.createUniqueRootStore(e,{id:n,table:g().ev,spaceId:r});if(await a.load(),!a.isDefined()){const o=e.idCreator.getSpaceIdCreatorSync(r),{block:n,collectionViews:a}=(0,u().ZH)({userId:t,spaceIdCreator:o});w().createAndCommit({environment:e,userAction:"sidebar.createLibraryPage",canUndo:!0,perform:t=>{const r=f().Wv({environment:e,id:n.id,type:n.type,properties:n.properties,format:n.format,permissions:n.permissions,transaction:t,inMemoryRecordCache:e.defaultRecordCache.inMemoryRecordCache});_().bn({parentStore:i,childStore:r,alive:!0,transaction:t}),f().zv({store:r,data:{view_ids:a.map((e=>e.id))},transaction:t});for(const i of a)f().eC({environment:e,table:b().Gy,value:i,transaction:t,inMemoryRecordCache:e.defaultRecordCache.inMemoryRecordCache})}}),await k().transactionQueue.drain()}const l=(0,I().Ay)({store:a,fullyQualified:!1,pageVisitSource:h().y8.LibraryPage});S().oo({environment:e,url:l})}(t)}),[t]),V=(0,a().IS)((e=>({sidebarItem:{...B&&{fontWeight:s().Wy.semibold,background:e.sidebarItemSelectedBackground}},iconWrapper:{position:"relative"}})),[B]),L=(0,v().ab)();return(0,M.jsx)(p().A,{renderTooltip:()=>(0,M.jsx)("div",{children:i.formatMessage(j.tooltip)}),originGap:6,placement:m().W.Right,render:t=>{var r;return(0,M.jsx)(c().A,{style:{...L.baseSidebarItem,...V.sidebarItem,...B&&L.currentSelectedSidebarItem},onClick:R,hoveredStyle:null===(r=e.styles)||void 0===r?void 0:r.buttonHoveredStyle,...t,children:(0,M.jsx)(y().A,{left:(0,M.jsx)("div",{style:V.iconWrapper,children:(0,l().R)(L.topButtonIcon)}),children:i.formatMessage(j.title)})})}})}const j=(0,d().YK)({tooltip:{id:"sidebar.library.tooltip",defaultMessage:"View all the pages related to you"},title:{id:"sidebar.library.button",defaultMessage:"Library"}})},742943:(e,t,i)=>{i.d(t,{T0:()=>s,ZH:()=>y,hY:()=>c});i(581454);var r=()=>i(179034),o=()=>i(869558),n=()=>i(96689),a=()=>i(919709),l=()=>i(351360);const d="1";function s(e){var t;const i=l().default.state.currentSpaceStore;if(!i)return!1;const r=i.getSpaceId(),o=e.currentUser.id;if(!o)return!1;return c(o,e.idCreator.getSpaceIdCreatorSync(r))===(null===(t=l().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id)}function c(e,t){return t.deterministicIdInSavedSpace(r().ev,`${e}:${t.getSpaceId()}:library-v${d}:collectionViewBlock`)}function p(e,t,i){return t.deterministicIdInSavedSpace(o().Gy,`${e}:${t.getSpaceId()}:library-v${d}:collectionView:${i}`)}function y(e){const{userId:t,spaceIdCreator:i}=e,o=i.getSpaceId(),l=c(t,i),d=function(e){const{userId:t,spaceIdCreator:i,collectionViewBlockId:o}=e,n=i.getSpaceId(),a={id:p(t,i,"createdByMe"),version:1,alive:!0,space_id:n,parent_table:r().ev,parent_id:o,name:"Created by me",type:"list",format:{collection_view_source:{type:"createdByMe",spaceId:n},hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!0},{property:"created_by",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}],collection_group_by:{groupBy:"relative",hideEmptyGroups:!0,property:"created_time",sort:{type:"descending"},type:"created_time"}}},l={id:p(t,i,"recents"),version:1,alive:!0,space_id:n,parent_table:r().ev,parent_id:o,name:"Recents",type:"gallery",format:{collection_view_source:{type:"recents",spaceId:n},gallery_cover:{type:"page_cover"},gallery_properties:[{property:"title",visible:!0},{property:"created_by",visible:!0},{property:"created_time",visible:!0},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}],hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}},d={id:p(t,i,"mentionsMe"),version:1,alive:!0,space_id:n,parent_table:r().ev,parent_id:o,name:"Mentions me",type:"list",format:{collection_view_source:{type:"mentionsMe",spaceId:n},hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}};return{createdByMeView:a,recentsView:l,mentionsMeView:d}}({userId:t,spaceIdCreator:i,collectionViewBlockId:l}),s=Object.values(d);return{block:{id:l,version:1,alive:!0,type:"collection_view_page",space_id:o,parent_table:n().NX,parent_id:o,permissions:[{type:"exclusive_user_permission",user_id:t,role:"read_and_write"}],properties:{title:(0,a().x9d)("Library")},view_ids:s.map((e=>e.id))},collectionViews:s}}}}]);