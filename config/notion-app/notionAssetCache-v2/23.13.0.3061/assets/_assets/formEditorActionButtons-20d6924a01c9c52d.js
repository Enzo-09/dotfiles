"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[49157,69095],{346:(e,t,o)=>{o.d(t,{MG:()=>g,T1:()=>p,a1:()=>y,dt:()=>f,kg:()=>h,lC:()=>b,n_:()=>v});var n=o(296540),i=()=>o(484714),r=()=>o(847249),s=()=>o(187174),a=()=>o(645873),l=()=>o(941463),d=()=>o(441199),c=()=>o(749687),u=()=>o(737230),m=()=>o(756114);const p=new(a().O2)("PerformanceToolbar",(()=>Promise.all([o.e(96346),o.e(16471),o.e(85864),o.e(92845),o.e(71718),o.e(21194),o.e(17989),o.e(90625),o.e(37580),o.e(45624)]).then(o.bind(o,140401)))),g=(0,a()._h)(p,(e=>e.PerformanceToolbar)),f=(0,a()._h)(p,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,m().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,i().v3)(),t=S("PerformanceToolbarStore"),o=S("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function b(){const e=S("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function y(){const e=(0,i().v3)(),t=S("createPerformanceToolbarMouseListeners"),o=S("PerformanceToolbarStore"),{sidebarExpanded:s,sidebarWidth:a,secondarySidebarExpanded:m,secondarySidebarWidth:p,updateSidebarExpanded:g,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),s,a,m,p,g,f)}),[t,e,o,s,a,m,p,g,f])}function S(e){const t=h(),[{value:o}]=(0,s().Yb)((()=>t?p.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},7767:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(194188),i=()=>o(10123),r=()=>o(570551);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e).getTime(),s=(0,n().A)(t);return new Date(o+s)}},10123:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(570551);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){(0,n().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},21735:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().default{getInitialState(){return{shouldUseEdgeCache:!1}}}const i=new n;o(604341).exposeDebugValue("EdgeCacheStore",i);const r=i},43972:(e,t,o)=>{o.d(t,{w:()=>l});o(296540);var n=()=>o(764880),i=()=>o(534177),r=()=>o(256863),s=()=>o(453697),a=o(474848);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n().H3)(t)?(0,a.jsx)(r().A,{botValue:t.asActor,...o}):(0,n().ps)(t)?(0,a.jsx)(s().A,{userValue:t.asActor,...o}):(0,n().h2)(t)?(0,a.jsx)(s().A,{userValue:void 0,...o}):void(0,i().HB)(t)}},63467:(e,t,o)=>{o.d(t,{y:()=>c});var n=()=>o(637997),i=()=>o(267419);const r={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222))};let s=!1,a=!1;async function l(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...i,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(s)return;const[e]=o(662303).locale.split("-");e in r&&(await l(await r[e]()),s=!0)}const c=(0,o(279900).A)((async()=>{await async function(){a||(await l(await o.e(51872).then(o.bind(o,443716))),a=!0)}(),await d()}))},72307:(e,t,o)=>{o.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},73223:(e,t,o)=>{o.r(t),o.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>m,tutorialAdvanceToStepAfter:()=>p,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var n=()=>o(541235),i=()=>o(751156),r=()=>o(755199),s=()=>o(739135),a=()=>o(351360);function l(e,t){var o;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,s().i9)(n,t)}}})},userId:n.id})}function d(e,t){var o;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,s().KD)(n,t)}}})},userId:n.id})}function c(e,t){var o;const{currentUserSettingsStore:i}=a().default.state;if(!i)return;const s=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;(null==s?void 0:s[t])!==n().YD&&g({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...s,[t]:n().YD}}})},userId:i.id})}function u(e){const{currentUserSettingsStore:t}=a().default.state;t&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function m(e,t,o){var i;const{currentUserSettingsStore:l}=a().default.state;if(!l||(0,s().x$)(l,t))return;const d=(0,s().gt)(l,t);n().c$[t].steps.findIndex((e=>e.id===d))>=n().c$[t].steps.findIndex((e=>e.id===o))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(i=l.getSettings())||void 0===i?void 0:i.tutorials,[t]:o}}})}function p(e,t,o){if((0,s().ll)(o))return;const n=(0,s().tb)(t,o);n&&m(e,t,n)}function g(e){return i().createAndCommit({...e,canUndo:!1})}},77126:(e,t,o)=>{o.d(t,{j:()=>i});class n extends(()=>o(959180))().A{}const i=new n},105819:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>i});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,o(340498).wt)("pencilLine",n)},138372:(e,t,o)=>{o.d(t,{H:()=>i});var n=()=>o(508496);function i(e){const{permissionItem:t}=e,{is_public_share_link:o}=t;return n().default.checkGate({gateName:"sharing_anyone_with_the_link"})?o?{...t,is_site:!1}:{...t,role:"none",is_site:!1}:{...t,is_site:!1,role:"none"}}},182034:(e,t,o)=>{o.d(t,{O:()=>u,e:()=>c});o(898992),o(672577);var n=()=>o(908006),i=()=>o(878523),r=()=>o(725614),s=()=>o(892632),a=()=>o(299545),l=()=>o(77126),d=()=>o(489348);function c(e,t){const o=a().dd(t),n=s().xh(o);e.setState({...e.state,files:n})}async function u(e){const{blockStore:t,pageViewBlockStore:o,environment:s}=e;o?o.setState({...o.state,forceDiscussionOpen:!0}):d().A.openNewPageDiscussionInput(t),i().o2(s,{from:"page_comments"}),await n().default.afterNextFlush();const a=l().j.find((e=>e.getBlockStore().id===t.id)),c=null==a?void 0:a.getInputStore();c&&r().setSelectionAtEnd({store:c.state.textStore})}},189048:(e,t,o)=>{o.d(t,{u:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("arrowDownThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.99316 1.52246C7.40527 1.52246 7.00195 1.93262 7.00195 2.54785V10.1357L7.07031 11.6191L5.69629 10.0332L4.1582 8.50195C3.98047 8.31738 3.74805 8.19434 3.44727 8.19434C2.91406 8.19434 2.51074 8.59082 2.51074 9.15137C2.51074 9.41113 2.61328 9.65039 2.81836 9.8623L7.26172 14.3125C7.44629 14.5039 7.72656 14.6133 7.99316 14.6133C8.2666 14.6133 8.54004 14.5039 8.72461 14.3125L13.1748 9.8623C13.3799 9.65039 13.4824 9.41113 13.4824 9.15137C13.4824 8.59082 13.0791 8.19434 12.5459 8.19434C12.252 8.19434 12.0195 8.31738 11.835 8.50195L10.2969 10.0332L8.92285 11.6191L8.98438 10.1357V2.54785C8.98438 1.93262 8.58789 1.52246 7.99316 1.52246Z"})})},194188:(e,t,o)=>{function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}o.d(t,{A:()=>n})},205618:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:o(854150).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const i=n},224011:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(705540);class i extends(()=>o(757695))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await n().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},n().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},240562:(e,t,o)=>{o.d(t,{p:()=>r});var n=()=>o(645873);const i=new(n().O2)("HelpButtonContent",(async()=>await o.e(42481).then(o.bind(o,101107)))),r=(0,n()._h)(i,(e=>e.HelpButtonContent))},261164:(e,t,o)=>{o.d(t,{o:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("arrowRightRounded",{viewBox:"0 0 16 13",svg:(0,n.jsx)("path",{d:"M15.3828 6.85156C15.3828 7.09635 15.2917 7.3099 15.1094 7.49219L9.95312 12.6328C9.77083 12.8099 9.5651 12.8984 9.33594 12.8984C9.09635 12.8984 8.89583 12.8203 8.73438 12.6641C8.57812 12.5078 8.5 12.3125 8.5 12.0781C8.5 11.9583 8.52083 11.8464 8.5625 11.7422C8.60938 11.638 8.67188 11.5469 8.75 11.4688L10.5 9.70312L13.4141 7.04688L13.6875 7.54688L10.9766 7.70312H1.48438C1.22396 7.70312 1.01302 7.625 0.851562 7.46875C0.695312 7.30729 0.617188 7.10156 0.617188 6.85156C0.617188 6.59635 0.695312 6.39062 0.851562 6.23438C1.01302 6.07292 1.22396 5.99219 1.48438 5.99219H10.9766L13.6875 6.15625L13.4141 6.66406L10.5 4L8.75 2.22656C8.67188 2.14844 8.60938 2.0599 8.5625 1.96094C8.52083 1.85677 8.5 1.74219 8.5 1.61719C8.5 1.38281 8.57812 1.1875 8.73438 1.03125C8.89583 0.875 9.09635 0.796875 9.33594 0.796875C9.45052 0.796875 9.5599 0.820312 9.66406 0.867188C9.76823 0.914062 9.86719 0.984375 9.96094 1.07812L15.1094 6.21094C15.2917 6.39323 15.3828 6.60677 15.3828 6.85156Z"})})},271084:(e,t,o)=>{o.d(t,{k:()=>i});o(581454);class n extends(()=>o(757695))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[i,r]=t;return r-n})).map((e=>{let[t,o]=e;return t}))}}const i=new n;(0,o(604341).exposeDebugValue)("UserSimilarityStore",i)},277201:(e,t,o)=>{o.d(t,{I:()=>w,i:()=>x});var n=o(296540),i=()=>o(484714),r=()=>o(847249),s=()=>o(401497),a=()=>o(387964),l=()=>o(340498),d=()=>o(959013),c=()=>o(186445),u=()=>o(38337),m=()=>o(869562),p=()=>o(749687),g=()=>o(962730),f=()=>o(948914),h=()=>o(145214),v=()=>o(285790),b=()=>o(35392),y=()=>o(859428),S=o(474848);function w(e){const t=(0,i().v3)(),o=(0,i().Y0)(),n=(0,d().tz)(),s=(0,r().O$)(p().sidebarMouseEnteredStore),l=(0,r().O$)(f().b),u=(0,r().O$)(c().$o),g=n.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),h=(!o.isElectronMac||!u)&&!l&&s;return(0,S.jsx)(x,{isVisible:h,icon:a().S,caption:g,onClick:()=>{m().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const C={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function x(e){const t=(0,i().Y0)(),o=(0,s().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.mediumIconColor}})),[]),r=(0,n.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...o.button,...e.style})),[e.style,o.button,t.isMobile]);return(0,S.jsx)(y().A,{renderTooltip:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,S.jsx)(b().A,{style:o.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?g().W.Right:g().W.Bottom,render:o=>(0,S.jsx)(h().A,{tag:v().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:C,mobileFeedback:t.isMobile,onClick:e.onClick,className:u().P7S,...o})})}},279900:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t?(n=r,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...r),t)}}o.d(t,{A:()=>n})},299177:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().default{getInitialState(){return{}}}const i=new n;o(604341).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",i);const r=i},302127:(e,t,o)=>{o.d(t,{y:()=>i});var n=()=>o(508496);function i(e){const{permissionItem:t,allowDuplicate:o}=e,{is_public_share_link:i}=t;return n().default.checkGate({gateName:"sharing_anyone_with_the_link"})&&i?{...t,is_site:!0,allow_duplicate:o}:{...t,role:"reader",is_site:!0,allow_duplicate:o}}},311004:(e,t,o)=>{e.exports=o.p+"edfba4a6d1ff7acd.png"},315766:(e,t,o)=>{o.d(t,{o:()=>i});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M10 2.375q-.634 0-1.242.1A.625.625 0 0 0 8.96 3.71a6.4 6.4 0 0 1 2.08 0 .625.625 0 0 0 .202-1.233q-.608-.1-1.242-.101m4.442 1.426a.625.625 0 0 0-.729 1.015 6.4 6.4 0 0 1 1.47 1.47.625.625 0 1 0 1.015-.73 7.7 7.7 0 0 0-1.756-1.755M6.287 4.817a.625.625 0 0 0-.73-1.015 7.7 7.7 0 0 0-1.755 1.756.625.625 0 1 0 1.015.729 6.4 6.4 0 0 1 1.47-1.47m11.237 3.941a.625.625 0 0 0-1.233.202 6.4 6.4 0 0 1 0 2.08.625.625 0 0 0 1.233.202 7.7 7.7 0 0 0 0-2.484M3.71 8.96a.625.625 0 0 0-1.234-.202 7.7 7.7 0 0 0 0 2.484.625.625 0 1 0 1.233-.202 6.4 6.4 0 0 1 0-2.08m12.489 5.482a.625.625 0 0 0-1.015-.729 6.4 6.4 0 0 1-1.096 1.18c-.79-1.398-2.333-2.332-4.087-2.332s-3.298.934-4.087 2.331a6 6 0 0 1-.567-.536l-.006-.006a6 6 0 0 1-.523-.637.625.625 0 0 0-1.015.73 7.7 7.7 0 0 0 1.756 1.755l.008.006a7.6 7.6 0 0 0 4.74 1.415 7.6 7.6 0 0 0 5.261-2.408l.006-.007q.337-.36.625-.762M6.951 15.6c.547-1.049 1.697-1.789 3.049-1.789s2.502.74 3.049 1.79a6.34 6.34 0 0 1-3.046.774H10a6.35 6.35 0 0 1-3.05-.775m.805-9.431C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"})},i=(0,o(340498).wt)("personCropCircleDashed",n)},343168:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().default{getInitialState(){return{openTooltip:void 0}}}const i=new n},352759:(e,t,o)=>{o.d(t,{p:()=>b,t:()=>y});o(581454),o(296540);var n=()=>o(484714),i=()=>o(847249),r=()=>o(584262),s=()=>o(959013),a=()=>o(857783),l=()=>o(255018),d=()=>o(939740),c=()=>o(958378),u=()=>o(89924),m=()=>o(900967),p=()=>o(728611),g=()=>o(211716),f=()=>o(592968),h=()=>o(551619),v=o(474848);function b(e){let{store:t}=e;return(0,v.jsx)("div",{style:{width:"100%",maxWidth:"100%",margin:"0 auto 6px auto"},onMouseDown:h().NV,onClick:h().sx,children:(0,v.jsx)(l().A,{type:"page",store:t,headerText:(0,v.jsx)(s().sA,{defaultMessage:"Linked to this page",id:"page.expandedBacklinks.label"}),disableCurrentPageToken:!0,disableInaccessiblePages:!0})})}function y(e){let{store:t}=e;const o=(0,n().v3)(),s=(0,i().K8)((()=>(0,m().c)(t,o)),[t,o]),l=(0,i().K8)((()=>s.backlinks.map((e=>e.backlinkStore))),[s]).map(((e,t)=>({key:e.id,render:t=>(0,v.jsx)(c().A,{...t,store:e,hidePath:!1}),action:t=>{let{event:n}=t;f().F.setState({isOpen:!1});const i=p().Vr(n);a().uK({environment:o,store:e,openInNew:i,visitType:g().ig.Link,pageVisitSource:r().y8.Backlinks})}})));return(0,v.jsx)(d().Ay,{type:d().Oh.Vertical,initialFocus:void 0,sections:[{key:"all",items:l,render:e=>(0,v.jsx)(u().A,{...e})}]})}},370898:(e,t,o)=>{o.d(t,{O:()=>c});o(296540);var n=()=>o(401497),i=()=>o(493823),r=()=>o(340498),s=()=>o(959013),a=()=>o(125565),l=o(474848);function d(e){const{title:t,icon:o,iconStyle:i,disabled:d}=e,c=(0,n().IS)((e=>({container:{display:"flex",alignItems:"center",gap:6},icon:{height:r().Ev.default,width:r().Ev.default,fill:e.icon.secondary,...i},text:{color:d?e.text.secondary:void 0}})),[i,d]);return(0,l.jsxs)("div",{style:c.container,children:[o&&o(c.icon),(0,l.jsx)(a().A,{style:c.text,children:(0,l.jsx)(s().sA,{...t})})]})}function c(e){const{title:t,icon:o,iconStyle:r,right:s,disabled:a,onClick:c,style:u,badge:m}=e,p=(0,n().IS)((()=>({container:{minHeight:32,paddingLeft:8,paddingRight:8,width:"100%",paddingTop:2,paddingBottom:2,...u},titleContainer:{display:"flex",flex:1}})),[u]);return(0,l.jsxs)(i().p,{disabled:a,onClick:c,style:p.container,children:[(0,l.jsxs)("div",{style:p.titleContainer,children:[(0,l.jsx)(d,{title:t,icon:o,iconStyle:r,disabled:a}),m]}),s]})}},387964:(e,t,o)=>{o.d(t,{S:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,n.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},r=(0,o(340498).wt)("arrowChevronDoubleBackward",i)},392890:(e,t,o)=>{o.d(t,{A:()=>a});var n=()=>o(194188),i=()=>o(7767),r=()=>o(570551),s=6e4;function a(e,t){(0,r().A)(2,arguments);var o=(0,n().A)(t);return(0,i().A)(e,o*s)}},392998:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(194188),i=()=>o(10123),r=()=>o(570551);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e),s=(0,n().A)(t);return isNaN(s)?new Date(NaN):s?(o.setDate(o.getDate()+s),o):o}},406533:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(340498).wt)("questionMarkCircle",i)},413267:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},413582:(e,t,o)=>{o.d(t,{M:()=>T});var n=o(296540),i=()=>o(484714),r=()=>o(847249),s=()=>o(401497),a=()=>o(764781),l=()=>o(435644),d=()=>o(340498),c=()=>o(959013),u=()=>o(884107),m=()=>o(84817),p=()=>o(623580),g=()=>o(864943),f=()=>o(946548),h=()=>o(859428),v=()=>o(42425),b=()=>o(989423),y=()=>o(972435),S=()=>o(962730),w=()=>o(525700),C=()=>o(40226),x=()=>o(578872),A=()=>o(242565),M=()=>o(370898),k=o(474848);const I=(0,c().YK)({showTitle:{id:"embedSettingsContent.showPageTitle.toggle",defaultMessage:"Show page title"},showFormTitle:{id:"embedSettingsContent.showFormTitle.toggle",defaultMessage:"Show form title"},showTitleTooltip:{id:"embedSettingsContent.showTitleTooltip",defaultMessage:"Show page title & icon in the embedded view"}});function T(e){const t=(0,i().v3)(),{currentBlockStore:o}=e,T=(0,r().K8)((()=>{var e;if(o)return null===(e=(0,x().GN)(o))||void 0===e?void 0:e.getSiteStore()}),[o]),j=(0,r().K8)((()=>{var e;return null==T||null===(e=T.getSettings())||void 0===e?void 0:e.embedSettings}),[T]),P=(0,r().K8)((()=>o?(0,C().R)({store:o,embedded:!0,pageVisitSource:void 0}):""),[o]),B=(0,r().K8)((()=>P?`\n\t\t\t\t<iframe src="${P}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\theight="600"\n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tallowfullscreen\n\t\t\t\t/>\n\t\t\t\t`.trim().replace(/\s+/g," "):""),[P]),_=n.useCallback((async()=>{const e=await u().R.clipboardActions.load();e.copyString({environment:t,stringValue:B,copiedMessage:e.clipboardMessages.copiedLinkToClipboard}),(0,b().u4)({environment:t,event:{eventName:"copy_embed_code",eventProperties:{target_block_id:o.id}}})}),[B,t,o.id]),F=n.useCallback((()=>{T&&(0,w().E9)({environment:t,siteStore:T,embedSettings:{hideTitle:!(null!=j&&j.hideTitle)}})}),[T,null==j?void 0:j.hideTitle,t]),R=(0,r().K8)((()=>o.isFormBlock()?I.showFormTitle:I.showTitle),[o]),E=(0,s().IS)((e=>({copyIcon:{width:d().Ev.sm,height:d().Ev.sm,marginLeft:0,marginRight:6},primaryButton:{marginLeft:"auto",marginRight:0,width:"fit-content"},container:{paddingLeft:8,paddingRight:8}})),[]);return(0,k.jsxs)(m().Y1,{direction:"vertical",gap:14,style:E.container,children:[(0,k.jsx)(h().A,{renderTooltip:()=>y().A.formatMessage(I.showTitleTooltip),disableTooltip:!1,render:e=>(0,k.jsx)("div",{...e,children:(0,k.jsx)(M().O,{title:R,icon:l().a,right:(0,k.jsx)(f().A,{on:!Boolean(null==j?void 0:j.hideTitle),onClick:F}),disabled:!1,onClick:F,style:{marginBottom:-6}})}),placement:S().W.Bottom,alignment:v().C1.Center,textWrap:!0,style:{maxWidth:A().SITE_SETTINGS_TOOLTIP_WIDTH}}),(0,k.jsx)(p().A,{disabled:!0,textarea:!0,textareaSubmitOnEnter:!1,autosize:!0,autosizeMinHeight:50,showClearButton:!1,readOnly:!0,value:B,textareaElementAttributes:{cols:50}}),(0,k.jsx)(g().A,{size:"lg",onClick:_,style:E.primaryButton,icon:e=>(0,a().V)({...e,...E.copyIcon}),children:(0,k.jsx)(c().sA,{id:"embedSettingsContent.copyEmbedCode",defaultMessage:"Copy code"})})]})}},454531:(e,t,o)=>{o.d(t,{W:()=>p});var n=()=>o(972435),i=()=>o(867772),r=()=>o(681810),s=()=>o(901389),a=()=>o(896628),l=()=>o(383594),d=()=>o(751156),c=()=>o(892632);const u=1500,m=(0,o(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function p(e){let{environment:t,intl:o,store:n,rect:i}=e;l().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;l().I(),d().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{a().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:i}=e;f({environment:t,store:n,url:{originUrl:o},position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(m.fileTypeCaption,{idealImageWidth:u}),onUpload:e=>{var i;l().I(),c().QM({environment:t,file:e[0],bucket:"secure",record:(null===(i=n.getCoverStore())||void 0===i?void 0:i.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:h,onProgress:v,onComplete:e=>{var o;o={environment:t,store:n,url:{originUrl:e}},g({...o,position:.5})},onError:()=>{s().f1(o.formatMessage(m.uploadFailed))}})}},{type:"embed",title:o.formatMessage(m.embedTitle),inputPlaceholder:o.formatMessage(m.embedPlaceholder),caption:o.formatMessage(m.embedCaption),buttonText:o.formatMessage(m.embedSubmit),onChange:e=>{var o;o={environment:t,store:n,url:e},g({...o,position:.5}),l().I()}},{type:"unsplash",onChange:e=>{let{url:o,position:i}=e;f({environment:t,store:n,url:{originUrl:o},position:i})}}]})}async function g(e){const{environment:t,store:o,url:s,position:l}=e,{serverCommitResult:c}=d().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{a().fg({store:o,url:s,position:l||.5,transaction:e})}});await c,r().A.state.loadingMode===i().vS&&r().A.setState({loadingMode:i().Gi,dataURL:r().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:n().A.formatMessage(m.downloading)})}function f(e){g(e),e.environment.device.isMobile&&l().I()}function h(e){const{file:t,name:o,size:s}=e;if(l().I(),r().A.setState({loadingMode:i().Wc,file:t,name:o,size:s}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,dataURL:t.dataURL,progressText:n().A.formatMessage(m.preparing)});else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,progressText:n().A.formatMessage(m.preparing)})}function v(e){const{progressPercent:t,progressText:o}=e;r().A.state.loadingMode===i().vS&&r().A.setState({...r().A.state,uploadProgress:t,progressText:o})}},490044:(e,t,o)=>{o.d(t,{A:()=>m});o(296540);var n=()=>o(484714),i=()=>o(847249),r=()=>o(401497),s=()=>o(500066),a=()=>o(159588),l=()=>o(963589),d=()=>o(644914),c=o(474848);function u(){const e=(0,r().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,c.jsx)("div",{children:(0,s().G)(e.icon)})}function m(e){var t;const o=(0,n().v3)(),s=o.device.isMobile,{isTablet:m}=(0,n().Y0)(),p=(0,l().X)("tablet_refresh_gate"),g=(0,i().K8)((()=>{var t,n;if(s)return o.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(n=e.style)||void 0===n?void 0:n.paddingLeft:10)}),[o.WindowSizeStore,s,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),f=(0,r().IS)((t=>({wrapper:{...s?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:m&&p?4:8,paddingBottom:m&&p?4:8,paddingLeft:g,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:d().Zr,paddingTop:4,paddingBottom:4,...(0,a().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:s?28:22,height:s?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:s?24:d().ry,height:s?24:d().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!s?"clip":"ellipsis",...e.childrenStyle}})),[s,m,p,g,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,c.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:f.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,c.jsx)("div",{style:f.left,children:e.left}),e.icon&&(0,c.jsxs)("div",{style:f.icon,children:[e.icon,e.isAlias&&(0,c.jsx)(u,{})]}),(0,c.jsx)("div",{style:f.children,children:e.children}),e.right&&(0,c.jsx)("div",{style:f.right,children:e.right})]})}},527580:(e,t,o)=>{o.d(t,{TK:()=>a,YC:()=>s,ui:()=>r});var n=()=>o(645873);const i={pageVerification:new(n().O2)("pageVerification",(()=>o.e(94891).then(o.bind(o,80826)))),pageVerificationBadge:new(n().O2)("pageVerificationBadge",(()=>Promise.all([o.e(75134),o.e(43380),o.e(96346),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(28866),o.e(6463),o.e(1213),o.e(59794),o.e(75601),o.e(58504),o.e(14590),o.e(41412)]).then(o.bind(o,161901)))),pageVerificationMenuRenderer:new(n().O2)("pageVerificationMenuRenderer",(()=>Promise.all([o.e(75134),o.e(43380),o.e(96346),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(28866),o.e(6463),o.e(1213),o.e(59794),o.e(75601),o.e(58504),o.e(14590),o.e(26207)]).then(o.bind(o,196770))))},r=(0,n()._h)(i.pageVerification,(e=>e.PageAddVerificationButton)),s=(0,n()._h)(i.pageVerificationBadge,(e=>e.PageVerificationBadge)),a=(0,n()._h)(i.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},529803:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().default{}const i=new n},541235:(e,t,o)=>{o.d(t,{YD:()=>r,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},544862:(e,t,o)=>{o.d(t,{A:()=>A});var n=o(296540),i=()=>o(484714),r=()=>o(847249),s=()=>o(959013),a=()=>o(896628),l=()=>o(454531),d=()=>o(751156),c=()=>o(600871),u=()=>o(478726),m=()=>o(227440),p=()=>o(867772),g=()=>o(681810),f=()=>o(608581),h=()=>o(145214),v=()=>o(704152),b=()=>o(807683),y=()=>o(401497),S=()=>o(534177),w=o(474848);function C(e){let{src:t,placeholderSrc:o,placeholderBehavior:i,imageStyle:r,containerStyle:s,onLoadComplete:a,testId:l}=e;const[d,c]=(0,n.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!o&&(d||void 0===t);break;default:(0,S().HB)(i)}const m=(0,y().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...s},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[s,u]);(0,n.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const p=(0,n.useCallback)((e=>{c(!1),null==a||a()}),[a]);return(0,w.jsxs)("div",{style:m.container,children:[(0,w.jsx)(b().Ay,{src:t,onLoad:p,style:r,placeholderStyle:m.srcWrapper,placeholderLoadedStyle:m.srcWrapper,testId:l}),o&&(0,w.jsx)(b().Ay,{src:o,style:r,placeholderStyle:m.placeholderWrapper,placeholderLoadedStyle:m.placeholderWrapper})]})}var x=()=>o(24611);const A=function(e){let{store:t,disabled:s,paddingRight:l,paddingLeft:c,height:u,proxyWidth:m}=e;const f=(0,i().v3)(),h=(0,r().uB)(void 0,o(454305).A),v=(0,r().K8)((()=>s||"suggest"===o(77246).Uv.getMode(t)),[s,t]),y=(0,r().K8)((()=>t.getCover()),[t]),S=(0,r().O$)(g().A),[x,A]=(0,n.useState)(void 0);if(!y)return null;const I=S.loadingMode!==p().pF&&S.loadingMode!==p().Wc;return(0,w.jsx)(o(801678).A,{mouseStore:h,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:i}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{a().yY({store:t,coverPosition:n,transaction:e}),i()}})}(e,t,f),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:s}=e;return(0,w.jsx)(k,{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:s,lastProxiedUrl:x,store:t,disabled:v,paddingRight:l,paddingLeft:c,mouseStore:h})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},render:e=>(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(o(360083).A,{url:y.cover,isAuthenticated:!0,permissionRecord:y.pointer,width:m,onFinishedLoadingProxyUrl:A,render:(t,o)=>{const n={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:I?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,w.jsx)(C,{src:o,placeholderSrc:I?S.dataURL:void 0,placeholderBehavior:I?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:n,onLoadComplete:M,testId:"pageCover"})}}),I&&(0,w.jsxs)("div",{style:b().fd,children:[(0,w.jsx)(o(331542).A,{size:"md",style:{marginRight:4}}),(0,w.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==S.uploadProgress?(0,w.jsx)(o(773382).A,{percentage:S.uploadProgress}):S.progressText?(0,w.jsx)("span",{children:S.progressText}):null})]})]})})};function M(){g().A.reset()}function k(e){let{isVisible:t,isRepositioning:o,handleCancelClick:a,handleRepositionClick:d,handleSavePositionClick:b,lastProxiedUrl:y,store:S,disabled:C,paddingRight:A,paddingLeft:M,mouseStore:k}=e;const I=(0,i().v3)(),T=(0,s().tz)(),j=(0,n.useCallback)((e=>function(e,t,o,n,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:n,rect:r})}(e,I,T,S,k)),[I,T,S,k]),P=(0,r().K8)((()=>g().A.state.loadingMode),[]),B=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":u().x6,t}(S)),[S]),{device:_}=I,F=(0,r().K8)((()=>!o&&!(0,c().LX)({device:_})),[o,_]),R=(0,r().O$)(m().e);if(C||P!==p().pF||!R)return null;const{isMobile:E}=_;return(0,w.jsx)(h().A,{animate:{width:B,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,w.jsxs)(f().A,{isVisible:t,position:"bottom",style:{marginRight:A,marginLeft:M},children:[F&&(0,w.jsx)(v().A,{style:{borderRight:E?"none":void 0,...x().k},onClick:j,children:(0,w.jsx)(s().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!E&&(0,w.jsx)(v().A,{style:{...x().k,borderRight:"none"},onClick:e=>d(e,y),children:(0,w.jsx)(s().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!E&&(0,w.jsx)(v().A,{style:x().k,onClick:b,children:(0,w.jsx)(s().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!E&&(0,w.jsx)(v().A,{style:{...x().k,borderRight:"none"},onClick:a,children:(0,w.jsx)(s().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},555267:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(296540),i=()=>o(401497),r=()=>o(62856),s=()=>o(331542),a=o(474848);function l(e){let{loadingMessage:t}=e;const o=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(s().A,{}),t&&(0,a.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t})]})})}},556048:(e,t,o)=>{o.d(t,{C8:()=>m,Dz:()=>l,GC:()=>g,GL:()=>f,YY:()=>p,dM:()=>c,h9:()=>d,jX:()=>a,oF:()=>u,uj:()=>s});var n=()=>o(645873);const i={JiraSyncInfoPopup:new(n().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(75134),o.e(68744)]).then(o.bind(o,408453)))),ImproveJiraSyncPopup:new(n().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(75134),o.e(2686)]).then(o.bind(o,484967)))),JiraDCAuthModal:new(n().O2)("JiraDCAuthModal",(async()=>await o.e(28763).then(o.bind(o,992567)))),ExternalImportAndSyncIndicator:new(n().O2)("ExternalImportAndSyncIndicator",(async()=>await o.e(98288).then(o.bind(o,984289)))),JiraSyncedAllProjectsTooltip:new(n().O2)("JiraSyncedAllProjectsTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedAllIssuesTooltip:new(n().O2)("JiraSyncedAllIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncSourceTooltip:new(n().O2)("JiraSyncSourceTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,470020))))},r={JiraSyncTeamSpaceModal:new(n().O2)("JiraSyncTeamSpaceModal",(async()=>o.e(56188).then(o.bind(o,604698))))},s=(0,n()._h)(r.JiraSyncTeamSpaceModal,(e=>e.default)),a=(0,n()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,n()._h)(i.JiraDCAuthModal,(e=>e.default)),d=(0,n()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),c=(0,n()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,n()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),m=(0,n()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),p=(0,n()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),g=(0,n()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),f=(0,n()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,o(340498).xh)("jira",{default:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:20},small:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:16},mini:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:14},large:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:24}})},563615:(e,t,o)=>{o.d(t,{$b:()=>c,Nz:()=>l,Q1:()=>s,Vh:()=>u,ZO:()=>d,bl:()=>a,eN:()=>r,oQ:()=>i});var n=()=>o(645873);const i={WorkflowPageBlock:new(n().O2)("WorkflowPageBlock",(async()=>await o.e(87700).then(o.bind(o,885789)))),WorkflowEditorTopbar:new(n().O2)("WorkflowEditorTopbar",(async()=>await Promise.all([o.e(96346),o.e(55373),o.e(36192),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(92143)]).then(o.bind(o,484654)))),WorkflowInPlaceEditor:new(n().O2)("WorkflowInPlaceEditor",(async()=>await Promise.all([o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(55373),o.e(36192),o.e(44711),o.e(62475),o.e(3151),o.e(16471),o.e(53321),o.e(58550),o.e(98629),o.e(90825),o.e(37353),o.e(29151),o.e(31895),o.e(83647),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(4422),o.e(28721),o.e(28866),o.e(21194),o.e(6463),o.e(71993),o.e(1213),o.e(17989),o.e(90625),o.e(59794),o.e(78846),o.e(26483),o.e(43741),o.e(81768),o.e(94387),o.e(82850),o.e(52393),o.e(77692),o.e(75601),o.e(11341),o.e(7060),o.e(82136),o.e(12739),o.e(26090),o.e(73594),o.e(93282),o.e(12341),o.e(50984),o.e(66984),o.e(40828),o.e(26199),o.e(18057),o.e(90978),o.e(56264),o.e(5023),o.e(55927),o.e(61151),o.e(72226),o.e(48199),o.e(67780),o.e(96933),o.e(4253),o.e(9150),o.e(50437)]).then(o.bind(o,742628)))),ChatCollectionView:new(n().O2)("ChatCollectionView",(async()=>await Promise.all([o.e(96346),o.e(55373),o.e(85864),o.e(7114),o.e(45666)]).then(o.bind(o,227519)))),CustomCollectionView:new(n().O2)("CustomCollectionView",(async()=>await Promise.all([o.e(96346),o.e(55373),o.e(36192),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(64165)]).then(o.bind(o,120250)))),WorkflowEditorCollectionViewPage:new(n().O2)("WorkflowEditorCollectionViewPage",(async()=>await Promise.all([o.e(75134),o.e(43380),o.e(96346),o.e(55373),o.e(36192),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(1213),o.e(78846),o.e(43741),o.e(93282),o.e(67780),o.e(16697)]).then(o.bind(o,258651)))),WorkflowContainerEmptyState:new(n().O2)("WorkflowContainerEmptyState",(async()=>await o.e(97891).then(o.bind(o,50512)))),workflowActions:new(n().O2)("workflowActions",(async()=>await Promise.all([o.e(96346),o.e(55373),o.e(36192),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(11097)]).then(o.bind(o,847)))),workflowNavigationActions:new(n().O2)("workflowNavigationActions",(async()=>await o.e(93139).then(o.bind(o,691093)))),workflowNavigationHelpers:new(n().O2)("workflowNavigationHelpers",(async()=>await o.e(92821).then(o.bind(o,564037)))),workflowAdvanced:new(n().O2)("workflowAdvanced",(async()=>await Promise.all([o.e(75134),o.e(43380),o.e(9304),o.e(96346),o.e(55373),o.e(36192),o.e(44711),o.e(62475),o.e(3151),o.e(16471),o.e(53321),o.e(58550),o.e(98629),o.e(90825),o.e(37353),o.e(29151),o.e(31895),o.e(83647),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(85515),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(4422),o.e(28721),o.e(28866),o.e(21194),o.e(6463),o.e(71993),o.e(1213),o.e(17989),o.e(90625),o.e(59794),o.e(78846),o.e(26483),o.e(43741),o.e(81768),o.e(94387),o.e(82850),o.e(52393),o.e(77692),o.e(75601),o.e(11341),o.e(7060),o.e(82136),o.e(12739),o.e(26090),o.e(73594),o.e(93282),o.e(12341),o.e(50984),o.e(66984),o.e(40828),o.e(26199),o.e(18057),o.e(90978),o.e(56264),o.e(5023),o.e(55927),o.e(61151),o.e(72226),o.e(48199),o.e(67780),o.e(96933),o.e(4253),o.e(9150)]).then(o.bind(o,140659))))},r=(0,n()._h)(i.WorkflowPageBlock,(e=>e.default)),s=(0,n()._h)(i.ChatCollectionView,(e=>e.ChatCollectionView)),a=(0,n()._h)(i.CustomCollectionView,(e=>e.CustomCollectionView)),l=(0,n()._h)(i.WorkflowEditorTopbar,(e=>e.WorkflowEditorTopbar)),d=(0,n()._h)(i.WorkflowInPlaceEditor,(e=>e.WorkflowInPlaceEditor)),c=(0,n()._h)(i.WorkflowEditorCollectionViewPage,(e=>e.WorkflowEditorCollectionViewPage)),u=(0,n()._h)(i.WorkflowContainerEmptyState,(e=>e.WorkflowContainerEmptyState))},567121:(e,t,o)=>{o.d(t,{EG:()=>s,K5:()=>r,RH:()=>i,Yi:()=>a,ls:()=>n});const n=32,i=202,r=1e3,s="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",a="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},570551:(e,t,o)=>{function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}o.d(t,{A:()=>n})},578194:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(583835).Dv)("importEvernote")},590856:(e,t,o)=>{o.d(t,{y:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("collectionForm",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M5.50195 4.75635C5.37435 4.75635 5.26953 4.71305 5.1875 4.62646C5.10547 4.53988 5.06445 4.43734 5.06445 4.31885C5.06445 4.1958 5.10547 4.09326 5.1875 4.01123C5.26953 3.9292 5.37435 3.88818 5.50195 3.88818H10.5059C10.6289 3.88818 10.7314 3.9292 10.8135 4.01123C10.8955 4.09326 10.9365 4.1958 10.9365 4.31885C10.9365 4.43734 10.8955 4.53988 10.8135 4.62646C10.7314 4.71305 10.6289 4.75635 10.5059 4.75635H5.50195ZM5.50195 7.0874C5.37435 7.0874 5.26953 7.04639 5.1875 6.96436C5.10547 6.87777 5.06445 6.77295 5.06445 6.6499C5.06445 6.53141 5.10547 6.43115 5.1875 6.34912C5.26953 6.26709 5.37435 6.22607 5.50195 6.22607H10.5059C10.6289 6.22607 10.7314 6.26709 10.8135 6.34912C10.8955 6.43115 10.9365 6.53141 10.9365 6.6499C10.9365 6.77295 10.8955 6.87777 10.8135 6.96436C10.7314 7.04639 10.6289 7.0874 10.5059 7.0874H5.50195ZM5.50195 9.42529C5.37435 9.42529 5.26953 9.38428 5.1875 9.30225C5.10547 9.22021 5.06445 9.11995 5.06445 9.00146C5.06445 8.87842 5.10547 8.77588 5.1875 8.69385C5.26953 8.60726 5.37435 8.56396 5.50195 8.56396H7.92188C8.04948 8.56396 8.1543 8.60726 8.23633 8.69385C8.31836 8.77588 8.35938 8.87842 8.35938 9.00146C8.35938 9.11995 8.31836 9.22021 8.23633 9.30225C8.1543 9.38428 8.04948 9.42529 7.92188 9.42529H5.50195ZM2.13867 13.1577V2.84229C2.13867 2.10856 2.32552 1.55257 2.69922 1.17432C3.07292 0.791504 3.62663 0.600098 4.36035 0.600098H11.6406C12.3743 0.600098 12.9281 0.791504 13.3018 1.17432C13.6755 1.55257 13.8623 2.10856 13.8623 2.84229V13.1577C13.8623 13.896 13.6755 14.4543 13.3018 14.8325C12.9281 15.2108 12.3743 15.3999 11.6406 15.3999H4.36035C3.62663 15.3999 3.07292 15.2108 2.69922 14.8325C2.32552 14.4543 2.13867 13.896 2.13867 13.1577ZM3.48535 13.0757C3.48535 13.3901 3.56738 13.6317 3.73145 13.8003C3.89551 13.9689 4.14388 14.0532 4.47656 14.0532H11.5312C11.8639 14.0532 12.1123 13.9689 12.2764 13.8003C12.4404 13.6317 12.5225 13.3901 12.5225 13.0757V2.93115C12.5225 2.61214 12.4404 2.36833 12.2764 2.19971C12.1123 2.02653 11.8639 1.93994 11.5312 1.93994H4.47656C4.14388 1.93994 3.89551 2.02653 3.73145 2.19971C3.56738 2.36833 3.48535 2.61214 3.48535 2.93115V13.0757Z"})})},592968:(e,t,o)=>{o.d(t,{F:()=>i});class n extends(()=>o(757695))().default{getInitialState(){return{isOpen:!1}}}const i=new n},603815:(e,t,o)=>{o.d(t,{A$:()=>M,JQ:()=>k,Vn:()=>x,s4:()=>A});o(16280),o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949),o(581454);var n=()=>o(857639),i=()=>o(585515),r=()=>o(577449),s=()=>o(388821),a=()=>o(179034),l=()=>o(545285),d=()=>o(534177),c=()=>o(449506),u=()=>o(780054),m=()=>o(989423),p=()=>o(870618),g=()=>o(303626),f=()=>o(14307),h=()=>o(245865),v=()=>o(540758),b=()=>o(670631),y=()=>o(508496),S=()=>o(571963),w=()=>o(603815),C=()=>o(108944);async function x(e){const{environment:t,request:o,abortSignal:n,prefetchCacheKey:i,headers:r}=e;return(0,S().updateLoadCachedPageChunkCalledAt)(),f().isConnected()||f().isConnecting()?c().callApi({eventName:"loadCachedPageChunkV2",environment:t,data:o,abortSignal:n,prefetchCacheKey:i,headers:r}):c().callApi({eventName:"loadPageChunkV2",environment:t,data:o,abortSignal:n,prefetchCacheKey:i,headers:r})}async function A(e){const{mode:t,environment:o,request:d,isFirstChunk:c,abortSignal:f}=e,h={...d,limit:30,cursor:d.cursor||{stack:[]},baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName};if("inMemoryAndDiskCacheWithInexactPreload"===t&&(await w().A$(o,{id:d.page.id,table:a().ev}),null!=f&&f.aborted))throw new Error("Abort signal received");const y=s().RecordMapWithRole.create(),S=[];let C=!1;const x=new Set,A=await i().T(h,r().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await p().h7({environment:o,pointer:e,abortSignal:f,useInMemoryCacheOnly:"inMemoryOnly"===t});if(null!=f&&f.aborted)throw new Error("Abort signal received");if(n)return y.setModelAndRole(e,n.model,n.role),n.model;if("inMemoryOnly"===t)throw new Error(`Record not found: ${e.table},${e.id}`);if((0,l().u)(e)&&!x.has(e.id)&&c){if(void 0===b().A.state.offlinePages)return S.push(e),void(C=!0);if(void 0===b().A.state.offlinePages||!v().Bd(d.page.id))throw new Error(`Record not found: ${e.table},${e.id}`);S.push(e)}})),((e,t,o,n)=>{g().N.enableLogging&&console.log(`Spidering from ${e.table}:${e.id} to ${t.table}:${t.id} (${o})`),null!=n&&n.suppressErrorOnClient&&x.add(t.id)}));if(C&&(await b().A.waitUntil((()=>void 0!==b().A.state.offlinePages)),!v().Bd(d.page.id))){const[e]=S;throw new Error(`Record not found: ${e.table},${e.id}`)}if(S.length>0&&(0,m().LM)({eventName:"offline_page_was_missing_records_in_cache",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((e=>{(0,m().u4)({environment:o,event:{eventName:"offline_page_was_missing_records_in_cache",eventProperties:{}},opts:{sampling:{behavior:"decided",sampleDecision:e}}}),e&&n().log({level:"error",from:"loadingHelpers",type:"offlinePageWasMissingRecordsInCache",data:{pageId:d.page.id,missingRecords:S}})})),null!=f&&f.aborted)throw new Error("Abort signal received");return{recordMap:y.toJson(),cursor:A.cursorValue}}async function M(e,t){const o=e.currentUser.id;if(!o||!e.defaultRecordCache.persistedRecordCache)return Promise.resolve(void 0);(await e.defaultRecordCache.persistedRecordCache.getPageBlocksByParent({page:t,userId:o})).forEach((t=>{e.defaultRecordCache.inMemoryRecordCache.setRecord({pointer:t.pointer,userId:t.userId},t.value),e.defaultRecordCache.inMemoryRecordCache.emitRecord(t.pointer,[]),h().unsubscribeAfterDelay({environment:e,pointer:t.pointer,userId:t.userId})}))}function k(e){if(!y().default.checkGate({gateName:"load_page_chunk_omit_existing_record_versions"}))return;const t=s().RecordMapPolymorphic.create();let o=0;const n=()=>o>=50,i=e=>{"space"!==(null==e?void 0:e.table)&&(n()||e&&void 0===t.get(e.pointer)&&(t.set(e.pointer,e.getVersion()),o++))};if(e.isReady())for(const s of(0,C().E)(e))i(s);if(e.userId){const t=e.environment.defaultRecordCache.inMemoryRecordCache.data.getUserRecordMap(e.userId);i(t.getModel({table:"notion_user",id:e.userId}));let o=0;for(const e of t.getPointersByTable("notion_user")){if(n()||o>=10)break;o++,i(t.getModel(e))}}const r=Array.from(t).map((e=>{let{pointer:t,value:o}=e;if(void 0!==o)return{pointer:t,version:o}})).filter(d().O9);return r.length?r:void 0}},606982:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(10123),i=()=>o(570551);function r(e,t){(0,i().A)(2,arguments);var o=(0,n().A)(e),r=(0,n().A)(t),s=o.getTime()-r.getTime();return s<0?-1:s>0?1:s}},608581:(e,t,o)=>{o.d(t,{A:()=>c});o(898992),o(354520),o(581454),o(941795);var n=o(296540),i=()=>o(401497),r=()=>o(955825),s=()=>o(284371),a=()=>o(963575),l=o(474848);function d(e){const{button:t,isLast:o}=e,a=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:s().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,r().AH)(t.props.style,a.button,o&&a.buttonLast),hoveredStyle:(0,r().AH)(a.buttonHovered,o&&a.buttonLast).style,pressedStyle:a.buttonPressed})}const c=function(e){let{children:t,isVisible:c,position:u,style:m}=e;const p=(0,o(484714).v3)(),g=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:a().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:p.device.isMobile?"auto":"none",opacity:p.device.isMobile?1:0,fontFamily:s().vc(o(662303).locale).sans,position:"absolute",right:a().A.horizontal.small,bottom:a().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:a().A.vertical.small,bottom:void 0}})),[p]),f=n.Children.toArray(t).filter(o(534177).O9),h=f.length;return(0,l.jsx)(o(145214).A,{animate:{opacity:c?1:0},...(0,r().AH)(g.container,m,c&&g.containerHover,"top"===u&&g.containerTop),children:f.map(((e,t)=>{const i=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(859428).A&&n.isValidElement(e))return n.cloneElement(e,{render:(t,o)=>{const n=e.props.render(t,o);return(0,l.jsx)(d,{isLast:i,button:n},e.key)}});if(e.type===o(704152).A&&n.isValidElement(e))return(0,l.jsx)(d,{isLast:i,button:e},e.key)}}))})}},614787:(e,t,o)=>{o.d(t,{l:()=>n});const n=(0,o(959013).YK)({copiedLinkToForm:{id:"FormActionButtons.copiedLinkToForm",defaultMessage:"Copied link to form"}})},621269:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Le});var n=o(296540),i=()=>o(484714),r=()=>o(847249),s=()=>o(401497),a=()=>o(959013),l=()=>o(864943),d=()=>o(859428),c=()=>o(989423),u=()=>o(465741),m=()=>o(148307),p=()=>o(31503),g=()=>o(906380),f=()=>o(481721),h=()=>o(742852),v=o(474848);const b={viewBox:"0 0 20 20",svg:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("path",{fillRule:"evenodd",d:"M10 9a1.6 1.6 0 0 0-1.6 1.6v.817a1 1 0 0 0-.6.917V14a1 1 0 0 0 1 1h2.4a1 1 0 0 0 1-1v-1.666a1 1 0 0 0-.6-.917V10.6A1.6 1.6 0 0 0 10 9m.6 2.334V10.6a.6.6 0 0 0-1.2 0v.734zm-.05 1.796a.55.55 0 1 1-1.1 0 .55.55 0 0 1 1.1 0",clipRule:"evenodd"}),(0,v.jsx)("path",{d:"M4.125 4.5c0-1.174.951-2.125 2.125-2.125h3.879c.563 0 1.104.224 1.502.622l3.622 3.622c.398.398.622.939.622 1.502V15.5a2.125 2.125 0 0 1-2.125 2.125h-7.5A2.125 2.125 0 0 1 4.125 15.5zm2.125-.875a.875.875 0 0 0-.875.875v11c0 .483.392.875.875.875h7.5a.875.875 0 0 0 .875-.875V8.3H12a2.05 2.05 0 0 1-2.05-2.05V3.625zm4.8.559V6.25c0 .525.425.95.95.95h2.066z"})]})},y=(0,o(340498).wt)("lockDoc",b);var S=()=>o(788621),w=()=>o(315766),C=()=>o(633137),x=()=>o(558687),A=()=>o(411387),M=()=>o(884107),k=()=>o(778417),I=()=>o(725614),T=()=>o(755199),j=()=>o(464708),P=()=>o(760217),B=()=>o(406699),_=()=>o(805751),F=()=>o(623580),R=()=>o(928600),E=()=>o(8980),D=()=>o(147294),L=()=>o(204063),V=()=>o(89924),N=()=>o(175116),W=()=>o(38337),O=()=>o(972435),K=()=>o(722872),U=()=>o(553965),H=()=>o(836251),z=()=>o(640653),Q=()=>o(47170),$=()=>o(963589),G=()=>o(629027),Y=()=>o(628315),J=()=>o(131448),q=()=>o(976721),Z=()=>o(440339),X=()=>o(928074),ee=()=>o(302127),te=()=>o(138372),oe=()=>o(525700),ne=()=>o(413582),ie=()=>o(962730),re=()=>o(351360),se=()=>o(597368);class ae extends(()=>o(757695))().default{getInitialState(){return{formShareMenuType:"initial"}}}const le=new ae;var de=()=>o(343168),ce=()=>o(991249),ue=()=>o(112698),me=()=>o(577437),pe=()=>o(614787),ge=()=>o(894995),fe=(o(898992),o(672577),o(581454),()=>o(496603)),he=()=>o(939740),ve=()=>o(897119);const be=function(e){let{icon:t,title:a,selectedKey:l,onChange:c,disabled:u,tooltipMessage:m,disableTooltip:p,...f}=e;const h=(0,i().Y0)(),b=(0,s().DP)(),y="options"in f?f.options:[],S=y.find((e=>fe().n4(e.key,l))),w=(0,r().uB)(void 0,o(463830).A),C=(0,r().O$)(w);(0,n.useEffect)((()=>{S||o(857639).log({level:"error",from:"FormSettingsPickListRow",type:"InvalidSelectedItem",error:(0,o(502800).convertErrorToLog)("Selected key is invalid.")})}));const x=(0,s().IS)((e=>({desktopAndTabletButton:{marginLeft:0,marginRight:0,width:"auto",padding:"2px 0"},valueContainer:{display:"flex",alignItems:"center",color:e.text.secondary},chevronIcon:{marginLeft:4,transform:C.open?"rotate(90deg)":void 0}})),[C.open]),A=(0,v.jsxs)("div",{style:x.valueContainer,children:[null==S?void 0:S.title,(0,v.jsx)(E().I,{icon:g().x,size:"sm",color:"tertiary",style:x.chevronIcon})]});return(0,v.jsx)(d().A,{renderTooltip:()=>m,disableTooltip:p,placement:ie().W.Left,textWrap:!0,render:e=>(0,v.jsx)(B().Ay,{popupType:h.isPhone?ve().nl.SlideUp:ve().nl.Popup,alignmentToOrigin:B().yP.End,placementToOrigin:B().sx.Bottom,originGap:0,buttonPopupStore:w,disabled:u,renderOrigin:o=>(0,v.jsx)(P().A,{...e,icon:t?(0,v.jsx)(E().I,{icon:t}):void 0,title:a,focused:!1,disabled:u,buttonStyle:h.isPhone?void 0:x.desktopAndTabletButton,right:A,...(0,U().A)(o,f)}),render:e=>{const t=[{key:0,render:e=>(0,v.jsx)(V().A,{enableActionSheetTitle:!0,...e}),items:fe().oE(y.map(((t,o)=>{const n={key:o,render:e=>(0,v.jsx)(d().A,{textWrap:!0,placement:ie().W.Left,disableTooltip:!t.tooltipMessage,renderTooltip:()=>t.tooltipMessage,render:o=>(0,v.jsx)(P().A,{...(0,U().A)(e,o),disabled:t.disabled,title:t.title,icon:t.icon,style:{color:t.disabled?b.text.tertiary:b.text.primary},isChecked:t.key===l})}),action:()=>{c(t.key,e),e.close()}};return n})))}];return(0,v.jsx)(R().A,{menuType:h.isPhone?K().gu.ActionSheet:K().gu.Popup,width:300,children:(0,v.jsx)(he().Ay,{type:he().Oh.Vertical,sections:t,initialFocus:h.isMobile?void 0:0})})}})})};const ye=function(e){let{icon:t,title:n,onClick:r,menuItemDisabled:a,toggleDisabled:l,tooltipMessage:c,disableTooltip:u,on:m}=e;const p=(0,i().Y0)(),g=(0,s().IS)((e=>({desktopAndTabletButton:{marginLeft:0,marginRight:0,width:"auto",padding:"2px 0"}})),[]);return(0,v.jsx)(d().A,{renderTooltip:()=>c,disableTooltip:u,render:e=>(0,v.jsx)(P().A,{buttonStyle:p.isPhone?void 0:g.desktopAndTabletButton,icon:t?(0,v.jsx)(E().I,{icon:t}):void 0,title:n,right:(0,v.jsx)(o(946548).A,{on:m,onClick:r,disabled:l??a}),focused:!1,disabled:a,onClick:r,...e}),placement:ie().W.Left,textWrap:!0})};var Se=()=>o(704152),we=()=>o(953006);function Ce(e){let{origin:t,onCloseClick:o}=e;const n=(0,s().IS)((e=>({tooltipStyle:{opacity:1},gotItButton:{border:"dark"===e.mode?`1px solid ${e.accentColors.gray[500]}`:`1px solid ${e.accentColors.gray[700]}`,borderRadius:6,display:"flex",justifyContent:"center",alignItems:"center",height:28,padding:"0px 8px"}})),[]),i=(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{style:{opacity:.7},children:(0,v.jsx)(a().sA,{id:"FormShareTooltip.content",defaultMessage:"When you’re done editing, click here to copy the form link to share."})}),(0,v.jsx)("div",{style:{float:"right",marginTop:10},children:(0,v.jsx)(Se().A,{onClick:o,style:n.gotItButton,children:(0,v.jsx)(a().sA,{id:"FormShareTooltip.dismissButton",defaultMessage:"Got it"})})})]});return(0,v.jsx)(we().k,{origin:t,style:{width:250},hideCloseButton:!0,hideActions:!0,placementToOrigin:"bottom",alignmentToOrigin:ie().C.End,pointerLength:30,contentStyle:n.tooltipStyle,pointerPosition:"85%",content:i,onCloseClick:o,shouldDismissUponOutsideClick:!0})}const xe=(0,a().YK)({anonymousFormSettingTooltip:{defaultMessage:"Form submissions will be anonymous",id:"FormShareMenu.CollectRespondentIdentity.tooltip"},anonymousFormSettingTooltipForPublicForms:{defaultMessage:"All submissions for public forms will be anonymous",id:"FormShareMenu.CollectRespondentIdentity.tooltipForPublicForms"},disabledPublishFormByTeamspace:{defaultMessage:"Disabled via teamspace settings",id:"FormShareMenu.disabledPublishFormByTeamspace"},disabledPublishFormByWorkspace:{defaultMessage:"Disabled via workspace settings",id:"FormShareMenu.disabledPublishFormByWorkspace"},disabledFormConfigurationPermissionTooltip:{defaultMessage:"You do not have permission to change this setting. Only users with full access can modify this form setting.",id:"FormShareMenu.DisabledFormConfigurationPermission.tooltip"},disabledFormConfigurationAnonymousSubmissionTooltip:{defaultMessage:"You do not have permission to change this setting. Only users with edit access can modify this form setting.",id:"FormShareMenu.DisabledFormConfigurationAnonymousSubmission.tooltip"},sharedToSpaceTooltip:{defaultMessage:"Workspace members with the link will be able to view and submit.",id:"FormShareMenu.sharedToSpace.tooltip"},sharedToWebTooltip:{defaultMessage:"Anyone with the link will be able to view and submit, no login required.",id:"FormShareMenu.sharedToWeb.tooltip"},closedFormTooltip:{defaultMessage:"No one will be able to view or submit this form.",id:"FormShareMenu.closedForm.tooltip"},notionBrandingDisabledTooltip:{defaultMessage:"Upgrade to remove Notion branding from the form",id:"FormShareMenu.notionBrandingDisabled.tooltip"},notionBrandingDisabledTooltipNonWorkspaceOwner:{defaultMessage:"Contact your workspace owner to upgrade to remove branding",id:"FormShareMenu.notionBrandingDisabled.tooltipNonWorkspaceOwner"},notionBrandingTooltip:{defaultMessage:"Remove Notion branding from the form",id:"FormShareMenu.notionBranding.tooltip"},embedSettingRowTitle:{defaultMessage:"Embed this form",id:"FormShareMenu.embedSettingRowTitle"},embedSettingRowTooltip:{defaultMessage:"Embed this form outside of Notion",id:"FormShareMenu.embedSettingRowTooltip"},submissionNoAccessTooltip:{defaultMessage:"After submitting the form, respondents will not have access to their submissions.",id:"FormShareMenu.submissionNoAccessTooltip"},submissionCanViewTooltip:{defaultMessage:"After submitting the form, respondents can view their submissions.",id:"FormShareMenu.submissionCanViewTooltip"},submissionCanCommentTooltip:{defaultMessage:"After submitting the form, respondents can comment on their submissions.",id:"FormShareMenu.submissionCanCommentTooltip"},submissionCanEditTooltip:{defaultMessage:"After submitting the form, respondents can edit their submissions.",id:"FormShareMenu.submissionCanEditTooltip"},submissionFullAccessTooltip:{defaultMessage:"After submitting the form, respondents will have full access to their submissions, including the ability to edit, delete, and share them.",id:"FormShareMenu.submissionFullAccessTooltip"},anonymousSubmissionPermissionsTooltip:{defaultMessage:"Turn off anonymous submissions to allow respondents to access their submissions",id:"FormShareMenu.anonymousSubmissionPermissionsTooltip"}});function Ae(e){let{formBlockStore:t,showCompactDesktopHeader:o}=e;const s=(0,N().ET)(),l=(0,i().Y0)(),u=(0,i().v3)(),m=(0,n.useRef)(null),p=(0,r().K8)((()=>s.formShareMenuButtonPopupStore),[s]),g=(0,r().K8)((()=>{var e;const o=t.getCreatedById(),n=null===(e=s.collectionViewStore())||void 0===e?void 0:e.id,i=o===u.currentUser.id,r=se().A.state.open;return!(!i||r||de().A.state.openTooltip!==n)&&J().default.isVisible(ge().FORMS_SHARE_CALLOUT_KEY)}),[u,t,s]),f=(0,n.useCallback)((()=>{T().dD({environment:u}),Y().a(u,ge().FORMS_SHARE_CALLOUT_KEY)}),[u]);return(0,r().K8)((()=>(0,H().w6)(u)),[u])?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(B().Ay,{popupType:l.isPhone?B().z7.BottomSheet:B().z7.Popup,bottomSheetInitialState:"half",forceInitialInbound:!0,buttonPopupStore:p,renderOrigin:e=>(0,v.jsx)(d().A,{disableTooltip:l.isMobile||!o,renderTooltip:()=>(0,v.jsx)(a().sA,{defaultMessage:"Share form",id:"collectionViewBlock.formEditorView.shareForm"}),render:t=>(0,v.jsx)(L().A,{ref:m,style:{marginLeft:6},...(0,U().A)(t,e),children:l.isMobile||o?(0,v.jsx)(a().sA,{defaultMessage:"Share",id:"collectionViewBlock.formEditorView.shareFormMobile"}):(0,v.jsx)(a().sA,{defaultMessage:"Share form",id:"collectionViewBlock.formEditorView.shareForm"})})}),originGap:8,render:e=>(0,v.jsx)(Me,{formBlockStore:t,parent:e}),onClick:()=>{(0,c().u4)({environment:u,event:{eventName:"share_form_clicked",eventProperties:{form_id:t.id}}})},onDismiss:()=>p.reset(),onClose:()=>p.reset()}),g&&(0,v.jsx)(Ce,{origin:m,onCloseClick:f})]})}function Me(e){let{formBlockStore:t,parent:o}=e;const s=(0,i().Y0)(),l=(0,$().X)("enable_embeddable_sites_for_space"),{formUrl:d,isFormPublic:c,isFormClosed:m}=(0,r().K8)((()=>({formUrl:(0,u().px)(t),isFormPublic:t.getIsFormPublic(),isFormClosed:t.getIsFormClosed()})),[t]),p=(0,r().K8)((()=>le.state.formShareMenuType),[]),g=m?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Pe,{formBlockStore:t}),!c&&(0,v.jsx)(Be,{formBlockStore:t}),l&&c&&(0,v.jsx)(ke,{}),c&&(0,v.jsx)(Fe,{formBlockStore:t})]}),f=(0,i().v3)();(0,n.useEffect)((()=>{k().IU({preventDismissMobileKeyboard:!0,environment:f}),I().clear({preventDismissMobileKeyboard:!0,environment:f})}),[f]);let h={menuType:K().gu.Popup,maxHeight:"90vh",width:480};return s.isPhone&&(h={menuType:K().gu.Modal,title:(0,v.jsx)(a().sA,{id:"form.mobileFormShareMenu.title",defaultMessage:"Share Form"})}),(0,v.jsx)(R().A,{...h,className:W().GIL,children:(0,v.jsx)(_().A,{debugName:"ShareFormContainer",capture:!0,allowEsc:!0,children:(0,v.jsx)(V().A,{children:"initial"===p?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(je,{formBlockStore:t}),g,(0,v.jsx)(Te,{formUrl:d})]}):(0,v.jsx)(Ie,{formBlockStore:t})})})})}function ke(){return(0,v.jsx)(d().A,{renderTooltip:()=>O().A.formatMessage(xe.embedSettingRowTooltip),disableTooltip:!1,render:e=>(0,v.jsx)(P().A,{icon:(0,v.jsx)(E().I,{icon:f().codeIcon}),title:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a().sA,{...xe.embedSettingRowTitle}),(0,v.jsx)(D().E,{newBadgeKey:"publish_site_settings_embed_page",didUserEngage:!1,style:{display:"inline"},keyType:"date"})]}),focused:!1,disabled:!1,right:(0,v.jsx)(E().I,{icon:g().x,size:"sm",color:"tertiary"}),onClick:()=>{le.setState({...le.state,formShareMenuType:"embed"})},...e}),placement:ie().W.Left,textWrap:!0})}function Ie(e){const{formBlockStore:t}=e,{isMobile:o}=(0,i().Y0)(),n=(0,s().IS)((()=>({container:{display:"flex",flexDirection:"column",marginTop:8,marginBottom:o?0:8}})),[o]);return(0,v.jsxs)("div",{children:[(0,v.jsx)(De,{handleBackButtonClick:()=>{le.setState({...le.state,formShareMenuType:"initial"})}}),(0,v.jsx)("div",{style:n.container,children:(0,v.jsx)(ne().M,{currentBlockStore:t})})]})}function Te(e){const{formUrl:t}=e,[o,r]=(0,n.useState)(!1),c=(0,i().v3)(),{isMobile:u}=(0,i().Y0)(),m=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",height:u?45:30,margin:8},urlInputWrapper:{position:"relative",flexGrow:1,height:u?45:30},urlInput:{borderTopLeftRadius:u?12:6,borderBottomLeftRadius:u?12:6,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"none",borderWidth:1,borderRightWidth:0,borderStyle:"solid",borderColor:e.outlineButtonBorder,padding:0,height:"100%",fontSize:u?16:14,backgroundColor:e.contentBackground},urlInputGradient:{position:"absolute",top:1,right:0,background:`linear-gradient(90deg,\n\t\t\t\t\t${e.contentBackgroundTransparent} 0%,\n\t\t\t\t\t${e.contentBackground} 90%)`,height:28,width:36},urlInputInner:{padding:6,paddingRight:0,backgroundColor:"transparent",border:"none"},copyLinkButton:{height:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:u?12:6,borderBottomRightRadius:u?12:6,gap:6}})),[u]);return(0,v.jsxs)("div",{style:m.container,children:[(0,v.jsxs)("div",{style:m.urlInputWrapper,children:[(0,v.jsx)(F().A,{style:m.urlInput,inputStyle:m.urlInputInner,value:t,readOnly:!0,disabled:!0}),(0,v.jsx)("div",{style:m.urlInputGradient})]}),(0,v.jsx)(d().A,{forceVisibleState:!!o||void 0,disableTooltip:!o,renderTooltip:()=>(0,v.jsx)(a().sA,{defaultMessage:"Copied",id:"database.collectionViewBlock.formEditorShareButton.copiedLinkToForm.tooltip"}),render:e=>(0,v.jsxs)(l().A,{size:"lg",style:m.copyLinkButton,onClick:async()=>{r(!0);(await M().R.clipboardActions.load()).copyString({stringValue:t,environment:c,copiedMessage:u?pe().l.copiedLinkToForm:void 0}),setTimeout((()=>{r(!1)}),1e3)},...e,children:[(0,v.jsx)(E().I,{icon:h().w,color:"secondary"}),(0,v.jsx)(a().sA,{defaultMessage:"Copy form link",id:"database.collectionViewBlock.formEditorShareButton.copyFormLink"})]})})]})}function je(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),l=(0,s().DP)(),d=(0,N().ET)(),{canEditPermissions:m,collectionSchema:p}=(0,r().K8)((()=>{var e;const t=d.collectionViewBlockStore();return{canEditPermissions:!!t&&t.canEditMembership(),collectionSchema:null===(e=d.collectionStore())||void 0===e?void 0:e.getSchema()}}),[d]),g=(0,G().P)({store:t}),f=(0,r().K8)((()=>g.disabled&&"team"===g.disabledBy?xe.disabledPublishFormByTeamspace:g.disabled&&"space"===g.disabledBy?xe.disabledPublishFormByWorkspace:void 0),[g]),{currentSpaceStore:h}=(0,r().O$)(re().default),b=(0,s().IS)((e=>({permissionOption:{display:"flex",alignItems:"center"},yellowBadge:{background:"light"===e.mode?e.accentColors.yellow[50]:e.accentColors.yellow[200],color:"light"===e.mode?e.accentColors.yellow[500]:e.accentColors.yellow[600]}})),[]),y=(0,r().K8)((()=>t.getIsFormPublic()),[t]),w=(0,r().K8)((()=>t.getIsFormClosed()),[t]),C=(0,r().K8)((()=>h?(0,z().GK)(o,h):""),[o,h]),x=(0,r().K8)((()=>{if(t)return X().dR({store:t,environment:o})}),[o,t]),A=(0,r().K8)((()=>null==x?void 0:x.mostPermissivePublicItem),[x]),M=(0,n.useCallback)((e=>{if(!A)return;const{permissionItem:n}=A;(0,q().Hc)({oldPermissionItem:n,newPermissionItem:e,wasInherited:!1,environment:o,store:t,sudoModeStore:void 0,location:void 0})}),[o,A,t]);return(0,v.jsx)(be,{disabled:!m,icon:S().personCircleIcon,title:(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.title",defaultMessage:"Who can fill out"}),disableTooltip:m,tooltipMessage:m?void 0:O().A.formatMessage(xe.disabledFormConfigurationPermissionTooltip),selectedKey:(0,u().C0)(y,w),options:[{key:"shared_to_space",tooltipMessage:O().A.formatMessage(xe.sharedToSpaceTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.spacePermission",defaultMessage:"Anyone at {spaceName} with link",values:{spaceName:C}})},{key:"shared_to_web",disabled:g.disabled,tooltipMessage:f?O().A.formatMessage(f):O().A.formatMessage(xe.sharedToWebTooltip),title:(0,v.jsxs)("div",{style:b.permissionOption,children:[(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.publicPermission",defaultMessage:"Anyone on the web with link"}),(0,v.jsx)(j().A,{content:(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.publicBadge",defaultMessage:"Public"}),style:b.yellowBadge})]})},{key:"closed",tooltipMessage:O().A.formatMessage(xe.closedFormTooltip),title:(0,v.jsxs)("div",{style:b.permissionOption,children:[(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.noAccess",defaultMessage:"No access"}),(0,v.jsx)(j().A,{content:(0,v.jsx)(a().sA,{id:"formEditSettings.formPermissions.closedBadge",defaultMessage:"Closed"})})]})}],onChange:async e=>{const n=(0,u().C0)(y,w);switch(e){case"shared_to_space":if(ge().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!1}),A){const e=(0,te().H)({permissionItem:A.permissionItem});M(e)}break;case"shared_to_web":await ge().maybeAlertAboutUnsupportedPublicQuestions({environment:o,formBlockStore:t,collectionSchema:p,theme:l,onAccept:()=>{if(ge().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!1}),oe().d8({environment:o,type:"form",store:t,header:{hideBreadcrumbs:!0,hideSearch:!0}}),A){const e=(0,ee().y)({permissionItem:A.permissionItem,allowDuplicate:!1});M(e)}}});break;case"closed":ge().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!0})}(0,c().u4)({environment:o,event:{eventName:"change_form_permissions",eventProperties:{form_id:t.id,old_permissions:n,new_permissions:e}}})}})}function Pe(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),n=(0,a().tz)(),s=(0,N().ET)(),l=(0,r().K8)((()=>s.permissionScopesStore.state.canConfigureBlock),[s]),d=(0,r().K8)((()=>t.getIsFormAnonymousSubmissionEnabled()),[t]),u=(0,r().K8)((()=>t.getIsFormPublic()),[t]),m=(0,r().K8)((()=>l?u?xe.anonymousFormSettingTooltipForPublicForms:d?xe.anonymousFormSettingTooltip:void 0:xe.disabledFormConfigurationAnonymousSubmissionTooltip),[l,u,d]);return(0,v.jsx)(ye,{icon:w().o,title:(0,v.jsx)(a().sA,{id:"formShareMenu.anonymousFormToggle.title",defaultMessage:"Anonymous responses"}),menuItemDisabled:!l||u,on:!!u||d,onClick:()=>{ge().toggleAnonymousFormSubmissionState({environment:o,formBlockStore:t}),(0,c().u4)({environment:o,event:{eventName:"form_anonymous_responses_toggled",eventProperties:{form_id:t.id,is_anonymous:!d}}})},tooltipMessage:m?n.formatMessage(m):void 0,disableTooltip:!m})}function Be(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),n=(0,N().ET)(),s=(0,a().tz)(),l=(0,r().K8)((()=>{const e=n.collectionViewBlockStore();return!!e&&e.canEditMembership()}),[n]),d=(0,r().K8)((()=>t.getIsFormAnonymousSubmissionEnabled()),[t]),u=(0,r().K8)((()=>(0,p().m$)(t.getFormSubmissionPermissions(),d,t.getIsFormPublic())),[t,d]),m=(0,r().K8)((()=>l?d?xe.anonymousSubmissionPermissionsTooltip:void 0:xe.disabledFormConfigurationPermissionTooltip),[l,d]);return(0,v.jsx)(be,{disabled:!l||d,icon:y,title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.title",defaultMessage:"Access to submission"}),disableTooltip:!m,tooltipMessage:m?s.formatMessage(m):void 0,selectedKey:u,options:[{key:"none",tooltipMessage:O().A.formatMessage(xe.submissionNoAccessTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.noAccess",defaultMessage:"No access"})},{key:"reader",tooltipMessage:O().A.formatMessage(xe.submissionCanViewTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canView",defaultMessage:"Can view"})},{key:"comment_only",tooltipMessage:O().A.formatMessage(xe.submissionCanCommentTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canComment",defaultMessage:"Can comment"})},{key:"read_and_write",tooltipMessage:O().A.formatMessage(xe.submissionCanEditTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canEdit",defaultMessage:"Can edit"})},{key:"editor",tooltipMessage:O().A.formatMessage(xe.submissionFullAccessTooltip),title:(0,v.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.fullAccess",defaultMessage:"Full access"})}],onChange:e=>{ge().changeFormSubmissionPermissions({environment:o,formBlockStore:t,permissions:e}),(0,c().u4)({environment:o,event:{eventName:"change_form_submission_permissions",eventProperties:{form_id:t.id,old_permissions:u,new_permissions:e}}})}})}const _e=200;function Fe(e){var t;let{formBlockStore:o}=e;const n=(0,s().DP)(),l=(0,i().v3)(),d=(0,r().K8)((()=>o.getSiteStore()),[o]),c=(0,Q().O)(),u=(0,me()._X)({name:"unbranded_forms",spaceId:c,userId:null===(t=l.currentUser)||void 0===t?void 0:t.id}),m=null==u?void 0:u.upsell,p=(0,r().K8)((()=>(0,z().s7)(l)),[l]),g=(0,r().K8)((()=>{var e;return!!d&&!(null!==(e=d.getHeader())&&void 0!==e&&e.hideWatermark)}),[d]);if(!d)return null;const f=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Re,{}),(0,v.jsx)("div",{style:{width:_e},children:u?(0,me().N9)(u,{unavailable:()=>p?O().A.formatMessage(xe.notionBrandingDisabledTooltip):O().A.formatMessage(xe.notionBrandingDisabledTooltipNonWorkspaceOwner),available:()=>O().A.formatMessage(xe.notionBrandingTooltip)}):(0,v.jsx)("div",{})})]});return(0,v.jsx)(ye,{icon:"light"===n.mode?x().notionIcon:C().notionDarkModeIcon,title:(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,v.jsx)(a().sA,{id:"formShareMenu.publicForms.notionBranding.title",defaultMessage:"Notion branding"}),"unavailable"===(null==u?void 0:u.type)&&m&&(0,v.jsx)("div",{style:{marginLeft:10},children:(0,v.jsx)(ue().B,{upsell:m,analyticsName:"forms_notion_branding",disableTooltip:!0})})]}),toggleDisabled:!(0,A().e2)(u),menuItemDisabled:!p,on:g||!(0,A().e2)(u),onClick:()=>{"unavailable"===(null==u?void 0:u.type)&&"product"===(null==m?void 0:m.type)?ce().K(l,{upsell:m,from:"forms_notion_branding"}):ge().toggleNotionBrandingState({environment:l,formBlockStore:o})},tooltipMessage:f})}function Re(){const e=(0,s().DP)(),t=(0,a().tz)(),o=(0,s().IS)((e=>({notionBrandingBaseImage:{width:_e,borderRadius:4},brandingPreview:{display:"flex",position:"absolute",top:"36%",left:"44%",transform:"translateX(-50%)"},linkIcon:{width:17,height:void 0,marginRight:4,color:e.icon.primary}})),[]);return(0,v.jsxs)("div",{style:{paddingTop:4},children:[(0,v.jsx)("img",{src:"light"===e.mode?m().A.images.forms.formsNotionBrandingTooltipPng:m().A.images.forms.formsNotionBrandingTooltipDarkPng,alt:t.formatMessage({id:"FormShareMenu.MadeWithNotion.accessibility.label",defaultMessage:"Made with Notion"}),style:o.notionBrandingBaseImage}),(0,v.jsxs)("div",{style:o.brandingPreview,children:[(0,h().w)(o.linkIcon),(0,v.jsx)(Ee,{})]})]})}function Ee(){const e=(0,s().DP)(),t=(0,s().IS)((e=>({watermarkButton:{marginLeft:8,color:e.text.primary},notionLogo:{width:14,height:14,marginLeft:6}})),[]);return(0,v.jsxs)(l().A,{size:"lg",style:t.watermarkButton,children:[(0,v.jsx)(a().sA,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),"light"===e.mode?(0,x().notionIcon)(t.notionLogo):(0,C().notionDarkModeIcon)(t.notionLogo)]})}function De(e){const t=(0,s().IS)((e=>({container:{display:"flex",padding:"0 12px 0 8px",height:40,borderBottom:`1px solid ${e.stroke.secondary}`}})),[]);return(0,v.jsx)("div",{style:t.container,children:(0,v.jsx)(Z().oq,{onClick:e.handleBackButtonClick,titleMessage:(0,v.jsx)(a().sA,{...xe.embedSettingRowTitle})})})}const Le=function(e){const{showCompactDesktopHeader:t,collectionContextStore:n}=e,m=(0,i().v3)(),p=(0,r().K8)((()=>n.collectionViewStore()),[n]),g=(0,r().K8)((()=>{const e=n.collectionViewStore();return null==e?void 0:e.getFormat().form_block_pointer}),[n]),f=(0,r().K8)((()=>{if(p&&g)return o(630116).Bv.createChildStore(p,g)}),[g,p]),h=(0,r().K8)((()=>!!f&&f.getIsFormPublic()),[f]),b=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},openFormButton:{marginLeft:6,height:28,paddingLeft:10},previewIcon:{width:14,height:14}})),[]);return p&&f?(0,v.jsxs)("div",{style:b.container,children:[(0,v.jsx)(d().A,{disableTooltip:!t,renderTooltip:()=>(0,v.jsx)(a().sA,{defaultMessage:"Preview",id:"collectionViewBlock.formEditorView.previewForm"}),render:e=>(0,v.jsxs)(l().A,{...e,size:"lg",style:b.openFormButton,onClick:()=>{(0,c().u4)({environment:m,event:{eventName:"preview_form",eventProperties:{form_id:f.id,is_form_public:h}}});const e=(0,u().px)(f,!0);h?o(755636).f({url:e,environment:m}):o(435009).oo({environment:m,url:e})},children:[(0,o(851979).h)(b.previewIcon),t?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o(132389).A,{size:6}),(0,v.jsx)(a().sA,{defaultMessage:"Preview",id:"collectionViewBlock.formEditorView.previewForm"})]})]})}),(0,v.jsx)(Ae,{formBlockStore:f,showCompactDesktopHeader:t})]}):null}},665638:(e,t,o)=>{o.d(t,{$:()=>m,S:()=>p});var n=()=>o(847249),i=()=>o(401497),r=()=>o(186445),s=()=>o(838364),a=()=>o(644914),l=()=>o(155959),d=()=>o(661179),c=()=>o(508496),u=()=>o(895227);function m(e){const{environment:t,rightEdgeDistance:o,isInPeekRenderer:s}=e,l=e.width??36,c=(0,n().K8)((()=>(0,a().zo)(t,s)-(0,a().Ql)(t)),[t,s]),m=(0,n().K8)((()=>p(t,16+d().A.state)),[t]),g=(0,n().K8)((()=>o+d().A.state),[o]),f=(0,n().K8)((()=>r().$o.state?0:1),[]);return(0,i().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:m,right:g,opacity:f,transform:`translateX(-${c}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${u().L}ms,\n\t\t\t\t\tcolor ${u().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:l,height:l,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[c,m,g,l,f])}function p(e,t){const o=c().default.checkGate({gateName:"tablet_refresh_gate"}),n=e.device.isMobileNative&&!o,i=(0,l().T)("supportsNativeBottomBar"),r=n&&!i;return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet&&o?-12:r?s().l:0))}},681810:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(867772).Ay)},739135:(e,t,o)=>{o.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>s,tb:()=>a,x$:()=>r});var n=()=>o(541235),i=()=>o(496603);function r(e,t){return s(c(e,t))}function s(e){return void 0!==e&&(e===n().q_||e===n().YD)}function a(e,t){if(s(t))return;const o=n().c$[e],i=o.steps.findIndex((e=>e.id===t));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function l(e,t){const o=c(e,t);if(o&&!s(o))return a(t,o)}function d(e,t){const o=c(e,t);if(o)return function(e,t){const o=n().c$[e];var r;if(s(t))return null===(r=(0,i().HV)(o.steps))||void 0===r?void 0:r.id;const a=o.steps.findIndex((e=>e.id===t));return-1!==a&&0!==a?o.steps[a-1].id:void 0}(t,o)}function c(e,t){var o;if(!e)return;const i=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===i?n().c$[t].steps[0].id:i}},748539:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,519737));return e}))},756114:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},765974:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkTriangleFillIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},i=(0,o(340498).wt)("exclamationMarkTriangleFill",n)},788621:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,personCircleIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.755 6.169C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 0 0-4.087 11.267c.789-1.397 2.333-2.33 4.087-2.33s3.298.933 4.087 2.33A6.375 6.375 0 0 0 10 3.625M13.049 15.6c-.547-1.049-1.697-1.789-3.05-1.789-1.351 0-2.501.74-3.048 1.789a6.35 6.35 0 0 0 3.049.775 6.34 6.34 0 0 0 3.049-.775"})]})},r=(0,o(340498).wt)("personCircle",i)},801678:(e,t,o)=>{o.d(t,{A:()=>h});var n=o(296540),i=()=>o(662303),r=()=>o(484714),s=()=>o(847249),a=()=>o(955825),l=()=>o(959013),d=()=>o(100622),c=()=>o(496603),u=()=>o(284371),m=()=>o(720665),p=()=>o(145214),g=o(474848);const f={isRepositioning:!1};const h=function(e){const t=(0,n.useRef)(null),i=(0,r().v3)(),{isMobile:l}=(0,r().Y0)(),[d,u]=(0,n.useState)(f),p=(0,n.useCallback)((()=>{u(f)}),[]),{renderControl:h,onFlushTemporaryPosition:b,style:y,source:S,store:w}=e,{isRepositioning:C,image:x,startDragRenderedPosition:A,startDragImageScreenHeight:M}=d,k=(0,s().K8)((()=>0===o(502438).default.state.stores.length),[]),[I,T]=(0,n.useState)(!1),j=(0,s().uB)(e.mouseStore,o(454305).A),P=(0,s().K8)((()=>j.state.mouseEntered),[j]),B=(0,o(401497).IS)((()=>({dragContainer:{width:"100%",cursor:C?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[C]),_=(0,s().K8)((()=>function(e,t,o){return(0,c().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,c().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,m().pN)(t)?o:t}}const n=t.getFormat(),i=n.page_cover_position;if((0,c().Et)(i))return i;return o}(e,t)}(S,w,d.temporaryPosition)),[d.temporaryPosition,S,w]);(0,n.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&C&&b({imagePosition:_,reset:()=>{j.reset(),p()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[_,C,j,b,p]),C&&!k&&p();const F=(0,n.useMemo)((()=>(0,c().nF)((e=>{j.setState({...j.state,mouseEntered:!0})}),100)),[j]),R=(0,n.useMemo)((()=>(0,c().sg)((e=>{j.setState({...j.state,mouseEntered:!1})}),100)),[j]),E=(0,n.useCallback)(((e,t)=>{o(778417).IU({environment:i});const n=new Image;n.onload=()=>{u((e=>({...e,isRepositioning:!0,image:n})))},t&&(n.src=t)}),[i]),D=(0,n.useCallback)((e=>{b({imagePosition:_,reset:()=>{p()}})}),[_,b,p]),L=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(819121).p)(t)&&T(!0)}),[]),V=(0,n.useCallback)((()=>{T(!0)}),[]),N=(0,n.useCallback)((e=>{if(x&&C){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/x.width*x.height;u((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:_})))}}}),[x,_,C]),W=(0,n.useCallback)((e=>{if(C){const t=e.diffY/(M||0)+(A||0);u((e=>({...e,temporaryPosition:(0,c().LI)((0,o(40845).A)(t,0,1),4)})))}}),[C,M,A]),O=(0,n.useCallback)((()=>{u((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),K=(0,s().K8)((()=>h({handleRepositionClick:E,handleSavePositionClick:D,handleCancelClick:p,isVisible:l||P||I||C,isRepositioning:C})),[E,D,I,l,C,P,h,p]);return(0,g.jsxs)("div",{ref:t,onFocus:L,onBlur:V,onMouseEnter:F,onMouseMove:F,onMouseLeave:R,...(0,a().AH)(B.container,y),children:[(0,g.jsx)(o(603820).A,{onDraggableDragStart:N,onDraggableDragMove:W,onDraggableDragEnd:O,onDraggableDragCancel:O,disabled:!C,render:t=>(0,g.jsx)("div",{...(0,a().AH)(B.dragContainer),...t,children:e.render({imagePosition:_,isRepositioning:C})})}),(0,g.jsx)(v,{small:e.small,isRepositioning:C}),K]})};function v(e){let{small:t,isRepositioning:o}=e;if(t)return null;const n={background:d().Ay.blackWithAlpha(.4),borderRadius:4,color:d().Ay.white,fontSize:12,fontFamily:u().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,g.jsx)(p().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,g.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},824160:(e,t,o)=>{o.d(t,{A:()=>a});o(296540);var n=()=>o(484714),i=()=>o(401497),r=()=>o(704152),s=o(474848);function a(e){const t=(0,n().Y0)(),o=(0,i().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?(0,s.jsx)(r().A,{style:{...o.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,s.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})}):(0,s.jsx)(r().A,{style:{...o.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,s.jsx)("div",{style:{...o.innerStyle,...e.innerStyle},children:e.children})})}},835755:(e,t,o)=>{o.d(t,{p:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},843189:(e,t,o)=>{o.d(t,{E:()=>s});var n=o(296540),i=()=>o(960715),r=o(474848);const s=n.forwardRef(((e,t)=>{let{children:n,color:s,disabled:a,icon:l,iconStyle:d,isLoading:c,shape:u="default",size:m="md",style:p,...g}=e;const f=(0,o(401497).IS)((e=>{const t=s?`${s}Primary`:"primary",r=s||"regular",g=s?`${s}Hover`:"primaryHover",f=s?`${s}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:u,size:m,hasIconOnly:Boolean(l)&&!n}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:a||c?.3:1,fontWeight:o(284371).Wy.medium,...p},hovered:{background:a?e.tint[r]:e.tint[g]},pressed:{background:a?e.tint[r]:e.tint[f]},icon:{...(0,i().D3)({size:m,hasIconOnly:!n}),...d}}}),[n,s,a,l,d,c,u,m,p]);return(0,r.jsxs)(o(197190).A,{ref:t,style:f.button,hoveredStyle:f.hovered,pressedStyle:f.pressed,disabled:a,isLoading:c,...g,children:[l?l(f.icon):null,n]})}));s.displayName="TintButton"},848565:(e,t,o)=>{o.d(t,{FB:()=>m,Ql:()=>p,SM:()=>g,Wv:()=>r,Yz:()=>a,ds:()=>i,e4:()=>n,eQ:()=>s,im:()=>d,jw:()=>l,k2:()=>u,uG:()=>c});const n=8,i=10,r=8,s=24,a=6,l=1.5,d=(s-l)/2,c=s+a,u=`calc(100% + ${r+(n-a)-c}px)`,m=s+8,p=-16;function g(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},851775:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(194188),i=()=>o(10123),r=()=>o(570551);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e),s=(0,n().A)(t),a=o.getFullYear(),l=o.getDate(),d=new Date(0);d.setFullYear(a,s,15),d.setHours(0,0,0,0);var c=function(e){(0,r().A)(1,arguments);var t=(0,i().A)(e),o=t.getFullYear(),n=t.getMonth(),s=new Date(0);return s.setFullYear(o,n+1,0),s.setHours(0,0,0,0),s.getDate()}(d);return o.setMonth(s,Math.min(l,c)),o}},863330:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,plusSmallIcon:()=>i});o(296540);const n={viewBox:"0 0 16 16",svg:(0,o(474848).jsx)("path",{d:"M8 2.3a.7.7 0 0 0-.7.7v4.3H3a.7.7 0 1 0 0 1.4h4.3V13a.7.7 0 1 0 1.4 0V8.7H13a.7.7 0 1 0 0-1.4H8.7V3a.7.7 0 0 0-.7-.7"})},i=(0,o(340498).wt)("plusSmall",n)},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>n,pF:()=>s,vS:()=>i});const n="loadingLocalImage",i="uploading",r="downloading",s="loaded";class a extends(()=>o(757695))().default{getInitialState(){return{loadingMode:s}}}const l=a},877051:(e,t,o)=>{o.d(t,{V:()=>s});var n=()=>o(847249),i=()=>o(351360),r=()=>o(963589);function s(){const e=(0,r().X)("lazier_dependencies"),t=(0,n().K8)((()=>i().default.state.renderPhase),[]);return e&&"rendered"!==t}},883234:(e,t,o)=>{o.d(t,{_:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,n.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},888325:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>n})},894074:(e,t,o)=>{o.d(t,{A:()=>l});var n=()=>o(10123),i=()=>o(851775),r=()=>o(194188),s=()=>o(570551);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){if((0,s().A)(2,arguments),"object"!==a(t)||null===t)throw new RangeError("values parameter must be an object");var o=(0,n().A)(e);return isNaN(o.getTime())?new Date(NaN):(null!=t.year&&o.setFullYear(t.year),null!=t.month&&(o=(0,i().A)(o,t.month)),null!=t.date&&o.setDate((0,r().A)(t.date)),null!=t.hours&&o.setHours((0,r().A)(t.hours)),null!=t.minutes&&o.setMinutes((0,r().A)(t.minutes)),null!=t.seconds&&o.setSeconds((0,r().A)(t.seconds)),null!=t.milliseconds&&o.setMilliseconds((0,r().A)(t.milliseconds)),o)}},894995:(e,t,o)=>{o.r(t),o.d(t,{FORMS_SHARE_CALLOUT_KEY:()=>Z,changeFormClosedState:()=>ce,changeFormSubmissionPermissions:()=>ue,createAndFocusCollectionFormEditorView:()=>ne,createCollectionFormEditorView:()=>ie,createDummyFormPage:()=>fe,createFormInPrivate:()=>re,createFormQuestion:()=>ae,createFormQuestionAndUpdateOrCreateModule:()=>de,createModuleForNewlyDuplicatedProperty:()=>le,createResponsesCollectionView:()=>se,handleUpdateFormQuestionName:()=>ee,incrementAndTrackUserFormsCreated:()=>X,maybeAlertAboutUnsupportedPublicQuestions:()=>he,maybeSyncQuestionNameToPropertyName:()=>te,remapQuestionToNewProperty:()=>ge,toggleAnonymousFormSubmissionState:()=>me,toggleNotionBrandingState:()=>pe});o(16280),o(944114),o(898992),o(354520),o(672577),o(803949),o(581454),o(296540);var n=()=>o(401497),i=()=>o(584262),r=()=>o(700500),s=()=>o(31503),a=()=>o(970013),l=()=>o(713998),d=()=>o(110192),c=()=>o(416504),u=()=>o(261164),m=()=>o(590856),p=()=>o(29118),g=()=>o(688728),f=()=>o(235692),h=()=>o(388821),v=()=>o(450648),b=()=>o(179034),y=()=>o(869558),S=()=>o(37165),w=()=>o(144081),C=()=>o(919709),x=()=>o(959013),A=()=>o(183558),M=()=>o(284371),k=()=>o(235191),I=()=>o(171718),T=()=>o(901389),j=()=>o(896628),P=()=>o(246826),B=()=>o(857783),_=()=>o(185544),F=()=>o(751156),R=()=>o(755199),E=()=>o(478251),D=()=>o(180762),L=()=>o(989423),V=()=>o(389658),N=()=>o(682146),W=()=>o(594794),O=()=>o(972435),K=()=>o(628315),U=()=>o(978846),H=()=>o(33218),z=()=>o(351360),Q=()=>o(508496),$=()=>o(343168),G=()=>o(611371),Y=()=>o(465741),J=o(474848);const q=(0,x().YK)({responsesViewName:{id:"formEditorActions.responsesViewName",defaultMessage:"Responses"},newFormViewName:{id:"formEditorActions.newFormViewName",defaultMessage:"Form builder"},formDatabaseTitle:{id:"newBlock.databaseInline.formDatabaseTitle",defaultMessage:"New form"}}),Z="forms_share_form_tooltip";function X(e,t){const{currentUserSettingsStore:o}=z().default.state;if(!o)return;const n=function(){const{currentUserSettingsStore:e}=z().default.state;if(!e)return;return e.getSettingsStore().getKeyStore("user_forms_created_count").getValue()??0}();void 0!==n&&(R().mJ({userSettingsStore:o,transaction:t,data:{user_forms_created_count:n+1}}),function(e,t){(0,L().u4)({environment:e,event:{eventName:"form_created",eventProperties:{user_total_form_count:t.userFormsCreatedCount}}})}(e,{userFormsCreatedCount:n+1})),Q().default.logEvent("form_created")}function ee(e){var t;const{questionStore:o,newName:n,environment:i,collectionStore:r,collectionSchema:s,collectionContextStore:a}=e,l=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!l)throw new Error("No property ID found for question");F().createAndCommit({userAction:"formQuestion.changeName",environment:i,canUndo:!0,perform:e=>{var t,i;const d=null===(t=o.getConfig())||void 0===t?void 0:t.name;if(!d)return;const u=(0,v().r4)({textValue:d,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:O().A.getIntl()})===(null===(i=s[l])||void 0===i?void 0:i.name);F().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","name"],command:"set",args:[[n]]},transaction:e}),o.shouldSyncQuestionNameToPropertyName()&&(u&&!(0,N().fE)({property:l,collectionContextStore:a,newValue:n})?k().YO({collectionStore:r,property:l,name:n,transaction:e}):F().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","shouldSyncQuestionNameToPropertyName"],command:"set",args:!1},transaction:e}))}})}function te(e){var t;const{questionStore:o,environment:n,collectionStore:i,collectionContextStore:r}=e,s=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!s)throw new Error("No property ID found for question");F().createAndCommit({userAction:"formQuestion.changeName",environment:n,canUndo:!0,perform:e=>{if(!o.shouldSyncQuestionNameToPropertyName())return;const t=o.getNameStore().getValue();if(!t)return;const n=(0,v().r4)({textValue:t,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:O().A.getIntl()}),a=(0,N().fE)({property:s,collectionContextStore:r,newValue:n})?(0,d().Q)(n):n;k().YO({collectionStore:i,property:s,name:a,transaction:e})}})}function oe(){const e=(0,n().IS)((e=>({container:{display:"flex",flexDirection:"column"},iconGroup:{display:"flex",flexDirection:"row",justifyContent:"center",color:e.icon.secondary,alignItems:"center"},dialogTitle:{fontSize:16,fontWeight:M().Wy.semibold,lineHeight:"22px",marginTop:12,marginBottom:12},dialogDescription:{color:e.text.secondary,fontSize:14,lineHeight:"20px"}})),[]);return(0,J.jsxs)("div",{style:e.container,children:[(0,J.jsxs)("div",{style:e.iconGroup,children:[(0,p().K)({width:24}),(0,u().o)({width:16,marginLeft:16,marginRight:14}),(0,m().y)({width:24})]}),(0,J.jsx)("span",{style:e.dialogTitle,children:(0,J.jsx)(x().sA,{defaultMessage:"Auto-create form questions based on existing properties?",id:"NewFormOnExistingCollectionDialogTitle.message"})}),(0,J.jsx)("span",{style:e.dialogDescription,children:(0,J.jsx)(x().sA,{defaultMessage:"Only supported property types will create new questions.",id:"NewFormOnExistingCollectionDialogTitle.description"})})]})}function ne(e){const{environment:t,collectionContextStore:o,transaction:n}=e,i=o.collectionViewBlockStore(),r=o.collectionStore();if(!i||!r)return;const a=o.normalizedSchemaStore.state,l=ie({environment:t,collectionViewBlockStore:i,schema:a,transaction:n,initializeWithAllDefaultQuestions:!1});if(!l)return;(0,D().t)({environment:t,collectionContextStore:o,collectionViewId:l.newViewId,isFullScreen:o.isFullScreenStore.state,isRootChild:o.isRootChildStore.state,isInPeekRenderer:o.isInPeekRendererStore.state});const d=l.layoutStore,c=Object.keys(a).filter((e=>{const t=a[e];return"title"!==e&&t&&(0,s().Sg)(t)}));c.length>0&&c.length<=Y().eb&&T().ui({showCancel:!1,keepFocus:!1,message:(0,J.jsx)(oe,{}),mode:"wide",items:[{label:(0,J.jsx)(x().sA,{defaultMessage:"Create {numQuestions, plural, one {1 question} other {{numQuestions} questions}}",id:"formEditorActions.createQuestions.primaryAction",values:{numQuestions:c.length}}),color:"blue",buttonType:"solid",onAccept(){F().createAndCommit({environment:t,userAction:"formActions.autoCreateFormQuestionsForExistingDatabase",canUndo:!0,perform:e=>{for(const n of c)le({type:"formQuestion",environment:t,module:void 0,transaction:e,layoutStore:d,collectionStore:r,propertyId:n,position:{type:"area_relative",area:"form_layout_schema",location:"end_moveable"},collectionContextStore:o,shouldLogEvent:!0,autoCreatedFromExistingDatabase:!0,duplicateModuleMapping:new Map,propertyIdMapping:new Map,sessionId:(0,A().Ay)()})}})}},{label:(0,J.jsx)(x().sA,{defaultMessage:"Start from scratch",id:"formEditorActions.createQuestions.secondary"}),color:"gray",buttonType:"plain",onAccept(){}}]})}function ie(e){const{environment:t,collectionViewBlockStore:o,transaction:n,schema:i,initializeWithAllDefaultQuestions:r}=e;if(!o)return;const l=o.getSpaceId(),{formBlockStore:d,layoutStore:c}=function(e){var t;const{environment:o,spaceId:n,inMemoryRecordCache:i,transaction:r,schema:l,initializeWithAllDefaultQuestions:d}=e,c=Object.keys(l).find((e=>{var t;return"multi_select"===(null===(t=l[e])||void 0===t?void 0:t.type)})),u=Boolean(d&&void 0!==c),m=(0,W().Z1)({environment:o,table:b().ev,spaceId:n}),p=(0,W().Z1)({environment:o,table:S().lo,spaceId:n}),g=u?(0,W().Z1)({environment:o,table:S().lo,spaceId:n}):void 0,h=P().Wv({id:m,environment:o,type:"form",permissions:(0,s().eb)(),inMemoryRecordCache:i,transaction:r}),v=P().eC({environment:o,table:w().zx,value:{space_id:n,parent_table:b().ev,parent_id:h.id,modules:(0,f().oP)(p,g)},inMemoryRecordCache:i,transaction:r});var y,C;j().zA({stores:[h],update:{form_layout_pointer:{id:v.id,spaceId:n,table:w().zx}},transaction:r}),ae({environment:o,questionId:p,spaceId:n,layoutId:v.id,propertyId:a().rn,initialQuestionTitle:(null===(t=l[a().rn])||void 0===t?void 0:t.name)??"",inMemoryRecordCache:i,transaction:r,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1,logData:{area:"form_layout_schema",layoutStore:v}}),u&&g&&c&&ae({environment:o,questionId:g,spaceId:n,layoutId:v.id,propertyId:c,initialQuestionTitle:(null===(y=l[c])||void 0===y?void 0:y.name)??"",existingFormQuestionConfig:{propertyId:c,name:[[(null===(C=l[c])||void 0===C?void 0:C.name)??""]],propertyTypeSpecificConfig:{multi_select:{maxSelectionCount:1}}},inMemoryRecordCache:i,transaction:r,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1,logData:{area:"form_layout_schema",layoutStore:v}});return{formBlockStore:h,layoutStore:v}}({environment:t,spaceId:l,inMemoryRecordCache:o.inMemoryRecordCache,transaction:n,schema:i,initializeWithAllDefaultQuestions:r}),u=(0,E().i)({environment:t,collectionViewBlockStore:o,collectionView:{type:"form_editor",parent_id:o.id,parent_table:b().ev,alive:!0,space_id:l,name:O().A.formatMessage(q.newFormViewName),format:{form_block_pointer:{id:d.id,spaceId:l,table:b().ev}}},transaction:n});return P().zv({store:d,data:{parent_id:u.id,parent_table:y().Gy,alive:!0},transaction:n}),$().A.setState({openTooltip:u.id}),K().HH(t,Z),X(t,n),{newViewId:u.id,layoutStore:c,formId:d.id}}function re(e){const{environment:t,navigateToFormBuilder:o}=e,{currentSpaceStore:n,currentSpaceViewStore:r}=z().default.state;if(!n||!r)return;if(!(0,G().EF)(t))return void(0,G().QY)(t);if(!(n&&n.canEdit()&&r))return;const s=n.id,a=t.idCreator.getSpaceIdCreatorSync(s);F().createAndCommit({environment:t,userAction:"formActions.createAndNavigateToFormInPrivate",canUndo:!0,perform:e=>{var l;const{targetBlockStore:d}=I().j({environment:t,sourceBlockId:"root",targetBlockPointer:(0,W().zP)({environment:t,table:b().ev,spaceId:s}),sourceBlockSubtree:(0,h().partialRecordMapToRecordMap)(V().mT({isInline:!0,name:(0,C().x9d)(O().A.formatMessage(q.formDatabaseTitle))})),targetRecordCache:n.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,spaceIdCreator:a}),c=d.getCollectionStore(),u=null==c||null===(l=c.getModel())||void 0===l?void 0:l.getNormalizedSchema(),m=d;if(!u)throw new Error("Schema not found");ie({environment:t,transaction:e,collectionViewBlockStore:m,schema:u,initializeWithAllDefaultQuestions:!0}),se({environment:t,transaction:e,collectionViewBlockStore:m,schema:u}),_().yM({environment:t,spaceStore:n,spaceViewStore:r,pageStore:d,isPrivate:!0,transaction:e,location:{type:"prepend"}}),o&&B().uK({environment:t,store:d,pageVisitSource:i().y8.CreateFormDeepLink})}})}function se(e){const{environment:t,collectionViewBlockStore:o,transaction:n}=e,i=o.getSpaceId(),r=Object.keys(e.schema).find((t=>{var o;return"created_by"===(null===(o=e.schema[t])||void 0===o?void 0:o.type)}));(0,E().i)({environment:t,collectionViewBlockStore:o,collectionView:{type:"table",parent_id:o.id,parent_table:b().ev,alive:!0,name:O().A.formatMessage(q.responsesViewName),space_id:i,format:{table_properties:[{property:"title",visible:!0},...r?[{property:r,visible:!0}]:[]],table_wrap:!0,collection_pointer:o.getCollectionPointer()}},transaction:n})}function ae(e){const{environment:t,questionId:o,spaceId:n,layoutId:i,propertyId:r,initialQuestionTitle:s,inMemoryRecordCache:a,transaction:l,shouldSyncQuestionNameToPropertyName:d,collectionContextStore:c,shouldLogEvent:u=!0,autofocusTitle:m,existingFormQuestionConfig:p,autoCreatedFromExistingDatabase:g}=e;P().vt({environment:t,table:S().lo,args:{id:o,space_id:n,parentPointer:{id:i,table:w().zx,spaceId:n},config:{...p,propertyId:r,name:[[s]],shouldSyncQuestionNameToPropertyName:d}},inMemoryRecordCache:a,transaction:l}),u&&(0,L().u4)({environment:t,event:{eventName:"add_form_question",eventProperties:{...(0,Y().YA)({collectionContextStore:c,propertyId:r,questionId:o,area:e.logData.area,parentModuleId:e.logData.parentModuleId,layoutStore:e.logData.layoutStore}),auto_created_from_existing_database:Boolean(g)}}}),m&&m.autofocusedQuestionTextStore.autofocusQuestionTitle({questionId:o})}function le(e){const{type:t,module:o,environment:n,transaction:i,layoutStore:r,position:s,duplicateModuleMapping:a,shouldLogEvent:l=!0,collectionContextStore:d,sessionId:c}=e;let u;const m=o&&a.get(o.id)||(0,A().Ay)();if("formQuestion"===t){var p;const{collectionStore:t,propertyId:c,autofocusTitle:f,existingFormQuestionConfig:h,autoCreatedFromExistingDatabase:v,propertyIdMapping:b}=e,y=t.getSchema()[c];if(!y)throw new Error(`No schema found for property ${c}`);const w=h?(0,C().q4_)(null==h?void 0:h.name):y.name,x=r.getSpaceId(),A=(0,W().Z1)({environment:n,table:S().lo,spaceId:x});if(!(0,g().uW)(s.area))throw new Error("Module is not allowed in this area");ae({environment:n,questionId:A,spaceId:x,layoutId:r.id,propertyId:c,initialQuestionTitle:w,inMemoryRecordCache:r.inMemoryRecordCache,transaction:i,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:l,logData:{area:s.area,parentModuleId:null==o?void 0:o.parentModuleId,layoutStore:r},collectionContextStore:d,autofocusTitle:f,existingFormQuestionConfig:h,autoCreatedFromExistingDatabase:v}),u={type:"formQuestion",id:m,formQuestionId:A,...o?{parentModuleId:a.get(o.parentModuleId??"")??o.parentModuleId,parentConditionalGroupId:o.parentConditionalGroupId,conditionalGroups:null===(p=o.conditionalGroups)||void 0===p?void 0:p.map((e=>({...e,trigger:{...e.trigger,property:b.get(e.trigger.property)??e.trigger.property},children:[]})))}:{}}}else u={type:"placeholder",id:m,parentModuleId:a.get(o.parentModuleId??""),parentConditionalGroupId:o.parentConditionalGroupId};return(0,U().UQ)({environment:n,transaction:i,layoutStore:r,position:s,module:u,sessionId:c,isPropertyCreation:!1}),{moduleId:m}}function de(e){const{environment:t,transaction:o,layoutStore:n,propertyId:i,initialQuestionTitle:r,moduleId:s,shouldSyncQuestionNameToPropertyName:a,collectionContextStore:l,autofocusTitle:d,area:c,sessionId:u}=e,m=n.getModel();if(!m)throw new Error("Layout model cannot be undefined");const p=n.getSpaceId(),g=(0,W().Z1)({environment:t,table:S().lo,spaceId:p});ae({environment:t,questionId:g,spaceId:p,layoutId:m.id,propertyId:i,initialQuestionTitle:r,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o,shouldSyncQuestionNameToPropertyName:a,collectionContextStore:l,autofocusTitle:d,logData:{area:c,parentModuleId:"form_conditional_modules"===c?e.parentModuleId:void 0,layoutStore:n}});const f={type:"formQuestion",id:s??(0,A().Ay)(),formQuestionId:g,..."form_conditional_modules"===c?{parentModuleId:e.parentModuleId,parentConditionalGroupId:e.parentConditionalGroupId}:{}};return s?(0,H().UQ)({environment:t,transaction:o,layoutStore:n,position:{area:c,moduleId:s},updatedModule:f}):"form_conditional_modules"===c&&(0,U().UQ)({environment:t,transaction:o,layoutStore:n,position:{type:"absolute",area:"form_conditional_modules",parentConditionalGroupId:e.parentConditionalGroupId,parentModuleId:e.parentModuleId},module:f,sessionId:u,isPropertyCreation:!1}),{updatedModuleId:f.id,formQuestionId:g}}function ce(e){let{environment:t,formBlockStore:o,isClosed:n}=e;o.getIsFormClosed()!==n&&F().createAndCommit({userAction:"formActions.changeFormClosedState",environment:t,canUndo:!0,perform:e=>{j().zA({stores:[o],update:{form_config:{...o.getFormConfig(),is_form_closed:n}},transaction:e})}})}function ue(e){let{environment:t,formBlockStore:o,permissions:n}=e;o.getFormSubmissionPermissions()!==n&&F().createAndCommit({userAction:"formActions.changeFormSubmissionPermissions",environment:t,canUndo:!0,perform:e=>{j().zA({stores:[o],update:{form_config:{...o.getFormConfig(),submission_permissions:n}},transaction:e})}})}function me(e){let{environment:t,formBlockStore:o}=e;const n=o.getIsFormAnonymousSubmissionEnabled();F().createAndCommit({userAction:"formActions.changeAnonymousFormSubmissionState",environment:t,canUndo:!0,perform:e=>{j().zA({stores:[o],update:{form_config:{...o.getFormConfig(),anonymous_submissions:!n}},transaction:e})}})}function pe(e){var t;let{environment:o,formBlockStore:n}=e;const i=n.getSiteStore();if(!i)return;const r=(null===(t=i.getHeader())||void 0===t?void 0:t.hideWatermark)??!1;F().createAndCommit({userAction:"formBlockStore.publicForm.toggleNotionBranding",environment:o,canUndo:!0,perform:e=>{F().applyOperation({store:i,operation:{pointer:i.pointer,path:["header","hideWatermark"],command:"set",args:!r},transaction:e})}})}function ge(e){let{environment:t,newPropertyId:o,formQuestionStore:n}=e;F().createAndCommit({userAction:"formQuestion.remapQuestionToNewProperty",environment:t,canUndo:!0,perform:e=>{F().applyOperation({store:n,operation:{pointer:n.pointer,path:["config","propertyId"],command:"set",args:o},transaction:e})}})}function fe(e){const{environment:t,collectionSchema:o,temporaryRecordCache:n,spaceId:i,collectionId:s,formMode:a}=e,l={};Object.keys(o).forEach((e=>{l[e]=(0,C().x9d)("")}));const{performResult:d}=F().createAndCommit({environment:t,userAction:"formActions.createDummyFormPage",perform:e=>{const o=P().Wv({environment:t,type:r().xd.page,inMemoryRecordCache:n,transaction:e,spaceId:i,properties:{...l}});return P().zv({store:o,data:{alive:"viewer"===a,parent_id:s,parent_table:"collection"},transaction:e}),o},canUndo:!1});return d}async function he(e){const{environment:t,formBlockStore:o,collectionSchema:n,theme:i,onAccept:r}=e;if(!n)return;const s=(0,Y().Dx)(o),a=(null==s?void 0:s.getNormalizedFormQuestionStoresForFormLayout({collectionSchema:n}))??[],d=[];if(a.forEach((e=>{const o=e.getPropertyId();if(!o)return;const i=(0,l()._g)({schema:n,property:o}),r=null==i?void 0:i.type;if(!r)return;(0,Y().CK)({environment:t,propertyType:r,propertySchema:i,isPublicForm:!0})&&d.push(e)})),0===d.length)return void r();const u=d.map(((e,t)=>{const o=(0,v().r4)({textValue:e.getNameStore().getValue(),getRecordModel:e.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:O().A.getIntl()}),n=t===d.length-1;return(0,J.jsx)("div",{style:{fontSize:14,textAlign:"start",padding:"8px 12px",borderBottom:n?void 0:`1px solid ${i.lightDividerColor}`},children:o},e.id)})),{accept:m}=await T().Gh({message:(0,J.jsx)(x().sA,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.message",defaultMessage:"These questions are not supported in public forms and will not be shown to respondents:"}),description:(0,J.jsx)("div",{style:{borderRadius:6,border:`1px solid ${i.lightDividerColor}`,width:"calc(100% + 24px)",marginLeft:-12,marginTop:12,maxHeight:210,overflow:"auto"},children:u}),acceptLabel:(0,J.jsx)(x().sA,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.acceptLabel",defaultMessage:"Got it"}),acceptColor:"blue",cancelButtonType:"plain",mode:"wide"});m&&r()}},926329:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("templates",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})}}]);