"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[21194],{138389:(e,t,o)=>{o.d(t,{X:()=>l});o(296540);var r=o(474848);const l=(0,o(340498).wt)("random",{viewBox:"0 0 14 14",svg:(0,r.jsx)("path",{d:"M9.45002,6.2999567 C8.87013,6.2999567 8.40002,5.8298565 8.40002,5.24995625 C8.40002,4.670056 8.87013,4.1999558 9.45002,4.1999558 C10.0299,4.1999558 10.5,4.670056 10.5,5.24995625 C10.5,5.8298565 10.0299,6.2999567 9.45002,6.2999567 Z M4.55,6.2999567 C3.9701,6.2999567 3.5,5.8298565 3.5,5.24995625 C3.5,4.670056 3.9701,4.1999558 4.55,4.1999558 C5.1299,4.1999558 5.6,4.670056 5.6,5.24995625 C5.6,5.8298565 5.1299,6.2999567 4.55,6.2999567 Z M6.993,0 C10.864,0 14,3.13600534 14,7.000007 C14,10.8639987 10.864,14 6.993,14 C3.129,14 0,10.8639987 0,7.000007 C0,3.13600534 3.129,0 6.993,0 Z M7,12.5999994 C10.094,12.5999994 12.6,10.0939983 12.6,7.000007 C12.6,3.90600567 10.094,1.4000046 7,1.4000046 C3.906,1.4000046 1.4,3.90600567 1.4,7.000007 C1.4,10.0939983 3.906,12.5999994 7,12.5999994 Z M7,10.8499986 C5.369,10.8499986 3.976,9.83499821 3.416,8.4000076 L4.585,8.4000076 C5.075,9.23299796 5.964,9.7999982 7,9.7999982 C8.036,9.7999982 8.932,9.23299796 9.415,8.4000076 L10.584,8.4000076 C10.024,9.83499821 8.631,10.8499986 7,10.8499986 Z"})})},175977:(e,t,o)=>{o.d(t,{A:()=>n});o(296540);var r=()=>o(284371),l=o(474848);function n(e){const{children:t,textColor:o,backgroundColor:n,rightMargin:i,strikethrough:a}=e;return(0,l.jsx)("div",{style:{backgroundColor:n,color:o,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:4,marginRight:i?4:0,textDecoration:a?"line-through":void 0},children:(0,l.jsx)("span",{style:{...r().RC},children:t})})}},271003:(e,t,o)=>{o.d(t,{A:()=>m});o(296540);var r=()=>o(847249),l=()=>o(401497),n=()=>o(970013),i=()=>o(713998),a=()=>o(438632),s=()=>o(442277),d=()=>o(179034),c=()=>o(919709),u=()=>o(534177),p=()=>o(630116),x=()=>o(890022),h=o(474848);function m(e){const t=n().QP(e.propertySchema);switch(t){case"text":return(0,h.jsx)(b,{...e});case"relation":return(0,h.jsx)(f,{propertySchema:e.propertySchema,beforeValue:e.beforeValue,afterValue:e.afterValue,rootStore:e.rootStore});case"arrow":return(0,h.jsx)(g,{...e});default:(0,u().HB)(t)}}function b(e){const t={value:a().yR({before:e.beforeValue.value,after:e.afterValue.value,insertionAnnotation:[c().Ifu.Inserted],deletionAnnotation:[c().Ifu.Deleted]}),spaceId:e.beforeValue.spaceId};return(0,h.jsx)(x().A,{value:t,propertySchema:e.propertySchema,rootStore:e.rootStore})}function f(e){const{beforeValue:t,afterValue:o,propertySchema:l,rootStore:n}=e,a=(0,r().K8)((()=>i().tH({beforeValue:t.value,afterValue:o.value,propertySchema:l,getRecordModel:n.getRecordModel,getBlockTitle:e=>p().Bv.createChildStore(n,{table:d().ev,id:e.id}).getPropertyValue("title")})),[t,o,l,n]);return(0,h.jsx)(x().A,{value:{value:a,spaceId:t.spaceId},propertySchema:{type:"title",name:"Title"},rootStore:n})}function g(e){const t=(0,l().IS)((()=>({arrowDiffWrap:{display:"inline-flex",alignItems:"center",overflow:"hidden",flexWrap:"wrap",rowGap:6}})),[]);return(0,h.jsxs)("div",{style:t.arrowDiffWrap,children:[(0,h.jsx)(x().A,{value:e.beforeValue,propertySchema:e.propertySchema,rootStore:e.rootStore}),(0,h.jsx)(v,{}),(0,h.jsx)(x().A,{value:e.afterValue,propertySchema:e.propertySchema,rootStore:e.rootStore})]})}function v(){const e=(0,l().IS)((e=>({container:{padding:"0px 8px"},icon:{width:15,height:15,fill:e.mediumIconColor}})),[]);return(0,h.jsx)("div",{style:e.container,children:(0,s().B)(e.icon)})}},313028:(e,t,o)=>{o.d(t,{A:()=>n});o(296540);var r=()=>o(100622),l=o(474848);const n=function(e){const{children:t,created:o,deleted:n,style:i,theme:a,title:s}=e,d={boxShadow:`inset 0 0 0 1px ${a.regularDividerColor}`,borderRadius:4,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4,...o&&{color:r().Ay.diffTextColor,backgroundColor:r().Ay.diffBackground},...i},c={fontSize:12,lineHeight:1,marginTop:2,marginBottom:4,color:a.text.primary};return(0,l.jsxs)("div",{style:d,children:[(0,l.jsx)("div",{style:c,children:s}),(0,l.jsx)("div",{style:{...n&&{opacity:.4,marginBottom:6,textDecoration:"line-through"}},children:t})]})}},350297:(e,t,o)=>{o.d(t,{V:()=>v});o(944114),o(898992),o(803949);var r=o(296540),l=()=>o(484714),n=()=>o(847249),i=()=>o(401497),a=()=>o(313028),s=()=>o(756005),d=()=>o(792071),c=()=>o(919709),u=()=>o(191772),p=()=>o(959013),x=()=>o(980914),h=()=>o(710648),m=()=>o(704152),b=o(474848);const f=2;function g(e){const{colIndex:t,blockValue:o,simpleTableValue:r,hasColumnHeader:l,hasRowHeader:a,columnOrder:s,environment:d,rootStore:u,theme:m,getRecordModel:f}=e,g=(0,i().IS)((()=>({cellSecondaryTitleTable:{color:m.text.tertiary},cellTitleLineHeight:{lineHeight:1.25}})),[m]),v=[(0,b.jsx)("span",{children:(0,b.jsx)(p().sA,{defaultMessage:"Table",id:"edit.simpleTableRowComponentByCell.table"})},`simple-edit${t}-title-box-notif`)],y=null==r?void 0:r.getChildren(),j=(0,n().K8)((()=>{if(y&&0!==y.length)return f({table:o.parent_table,id:y[0],spaceId:o.space_id})}),[o.parent_table,o.space_id,f,y]),S=j?(0,h().De)(j,s[t]):void 0,k=(0,n().K8)((()=>x().qO({environment:d,cellValue:S,spaceId:o.space_id,parentStore:u,theme:m})),[d,S,o.space_id,u,m]),_=(0,h().De)(o,s?s[0]:""),w=(0,n().K8)((()=>x().qO({environment:d,cellValue:_,spaceId:o.space_id,parentStore:u,theme:m})),[d,_,o.space_id,u,m]),A=(null==j?void 0:j.id)===o.id;return l&&j&&!A&&(c().w9s(S)||v.push((0,b.jsxs)("span",{style:g.cellSecondaryTitleTable,children:[" / ",k]},`simple-table-col-header-${t}${o.parent_id}`))),a&&j&&0!==t&&(c().w9s(_)||v.push((0,b.jsxs)("span",{style:g.cellSecondaryTitleTable,children:[" / ",w]},`simple-table-row-header-${t}${o.parent_id}`))),(0,b.jsx)("div",{style:g.cellTitleLineHeight,children:v},`simple-table-${t}edit-box`)}function v(e){let{blockValue:t,rootStore:o}=e;const c=(0,r.useMemo)((()=>d().b4_.fromGetRecordValueFn(o.getRecordValue)),[o]),v=(0,i().DP)(),y=(0,i().IS)((()=>({andMore:{color:v.text.tertiary,marginTop:4,borderRadius:6,padding:"2px 4px",marginLeft:"-4px",fontSize:12,maxWidth:"fit-content"},cellTitleTable:{color:v.text.secondary,marginTop:4,overflow:"visible"}})),[v]),[j,S]=(0,r.useState)(!1),k=(0,l().v3)(),_=(0,n().K8)((()=>{var e,r,l;const n=null==o?void 0:o.userId,i=[],d=c({table:t.parent_table,id:t.parent_id,spaceId:t.space_id}),_=Boolean(null==d||null===(e=d.getFormat())||void 0===e?void 0:e.table_block_row_header),w=Boolean(null==d||null===(r=d.getFormat())||void 0===r?void 0:r.table_block_column_header),A=null==d||null===(l=d.getFormat())||void 0===l?void 0:l.table_block_column_order;let V=0;null==A||A.forEach(((e,r)=>{const l=(0,h().De)(t,e);if((0,s().PC)({textValue:l,currentUserId:n,getRecordModel:c})){V+=1;const e=(0,b.jsx)(a().A,{style:y.cellTitleTable,title:(0,b.jsx)(g,{colIndex:r,blockValue:t,simpleTableValue:d,hasColumnHeader:w,hasRowHeader:_,columnOrder:A,environment:k,rootStore:o,theme:v,getRecordModel:c}),theme:v,children:x().qO({environment:k,cellValue:(0,u().Eh)({textValue:l,highlightStyle:"text_only",currentUserId:n,getRecordModel:c}),spaceId:t.space_id,parentStore:o,theme:v,disableStyleAnnotations:!1,disableSuggestionAnnotations:!0})},`simple-edit${r}-box-notif-${l}${t.parent_id}${t.id}`);i.push(e)}}));const C=j?i:i.slice(0,f);return(0,b.jsxs)(b.Fragment,{children:[C,V>f?j?(0,b.jsx)(m().A,{style:y.andMore,onClick:()=>S(!1),children:(0,b.jsx)(p().sA,{defaultMessage:"Hide {numMore}",id:"edit.simpleTableRowComponentByCell.hideMoreCells",values:{numMore:V-f}})}):(0,b.jsx)(m().A,{style:y.andMore,onClick:()=>S(!0),children:(0,b.jsx)(p().sA,{defaultMessage:"...{numMore} more",id:"edit.simpleTableRowComponentByCell.showMoreCells",values:{numMore:V-f}})}):null]})}),[o,c,t,j,y,v,k]);return(0,b.jsx)(b.Fragment,{children:_})}},412532:(e,t,o)=>{o.d(t,{l:()=>l});o(296540);const r={viewBox:"0 0 16 16",svg:(0,o(474848).jsx)("path",{d:"M13.165 12.75a.8.8 0 0 0 .69-1.203L8.692 2.693a.8.8 0 0 0-1.382 0l-5.165 8.854a.8.8 0 0 0 .691 1.203z"})},l=(0,o(340498).wt)("arrowCaretUpFillSmall",r)},438632:(e,t,o)=>{o.d(t,{PD:()=>c,cb:()=>d,yR:()=>u});o(16280),o(944114),o(898992),o(354520),o(803949),o(581454);var r=o.n(o(625473)),l=o.n(o(716471)),n=()=>o(496603),i=()=>o(534177),a=()=>o(634201),s=()=>o(919709);let d=function(e){return e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same",e}({});function c(e,t){const o=new(l())({timeout:2,editCost:6}),r=o.main(t,e);return o.cleanupSemantic(r),r}function u(e){const{before:t,after:o,isIncompleteAfter:l,insertCursor:u}=e,p={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},x=e=>{const t=p.encoding[e];if(t)return t;{const t=String.fromCharCode(p.count);return p.count++,p.encoding[e]=t,p.decoding[t]=e,t}},h=e=>{const t=r()(e),o=p.annotationEncoding[t];if(o)return o;{const o=String.fromCharCode(p.count);return p.count++,p.annotationEncoding[t]=o,p.annotationDecoding[o]=e,o}},m=t=>n().Bq(s().RQ(t).map((t=>{let o=[];if("word"===e.mode||"wordUnderlineFinal"===e.mode){if("undefined"==typeof Intl||!Intl.Segmenter)throw new Error("Intl.Segmenter is not supported");{const e=new Intl.Segmenter(void 0,{granularity:"word"}).segment(t[0]);o=Array.from(e).map((e=>e.segment))}}else o=a().PE(t[0]);const r=o.map(x);if(s().qXl(t)){const e=s().uPN(t),o=s().jhx(e);o&&(r[0]=h({type:"mention",value:o}),e.forEach((e=>{s().iGj(e)||s().gir(e)||s().lfl(e)||(r.unshift(h({type:"start",value:e})),r.push(h({type:"end",value:e})))})))}else if(s().GiG(t)){const e=s().uPN(t),o=s().j1D(e);if(o){r[0]=h({type:"equation",value:o});for(const t of e)s().iGj(t)||s().gir(t)||s().lfl(t)||(r.unshift(h({type:"start",value:t})),r.push(h({type:"end",value:t})))}}else if(s().BEe(t)){s().uPN(t).forEach((e=>{r.unshift(h({type:"start",value:e})),r.push(h({type:"end",value:e}))}))}return r}))).join("");if(p.count>65535)throw new Error("This string has way too many different characters.");const b=c(m(o),m(t)),f=[];let g=[],v=0;const y=l?n().Kl(b,(e=>0===e[0]||1===e[0])):0;let j=!1;const S=e.insertionAnnotation,k=e.deletionAnnotation;return b.forEach((t=>{let[o,r]=t;r.split("").forEach((t=>{if(p.decoding[t]){const r=p.decoding[t];o===d.added?f.push([r,[...g,"wordUnderlineFinal"===e.mode?e.underlineAnnotation:S]]):o===d.removed&&(!l||v<=y)?"wordUnderlineFinal"!==e.mode&&f.push([r,[...g,k]]):(l&&u&&!j&&v===y+1&&(j=!0,f.push(["",[["tc"]]])),f.push([r,g]))}else{const r=p.annotationDecoding[t];if(o===d.added)if("mention"===r.type)f.push([s().Sj,[...g,"wordUnderlineFinal"===e.mode?e.underlineAnnotation:S,r.value]]);else if("start"===r.type)g=[...g,r.value];else if("end"===r.type)g=g.filter((e=>!n().n4(e,r.value)));else if("equation"===r.type){const e=s().U35(r.value),t=s().G0H(e,[...g,S]);f.push(t)}else(0,i().HB)(r);else if(o===d.removed){if("mention"===r.type)"wordUnderlineFinal"!==e.mode&&f.push([s().Sj,[...g,k,r.value]]);else if("equation"===r.type){const e=s().U35(r.value),t=s().G0H(e,[...g,k]);f.push(t)}}else if(o===d.same)if("mention"===r.type)f.push([s().Sj,[...g,r.value]]);else if("start"===r.type)g=[...g,r.value];else if("end"===r.type)g=g.filter((e=>!n().n4(e,r.value)));else if("equation"===r.type){const e=s().U35(r.value),t=s().G0H(e,g);f.push(t)}else(0,i().HB)(r)}})),l&&(v+=1)})),s().__s(f)}},442277:(e,t,o)=>{o.d(t,{B:()=>l});o(296540);var r=o(474848);const l=(0,o(340498).wt)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},646614:(e,t,o)=>{o.d(t,{V:()=>b});var r=o(296540),l=()=>o(847249),n=()=>o(310442),i=()=>o(824862),a=()=>o(798880),s=()=>o(53528),d=()=>o(931075),c=()=>o(959013),u=()=>o(534177),p=()=>o(630116),x=()=>o(427636),h=()=>o(994006),m=o(474848);function b(e){const{textValue:t,rootStore:o}=e,b=(0,c().tz)(),f=(0,r.useMemo)((()=>{const e=(0,d().U1)(t);return e?d().B2(e):{type:"none"}}),[t]),g=(0,l().K8)((()=>{if("none"!==f.type)return p().sk.createChildStore(o,f.actorPointer)}),[f,o]);if("none"===f.type)return(0,m.jsx)("span",{children:b.formatMessage(d().nl.none)});let v;return void 0===g?v=(0,m.jsx)(h().A,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):g.table===a().oo?v=(0,m.jsx)(h().A,{userStore:g,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):g.table===i().GP?v=(0,m.jsx)(x().A,{botStore:g,style:{display:"inline-flex",alignItems:"baseline"}}):g.table===n().yj?v=(0,m.jsx)(h().A,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):(0,u().HB)(g),"verified"===f.type&&f.isIndefinite?(0,m.jsx)("div",{children:b.formatMessage(d().nl.verifiedIndefinitely,{actor:v})}):(0,m.jsx)("div",{children:b.formatMessage(d().nl.verifiedUntil,{actor:v,datetime:s().T2({dateTime:f.dateTimeRange.end,intl:b,displayInUserTimezone:!0})})})}},710648:(e,t,o)=>{o.d(t,{Ab:()=>N,Ay:()=>O,De:()=>K,Nn:()=>H,R1:()=>F,RD:()=>E,lM:()=>z,ux:()=>L,vY:()=>U});o(581454);var r=o(296540),l=()=>o(662303),n=()=>o(484714),i=()=>o(847249),a=()=>o(401497),s=()=>o(612740),d=()=>o(700500),c=()=>o(713998),u=()=>o(313028),p=()=>o(743176),x=()=>o(651124),h=()=>o(416504),m=()=>o(412532),b=()=>o(926401),f=()=>o(945778),g=()=>o(792071),v=()=>o(179034),y=()=>o(519831),j=()=>o(161479),S=()=>o(797809),k=()=>o(919709),_=()=>o(959013),w=()=>o(534177),A=()=>o(284371),V=()=>o(972435),C=()=>o(980914),M=()=>o(53137),R=()=>o(360083),B=()=>o(614505),I=()=>o(914398),P=()=>o(890022),T=o(474848);const D=(0,_().YK)({[d().xd.quote]:{defaultMessage:"Quote",id:"edit.quoteBlock.label"},[d().xd.callout]:{defaultMessage:"Callout",id:"edit.calloutBlock.label"},[d().xd.button]:{defaultMessage:"Button",id:"edit.buttonBlock.label"},[d().xd.factory]:{defaultMessage:"Template Button",id:"edit.templateButtonBlock.label"},[d().xd.bookmark]:{defaultMessage:"Bookmark",id:"edit.bookmarkBlockProperty.label"},[d().xd.equation]:{defaultMessage:"Equation",id:"edit.equationBlock.label"}});function L(e){return D[e]&&V().A.formatMessage(D[e])}function K(e,t){return g().Bj6.fromBlock(e).getProperties()[t]||[]}function U(e){let{value:t,propertySchema:o,labeled:r,rootStore:l,disableStyleAnnotations:n,disableInsertedDeletedAnnotations:i,disableDateStyleAnnotations:a}=e;return(0,T.jsx)(E,{labeled:r,type:o.type,icon:o.icon,name:o.name,children:(0,T.jsx)(P().A,{propertySchema:o,value:t,rootStore:l,disableStyleAnnotations:n,disableInsertedDeletedAnnotations:i,disableDateStyleAnnotations:a})})}function H(e){let{blockValue:t,prop:o,labeled:l,schema:n,rootStore:i}=e;const a=(0,_().tz)(),s=n||(0,S().RX)(a),d=(0,r.useMemo)((()=>({value:K(t,o),spaceId:(0,j().e)(t.space_id)})),[t,o]),c=s[o];return c?(0,T.jsx)(U,{value:d,propertySchema:c,labeled:l,rootStore:i}):null}function z(e){let{children:t}=e;const o=(0,T.jsx)("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6},children:(0,m().l)({width:"0.8em",height:"0.8em",transform:"rotateZ(90deg)"})});return(0,T.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[o,(0,T.jsx)("span",{children:t})]})}function F(e){let{src:t,permissionRecord:o}=e;const r=(0,a().DP)();return t?(0,T.jsx)(R().A,{url:t,isAuthenticated:!0,permissionRecord:o,width:170,render:(e,t)=>{if(t)return(0,T.jsx)("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):(0,T.jsx)("div",{style:{backgroundColor:r.text.tertiary,height:170,width:170}})}function W(e){let{icon:t,rootStore:o,blockValue:r}=e;if(t){if((0,f().A)(t))return(0,T.jsx)("div",{style:{fontSize:16.2,display:"inline-block"},children:t});{const e=g().Bj6.fromBlock(r).getRenderIcon({getRecordModel:o.getRecordModel});return(0,T.jsx)(B().B,{disabled:!0,icon:e,isEmptyPage:!1,size:18,style:{marginTop:6,marginBottom:6}})}}return(0,b().n)({height:18,width:18})}function E(e){let{children:t,type:o,icon:r,name:l,labeled:n,style:i}=e;const s=(0,a().DP)();return n?(0,T.jsxs)("div",{style:i,children:[(0,T.jsxs)("div",{style:{display:"flex",color:s.text.tertiary,paddingTop:7,fontSize:12,lineHeight:1,marginBottom:4},children:[(0,T.jsx)(p().zB,{type:o,icon:r,size:14,theme:s}),(0,T.jsx)("div",{style:{marginLeft:6},children:l})]}),(0,T.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:24,overflow:"hidden"},children:t})]}):(0,T.jsx)("div",{style:i,children:t})}function N(e){const t=e&&e.properties&&e.properties.language;if(!t)return(0,T.jsx)(_().sA,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const o=c().L3(t,S().h5);return(0,T.jsx)(_().sA,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:o},id:"edit.codeBlockWithLanguageChanged.label"})}const O=function(e){let{rootStore:t,blockValue:l,blockPreviewLocation:n,created:a,deleted:s}=e;const c=(0,r.useMemo)((()=>g().b4_.fromGetRecordValueFn(t.getRecordValue)),[t]),u=(0,i().K8)((()=>{let e;return l.type===d().xd.button&&(e=g().Bj6.fromBlock(l).getAutomationPointer()),l.type===d().xd.collectionViewPage&&(e=g().Bj6.fromBlock(l).getCollectionPointer()),e?c(e):void 0}),[l,c]);switch(l.type){case d().xd.text:case d().xd.encryptedText:return(0,T.jsx)(X,{rootStore:t,blockValue:l});case d().xd.header:return(0,T.jsx)(Q,{rootStore:t,blockValue:l});case d().xd.subHeader:return(0,T.jsx)(J,{rootStore:t,blockValue:l});case d().xd.subSubHeader:return(0,T.jsx)(ee,{rootStore:t,blockValue:l});case d().xd.toggle:return(0,T.jsx)(te,{rootStore:t,blockValue:l});case d().xd.bulletedList:return(0,T.jsx)(oe,{rootStore:t,blockValue:l});case d().xd.numberedList:return(0,T.jsx)(re,{rootStore:t,blockValue:l});case d().xd.quote:return(0,T.jsx)(se,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l});case d().xd.factory:return(0,T.jsx)(de,{blockPreviewLocation:n,created:a,rootStore:t,blockValue:l});case d().xd.button:if((null==u?void 0:u.table)===g().R$j.table)return(0,T.jsx)(ce,{blockPreviewLocation:n,created:a,deleted:s,automation:u});break;case d().xd.equation:return(0,T.jsx)(ue,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l});case d().xd.toDo:return(0,T.jsx)(le,{rootStore:t,blockValue:l});case d().xd.code:return(0,T.jsx)(pe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l});case d().xd.bookmark:return(0,T.jsx)(he,{blockPreviewLocation:n,created:a,rootStore:t,blockValue:l});case d().xd.page:case d().xd.form:return(0,T.jsx)(ge,{rootStore:t,blockValue:l,blockModel:g().Bj6.fromBlock(l)});case d().xd.collectionView:case d().xd.collectionViewPage:if((null==u?void 0:u.table)===g().WBy.table)return(0,T.jsx)(ve,{rootStore:t,blockValue:l,collectionModel:u});break;case d().xd.image:return(0,T.jsx)(ne,{rootStore:t,blockPreviewLocation:n,blockValue:l});case d().xd.embed:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"embed"});case d().xd.framer:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"framer"});case d().xd.tweet:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"tweet"});case d().xd.gist:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"gist"});case d().xd.drive:return(0,T.jsx)(fe,{deleted:s,blockPreviewLocation:n,created:a,rootStore:t,blockValue:l});case d().xd.maps:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"maps"});case d().xd.invision:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"invision"});case d().xd.video:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"video"});case d().xd.audio:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"audio"});case d().xd.file:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"file"});case d().xd.callout:return(0,T.jsx)(ae,{created:a,blockPreviewLocation:n,deleted:s,rootStore:t,blockValue:l,getRecordModel:c});case d().xd.whimsical:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"whimsical"});case d().xd.miro:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"miro"});case d().xd.abstract:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"abstract"});case d().xd.mixpanel:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"mixpanel"});case d().xd.sketch:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"sketch"});case d().xd.excalidraw:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"excalidraw"});case d().xd.replit:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"replit"});case d().xd.pdf:return(0,T.jsx)(xe,{blockPreviewLocation:n,created:a,deleted:s,rootStore:t,blockValue:l,type:"pdf"});case d().xd.table:return(0,T.jsx)(ye,{rootStore:t,blockValue:l});case d().xd.tableRow:return"notifications"===n?(0,T.jsx)(o(350297).V,{rootStore:t,blockValue:l}):(0,T.jsx)(je,{rootStore:t,blockValue:l});case d().xd.externalObjectInstance:return(0,T.jsx)(me,{created:a,blockPreviewLocation:n,deleted:s,blockValue:l});case d().xd.linkToPage:case d().xd.personalHomePage:case d().xd.linkToCollection:case d().xd.divider:case d().xd.columnList:case d().xd.column:case d().xd.copyIndicator:case d().xd.breadcrumb:case d().xd.figma:case d().xd.loom:case d().xd.typeform:case d().xd.codepen:case d().xd.tableOfContents:case d().xd.alias:case d().xd.transclusionContainer:case d().xd.transclusionReference:case d().xd.hex:case d().xd.tab:case d().xd.deepnote:case d().xd.externalObjectInstancePage:case d().xd.aiBlock:case d().xd.drawing:case d().xd.slide:case d().xd.post:case d().xd.workflow:case d().xd.transcription:case d().xd.personProfile:return null;default:(0,w().HB)(l)}return null};function q(e,t){return Boolean(e&&e.properties&&e.properties[t])}function G(e){let{blockValue:t}=e;const o=function(e){var t;const o=null==e||null===(t=e.properties)||void 0===t?void 0:t.source;return k().k4p(o)}(t);return(0,T.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,T.jsx)("span",{style:{wordBreak:"break-word"},children:o})})}function $(e){let{blockValue:t,rootStore:o}=e;return(0,T.jsx)(H,{rootStore:o,blockValue:t,prop:"title",labeled:!1})}function Z(e){let{blockValue:t,rootStore:o}=e;return(0,T.jsx)("div",{style:{marginRight:6,marginTop:3},children:(0,T.jsx)(H,{rootStore:o,blockValue:t,prop:"checked",labeled:!1})})}function Y(e){let{blockValue:t,rootStore:o}=e;return q(t,"caption")?(0,T.jsx)(H,{rootStore:o,blockValue:t,prop:"caption",labeled:!1}):null}function X(e){let{blockValue:t,rootStore:o}=e;return(0,T.jsx)($,{rootStore:o,blockValue:t})}function Q(e){let{blockValue:t,rootStore:o}=e;const r=(0,I().A)();return(0,T.jsx)("div",{style:r.header,children:(0,T.jsx)($,{rootStore:o,blockValue:t})})}function J(e){let{blockValue:t,rootStore:o}=e;const r=(0,I().A)();return(0,T.jsx)("div",{style:r.subHeader,children:(0,T.jsx)($,{rootStore:o,blockValue:t})})}function ee(e){let{blockValue:t,rootStore:o}=e;const r=(0,I().A)();return(0,T.jsx)("div",{style:r.subSubHeader,children:(0,T.jsx)($,{rootStore:o,blockValue:t})})}function te(e){let{blockValue:t,rootStore:o}=e;return(0,T.jsx)(z,{children:(0,T.jsx)($,{rootStore:o,blockValue:t})})}function oe(e){let{blockValue:t,rootStore:o}=e;return(0,T.jsx)("ul",{style:{margin:0,paddingLeft:28},children:(0,T.jsx)("li",{children:(0,T.jsx)($,{rootStore:o,blockValue:t})})})}function re(e){let{blockValue:t,rootStore:o}=e;return(0,T.jsx)("ol",{style:{margin:0,paddingLeft:28},children:(0,T.jsx)("li",{children:(0,T.jsx)($,{rootStore:o,blockValue:t})})})}function le(e){let{blockValue:t,rootStore:o}=e;return(0,T.jsxs)("div",{style:{display:"inline-flex"},children:[(0,T.jsx)(Z,{rootStore:o,blockValue:t}),(0,T.jsx)($,{rootStore:o,blockValue:t})]})}function ne(e){let{blockValue:t,rootStore:o,blockPreviewLocation:l}=e;const n=function(e){var t;const o=null==e||null===(t=e.properties)||void 0===t?void 0:t.source;return c().MO(o)}(t);if(!n)return null;const i=(0,T.jsx)(Y,{rootStore:o,blockValue:t});return"comments_sidebar"===l?(0,T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,T.jsx)(F,{src:n,permissionRecord:{table:v().ev,id:t.id}}),i&&(0,T.jsx)("div",{style:{marginBottom:4},children:i})]}):(0,T.jsxs)(r.Fragment,{children:[(0,T.jsx)("div",{style:{display:"flex"},children:(0,T.jsx)("div",{style:{marginTop:4,marginBottom:4},children:(0,T.jsx)(F,{src:n,permissionRecord:{table:v().ev,id:t.id}})})}),i&&(0,T.jsx)("div",{style:{marginBottom:4},children:i})]})}function ie(e){return function(e){return"comments_sidebar"===e}(e)?{marginTop:0,marginBottom:0}:void 0}function ae(e){var t;let{blockValue:o,created:r,blockPreviewLocation:l,deleted:n,rootStore:s,getRecordModel:c}=e;const p=(0,a().DP)(),x=null==o||null===(t=o.format)||void 0===t?void 0:t.page_icon,h=(0,i().K8)((()=>{const e=g().Bj6.fromBlock(o).getRenderTitleTextValue({getRecordModel:c});return void 0!==e&&0!==e.length}),[o,c]);return(0,T.jsxs)(u().A,{title:L(d().xd.callout),theme:p,created:r,style:ie(l),deleted:n,children:[void 0!==x&&(0,T.jsx)(W,{icon:x,rootStore:s,blockValue:o}),h&&(0,T.jsx)($,{rootStore:s,blockValue:o})]})}function se(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:l,rootStore:n}=e;const i=(0,a().DP)();return(0,T.jsx)(u().A,{title:L(d().xd.quote),theme:i,style:ie(o),created:r,deleted:l,children:(0,T.jsx)($,{rootStore:n,blockValue:t})})}function de(e){let{blockValue:t,blockPreviewLocation:o,created:r,rootStore:l}=e;const n=(0,a().DP)();return(0,T.jsx)(u().A,{title:L(d().xd.factory),theme:n,style:ie(o),created:r,deleted:!0,children:(0,T.jsx)($,{rootStore:l,blockValue:t})})}function ce(e){let{automation:t,blockPreviewLocation:o,created:r,deleted:l}=e;const n=(0,a().DP)(),[s,c]=(0,i().K8)((()=>[t.getActionIds(),t.getProperties()]),[t]),p=(0,a().IS)((()=>({editBoxChildren:{...A().RC,margin:0},workflow:{...A().RC,marginBlock:"8px 0"},wrap:{overflow:"hidden"}})),[]);return(0,T.jsxs)("div",{style:p.wrap,children:[(0,T.jsx)(u().A,{title:L(d().xd.button),theme:n,style:ie(o),created:r,deleted:l,children:(0,T.jsx)("p",{style:p.editBoxChildren,children:(null==c?void 0:c.name)??(0,T.jsx)(_().sA,{defaultMessage:"Untitled",id:"edit.buttonBlock.defaultTitle"})})}),(0,T.jsx)("p",{style:p.workflow,children:(0,T.jsx)(_().sA,{defaultMessage:"{numberOfActions, plural, one {{numberOfActions} workflow step} other {{numberOfActions} workflow steps}}",id:"edit.buttonBlock.actionCount",values:{numberOfActions:s.length}})})]})}function ue(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:l,rootStore:n}=e;const i=(0,a().DP)();return(0,T.jsx)(u().A,{title:L(d().xd.equation),theme:i,style:ie(o),created:r,deleted:l,children:(0,T.jsx)($,{rootStore:n,blockValue:t})})}function pe(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:n,rootStore:i}=e;const s=(0,a().DP)();return(0,T.jsx)(u().A,{title:N(t),theme:s,style:ie(o),created:r,deleted:n,children:(0,T.jsx)("span",{style:{fontFamily:A().vc(l().locale).mono,fontSize:12,tabSize:2},children:(0,T.jsx)($,{rootStore:i,blockValue:t})})})}function xe(e){let{blockValue:t,type:o,blockPreviewLocation:l,created:n,deleted:i,rootStore:d}=e;const c=(0,_().tz)(),p=(0,a().DP)();return(0,T.jsxs)(r.Fragment,{children:[(0,T.jsx)(u().A,{title:s().Do(c,o),theme:p,style:ie(l),created:n,deleted:i,children:(0,T.jsx)(G,{blockValue:t})}),(0,T.jsx)("div",{style:{marginBottom:4},children:(0,T.jsx)(Y,{rootStore:d,blockValue:t})})]})}function he(e){let{blockValue:t,blockPreviewLocation:o,created:r,rootStore:l}=e;const n=(0,a().DP)(),i=q(t,"title"),s=(0,a().IS)((()=>({bookmark:{display:"flex",flexDirection:"column"},captionBox:{marginBottom:i?4:0}})),[i]),c=i&&(0,T.jsx)(u().A,{title:L(d().xd.bookmark),theme:n,style:ie(o),created:r,children:(0,T.jsx)($,{rootStore:l,blockValue:t})});return(0,T.jsxs)("div",{style:s.bookmark,children:[c,q(t,"caption")&&(0,T.jsx)("div",{style:s.captionBox,children:(0,T.jsx)(Y,{rootStore:l,blockValue:t})})]})}function me(e){let{blockValue:t,created:o,blockPreviewLocation:r,deleted:l}=e;const n=(0,a().DP)(),d=(0,i().K8)((()=>g().Bj6.fromBlock(t)),[t]),c=(0,i().K8)((()=>s().EH(V().A.getIntl(),d,g().b4_.fromRecordMap(M().A.getIntegrationsAsRecordMap()))),[d]);return(0,T.jsx)(u().A,{title:(0,T.jsx)(_().sA,{...s().MC.editLabel}),theme:n,created:o,style:ie(r),deleted:l,children:c})}function be(e){let{blockValue:t,columnID:o,rootStore:r}=e;const l=(0,a().DP)(),s=(0,n().v3)(),d=(0,i().K8)((()=>K(t,o)),[t,o]),c=(0,i().K8)((()=>d&&d.length>0?C().qO({environment:s,cellValue:d,spaceId:t.space_id,parentStore:r,theme:l}):(0,T.jsx)("span",{children:"Â "})),[d,t,r,l,s]);return(0,T.jsx)("td",{style:{border:`1px solid ${l.tableDividerColor}`,height:"100%"},children:(0,T.jsx)("div",{style:{overflowWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",width:"max-content",maxWidth:120,verticalAlign:"top",lineHeight:A().K_.UIRegular.desktop,padding:4},children:c})})}function fe(e){let{blockValue:t,deleted:o,blockPreviewLocation:r,created:l,rootStore:n}=e;const i=(0,a().DP)(),s=(0,x().v)(g().Bj6.fromBlock(t));return s&&s.title?(0,T.jsx)("div",{children:(0,T.jsx)(u().A,{title:(0,T.jsx)(_().sA,{defaultMessage:"Google Drive file",id:"edit.googleDriveFile.label"}),created:!o,deleted:o,theme:i,style:ie(r),children:s.title})}):t.content?(0,T.jsx)(xe,{blockPreviewLocation:r,created:l,deleted:o,rootStore:n,blockValue:t,type:"drive"}):null}function ge(e){let{blockModel:t,rootStore:o,blockValue:l}=e;const n=(0,_().tz)(),a=(0,r.useMemo)((()=>g().b4_.fromGetRecordValueFn(o.getRecordValue)),[o]),s=(0,i().K8)((()=>a({table:v().ev,id:t.id})),[t,a])||t,d=(0,i().K8)((()=>s.getRenderTitleWithPlaceholder({getRecordModel:a,userTimeZone:(0,h().P)(),intl:n})),[s,n,a]),c=(0,i().K8)((()=>{var e;return null==s||null===(e=s.getFormat())||void 0===e?void 0:e.page_icon}),[s]);return(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,T.jsx)("div",{style:{paddingRight:6},children:(0,T.jsx)(W,{icon:c,rootStore:o,blockValue:l})}),(0,T.jsx)("div",{className:"notranslate",style:{flex:1,textOverflow:"ellipsis",overflow:"hidden"},children:d})]})}function ve(e){let{collectionModel:t,rootStore:o,blockValue:l}=e;const n=(0,_().tz)(),a=(0,r.useMemo)((()=>g().b4_.fromGetRecordValueFn(o.getRecordValue)),[o]),s=(0,i().K8)((()=>a({table:y().Vl,id:t.id})),[t,a])||t,d=(0,i().K8)((()=>s.getRenderTitleWithPlaceholder({intl:n,getRecordModel:a,userTimeZone:(0,h().P)()})),[s,n,a]),c=(0,i().K8)((()=>s.icon),[s]);return(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,T.jsx)("div",{style:{paddingRight:4},children:(0,T.jsx)(W,{icon:c,rootStore:o,blockValue:l})}),(0,T.jsx)("div",{style:{flex:1},children:d})]})}function ye(e){var t,o,l;let{blockValue:n,rootStore:a}=e;const s=(0,r.useMemo)((()=>g().b4_.fromGetRecordValueFn(a.getRecordValue)),[a]),d=(null===(t=n.content)||void 0===t?void 0:t.length)||0,c=(null===(o=n.format)||void 0===o||null===(o=o.table_block_column_order)||void 0===o?void 0:o.length)||0,u=(0,i().K8)((()=>n.content?n.content.map((e=>s({table:n.parent_table,id:e,spaceId:n.space_id}))):[]),[n,s]);if(!d||!c)return null;const p=null===(l=n.format)||void 0===l?void 0:l.table_block_column_order;return(0,T.jsx)("div",{style:{overflow:"scroll"},children:(0,T.jsx)("table",{children:(0,T.jsx)("tbody",{children:u.map((e=>e?(0,T.jsx)("tr",{children:null==p?void 0:p.map((t=>(0,T.jsx)(be,{rootStore:a,blockValue:e,columnID:t},t)))},e.id):void 0))})})})}function je(e){let{blockValue:t,rootStore:o}=e;const l=(0,r.useMemo)((()=>g().b4_.fromGetRecordValueFn(o.getRecordValue)),[o]),n=(0,i().K8)((()=>l({table:t.parent_table,id:t.parent_id,spaceId:t.space_id})),[t,l]),a=(0,i().K8)((()=>{var e;return null==n||null===(e=n.getFormat())||void 0===e?void 0:e.table_block_column_order}),[n]);return t.properties&&0!==(0,w().uv)(t.properties).length&&n?(0,T.jsx)("div",{style:{display:"flex",alignItems:"stretch",margin:4},children:(0,T.jsx)("table",{children:(0,T.jsx)("tr",{children:null==a?void 0:a.map((e=>(0,T.jsx)(be,{rootStore:o,blockValue:g().Bj6.fromBlock(t),columnID:e},e)))})})}):null}},890022:(e,t,o)=>{o.d(t,{A:()=>P});o(944114),o(898992),o(672577),o(803949),o(581454);var r=o(296540),l=()=>o(484714),n=()=>o(847249),i=()=>o(401497),a=()=>o(787626),s=()=>o(713998),d=()=>o(597777),c=()=>o(831310),u=()=>o(834368),p=()=>o(992437),x=()=>o(813690),h=()=>o(179034),m=()=>o(824862),b=()=>o(161479),f=()=>o(798880),g=()=>o(919709),v=()=>o(959013),y=()=>o(100622),j=()=>o(496603),S=()=>o(534177),k=()=>o(284371),_=()=>o(712030),w=()=>o(921855),A=()=>o(630116),V=()=>o(427636),C=()=>o(994006),M=()=>o(654734),R=()=>o(175977),B=()=>o(646614),I=o(474848);function P(e){const{propertySchema:t,value:o,rootStore:i,disableStyleAnnotations:a,disableInsertedDeletedAnnotations:d,disableDateStyleAnnotations:c,disableSuggestionAnnotations:u}=e,m=(0,l().v3)(),b=(0,r.useCallback)((e=>A().Bv.createChildStore(i,{table:h().ev,id:e})),[i]),f=(0,r.useMemo)((()=>p().b.fromMonomorphicFunctionUnsafe((e=>b(e.id).getRecordModel(e)),x().xb.fromMonomorphicFunctionUnsafe((e=>b(e.id).getRecordValue(e))))),[b]),g=(0,r.useCallback)((e=>{const t=b(e.id).getValue();return t&&(0,s().yQ)(t,"title")||[]}),[b]),v=(0,r.useCallback)((()=>{if("relation"===t.type)return s().bG({relationValue:s().n(o.value),getRecordModel:f,propertySchema:t,includeNoAccess:!0})}),[t,o.value,f]),y=(0,r.useCallback)((()=>{if("text"===t.type||"title"===t.type)return o.value;if("relation"===t.type){const e=v();if(!e)return;const t=e.map(g);return j().Bq(t)}}),[t,o.value,g,v]);(0,r.useEffect)((()=>{"text"!==t.type&&"title"!==t.type&&"relation"!==t.type||m.KatexStore.loadIfNeeded(y)}),[m,t,y]);const k=(0,n().K8)(v,[v]),_=t.type;return"checkbox"!==_&&0===o.value.length?(0,I.jsx)($,{}):"text"===_?(0,I.jsx)(Z,{value:o,disableStyleAnnotations:Boolean(a),disableInsertedDeletedAnnotations:Boolean(d),disableDateStyleAnnotations:Boolean(c),disableSuggestionAnnotations:Boolean(u),rootStore:i}):"checkbox"===_?(0,I.jsx)(K,{value:o}):"multi_select"===_?(0,I.jsx)(Y,{propertySchema:t,value:o,rootStore:i}):"select"===_?(0,I.jsx)(Q,{propertySchema:t,value:o,rootStore:i}):"status"===_?(0,I.jsx)(J,{propertySchema:t,value:o,rootStore:i}):"person"===_?(0,I.jsx)(G,{value:o,propertySchema:t,rootStore:i}):"number"===_?(0,I.jsx)(U,{value:o}):"date"===_?(0,I.jsx)(H,{propertySchema:t,value:o}):"url"===_?(0,I.jsx)(z,{value:o}):"file"===_?(0,I.jsx)(F,{value:o}):"email"===_?(0,I.jsx)(W,{value:o}):"phone_number"===_?(0,I.jsx)(E,{value:o}):"title"===_?(0,I.jsx)(Z,{value:o,disableStyleAnnotations:Boolean(a),disableInsertedDeletedAnnotations:Boolean(d),disableDateStyleAnnotations:Boolean(c),disableSuggestionAnnotations:Boolean(u),rootStore:i}):"created_time"===_?(0,I.jsx)(H,{propertySchema:t,value:o}):"created_by"===_?(0,I.jsx)(G,{value:o,propertySchema:t,rootStore:i}):"relation"===_?(0,I.jsx)(D,{relationValue:k,getPageTitle:g,rootStore:i,disableStyleAnnotations:Boolean(a),disableInsertedDeletedAnnotations:Boolean(d),disableDateStyleAnnotations:Boolean(c),disableSuggestionAnnotations:Boolean(u)}):"auto_increment_id"===_?(0,I.jsx)(U,{value:o}):"verification"===_?(0,I.jsx)(N,{value:o,rootStore:i}):"formula"===_||"rollup"===_||"last_edited_by"===_||"last_edited_time"===_||"last_visited_time"===_||"button"===_||"location"===_||"geo_point"===_?null:void(0,S().HB)(_)}const T=5;function D(e){const{rootStore:t,getPageTitle:o,disableStyleAnnotations:n,disableInsertedDeletedAnnotations:a,disableDateStyleAnnotations:s,disableSuggestionAnnotations:d,relationValue:c}=e,u=(0,l().v3)(),p=(0,i().DP)(),x=(0,r.useCallback)((e=>{const{value:o,pointer:r}=e;return w().S5({environment:u,textValue:{value:o,spaceId:(0,b().e)(r.spaceId)},parentStore:t,disableHover:!0,disableStyleAnnotations:n,disableInsertedDeletedAnnotations:a,disableDateStyleAnnotations:s,disableSuggestionAnnotations:d,disabled:!0,theme:p,emojiType:(0,_().FN)(u),katex:u.KatexStore.getKatex(),formulaValueTypes:[]})}),[u,t,p,n,a,s,d]);if(!c)return null;const h=c.length>T,m=h?c.slice(0,T):c;return(0,I.jsxs)("div",{children:[m.map(((e,t)=>(0,I.jsx)(L,{pointer:e,renderText:x,getPageTitle:o},t))),h&&(0,I.jsx)("div",{style:{maxWidth:180,color:y().Ay.mediumTextColor},children:(0,I.jsx)(v().sA,{defaultMessage:"{leftoverCountNumber} more",id:"editProperty.relationEditedProperties.moreCount.label",values:{leftoverCountNumber:c.length-T}})})]})}function L(e){const{pointer:t,renderText:o,getPageTitle:r}=e,l=(0,n().K8)((()=>o({value:r(t),pointer:t})),[t,o,r]);return(0,I.jsx)("div",{style:{maxWidth:180,...k().RC},children:l})}function K(e){let{value:t}=e;const o=s().wu(t.value);return(0,I.jsx)("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:o?y().Ay.blue:y().Ay.transparent},children:o?(0,c().o)({fill:y().Ay.white,width:12,height:12}):(0,u().K)()})}function U(e){let{value:t}=e;const o=s().Me(t.value);return(0,I.jsx)("div",{children:o})}function H(e){let{propertySchema:t,value:o}=e;const r=t,l=(0,a().b)(o.value);return(0,I.jsx)(M().A,{value:l,dateFormat:r.date_format||d().vz,timeFormat:r.time_format||d().CE,displayInUserTimezone:!0})}function z(e){let{value:t}=e;return(0,I.jsx)(I.Fragment,{children:g().k4p(t.value)})}function F(e){let{value:t}=e;const o=s().pJ(t.value);return(0,I.jsx)("div",{style:{display:"inline-flex"},children:o.map(((e,t,o)=>{const r=o.length-1===t;return(0,I.jsx)(R().A,{rightMargin:!r,children:e.url},t)}))})}function W(e){let{value:t}=e;const o=g().k4p(t.value);return(0,I.jsx)("div",{children:o})}function E(e){let{value:t}=e;const o=g().k4p(t.value);return(0,I.jsx)("div",{children:o})}function N(e){let{value:t,rootStore:o}=e;return(0,I.jsx)(B().V,{textValue:t.value,rootStore:o})}function O(e){let{userId:t,rootStore:o,isLast:r}=e;const l=(0,n().K8)((()=>function(e,t){return A().LU.createChildStore(t,{table:f().oo,id:e}).getValue()}(t,o)),[t,o]);return(0,I.jsx)("div",{style:{marginTop:4,marginRight:r?0:8},children:(0,I.jsx)(C().A,{userValue:l,inline:!0,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})})}function q(e){let{isLast:t,botId:o,rootStore:l}=e;const n=(0,r.useMemo)((()=>function(e,t){return A().vK.createChildStore(t,{table:m().GP,id:e})}(o,l)),[o,l]);return(0,I.jsx)("div",{style:{marginTop:4,marginRight:t?0:8},children:(0,I.jsx)(V().A,{botStore:n})})}function G(e){let{value:t,propertySchema:o,rootStore:r}=e;const l=s().e5({textValue:t.value,propertySchema:o,blockCreatorPointer:void 0}),n=[];return l.forEach(((e,t)=>{const o=l.length-1===t;e.table===f().oo?n.push((0,I.jsx)(O,{userId:e.id,rootStore:r,isLast:o},t)):n.push((0,I.jsx)(q,{botId:e.id,rootStore:r,isLast:o},t))})),(0,I.jsx)("div",{style:{display:"inline-flex"},children:n})}function $(){const e=(0,i().DP)();return(0,I.jsx)("div",{style:{color:e.text.secondary,fontSize:12},children:(0,I.jsx)(v().sA,{defaultMessage:"Empty",id:"editProperty.emptyProperty.label"})})}function Z(e){let{value:t,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:r,disableDateStyleAnnotations:a,disableSuggestionAnnotations:s,rootStore:d}=e;const c=(0,i().DP)(),u=(0,l().v3)(),p=(0,n().K8)((()=>w().S5({environment:u,textValue:t,parentStore:d,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:r,disableDateStyleAnnotations:a,disableSuggestionAnnotations:s,disableHover:!0,disabled:!0,theme:c,emojiType:(0,_().FN)(u),katex:u.KatexStore.getKatex(),formulaValueTypes:[]})),[u,t,d,c,o,r,a,s]);return(0,I.jsx)("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:p})}function Y(e){let{propertySchema:t,value:o,rootStore:r}=e;const l=t.options||[],n=s().yH(o.value);return(0,I.jsx)("div",{style:{display:"inline-flex"},children:n.map(((e,t,n)=>(0,I.jsx)(X,{token:e,options:l,index:t,arr:n,rootStore:r,value:o},t)))})}function X(e){let{token:t,options:o,index:r,arr:l,rootStore:a,value:s}=e;const d=(0,i().DP)(),c=(o??[]).find((e=>e.value===t)),u=l.length-1===r,p=(0,y().LD)(d,null==c?void 0:c.color),x=(0,n().K8)((()=>t??w().r4(s.value,a)),[t,s,a]);return(0,I.jsx)(R().A,{...p,rightMargin:!u,children:x})}function Q(e){let{propertySchema:t,value:o,rootStore:r}=e;const l=(0,i().DP)(),a=t.options||[],d=s().L3(o.value,a),c=(0,n().K8)((()=>d??w().r4(o.value,r)),[d,o,r]),u=a.find((e=>e.value===d)),p=(0,y().LD)(l,null==u?void 0:u.color);return(0,I.jsx)("div",{style:{display:"inline-flex"},children:(0,I.jsx)(R().A,{...p,children:c})})}function J(e){let{propertySchema:t,value:o,rootStore:r}=e;const l=(0,i().DP)(),a=t,d=s().BX(o.value,a),c=(0,n().K8)((()=>d??w().r4(o.value,r)),[d,o,r]),u=(a.options??[]).find((e=>e.value===d)),p=(0,y().LD)(l,null==u?void 0:u.color);return(0,I.jsx)("div",{style:{display:"inline-flex"},children:(0,I.jsx)(R().A,{...p,children:c})})}},914398:(e,t,o)=>{o.d(t,{A:()=>i});var r=()=>o(401497),l=()=>o(100622),n=()=>o(284371);function i(){return(0,r().IS)((e=>({wrap:{display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},label:{fontSize:12,lineHeight:1,paddingTop:8,color:e.text.tertiary},header:{fontWeight:n().Wy.semibold},subHeader:{fontWeight:n().Wy.semibold},subSubHeader:{fontWeight:n().Wy.semibold},permission:{display:"flex",flexDirection:"column",minHeight:28,paddingTop:4,paddingBottom:4},group:{display:"flex",alignItems:"center",minHeight:28,fontSize:14,paddingTop:4,paddingBottom:4},userHeader:{fontSize:12,color:e.text.secondary},role:{fontSize:14,whiteSpace:"nowrap"},permissionTypeWrap:{display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},diffWrap:{display:"flex",alignItems:"center"},added:{color:l().Ay.blue,backgroundColor:l().Ay.blueWithAlpha(.14)},deleted:{opacity:.4,marginBottom:6,textDecoration:"line-through"}})),[])}},921194:(e,t,o)=>{o.d(t,{A:()=>pt});var r=o(296540),l=()=>o(847249),n=()=>o(534177),i=(o(581454),()=>o(662303)),a=()=>o(401497),s=()=>o(813206),d=()=>o(612740),c=()=>o(700500),u=()=>o(855826),p=()=>o(713998),x=()=>o(313028),h=()=>o(792071),m=()=>o(179034),b=()=>o(161479),f=()=>o(797809),g=()=>o(919709),v=()=>o(959013),y=()=>o(496603),j=()=>o(284371),S=()=>o(53137),k=()=>o(710648),_=o(474848);const w=(0,o(340498).wt)("historyForward",{viewBox:"0 0 14 14",svg:(0,_.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})});var A=()=>o(138389),V=()=>o(614505);const C=function(e){let{edit:t,formatProperty:o,hideLabel:r}=e;return(0,_.jsx)(R,{edit:t,formatProperty:o,hideLabel:r})||null};function M(e){let{beforeValue:t,afterValue:o,edit:r,hideLabel:l}=e;const n=(0,a().DP)();return t||o?(0,_.jsxs)(_.Fragment,{children:[!l&&(0,_.jsxs)("div",{style:{display:"flex",alignItems:"center",color:n.text.tertiary,fontSize:12,lineHeight:1,marginBottom:8},children:[(0,A().X)({width:12,height:12,marginRight:6}),(0,_.jsx)(v().sA,{id:"editFormatDiff.pageIcon.label",defaultMessage:"Page icon"})]}),(0,_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,_.jsx)(V().B,{disabled:!0,isEmptyPage:!1,size:20,icon:t?{pointer:{table:m().ev,id:r.block_data.before.block_value.id},icon:t}:void 0}),(0,_.jsx)("div",{style:{padding:"0px 8px"},children:w({width:14,height:14,fill:n.mediumIconColor})}),(0,_.jsx)(V().B,{disabled:!0,isEmptyPage:!1,size:20,icon:o?{pointer:{table:m().ev,id:r.block_data.after.block_value.id},icon:o}:void 0})]})]}):null}function R(e){let{edit:t,formatProperty:o,hideLabel:r}=e;if("page_icon"===o){const e=t.block_data.before.block_value.format&&t.block_data.before.block_value.format[o],l=t.block_data.after.block_value.format&&t.block_data.after.block_value.format[o];return(0,_.jsx)(M,{edit:t,beforeValue:e,afterValue:l,hideLabel:r})}if("is_placeholder"===o)return null;(0,n().HB)(o)}var B=()=>o(484714),I=()=>o(416504),P=()=>o(862292),T=()=>o(909470),D=()=>o(645873),L=()=>o(508496),K=()=>o(271003);function U(e){const t=(0,v().tz)();return(0,s().hd)(e,t)}function H(e){const{edit:t,property:o,labeled:r,rootStore:n}=e,i=(0,B().v3)(),a=(0,v().tz)(),{value:s}=(0,D().fJ)(P().T.formulas),d=U(t),c=(0,l().K8)((()=>n.getRecordModel),[n]),u=(0,l().K8)((()=>p().r8({property:o,schema:d,block:h().Bj6.fromBlock(t.block_data.before.block_value),getRecordModel:c,userId:i.currentUser.id,userTimeZone:(0,I().P)(),intl:a,experimentService:L().default,collectionFeatureGates:(0,T().i)(),formulasModule:s})),[t.block_data.before.block_value,i.currentUser.id,c,a,o,d,s]),x=d[o];if(!x)return null;const m=(0,k().De)(t.block_data.before.block_value,o),f=(0,k().De)(t.block_data.after.block_value,o),g=x.type;return u&&"text"!==g&&"title"!==g?(0,_.jsx)(k().vY,{rootStore:e.rootStore,value:{value:f,spaceId:(0,b().e)(t.block_data.after.block_value.space_id)},propertySchema:x,labeled:r},o):(0,_.jsx)(k().RD,{labeled:r,name:x.name,type:x.type,icon:x.icon,children:(0,_.jsx)(K().A,{propertySchema:x,beforeValue:{value:m,spaceId:(0,b().e)(t.block_data.before.block_value.space_id)},afterValue:{value:f,spaceId:(0,b().e)(t.block_data.after.block_value.space_id)},rootStore:e.rootStore})})}var z=()=>o(651124);function F(e){let{edit:t,rootStore:o}=e;const r=h().Bj6.fromBlock(t.block_data.before.block_value),l=(0,z().v)(r),n=t.block_data.after.block_value,i=h().Bj6.fromBlock(n);return l!==(0,z().v)(i)&&"drive"===n.type?(0,_.jsx)(k().Ay,{blockValue:n,rootStore:o}):null}var W=()=>o(914398),E=()=>o(980914);function N(e){let{edit:t,rootStore:o}=e;const r=t.block_data.before.block_value,l=t.block_data.after.block_value,n=s().mP({before:r,after:l}),i=(0,a().IS)((()=>({container:{display:"flex",alignItems:"stretch",flexDirection:"column"}})),[]);return(0,_.jsx)("div",{style:i.container,children:n.map(((e,t)=>(0,_.jsx)(O,{before:r,after:l,property:e,rootStore:o},t)))})}function O(e){let{before:t,after:o,property:r,rootStore:n}=e;const i=(0,B().v3)(),s=(0,a().DP)(),d=t.properties&&r in t.properties?t.properties[r]:void 0,c=o.properties&&r in o.properties?o.properties[r]:void 0,u=(0,W().A)(),p=(0,l().K8)((()=>E().qO({environment:i,cellValue:d,spaceId:t.space_id,parentStore:n,theme:s})),[i,d,t,n,s]),x=(0,l().K8)((()=>E().qO({environment:i,cellValue:c,spaceId:o.space_id,parentStore:n,theme:s})),[i,c,o,n,s]),h=(0,a().IS)((e=>({container:{display:"flex",border:`1px solid ${e.tableDividerColor}`,overflowWrap:"anywhere",width:"max-content",maxWidth:"100%",verticalAlign:"top",lineHeight:j().K_.UIRegular.desktop,padding:4,marginBottom:4},before:{...u.deleted,marginBottom:void 0},historyForwardIcon:{width:12,height:12,fill:e.mediumIconColor,alignSelf:"center",margin:4}})),[u.deleted]);return(0,_.jsxs)("div",{style:h.container,children:[(0,_.jsx)("span",{style:h.before,children:p}),d&&c&&w(h.historyForwardIcon),(0,_.jsx)("span",{style:u.added,children:x})]})}function q(e){let{blockValue:t,rootStore:o}=e;const r=(0,W().A)(),l=(0,_.jsx)(k().Ay,{rootStore:o,blockValue:t,deleted:!0});if(l)switch(t.type){case c().xd.quote:case c().xd.video:case c().xd.code:case c().xd.equation:case c().xd.file:case c().xd.bookmark:case c().xd.factory:return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{style:r.label,children:(0,_.jsx)(v().sA,{defaultMessage:"Deleted",id:"edit.blockDeletedEditStyles.factoryLabel"})}),(0,_.jsx)("div",{style:r.wrap,children:l})]});case c().xd.table:return null;case c().xd.tableRow:return t.properties&&(0,n().uv)(t.properties).length>0?(0,_.jsx)("div",{style:{...r.wrap,...r.deleted},children:l}):null;default:return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{style:r.label,children:(0,_.jsx)(v().sA,{defaultMessage:"Deleted",id:"edit.blockDeletedEditStyles.defaultLabel"})}),(0,_.jsx)("div",{style:{...r.wrap,...r.deleted},children:l})]})}return null}function G(e){const t=(0,W().A)();return(0,_.jsx)("div",{style:t.wrap,children:(0,_.jsx)(pe,{...e})})}function $(e){let{blockValue:t,rootStore:o}=e;const r=(0,W().A)(),l=(0,_.jsx)(k().Ay,{blockValue:t,rootStore:o,created:!0});if(l)switch(t.type){case c().xd.quote:case c().xd.video:case c().xd.code:case c().xd.equation:case c().xd.file:case c().xd.bookmark:case c().xd.factory:return(0,_.jsx)("div",{style:r.wrap,children:l});case c().xd.table:return null;case c().xd.tableRow:return t.properties&&(0,n().uv)(t.properties).length>0?(0,_.jsx)("div",{style:{...r.wrap,...r.added},children:l}):null;default:return(0,_.jsx)("div",{style:{...r.wrap,...r.added},children:l})}return null}function Z(e){const t=(0,a().DP)(),o=(0,v().tz)(),{edit:l,type:n,rootStore:i}=e,s=ye(l,"source")&&(0,_.jsxs)(x().A,{title:d().Do(o,n),theme:t,children:[(0,_.jsx)(je,{blockValue:l.block_data.after.block_value}),(0,_.jsx)(H,{rootStore:i,edit:l,property:"source",labeled:!1})]});return(0,_.jsxs)(r.Fragment,{children:[s,(0,_.jsx)("div",{style:{marginBottom:s?4:0},children:(0,_.jsx)(Y,{edit:l,rootStore:i})})]})}function Y(e){const{edit:t,rootStore:o}=e;return ye(t,"caption")?(0,_.jsx)(H,{rootStore:o,edit:t,property:"caption",labeled:!1}):null}function X(e){const{edit:t}=e,o=(0,a().DP)();return(0,_.jsx)(x().A,{title:(0,_.jsx)(v().sA,{defaultMessage:"Callout",id:"edit.calloutBlockChanged.label"}),theme:o,children:(0,_.jsx)(C,{edit:t,formatProperty:"page_icon",hideLabel:!0})})}function Q(e){const t=(0,W().A)(),{edit:o,rootStore:r}=e;return(0,_.jsx)("div",{style:t.header,children:(0,_.jsx)(fe,{edit:o,rootStore:r})})}function J(e){const t=(0,W().A)(),{edit:o,rootStore:r}=e;return(0,_.jsx)("div",{style:t.subHeader,children:(0,_.jsx)(fe,{edit:o,rootStore:r})})}function ee(e){const t=(0,W().A)(),{edit:o,rootStore:r}=e;return(0,_.jsx)("div",{style:t.subSubHeader,children:(0,_.jsx)(fe,{edit:o,rootStore:r})})}function te(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)(k().lM,{children:(0,_.jsx)(fe,{edit:t,rootStore:o})})}function oe(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)("ul",{style:{margin:0,paddingLeft:28},children:(0,_.jsx)("li",{children:(0,_.jsx)(fe,{edit:t,rootStore:o})})})}function re(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)("ol",{style:{margin:0,paddingLeft:28},children:(0,_.jsx)("li",{children:(0,_.jsx)(fe,{edit:t,rootStore:o})})})}function le(e){const{edit:t,rootStore:o}=e,r=(0,a().DP)();return(0,_.jsx)(x().A,{title:(0,_.jsx)(v().sA,{defaultMessage:"Quote",id:"edit.quoteBlockChanged.label"}),theme:r,children:(0,_.jsx)(fe,{edit:t,rootStore:o})})}function ne(e){const{edit:t,rootStore:o}=e,r=(0,a().DP)();return(0,_.jsx)(x().A,{title:(0,_.jsx)(v().sA,{defaultMessage:"Template Button",id:"edit.templateButtonBlockChanged.label"}),theme:r,children:(0,_.jsx)(fe,{edit:t,rootStore:o})})}function ie(e){const{edit:t,rootStore:o}=e,r=(0,a().DP)();return(0,_.jsx)(x().A,{title:(0,_.jsx)(v().sA,{defaultMessage:"Equation",id:"edit.equationBlockChanged.label"}),theme:r,children:(0,_.jsx)(fe,{edit:t,rootStore:o})})}function ae(e){const{edit:t,rootStore:o}=e;return s().Gc({before:t.block_data.before.block_value,after:t.block_data.after.block_value,property:"checked"})?(0,_.jsxs)("div",{style:{display:"inline-flex"},children:[(0,_.jsx)("div",{style:{marginRight:6,marginTop:3,lineHeight:1},children:(0,_.jsx)(H,{rootStore:o,edit:t,property:"checked",labeled:!1})}),(0,_.jsx)(fe,{edit:t,rootStore:o})]}):(0,_.jsxs)("div",{style:{display:"inline-flex"},children:[(0,_.jsx)(ve,{rootStore:o,blockValue:t.block_data.after.block_value}),(0,_.jsx)(fe,{edit:t,rootStore:o})]})}function se(e){const{edit:t,rootStore:o}=e,r=(0,a().DP)();return s().Gc({before:t.block_data.before.block_value,after:t.block_data.after.block_value,property:"language"})?(0,_.jsxs)(x().A,{title:ke(t.block_data.after.block_value),theme:r,children:[(0,_.jsx)("span",{style:{fontFamily:j().vc(i().locale).mono,fontSize:12,tabSize:2},children:(0,_.jsx)(xe,{rootStore:o,edit:t})}),(0,_.jsx)(H,{rootStore:o,edit:t,property:"language",labeled:!0})]}):(0,_.jsx)(x().A,{title:ke(t.block_data.after.block_value),theme:r,children:(0,_.jsx)("span",{style:{fontFamily:j().vc(i().locale).mono,fontSize:12,tabSize:2},children:(0,_.jsx)(xe,{rootStore:e.rootStore,edit:t})})})}function de(e){const t=(0,W().A)(),{edit:o,rootStore:l}=e,n=Se(o.block_data.before.block_value),i=Se(o.block_data.after.block_value),a=n!==i&&(0,_.jsxs)("div",{style:{marginTop:4,marginBottom:4},children:[(0,_.jsx)("div",{style:{...t.label,marginBottom:4},children:(0,_.jsx)(v().sA,{defaultMessage:"Updated",id:"edit.imageBlockChanged.updatedTitle"})}),i&&(0,_.jsx)(k().R1,{src:i,permissionRecord:{table:m().ev,id:o.block_id}})]});return(0,_.jsxs)(r.Fragment,{children:[a,(0,_.jsx)("div",{style:{marginBottom:a?4:0},children:(0,_.jsx)(Y,{edit:o,rootStore:l})})]})}function ce(e){const{edit:t,rootStore:o}=e,l=(0,a().DP)(),n=(ye(t,"title")||ye(t,"source"))&&(0,_.jsxs)(x().A,{title:(0,_.jsx)(v().sA,{defaultMessage:"Bookmark",id:"edit.bookmarkBlockPropertyChanged.label"}),theme:l,children:[(0,_.jsx)(fe,{edit:t,rootStore:o}),(0,_.jsx)(H,{rootStore:o,edit:t,property:"source",labeled:!0})]});return(0,_.jsxs)(r.Fragment,{children:[n,ye(t,"caption")&&(0,_.jsx)("div",{style:{marginBottom:n?4:0},children:(0,_.jsx)(Y,{edit:t,rootStore:o})})]})}function ue(e){const{edit:t,rootStore:o}=e,r=u().PE({before:t.block_data.before.block_value,after:t.block_data.after.block_value,schema:t.block_schema}),l=s().TW({before:t.block_data.before.block_value,after:t.block_data.after.block_value});return(0,_.jsxs)("div",{children:[r.map(((e,r,l)=>(0,_.jsx)("div",{children:(0,_.jsx)(H,{rootStore:o,edit:t,property:e,labeled:!0})},e))),l.map(((e,o,l)=>{const n=0===r.length&&0===o,i=o===l.length-1;return(0,_.jsx)("div",{style:{marginTop:n?6:10,marginBottom:i?0:6},children:(0,_.jsx)(C,{formatProperty:e,edit:t})},e)}))]})}function pe(e){const{edit:t,rootStore:o}=e;switch(t.block_data.after.block_value.type){case c().xd.text:case c().xd.encryptedText:return(0,_.jsx)(be,{edit:t,rootStore:o});case c().xd.header:return(0,_.jsx)(Q,{edit:t,rootStore:o});case c().xd.subHeader:return(0,_.jsx)(J,{edit:t,rootStore:o});case c().xd.subSubHeader:return(0,_.jsx)(ee,{edit:t,rootStore:o});case c().xd.toggle:return(0,_.jsx)(te,{edit:t,rootStore:o});case c().xd.bulletedList:return(0,_.jsx)(oe,{edit:t,rootStore:o});case c().xd.numberedList:return(0,_.jsx)(re,{edit:t,rootStore:o});case c().xd.quote:return(0,_.jsx)(le,{edit:t,rootStore:o});case c().xd.factory:return(0,_.jsx)(ne,{edit:t,rootStore:o});case c().xd.equation:return(0,_.jsx)(ie,{edit:t,rootStore:o});case c().xd.toDo:return(0,_.jsx)(ae,{edit:t,rootStore:o});case c().xd.code:return(0,_.jsx)(se,{edit:t,rootStore:o});case c().xd.bookmark:return(0,_.jsx)(ce,{edit:t,rootStore:o});case c().xd.page:return(0,_.jsx)(ue,{edit:t,rootStore:o});case c().xd.collectionView:case c().xd.collectionViewPage:return null;case c().xd.drive:return(0,_.jsx)(F,{rootStore:o,edit:t});case c().xd.tableRow:return(0,_.jsx)(N,{rootStore:o,edit:t});case c().xd.image:return(0,_.jsx)(de,{rootStore:o,edit:t});case c().xd.callout:return(0,_.jsx)(X,{rootStore:o,edit:t});case c().xd.embed:case c().xd.framer:case c().xd.tweet:case c().xd.gist:case c().xd.maps:case c().xd.invision:case c().xd.video:case c().xd.audio:case c().xd.file:case c().xd.whimsical:case c().xd.miro:case c().xd.abstract:case c().xd.mixpanel:case c().xd.sketch:case c().xd.replit:case c().xd.excalidraw:case c().xd.hex:return(0,_.jsx)(Z,{edit:t,type:t.block_data.after.block_value.type,rootStore:o});case c().xd.externalObjectInstance:return(0,_.jsx)(me,{edit:t});default:return null}}function xe(e){let{edit:t,rootStore:o}=e;return(0,_.jsx)(ge,{rootStore:o,edit:t,prop:"title",labeled:!1})}function he(e){let{edit:t,diffKey:o}=e;const r=t.block_data[o].block_value,n=(0,l().K8)((()=>h().Bj6.fromBlock(r)),[r]),i=(0,v().tz)(),a=(0,l().K8)((()=>n.isType("external_object_instance")?d().EH(i,n,h().b4_.fromRecordMap(S().A.getIntegrationsAsRecordMap())):null),[n,i]);return(0,_.jsx)(_.Fragment,{children:a})}function me(e){let{edit:t}=e;const o=(0,a().DP)(),r=(0,W().A)();return(0,_.jsxs)(x().A,{title:(0,_.jsx)(v().sA,{...d().MC.editLabel}),theme:o,children:[(0,_.jsx)("div",{style:r.deleted,children:(0,_.jsx)(he,{edit:t,diffKey:"before"})}),(0,_.jsx)("div",{children:(0,_.jsx)(he,{edit:t,diffKey:"after"})})]})}function be(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)(fe,{edit:t,rootStore:o})}function fe(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)(H,{edit:t,property:"title",labeled:!1,rootStore:o})}function ge(e){let{edit:t,prop:o,labeled:r,rootStore:l}=e;const n=U(t)[o],i="block-changed"===t.type?t.block_data.after.block_value:t.block_data.block_value,a=(0,k().De)(i,o);return n?(0,_.jsx)(k().vY,{rootStore:l,value:{value:a,spaceId:(0,b().e)(i.space_id)},propertySchema:n,labeled:r},o):null}function ve(e){let{blockValue:t,rootStore:o}=e;return(0,_.jsx)("div",{style:{marginRight:6,marginTop:3},children:(0,_.jsx)(k().Nn,{rootStore:o,blockValue:t,prop:"checked",labeled:!1})})}function ye(e,t){return!y().n4(e.block_data.before.block_value&&e.block_data.before.block_value.properties&&e.block_data.before.block_value.properties[t],e.block_data.after.block_value&&e.block_data.after.block_value.properties&&e.block_data.after.block_value.properties[t])}function je(e){let{blockValue:t}=e;const o=Se(t);return(0,_.jsx)("span",{style:{wordBreak:"break-word"},children:o})}function Se(e){const t=e&&e.properties&&e.properties.source;return g().k4p(t)}function ke(e){const t=e&&e.properties&&e.properties.language;if(!t)return(0,_.jsx)(v().sA,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const o=p().L3(t,f().h5);return(0,_.jsx)(v().sA,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:o},id:"edit.codeBlockWithLanguageChanged.label"})}var _e=()=>o(970013),we=()=>o(236162),Ae=()=>o(191772);function Ve(e){const{blockId:t,property:o,blockPreviewLocation:r,highlightCurrentUser:n,rootStore:i,highlightCurrentUserStyle:a}=e,s=(0,B().v3)(),d=(0,W().A)(),u=(0,l().K8)((()=>e.rootStore.getRecordModel),[e.rootStore]),{blockModel:p,associatedCollectionValue:x,blockValue:h}=(0,l().K8)((()=>{const e=u({table:m().ev,id:t});return{blockModel:e,blockValue:null==e?void 0:e.__IM_SORRY__getValue(),associatedCollectionValue:e?(0,we().zN)({block:e,getRecordModel:u}):null}}),[t,u]),b=(0,l().K8)((()=>{var e;if(!h)return null;const t=null===(e=h.properties)||void 0===e?void 0:e.title;return{...h,properties:{...h.properties,title:n&&t?(0,Ae().Eh)({textValue:t,highlightStyle:a??"background_only",currentUserId:s.currentUser.id,getRecordModel:u}):t}}}),[h,s.currentUser.id,u,n,a]);if(!p||!h)return null;if(x){const e=_e().Dp(x);return(0,_.jsx)("div",{style:d.wrap,children:(0,_.jsx)(k().Nn,{rootStore:i,blockValue:h,prop:o,labeled:!0,schema:e})})}{if(!b)return null;const e=h.type===c().xd.tableRow&&"notifications"===r;return(0,_.jsx)("div",{style:{...d.wrap,...e&&{overflow:"visible"}},children:(0,_.jsx)(k().Ay,{blockValue:b,rootStore:i,blockPreviewLocation:r})})}}o(898992),o(354520);function Ce(e){let{edit:t,rootStore:o}=e;const r=(0,W().A)();return(0,_.jsx)("div",{children:Object.entries(t.property_updates).map((e=>{var l;let[n,i]=e;const a=null===(l=t.filtered_block_schema)||void 0===l?void 0:l[n];if(!a)return null;const s=i.before?i.before.value:[],d=i.after?i.after.value:[],c=(0,_.jsx)(Me,{rootStore:o,labeled:!0,propertySchema:a,beforeValue:s,afterValue:d,spaceId:t.space_id});return c?(0,_.jsx)("div",{style:r.wrap,children:c},n):void 0})).filter(n().O9)})}function Me(e){const{labeled:t,propertySchema:o,beforeValue:r,afterValue:l,rootStore:n,spaceId:i}=e,a=(0,b().e)(i);return(0,_.jsx)(k().RD,{labeled:t,name:o.name,type:o.type,icon:o.icon,children:(0,_.jsx)(K().A,{propertySchema:o,beforeValue:{value:r,spaceId:a},afterValue:{value:l,spaceId:a},rootStore:n})})}function Re(e){let{spaceId:t,args:o,rootStore:r}=e;const l=(0,W().A)();if(!o||!o.before&&!o.after)return null;const n=o.before&&o.before.description||[],i=o.after&&o.after.description||[];return(0,_.jsx)("div",{style:l.wrap,children:(0,_.jsx)(k().RD,{labeled:!0,name:(0,_.jsx)(v().sA,{defaultMessage:"Description",id:"edit.descriptionPropertyChanged.label"}),icon:void 0,type:"text",children:(0,_.jsx)(K().A,{propertySchema:{type:"text",name:""},beforeValue:{value:n,spaceId:t},afterValue:{value:i,spaceId:t},rootStore:r})})})}function Be(e){let{description:t,rootStore:o}=e;const r=(0,W().A)();return t?(0,_.jsx)("div",{style:r.wrap,children:(0,_.jsx)(k().RD,{labeled:!0,name:(0,_.jsx)(v().sA,{defaultMessage:"Description",id:"edit.descriptionPropertyCreated.label"}),type:"text",icon:void 0,children:(0,_.jsx)(K().A,{propertySchema:{type:"text",name:""},beforeValue:{value:[],spaceId:t.spaceId},afterValue:t,rootStore:o})})}):null}o(823215);var Ie=()=>o(100622),Pe=()=>o(175977);function Te(e){let{edit:t}=e;const{before:o,after:r}=t.collection_property_data||{},l=(0,W().A)();if(!o||!r)return null;const n=p().w3({before:o,after:r});if(!n)return null;const{newOptions:i,modifiedOptions:a,removedOptions:s}=n;return[i,a,s].every((e=>0===e.length))?null:(0,_.jsx)("div",{style:{...l.wrap,paddingTop:6,paddingBottom:4},children:(0,_.jsx)(De,{after:r,newOptions:i,modifiedOptions:a,removedOptions:s})})}function De(e){let{after:t,newOptions:o,modifiedOptions:r,removedOptions:l}=e;const n=(0,a().DP)(),i=e=>{let{option:t,strikethrough:o=!1}=e;const r=(0,Ie().LD)(n,null==t?void 0:t.color);return(0,_.jsx)(Pe().A,{...r,strikethrough:o,children:t.value})};return(0,_.jsx)(k().RD,{labeled:!0,name:t.name,icon:t.icon,type:t.type,children:(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:4},children:[o.length>0&&(0,_.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",columnGap:4},children:[(0,_.jsx)(v().sA,{defaultMessage:"Added",id:"Edit.renderCollectionPropertyChangedDiff.addedProperty"}),o.map((e=>(0,_.jsx)("span",{children:i({option:e})},e.id)))]}),l.length>0&&(0,_.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",columnGap:4},children:[(0,_.jsx)(v().sA,{defaultMessage:"Removed",id:"Edit.renderCollectionPropertyChangedDiff.removedProperty"}),l.map((e=>(0,_.jsx)("span",{children:i({option:e,strikethrough:!0})},e.id)))]}),r.length>0&&(0,_.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"row"},children:[(0,_.jsx)("span",{children:(0,_.jsx)(v().sA,{defaultMessage:"Edited",id:"Edit.renderCollectionPropertyChangedDiff.editedProperty"})}),(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:r.map((e=>(0,_.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[(0,_.jsx)("span",{style:{marginLeft:4},children:i({option:e.before,strikethrough:!0})}),(0,_.jsx)("span",{style:{padding:"0px 8px"},children:w({width:10,height:10,fill:n.mediumIconColor})}),i({option:e.after})]},e.before.id)))})]})]})})}var Le=()=>o(764880),Ke=()=>o(413468),Ue=()=>o(601813),He=()=>o(343666),ze=()=>o(197959),Fe=()=>o(774733),We=()=>o(630116),Ee=()=>o(890022);function Ne(e){var t;const{edit:o,discussionLocation:r,hideAuthorName:n,lineClamp:i,type:a,rootStore:s,highlightCurrentUser:d,highlightCurrentUserStyle:c,onReactionToggle:u}=e,p=(0,W().A)(),x=(0,l().K8)((()=>e.rootStore.getRecordModel),[e.rootStore]),h=(0,l().K8)((()=>x({table:ze().$Y,id:o.discussion_id,spaceId:o.space_id})),[x,o.discussion_id,o.space_id]),m=null===(t=o.authors)||void 0===t?void 0:t[0],b=(0,l().K8)((()=>m?x(m):void 0),[m,x]);return h&&b?(0,_.jsx)("div",{style:p.wrap,children:(0,_.jsx)(Ye,{discussionModel:h,actorModel:b,discussionLocation:r,hideAuthorName:n,lineClamp:i,type:a,getRecordModel:x,rootStore:s,highlightCurrentUser:d,highlightCurrentUserStyle:c,onReactionToggle:u})}):null}function Oe(e){const{edit:t,discussionLocation:o,hideAuthorName:r,lineClamp:n,type:i,rootStore:a,highlightCurrentUser:s,highlightCurrentUserStyle:d,onReactionToggle:c}=e,u=(0,W().A)(),p=(0,l().K8)((()=>e.rootStore.getRecordModel),[e.rootStore]),{latestComment:x,commentWasChanged:m}=(0,l().K8)((()=>{const e=p({table:He().SN,id:t.comment_id,spaceId:t.space_id});return{latestComment:e,commentWasChanged:Boolean(t.comment_data&&e&&(0,Ke().k)(h().Bj6.fromValue(He().SN,t.comment_data),e))}}),[t.comment_data,t.comment_id,t.space_id,p]);return x?(0,_.jsx)("div",{style:u.wrap,children:(0,_.jsx)($e,{comment:x,discussionLocation:o,showEditedBadge:m,hideAuthorName:r,lineClamp:n,type:i,getRecordModel:p,rootStore:a,highlightCurrentUser:s,highlightCurrentUserStyle:d,onReactionToggle:c})}):null}function qe(e){const t=(0,W().A)();return(0,_.jsx)("div",{style:t.wrap,children:(0,_.jsx)(Ze,{commentData:e.edit.comment_data,rootStore:e.rootStore})})}function Ge(e){const{edit:t,discussionLocation:o,type:r,rootStore:n,highlightCurrentUser:i,highlightCurrentUserStyle:a,onReactionToggle:s}=e,d=(0,W().A)(),c=(0,l().K8)((()=>e.rootStore.getRecordModel),[e.rootStore]),u=(0,l().K8)((()=>c({table:He().SN,id:t.comment_id,spaceId:t.space_id})),[t.comment_id,t.space_id,c]),p=h().Bj6.fromValue(He().SN,t.comment_data)||u;return p?(0,_.jsx)("div",{style:{...d.wrap,...d.deleted},children:(0,_.jsx)($e,{comment:p,discussionLocation:o,showEditedBadge:!1,hideAuthorName:!1,type:r,getRecordModel:c,rootStore:n,highlightCurrentUser:i,highlightCurrentUserStyle:a,onReactionToggle:s})}):null}function $e(e){const{comment:t,discussionLocation:o,showEditedBadge:i,hideAuthorName:s,lineClamp:d,getRecordModel:c}=e,[u,p]=(0,r.useState)(!1),x=(0,B().v3)(),h=(0,W().A)(),m=(0,v().tz)(),f=(0,a().IS)((e=>({editedBadge:{color:e.text.secondary,paddingLeft:4}})),[]),g=(0,l().K8)((()=>{const o=t.getCreatedByTable(),r=t.getCreatedById();if(!o||!r)return null;const l=We().sk.createChildStore(e.rootStore,{table:He().SN,id:t.id,spaceId:(0,b().e)(e.rootStore.pointer.spaceId)}),i=We().Lk.getUserVisibleReactions(l).length>0,a=c({table:o,id:r,spaceId:t.space_id}),s=a&&(0,Le().D3)(a);return{commentStore:l,commentHasReactions:i,fullName:s?(0,Le().lR)(m,s):(0,_.jsx)(v().sA,{defaultMessage:"Unknown author",id:"edit.unknownAuthor.label"}),imagesEdits:t.getContent().map((o=>{const r=c({table:"block",id:o,spaceId:t.space_id}),l=null==r?void 0:r.__IM_SORRY__getValue();return l&&(0,_.jsx)(k().Ay,{blockValue:l,rootStore:e.rootStore})})).filter(n().O9),commentText:t.getText()}}),[t,c,m,e.rootStore]);if(!g)return null;const{commentStore:y,commentHasReactions:S,fullName:w,imagesEdits:A,commentText:V}=g;if("comment-edit"!==e.type)return null;const C=V&&(0,_.jsx)(Ee().A,{propertySchema:{type:"text",name:""},value:{spaceId:t.space_id,value:e.highlightCurrentUser?(0,Ae().Eh)({textValue:V,highlightStyle:e.highlightCurrentUserStyle??"background_only",currentUserId:x.currentUser.id,getRecordModel:c}):V},rootStore:e.rootStore}),M=!S;return(0,_.jsxs)("div",{style:{...M&&{position:"relative"}},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[!s&&(0,_.jsx)("div",{style:{...h.label,marginBottom:2},children:w}),(0,_.jsx)("span",{style:{...j().RC,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:d||6},children:C}),A,(0,_.jsx)("div",{style:{...M&&{position:"absolute",top:-3,right:3},...!M&&{marginTop:8}},children:(u||S)&&(0,_.jsx)(Fe().fj,{parentStore:y,discussionLocation:o,onReactionToggle:e.onReactionToggle})}),i&&(0,_.jsx)("span",{style:f.editedBadge,children:(0,_.jsx)(v().sA,{id:"edit.editedBadge",defaultMessage:"(edited)"})})]})}function Ze(e){const{before:t,after:o}=e.commentData,n=(0,v().tz)(),i=(0,W().A)(),a=(0,l().K8)((()=>{if(o.created_by_table&&o.created_by_id){const t=e.rootStore.getRecordModel({table:o.created_by_table,id:o.created_by_id,spaceId:o.space_id});return t&&(0,Le().D3)(t)}}),[o.created_by_id,o.created_by_table,o.space_id,e.rootStore]),s=(0,l().K8)((()=>{var l,n;const i=null===(l=o.content)||void 0===l?void 0:l.filter((e=>{var o;return!(null!==(o=t.content)&&void 0!==o&&o.includes(e))})),a=null===(n=t.content)||void 0===n?void 0:n.filter((e=>{var t;return!(null!==(t=o.content)&&void 0!==t&&t.includes(e))})),s=e.rootStore.getRecordValue;return(0,_.jsxs)(r.Fragment,{children:[null==a?void 0:a.map((t=>{const r=s({table:m().ev,id:t,spaceId:o.space_id});return r&&(0,_.jsx)(q,{rootStore:e.rootStore,blockValue:r})})),null==i?void 0:i.map((t=>{const r=s({table:m().ev,id:t,spaceId:o.space_id});return r&&(0,_.jsx)(k().Ay,{blockValue:r,rootStore:e.rootStore})}))]})}),[o.content,o.space_id,t.content,e.rootStore]);if(!o.created_by_table||!o.created_by_id)return null;const d=a?(0,Le().lR)(n,a):(0,_.jsx)(v().sA,{defaultMessage:"Unknown author",id:"edit.unknownAuthorCommentDiff.label"}),c=t.text&&o.text&&(0,_.jsx)(K().A,{propertySchema:{type:"text",name:""},beforeValue:{value:t.text||[],spaceId:t.space_id},afterValue:{value:o.text||[],spaceId:o.space_id},rootStore:e.rootStore});return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{style:{...i.label,marginBottom:2},children:d}),c,s]})}function Ye(e){const{discussionModel:t,actorModel:o,discussionLocation:n,hideAuthorName:i,lineClamp:a}=e,[s,d]=(0,r.useState)(!1),c=(0,v().tz)(),u=(0,W().A)(),{commentHasReactions:p,commentStore:x}=(0,l().K8)((()=>{const o=t.getComments().length>0?We().sk.createChildStore(e.rootStore,{table:He().SN,id:t.getComments()[0],spaceId:(0,b().e)(e.rootStore.pointer.spaceId)}):void 0;return{commentStore:o,commentHasReactions:!!o&&We().Lk.getUserVisibleReactions(o).length>0}}),[t,e.rootStore]),h=(0,l().K8)((()=>t.getType()),[t]),m=(0,l().K8)((()=>t.getPersistedContext()??[]),[t]),f=(0,l().K8)((()=>(0,Le().lR)(c,o.asActor)),[o.asActor,c]);if("suggestion"!==h)return null;if("comment-edit"!==e.type)return null;const g=(0,_.jsx)(Ee().A,{propertySchema:{type:"text",name:""},value:{spaceId:t.space_id,value:(0,Ue().l8)({discussionContextData:m,discussionType:"suggestion",discussionId:t.id,intl:c})},rootStore:e.rootStore}),y=!p;return(0,_.jsxs)("div",{style:{...y&&{position:"relative"}},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[!i&&(0,_.jsx)("div",{style:{...u.label,marginBottom:2},children:f}),(0,_.jsx)("span",{style:{...j().RC,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:a||6},children:g}),(0,_.jsx)("div",{style:{...y&&{position:"absolute",top:-3,right:3},...!y&&{marginTop:8}},children:x&&(s||p)&&(0,_.jsx)(Fe().fj,{parentStore:x,discussionLocation:n,onReactionToggle:e.onReactionToggle})})]})}o(672577);var Xe=()=>o(799288),Qe=()=>o(433847),Je=()=>o(68263),et=()=>o(824862),tt=()=>o(96689),ot=()=>o(854150),rt=()=>o(798880),lt=()=>o(695608),nt=()=>o(605402);function it(e){const{edit:t,getRecordModel:o}=e,r=(0,W().A)();return(0,_.jsxs)("div",{style:{...r.permission,...r.added,marginTop:3,marginBottom:3},children:[(0,_.jsx)("div",{children:(0,_.jsx)(ct,{getRecordModel:o,edit:t})}),(0,_.jsx)("div",{children:(0,_.jsx)(ut,{item:t.permission_data})})]})}function at(e){const{edit:t,getRecordModel:o}=e,r=(0,W().A)();return(0,_.jsxs)("div",{style:{...r.permission,...r.deleted},children:[(0,_.jsx)("div",{children:(0,_.jsx)(ct,{getRecordModel:o,edit:t})}),(0,_.jsx)("div",{children:(0,_.jsx)(ut,{item:t.permission_data})})]})}function st(e){const{edit:t,getRecordModel:o}=e,r=(0,W().A)();return(0,_.jsxs)("div",{style:r.permission,children:[(0,_.jsx)("div",{children:(0,_.jsx)(ct,{getRecordModel:o,edit:t})}),(0,_.jsx)("div",{children:(0,_.jsxs)("div",{style:r.diffWrap,children:[(0,_.jsx)(ut,{item:t.permission_data.before}),(0,_.jsx)("div",{style:{padding:"0px 8px"},children:w({width:14,height:14})}),(0,_.jsx)(ut,{item:t.permission_data.after})]})})]})}function dt(e){var t;const{edit:o,getRecordModel:l}=e,n=((null===(t=o.permission_data)||void 0===t?void 0:t.calculated_changes)||[]).map(((e,t)=>{let[n,i]=e;const a={timestamp:o.timestamp,space_id:o.space_id,type:"permission-changed",permission_data:{before:n,after:i}};return(0,_.jsx)(r.Fragment,{children:(0,_.jsx)(st,{getRecordModel:l,edit:a})},`inheritance-change-${t}`)}));return(0,_.jsx)(_.Fragment,{children:n})}function ct(e){const{edit:t,getRecordModel:o}=e,r=(0,W().A)(),n=(0,v().tz)(),i="permission-changed"===t.type?t.permission_data.after:t.permission_data;return(0,l().K8)((()=>{if((0,Je().B2)(i)){const e=o({table:rt().oo,id:i.user_id}),t=(0,lt().c6)(n,e);return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:t})})}if((0,Je().Lg)(i)){const e=o({table:tt().NX,id:t.space_id}),l=e?e.name:(0,_.jsx)(v().sA,{defaultMessage:"Unknown",id:"edit.unknownSpacePermissionTarget.label"}),n=(0,Je().Ni)(i)?(0,_.jsx)(v().sA,{id:"linkSharingPill.visibilityTitle.anyoneWithLink",defaultMessage:"Anyone with link at {spaceName}",values:{spaceName:l}}):(0,_.jsx)(v().sA,{id:"linkSharingPill.visibilityTitle.everyoneInWorkspace",defaultMessage:"Everyone at {spaceName}",values:{spaceName:l}});return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:n})})}if((0,Je().FP)(i))return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:(0,_.jsx)(v().sA,{defaultMessage:"Published link",id:"edit.publishToWebPermissionTarget.label"})})});if((0,Je().Ds)(i)){var e;const t=(null===(e=nt().A.state.permissionGroupsAndMemberCounts.find((e=>e.group.group_id===i.group_id)))||void 0===e?void 0:e.group.name)||(0,_.jsx)(v().sA,{defaultMessage:"Deleted group",id:"edit.deletedPermissionGroup.label"});return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:t})})}if((0,Je().P3)(i)){const e=o({table:et().GP,id:i.bot_id,spaceId:t.space_id}),l=(0,Xe().Hg)(e);return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:l})})}if((0,Je().gl)(i)){const e=o({table:ot().yK,id:i.team_id,spaceId:t.space_id});let l=(0,_.jsx)(v().sA,{defaultMessage:"Members of an unknown teamspace",id:"edit.teamMemberPermissionChanged.unknownTeam"});return null!=e&&e.name&&(l=(0,_.jsx)(v().sA,{defaultMessage:"Members of {teamName}",id:"edit.teamMemberPermissionChanged.knownTeam",values:{teamName:e.name}})),(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:l})})}if((0,Je().nl)(i)){const e=o({table:ot().yK,id:i.team_id,spaceId:t.space_id});let l=(0,_.jsx)(v().sA,{defaultMessage:"Owners of an unknown teamspace",id:"edit.teamOwnerPermissionChanged.unknownTeam"});return null!=e&&e.name&&(l=(0,_.jsx)(v().sA,{defaultMessage:"Owners of {teamName}",id:"edit.teamOwnerPermissionChanged.knownTeam",values:{teamName:e.name}})),(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:l})})}return(0,Je().sk)(i)?(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:(0,_.jsx)(v().sA,{id:"edit.trustedDomainPermissionTarget.label",defaultMessage:"Users with email domain access"})})}):null}),[t.space_id,r.permissionTypeWrap,r.userHeader,o,n,i])}function ut(e){let{item:t}=e;const o=(0,v().tz)(),r=t.role??"none",l=(0,W().A)(),n=(0,Qe().an)(r,void 0);return n?(0,_.jsx)("div",{style:l.role,children:o.formatMessage(n)}):null}const pt=function(e){var t,o;const r=(0,l().K8)((()=>e.rootStore.getRecordModel),[e.rootStore]);if("comment-edit"===e.type){const{edit:t,discussionLocation:o,hideAuthorName:r,lineClamp:l,type:i,highlightCurrentUser:a,highlightCurrentUserStyle:s,onReactionToggle:d,rootStore:c}=e;switch(t.type){case"comment-created":return(0,_.jsx)(Oe,{edit:t,discussionLocation:o,hideAuthorName:r,lineClamp:l,type:i,rootStore:c,highlightCurrentUser:a,highlightCurrentUserStyle:s,onReactionToggle:d});case"comment-changed":return(0,_.jsx)(qe,{edit:t,rootStore:c});case"comment-deleted":return(0,_.jsx)(Ge,{edit:t,discussionLocation:o,type:i,rootStore:c,highlightCurrentUser:a,highlightCurrentUserStyle:s,onReactionToggle:d});case"suggestion-created":return(0,_.jsx)(Ne,{edit:t,discussionLocation:o,type:i,lineClamp:l,rootStore:c,highlightCurrentUser:a,highlightCurrentUserStyle:s,onReactionToggle:d,hideAuthorName:r});default:(0,n().HB)(t)}}const{edit:i}=e;switch(i.type){case"block-created":return(0,_.jsx)($,{rootStore:e.rootStore,blockValue:i.block_data.block_value});case"block-deleted":return(0,_.jsx)(q,{rootStore:e.rootStore,blockValue:i.block_data.block_value});case"block-changed":return(0,_.jsx)(G,{edit:i,rootStore:e.rootStore});case"block-property-changed":return(0,_.jsx)(Ce,{rootStore:e.rootStore,edit:i});case"collection-property-changed":return(0,_.jsx)(Te,{edit:i});case"collection-changed":return(0,_.jsx)(Re,{rootStore:e.rootStore,spaceId:i.space_id,args:i.collection_data});case"collection-created":return(0,_.jsx)(Be,{rootStore:e.rootStore,description:(null===(t=i.collection_data)||void 0===t?void 0:t.description)&&{value:null===(o=i.collection_data)||void 0===o?void 0:o.description,spaceId:i.space_id}});case"mention-created":case"permission-group-mention-created":case"team-mention-created":return(0,_.jsx)(Ve,{blockId:i.mentioned_block_id,property:i.mentioned_property,blockPreviewLocation:"notifications",highlightCurrentUser:e.highlightCurrentUser,highlightCurrentUserStyle:e.highlightCurrentUserStyle,rootStore:e.rootStore});case"permission-created":return(0,_.jsx)(it,{getRecordModel:r,edit:i});case"permission-changed":return(0,_.jsx)(st,{getRecordModel:r,edit:i});case"permission-deleted":return(0,_.jsx)(at,{getRecordModel:r,edit:i});case"permission-restriction-created":case"permission-restriction-deleted":return(0,_.jsx)(dt,{getRecordModel:r,edit:i});case"reminder-created":return(0,_.jsx)(Ve,{blockId:i.reminder_block_id,property:i.reminder_property,highlightCurrentUser:e.highlightCurrentUser,highlightCurrentUserStyle:e.highlightCurrentUserStyle,rootStore:e.rootStore});case"collection-page-layout-edited":case"team-mention-deleted":case"permission-group-mention-deleted":case"mention-deleted":return null;default:return(0,n().ub)(i),null}}}}]);