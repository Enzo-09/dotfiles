"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[1213],{59400:(e,t,o)=>{o.d(t,{m$:()=>a,m4:()=>s,w$:()=>d,Dy:()=>c,it:()=>u});o(296540);var i=()=>o(645873),n=o(474848);function l(e){const{shouldShowSpinner:t,collectionSettingsProps:i}=e;return(0,n.jsx)(o(735695).Ay,{collectionSettingsStore:i.collectionSettingsStore,fullHeight:i.fullHeight,hideDesktopHeader:i.hideDesktopHeader,children:t&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,n.jsx)(o(331542).A,{})})})}const r=new(i().O2)("collectionSettings",(()=>Promise.all([o.e(75134),o.e(43380),o.e(96346),o.e(55373),o.e(36192),o.e(44711),o.e(62475),o.e(3151),o.e(53321),o.e(58550),o.e(98629),o.e(90825),o.e(22900),o.e(85864),o.e(92845),o.e(71718),o.e(83324),o.e(48486),o.e(95794),o.e(74562),o.e(38744),o.e(63077),o.e(28271),o.e(17254),o.e(41870),o.e(90966),o.e(42120),o.e(7114),o.e(67435),o.e(92012),o.e(22462),o.e(8184),o.e(4422),o.e(28721),o.e(28866),o.e(6463),o.e(71993),o.e(17989),o.e(59794),o.e(78846),o.e(26483),o.e(43741),o.e(94387),o.e(52393),o.e(77692),o.e(26090),o.e(12341),o.e(66984),o.e(90978),o.e(87598),o.e(84341),o.e(64598),o.e(86787),o.e(80896),o.e(1440),o.e(63996),o.e(20636),o.e(55717),o.e(7005),o.e(22585),o.e(73206),o.e(11037),o.e(33235),o.e(99108)]).then(o.bind(o,414841)))),a=(0,i()._h)(r,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,n.jsx)(l,{shouldShowSpinner:e,collectionSettingsProps:t})}),s=(0,i()._h)(r,(e=>e.CollectionSettingsButtonOptions)),c=(0,i()._h)(r,(e=>e.CollectionSettingsPropertyTypeMenuItem)),d=(0,i()._h)(r,(e=>e.CollectionSettingsEditButtonAutomationOption)),u=(0,i()._h)(r,(e=>e.CollectionSettingsSaveAsAppButton))},65767:(e,t,o)=>{o.d(t,{l:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,i.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},124954:(e,t,o)=>{o.d(t,{w:()=>g});var i=o(296540),n=()=>o(484714),l=()=>o(847249),r=()=>o(401497),a=()=>o(987555),s=()=>o(246826),c=()=>o(751156),d=()=>o(614505),u=()=>o(738865),h=o(474848);function g(e){const{clickTitleBehavior:t,blockStore:o,format:a,shouldWrap:g}=e,S="edit"===t,m=(0,n().v3)(),[f,x,k]=(0,l().K8)((()=>[o.getIcon(),o.isEmptyPage(),o.isReady()&&"none"===o.getRole()]),[o]),{style:v}=(0,r().IS)((()=>({style:{flexShrink:0,marginRight:S?0:u().U[a].recordIconMarginRight,justifyContent:"flex-start",...g&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}})),[S,a,g]),b=(0,i.useCallback)((e=>{const t=o.getIconStore();t&&c().createAndCommit({userAction:"RelationToken.handleRecordIconChange",environment:m,canUndo:!0,perform:o=>{s().KY({store:t,value:e,transaction:o})}})}),[o,m]),y={icon:f,size:u().U[a].pageIconSize,isEmptyPage:x,style:v};return k?(0,h.jsx)(p,{...y}):S?(0,h.jsx)(d().B,{...y,disabled:!1,onChange:b,bucket:"public"}):(0,h.jsx)(d().B,{...y,disabled:!0})}function p(e){const t=(0,r().DP)();return(0,a().T)({...e.style,width:e.size,height:e.size,fill:t.icon.secondary,verticalAlign:"top",marginTop:1})}},149375:(e,t,o)=>{o.d(t,{v:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},255824:(e,t,o)=>{o.d(t,{a:()=>l});var i=()=>o(847249);const n=new(o(496506).default)((()=>o(263711).g.state.isOpen),{debugName:"IsInPageViewModeStore"});function l(){return(0,i().O$)(n)}},279620:(e,t,o)=>{o.d(t,{Y:()=>r});var i=o(296540),n=()=>o(16006),l=o(474848);function r(e){const{blockStore:t,shouldWrap:o,titleStyle:r,recordTitleRef:a,noUnderline:s,disableTooltip:c}=e,d=(0,i.useRef)({getNode:()=>a.current});return(0,l.jsx)(n().A,{store:t,underline:!s,shouldWrap:o,style:r,ref:d,enableHover:!0,showTooltipWhenTruncated:!0,disableTooltip:c})}},448693:(e,t,o)=>{o.d(t,{Ay:()=>f,t_:()=>x,v7:()=>k});o(296540);var i=()=>o(484714),n=()=>o(847249),l=()=>o(764880),r=()=>o(784892),a=()=>o(534177),s=()=>o(630116),c=()=>o(427636),d=()=>o(256863),u=()=>o(848401),h=()=>o(994006),g=()=>o(453697),p=o(474848);function S(e){const t=(0,i().v3)(),{actor:o,format:l,hasTooltip:S,tooltipHeader:f}=e,x=(0,n().K8)((()=>{const e=o.asActor;return e&&s().sk.createUniqueRootStore(t,e.pointer)}),[o,t]);return(0,p.jsx)(u().Ay,{...e,renderAvatar:e=>{if(x)return x instanceof s().vK?l===r().NY.Inline?(0,p.jsx)(d().A,{botStore:x,size:e,style:m}):(0,p.jsx)(c().A,{botStore:x,avatarSize:e,inline:!0,style:m}):x instanceof s().LU?l===r().NY.Inline?(0,p.jsx)(g().A,{userStore:x,size:e,avatarShouldShowShadow:!0,hasTooltip:S??!0,style:m,tooltipHeader:f}):(0,p.jsx)(h().A,{userStore:x,avatarSize:e,inline:!0,hasTooltip:S,style:m,tooltipHeader:f}):void(x instanceof s().pH||(0,a().HB)(x))}})}const m={minWidth:0};S.Format=r().NY;const f=S;function x(e){const{userValue:t,...o}=e;return(0,p.jsx)(S,{actor:(0,l().MR)(t),...o})}function k(e){const{botValue:t,...o}=e;return(0,p.jsx)(S,{actor:(0,l().oC)(t),...o})}x.Format=u().mI,k.Format=u().mI},525432:(e,t,o)=>{o.d(t,{Bd:()=>a,DN:()=>p,II:()=>k,R8:()=>x,U9:()=>f,VM:()=>m,ZF:()=>h,ZI:()=>d,bf:()=>c,jx:()=>u,wW:()=>S,xO:()=>s});o(16280),o(296540);var i=()=>o(651124),n=()=>o(959013),l=()=>o(712505),r=o(474848);let a=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.TopbarFollowPopup=4]="TopbarFollowPopup",e}({});const s=480,c=320;function d(e){const{timelineViewTab:t,collectionContextStore:o}=e,n=u({collectionContextStore:o}),l=h({collectionContextStore:o});return"timeline"===n?"timeline"===t?"timeline_properties":l?"timeline_table_properties":void 0:(0,i().u9)(u({collectionContextStore:o}))}function u(e){var t;const{collectionContextStore:o}=e,i=null===(t=o.collectionViewStore())||void 0===t?void 0:t.getType();if(!i)throw new Error("View type was not defined.");return i}function h(e){const{collectionContextStore:t}=e,o=t.normalizedFormatStore.state;return Boolean(o.timeline_show_table)}const g=600;function p(e,t,o){const i=o||0,n=e.settingsStore.state;if(n.open&&!0!==n.hideSettingsPopup)return S(e,t,i)}function S(e,t,o){const i=o||0,n=e.settingsStore.state,r=u({collectionContextStore:e});return n.open&&"form_editor"===r||t||l().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||i<=g?"popup":"sidebar"}function m(e,t,o){return t?o?(0,r.jsx)(n().sA,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,r.jsx)(n().sA,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):e?o?(0,r.jsx)(n().sA,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,r.jsx)(n().sA,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"}):o?(0,r.jsx)(n().sA,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,r.jsx)(n().sA,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"})}let f=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e[e.Automation=2]="Automation",e}({});const x=6;function k(e){let{currentViewType:t,isPlaceholderExternalCollection:o,collectionContextStore:i,allowedActions:n,settingsHeaderSizeObserver:l}=e;return"page"!==t&&"form_editor"!==t&&(!o&&(!!i.shouldAllowNewItemCreation()&&(!(n&&!n.includes("addItem"))&&!(l&&l.rect.state.width>c))))}},566081:(e,t,o)=>{o.d(t,{A:()=>H});var i=o(296540),n=()=>o(847249),l=()=>o(753199),r=()=>o(908006),a=()=>o(725614),s=()=>o(685889),c=()=>o(704152),d=()=>o(16006),u=o(474848);function h(e){const{blockStore:t,titleStyle:o,shouldWrap:n,recordTitleRef:l,disableTooltip:h}=e,g=(0,i.useRef)({getNode:()=>l.current}),p=(0,i.useCallback)((e=>{r().default.afterNextFlush((()=>{const e=t.getBlockTitleStore();if(!e)return;const o=e.getValue(),i=o?o[0][0].length:0,n={start:{index:i,store:e},end:{index:i,store:e}};a().setMultiSelection({multiSelection:n})}))}),[t]);return(0,u.jsx)(c().A,{style:{height:s().d0+2,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,padding:"6px 8px 7px 8px",overflow:"hidden"},onClick:p,children:(0,u.jsx)(d().A,{store:t,underline:!0,shouldWrap:n,style:o,ref:g,disableTooltip:h})})}var g=()=>o(959013),p=()=>o(496603),S=()=>o(792540),m=()=>o(972435),f=()=>o(524702);const x=(0,g().YK)({typeTitle:{defaultMessage:"Type a title...",id:"relationToken.title.placeholder"}});function k(e){const{blockStore:t,clickTitleBehavior:o,onTitleEnter:i,onTitleEsc:l}=e,r="edit"===o,a=(0,n().K8)((()=>t.getBlockTitleStore()),[t]);return(0,u.jsx)(f().A,{store:a,disabled:!r,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableEmbedMenu:!0,onEnter:i,onEsc:l,onTab:p().D_,placeholder:m().A.formatMessage(x.typeTitle),style:{padding:"6px 8px 7px 8px",textOverflow:"none",overflow:"visible",whiteSpace:"pre"},disableSelectAllBlocks:!0,pasteBehavior:"inline",inPageFind:S().Os.none})}var v=()=>o(484714),b=()=>o(919709),y=()=>o(319975);const T=function(e){const{store:t,style:r,disableLinks:a,disableHover:s,isAndroid:c,externalIntegrations:d,canEdit:h,shouldWrap:p,tokenFormat:S}=e,m=(0,i.useRef)(null),f=(0,g().tz)(),x=(0,v().v3)(),k=(0,o(401497).DP)(),{isExternalIntegrationPageType:T,blockType:w,blockId:I,blockModel:C}=(0,n().K8)((()=>{const e=t.getModel();return{isExternalIntegrationPageType:Boolean(null==e?void 0:e.isType(o(700500).xd.externalObjectInstancePage)),blockType:t.getType(),blockId:t.id,blockModel:e}}),[t]),j=(0,n().K8)((()=>o(267419).A.getState()),[]),z=(0,i.useCallback)((()=>{if(!m||!m.current)return;const e=(0,b().bMp)(t.id),o=(0,b().wmz)(e);return{textValue:[o],tokenIndex:0,textToken:o,node:m.current}}),[m,t.id]),A=(0,i.useCallback)((e=>{if(s)return;const o=z(),i=t.getTitleStore();i&&o&&y().xE({environment:x,event:e,interactiveToken:o,store:i,canEdit:h})}),[s,z,t,x,h]),R=(0,i.useCallback)((e=>{const o=z(),i=t.getTitleStore();i&&o&&!s&&y().HH({environment:x,event:e,interactiveToken:o,store:i,canEdit:h})}),[z,t,s,x,h]),B=t.getRecordModel,M=I,E=(0,o(712030).FN)(x),H=o(780054).A.domainBaseUrl,L=x.currentUser.id,W=!a,N=(0,n().K8)((()=>{if(C)return(0,o(191772).gA)({blockModel:C,shouldWrap:p,index:0,style:r,disableHover:s,disableLinks:a,isAndroid:c,theme:k,getRecordModel:B,currentUserId:L,baseUrl:H,emojiType:E,externalIntegrations:d,classNames:[],intl:f,emojiData:j,stopLinkPropagation:W,tokenFormat:(0,o(425497).Ug)(S)})}),[C,p,r,s,a,c,k,B,L,H,E,d,f,j,W,S]);return M?"external_object_instance_page"!==w?null:T?(0,u.jsx)("span",{ref:m,onMouseOver:A,onMouseOut:R,onClick:W?l().kV:void 0,style:{width:"100%"},children:N}):null:null};function w(e){const{blockStore:t,shouldWrap:i,style:l,disableLinks:r,format:a}=e,s=(0,n().K8)((()=>(0,o(939768).q7)(t.getSyncedUri())),[t]),c=(0,n().O$)(o(53137).A.integrations),d=(0,v().v3)();return(0,u.jsx)(T,{shouldWrap:i,store:t,style:l,disableHover:r||!s,disableLinks:r||!s,isAndroid:d.device.isAndroid,externalIntegrations:c,canEdit:!0,tokenFormat:a})}var I=()=>o(738865);function C(e){const{format:t,showRemoveButton:i,onClickRemove:n}=e,{height:l,closeIconSize:r}=I().U[t];return i?(0,u.jsx)(c().A,{onClick:n,style:{display:"flex",alignItems:"center",justifyContent:"center",width:l,height:l,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:4},children:(0,o(65767).l)({width:r,height:r,opacity:.5})}):null}var j=()=>o(584262),z=()=>o(519839),A=()=>o(175116),R=()=>o(492414),B=()=>o(351360);var M=()=>o(231722),E=()=>o(24157);const H=(0,i.forwardRef)((function(e,t){const{parentStore:l,blockId:r,shouldWrap:a,format:s,showRemoveButton:c,clickTitleBehavior:d,onClickRemove:h,titleStyle:g,onTitleEnter:p,onTitleEsc:S,index:m,noUnderline:f,disableTooltip:x,disableLinks:k}=e,v=o(630116).Bv.createChildStore(l,{table:o(179034).ev,id:r}),{style:b}=(0,I().t)(e),y=(0,i.useRef)(null),T=(0,i.useRef)(null),j="peek"===d;(0,i.useImperativeHandle)(t,(()=>v),[v]);const z=(0,n().K8)((()=>"external_object_instance_page"===v.getType()),[v]);if((0,o(571468).W)(v))return null;if(z)return(0,u.jsx)(w,{shouldWrap:a,blockStore:v,style:b,disableLinks:k,format:s});const A=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o(124954).w,{format:s,blockStore:v,clickTitleBehavior:d,shouldWrap:a}),(0,u.jsx)(W,{blockStore:v,recordTitleRef:y,clickTitleBehavior:d,shouldWrap:a,titleStyle:g,noUnderline:f,onTitleEnter:p,onTitleEsc:S,index:m,disableTooltip:x})]});return(0,u.jsxs)("div",{style:b,ref:T,children:[j?(0,u.jsx)(L,{blockStore:v,relationTokenStyle:b,children:A}):A,(0,u.jsx)(C,{showRemoveButton:c,onClickRemove:h,format:s})]})}));function L(e){let{blockStore:t,relationTokenStyle:r,children:a}=e;const{blockUrlPage:s,blockUrlPeek:c}=function(e){const t=(0,v().v3)(),o=(0,A().Ks)(),i=(0,n().K8)((()=>(0,R().Ay)({store:e,fullyQualified:!1,pageVisitSource:j().y8.LinkInPage})),[e]);return{blockUrlPeek:(0,n().K8)((()=>{const{mainEditorCurrentBlockStore:i}=B().default.state;return z().wy({environment:t,store:e,mainEditorCurrentBlockStore:i,collectionContextStore:o,fullyQualified:!1})}),[t,e,o]),blockUrlPage:i}}(t),d=(0,i.useMemo)((()=>({display:r.display,height:r.height,alignItems:r.alignItems})),[r]);return(0,u.jsx)(o(187485).A,{href:s,metaHref:c,onClick:l().kV,style:d,children:a})}function W(e){const{blockStore:t,clickTitleBehavior:i,onTitleEnter:l,onTitleEsc:r,index:a,recordTitleRef:s,titleStyle:c,shouldWrap:d,noUnderline:g,disableTooltip:p}=e,S=(0,o(551619).Sm)(t),m="edit"===i&&!S,f=function(e){return(0,n().K8)((()=>{var t;const o=E().default.state;return"editing"===o.mode&&(null===(t=(0,M().H7)(o.multiSelection))||void 0===t?void 0:t.store)===e.getBlockTitleStore()}),[e])}(t);return m?f&&l&&a?(0,u.jsx)(k,{blockStore:t,clickTitleBehavior:i,onTitleEnter:l,onTitleEsc:r}):(0,u.jsx)(h,{blockStore:t,recordTitleRef:s,titleStyle:c,shouldWrap:d,disableTooltip:p}):(0,u.jsx)(o(279620).Y,{blockStore:t,recordTitleRef:s,titleStyle:c,shouldWrap:d,noUnderline:g,disableTooltip:p})}},571468:(e,t,o)=>{o.d(t,{W:()=>l,X:()=>n});var i=()=>o(847249);function n(e){return e.isReady()&&!e.isDefined()&&"none"!==e.getRole()}function l(e){return(0,i().K8)((()=>n(e)),[e])}},735695:(e,t,o)=>{o.d(t,{Ay:()=>C,iZ:()=>T,vE:()=>y});var i=o(296540),n=()=>o(804773),l=()=>o(401497),r=()=>o(149375),a=()=>o(66913),s=()=>o(959013),c=()=>o(284371),d=()=>o(686526),u=()=>o(704152),h=()=>o(285790),g=()=>o(928600),p=()=>o(480095),S=()=>o(554509),m=()=>o(753199),f=()=>o(722872),x=()=>o(253579),k=()=>o(255824),v=o(474848);const b=(0,s().YK)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),y=290,T=400;function w(e){let{children:t,title:o,titleType:i,settingsStackLength:n,handleClose:d,handleBackArrowClick:g,hideDesktopHeader:p,hasBackStack:m}=e;const f=(0,k().a)(),x=(0,s().tz)(),y=(0,l().IS)((e=>({hiddenDesktopHeaderDiv:{height:0},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:f?"top":"center",padding:f?"0px 14px 6px 14px":"14px 16px 6px 16px",height:f?void 0:42},arrowButton:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:f?c().Wy.medium:c().Wy.semibold,fontSize:f?16:14,lineHeight:f?"24px":void 0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.text.secondary}})),[f]),T=!f;return(0,v.jsxs)(v.Fragment,{children:[p?(0,v.jsx)("div",{style:y.hiddenDesktopHeaderDiv}):(0,v.jsxs)("div",{style:y.nonHiddenDesktopHeaderDiv,children:[(n>1||m)&&(0,v.jsx)(h().A,{icon:r().v,style:y.arrowButton,iconStyle:y.arrowIcon,onClick:g,ariaLabel:x.formatMessage(b.back)}),"sectionHeader"===i?(0,v.jsx)(S().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:{flexGrow:1},children:o}):(0,v.jsx)("span",{style:y.title,children:o}),T&&(0,v.jsx)(u().A,{onClick:d,style:y.closeButton,hoveredStyle:y.closeButtonHover,children:(0,a().V)(y.closeIcon)})]}),t]})}function I(e,t){let{children:l,footer:r,header:a,unconstrainedWidth:s,desktopWidth:c,title:u,titleType:h,collectionSettingsStore:S,fullHeight:b,hideDesktopHeader:T,menuScrollerStyle:I,innerContentWrapperStyle:C,disableScroller:j,handleBackArrowClick:z,hasBackStack:A,handleClose:R}=e;const B=(0,o(484714).Y0)(),M=(0,o(175116).Ks)(),E=(0,f().Tf)(),H=(0,k().a)(),{currentTab:L,settingsStackLength:W,hideHeader:N}=(0,o(847249).K8)((()=>{const e=S.state;return{currentTab:(0,o(940371).S)(S),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[S]),P=(0,i.useCallback)((()=>{var e;z?z():d().yl({collectionSettingsStore:S,keepPreviousRef:"form_editor"===(null==M||null===(e=M.collectionViewStore())||void 0===e?void 0:e.getType())})}),[z,S,M]),Y=(0,i.useCallback)((e=>{R?R(e):(0,m().SQ)({event:e,context:m().y$.CollectionSettingsClick,callback:()=>{d().os({collectionSettingsStore:S})}})}),[R,S]),U=(0,i.useCallback)((e=>{(0,x().rW)(e.target)||(0,x().iX)(e.target)||(0,x().u2)(e.target)||o(263711).g.state.isOpen||Y(e)}),[Y]);if(!L)return null;let D;if(B.isMobile)D={disableScroller:j,menuType:f().gu.Modal,title:u,left:W>1?(0,v.jsx)(p().MobileModalBackButton,{}):void 0,onClickLeft:W>1?P:void 0,scrollerStyle:I,innerRef:t,right:E?void 0:(0,v.jsx)(p().DoneMenuText,{}),onClickRight:E?void 0:Y};else{const e=s||c?void 0:H?280:y;D={disableScroller:j,menuType:f().gu.Popup,minWidth:H?280:y,width:c,maxHeight:b?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:U,scrollerStyle:{flexGrow:0,...I},header:!N&&(0,v.jsx)(w,{settingsStackLength:W,handleClose:Y,handleBackArrowClick:P,hasBackStack:A,hideDesktopHeader:T,title:u,titleType:h,children:a}),paddingTop:N?6:0,footer:r,innerRef:t}}const _=(0,v.jsxs)(v.Fragment,{children:[B.isMobile&&a,l,B.isMobile&&r]});return b?(0,v.jsx)(n().Y,{direction:"vertical",children:(0,v.jsx)(g().A,{...D,children:_})}):(0,v.jsx)(o(297872).A,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,render:e=>(0,v.jsx)(n().Y,{direction:"vertical",children:(0,v.jsx)(g().A,{...D,...e,children:(0,v.jsx)("div",{style:C,children:_})})})})}const C=(0,i.forwardRef)(I)},738865:(e,t,o)=>{o.d(t,{U:()=>a,t:()=>s});var i=()=>o(401497),n=()=>o(784892),l=()=>o(284371),r=()=>o(685889);const a={[n().NY.ExtremeSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[n().NY.ExtraSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[n().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",recordIconMarginRight:3,pageIconSize:16,closeIconSize:8},[n().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[n().NY.Medium]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[n().NY.Inline]:{height:20,fontSize:14,margin:"0 12px 0 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[n().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",recordIconMarginRight:4,pageIconSize:24,closeIconSize:10}};function s(e){let{format:t,shouldShrink:o,shouldWrap:s,isSingle:d,style:u,clickTitleBehavior:h}=e;const g="edit"===h;return(0,i().IS)((()=>{const{fontSize:e,margin:i}=a[t],h=g?r().d0:a[t].height;return{style:{...s?{display:"inline",lineHeight:1.5,borderRadius:4}:c({height:h}),fontSize:e,fontWeight:l().Wy.medium,minWidth:o?0:"auto",margin:d?0:i,...t===n().NY.Inline&&{overflow:"hidden"},...u}}}),[t,o,s,d,g,u])}function c(e){let{height:t}=e;return{display:"flex",alignItems:"center",lineHeight:1.2,height:t}}},848401:(e,t,o)=>{o.d(t,{Ay:()=>g,mI:()=>u,vb:()=>h});o(296540);var i=()=>o(401497),n=()=>o(784892),l=()=>o(65767),r=()=>o(959013),a=()=>o(284371),s=()=>o(704152),c=o(474848);const d=(0,r().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),u=n().NY,h={[n().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[n().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[n().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},[n().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[n().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[n().NY.Inline]:{height:20,fontSize:14,closeIconSize:8,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[n().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:20}};function g(e){let{avatarSize:t,format:o,isSingle:n,onClickRemove:u,renderAvatar:g,showRemoveButton:p,shouldShrink:S,style:m,title:f}=e;const x=(0,r().tz)(),{height:k,fontSize:v,margin:b,marginEditState:y,closeIconSize:T,avatarSize:w}=h[o],I=t??w,C=(0,i().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:S?1:0,minWidth:0,height:k,borderRadius:6,fontSize:v,lineHeight:"120%",margin:n?0:p?y:b,...m}})),[v,k,n,b,y,S,p,m]);return(0,c.jsxs)("div",{style:C.root,children:[null==g?void 0:g(I),(0,c.jsx)("div",{className:"notranslate",style:{...a().RC},children:f}),p?(0,c.jsx)(s().A,{ariaLabel:void 0!==f?x.formatMessage(d.removeTokenLabel,{title:f}):x.formatMessage(d.removeTokenLabelGeneric),onClick:u,style:{display:"flex",alignItems:"center",justifyContent:"center",width:k,height:k,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,l().l)({width:T,height:T,opacity:.5})}):null]})}}}]);